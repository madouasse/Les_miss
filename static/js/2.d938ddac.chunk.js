/*! For license information please see 2.d938ddac.chunk.js.LICENSE.txt */
(this.webpackJsonpmiss=this.webpackJsonpmiss||[]).push([[2],[function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"f",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return u})),n.d(e,"i",(function(){return l})),n.d(e,"e",(function(){return c})),n.d(e,"g",(function(){return p})),n.d(e,"h",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function a(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(e){i(e)}}function a(t){try{u(r.throw(t))}catch(e){i(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function l(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function p(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}},function(t,e,n){"use strict";t.exports=n(108)},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return I})),n.d(e,"c",(function(){return A})),n.d(e,"d",(function(){return B})),n.d(e,"e",(function(){return P})),n.d(e,"f",(function(){return a})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return c})),n.d(e,"i",(function(){return p})),n.d(e,"j",(function(){return Z})),n.d(e,"k",(function(){return j})),n.d(e,"l",(function(){return U})),n.d(e,"m",(function(){return d})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return Y})),n.d(e,"p",(function(){return v})),n.d(e,"q",(function(){return M})),n.d(e,"r",(function(){return b})),n.d(e,"s",(function(){return w})),n.d(e,"t",(function(){return E})),n.d(e,"u",(function(){return G})),n.d(e,"v",(function(){return _})),n.d(e,"w",(function(){return S})),n.d(e,"x",(function(){return y})),n.d(e,"y",(function(){return m})),n.d(e,"z",(function(){return R})),n.d(e,"A",(function(){return C})),n.d(e,"B",(function(){return O})),n.d(e,"C",(function(){return F})),n.d(e,"D",(function(){return x})),n.d(e,"E",(function(){return W})),n.d(e,"F",(function(){return H})),n.d(e,"G",(function(){return V})),n.d(e,"H",(function(){return J})),n.d(e,"I",(function(){return $})),n.d(e,"J",(function(){return k})),n.d(e,"K",(function(){return K})),n.d(e,"L",(function(){return Q})),n.d(e,"M",(function(){return X})),n.d(e,"N",(function(){return T}));var r=n(0),o=!1,i=!1,s="${JSCORE_VERSION}",a=function(t,e){if(!t)throw u(e)},u=function(t){return new Error("Firebase Database ("+s+") INTERNAL ASSERT FAILED: "+t)},l=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):55296===(64512&o)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++r)),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<t.length;o+=3){var i=t[o],s=o+1<t.length,a=s?t[o+1]:0,u=o+2<t.length,l=u?t[o+2]:0,c=i>>2,p=(3&i)<<4|a>>4,h=(15&a)<<2|l>>6,d=63&l;u||(d=64,s||(h=64)),r.push(n[c],n[p],n[h],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(l(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){var i=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){var s=((7&o)<<18|(63&(i=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{i=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<t.length;){var i=n[t.charAt(o++)],s=o<t.length?n[t.charAt(o)]:0,a=++o<t.length?n[t.charAt(o)]:64,u=++o<t.length?n[t.charAt(o)]:64;if(++o,null==i||null==s||null==a||null==u)throw Error();var l=i<<2|s>>4;if(r.push(l),64!==a){var c=s<<4&240|a>>2;if(r.push(c),64!==u){var p=a<<6&192|u;r.push(p)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},p=function(t){var e=l(t);return c.encodeByteArray(e,!0)},h=function(t){try{return c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function d(t){return f(void 0,t)}function f(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=f(t[n],e[n]));return t}var g=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function y(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function m(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(e){return!1}}function b(){return"object"===typeof self&&self.self===self}function w(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function C(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function E(){return v().indexOf("Electron/")>=0}function _(){var t=v();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function O(){return v().indexOf("MSAppHost/")>=0}function R(){return!0===o||!0===i}function S(){return"indexedDB"in self&&null!=indexedDB}function T(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",o=window.indexedDB.open(r);o.onsuccess=function(){o.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=function(){n=!1},o.onerror=function(){var t;e((null===(t=o.error)||void 0===t?void 0:t.message)||"")}}catch(i){e(i)}}))}function P(){return!(!navigator||!navigator.cookieEnabled)}var A=function(t){function e(n,r,o){var i=t.call(this,r)||this;return i.code=n,i.customData=o,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,I.prototype.create),i}return Object(r.c)(e,t),e}(Error),I=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},o=this.service+"/"+t,i=this.errors[t],s=i?D(i,r):"Error",a=this.serviceName+": "+s+" ("+o+").",u=new A(o,a,r);return u},t}();function D(t,e){return t.replace(N,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var N=/\{\$([^}]+)}/g;function x(t){return JSON.parse(t)}function k(t){return JSON.stringify(t)}var L=function(t){var e={},n={},r={},o="";try{var i=t.split(".");e=x(h(i[0])||""),n=x(h(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:o}},F=function(t){var e=L(t).claims;return!!e&&"object"===typeof e&&e.hasOwnProperty("iat")},M=function(t){var e=L(t).claims;return"object"===typeof e&&!0===e.admin};function j(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function V(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function G(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function W(t,e,n){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r}function H(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,o=Object.entries(t);r<o.length;r++){var i=o[r];n(i[0],i[1])}return e.length?"&"+e.join("&"):""}var B=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var o=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(o<<1|o>>>31)}var i,s,a=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],p=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^u&(l^c),s=1518500249):(i=u^l^c,s=1859775393):r<60?(i=u&l|c&(u|l),s=2400959708):(i=u^l^c,s=3395469782);o=(a<<5|a>>>27)+i+p+s+n[r]&4294967295;p=c,c=l,l=4294967295&(u<<30|u>>>2),u=a,a=o}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;r<e;){if(0===i)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(o[i]=t.charCodeAt(r),++r,++i===this.blockSize){this.compress_(o),i=0;break}}else for(;r<e;)if(o[i]=t[r],++r,++i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var o=24;o>=0;o-=8)t[r]=this.chain_[n]>>o&255,++r;return t},t}();function U(t,e){var n=new z(t,e);return n.subscribe.bind(n)}var z=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o in t&&"function"===typeof t[o])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=q),void 0===r.error&&(r.error=q),void 0===r.complete&&(r.complete=q);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}})),this.observers.push(r),i},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function q(){}var K=function(t,e,n,r){var o;if(r<e?o="at least "+e:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")};function Y(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=t+" failed: ";return o+=r+" argument "}function Q(t,e,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(Y(t,e,r)+"must be a valid function.")}function X(t,e,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(Y(t,e,r)+"must be a valid context object.")}var $=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var i=o-55296;r++,a(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(i<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},J=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function Z(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),o=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+o)}}).call(this,n(34))},function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r,o,i=n(0),s=n(2),a=n(8),u=n(6),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new s.b("app","Firebase",l),p=((o={})["@firebase/app"]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),h=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r,o,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.m)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return u}),"PUBLIC"));try{for(var l=Object(i.i)(this.firebase_.INTERNAL.components.values()),c=l.next();!c.done;c=l.next()){var p=c.value;this._addComponent(p)}}catch(h){r={error:h}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){h.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var f=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,o){void 0===o&&(o={});if("object"!==typeof o||null===o){o={name:o}}var i=o;void 0===i.name&&(i.name="[DEFAULT]");var a=i.name;if("string"!==typeof a||!a)throw c.create("bad-app-name",{appName:String(a)});if(Object(s.k)(e,a))throw c.create("duplicate-app",{appName:a});var u=new t(n,i,r);return e[a]=u,u},app:o,registerVersion:function(t,e,n){var r,o=null!==(r=p[t])&&void 0!==r?r:t;n&&(o+="-"+n);var i=o.match(/\s|\//),s=e.match(/\s|\//);if(i||s){var u=['Unable to register library "'+o+'" with version "'+e+'":'];return i&&u.push('library name "'+o+'" contains illegal characters (whitespace or "/")'),i&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void h.warn(u.join(" "))}l(new a.a(o+"-version",(function(){return{library:o,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!==typeof t)throw c.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:l,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function o(t){if(t=t||"[DEFAULT]",!Object(s.k)(e,t))throw c.create("no-app",{appName:t});return e[t]}function l(a){var u,l,p=a.name;if(n.has(p))return h.debug("There were multiple attempts to register component "+p+"."),"PUBLIC"===a.type?r[p]:null;if(n.set(p,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=o()),"function"!==typeof t[p])throw c.create("invalid-app-argument",{appName:p});return t[p]()};void 0!==a.serviceProps&&Object(s.n)(d,a.serviceProps),r[p]=d,t.prototype[p]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,p);return n.apply(this,a.multipleInstances?t:[])}}try{for(var f=Object(i.i)(Object.keys(e)),g=f.next();!g.done;g=f.next()){var v=g.value;e[v]._addComponent(a)}}catch(y){u={error:y}}finally{try{g&&!g.done&&(l=f.return)&&l.call(f)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[p]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),o.App=t,r}(d);return e.INTERNAL=Object(i.a)(Object(i.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.n)(e,t)},createSubscribe:s.l,ErrorFactory:s.b,deepExtend:s.n}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.r)()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=f.initializeApp;f.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.y)()&&h.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var m=f;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",e),t.registerVersion("fire-js","")}(m),e.a=m},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(17);function o(t,e){if(null==t)return{};var n,o,i=Object(r.a)(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(o=0;o<s.length;o++)n=s[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}},function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}var o;n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return d}));var i,s=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(i||(i={}));var a={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},u=i.INFO,l=((o={})[i.DEBUG]="log",o[i.VERBOSE]="log",o[i.INFO]="info",o[i.WARN]="warn",o[i.ERROR]="error",o),c=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(e<t.logLevel)){var i=(new Date).toISOString(),s=l[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+i+"]  "+t.name+":"],n))}},p=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=c,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.DEBUG],t)),this._logHandler.apply(this,r([this,i.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.VERBOSE],t)),this._logHandler.apply(this,r([this,i.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.INFO],t)),this._logHandler.apply(this,r([this,i.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.WARN],t)),this._logHandler.apply(this,r([this,i.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.ERROR],t)),this._logHandler.apply(this,r([this,i.ERROR],t))},t}();function h(t){s.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var a=o.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:i[n].toLowerCase(),message:a,args:o,type:e.name})}},r=0,o=s;r<o.length;r++){n(o[r])}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o.a}));var r,o=n(4),i=(n(128),n(129),n(6)),s=n(2),a=(n(11),n(9)),u=n(8),l={Firestore:a.d,GeoPoint:a.q,Timestamp:a.r,Blob:a.c,Transaction:a.e,WriteBatch:a.p,DocumentReference:a.a,DocumentSnapshot:a.g,Query:a.i,QueryDocumentSnapshot:a.f,QuerySnapshot:a.m,CollectionReference:a.j,FieldPath:a.o,FieldValue:a.t,setLogLevel:a.b,CACHE_SIZE_UNLIMITED:a.k};(function(t,e){t.INTERNAL.registerComponent(new u.a("firestore",(function(t){return function(t,e){return new a.d(t,new a.h(t,e),new a.s)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},l)))})(r=o.a),r.registerVersion("@firebase/firestore","2.1.0"),function(t){t.prototype.loadBundle=function(t){return Object(a.l)(this,t)},t.prototype.namedQuery=function(t){return Object(a.n)(this,t)}}(a.d);var c=n(0),p={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},h=function(t){function e(n,r,o){var i=t.call(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i.code=n,i.details=o,i}return Object(c.c)(e,t),e}(Error);var d=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return Object(c.b)(this,void 0,void 0,(function(){var t;return Object(c.d)(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return Object(c.b)(this,void 0,void 0,(function(){return Object(c.d)(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(r){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return Object(c.b)(this,void 0,void 0,(function(){var t,e;return Object(c.d)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function f(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var g=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"===typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"===typeof t||"object"===typeof t)return f(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"===typeof t||"object"===typeof t?f(t,(function(t){return e.decode(t)})):t},t}();var v=function(){function t(t,e,n,o,i){var s=this;void 0===o&&(o="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new g,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new d(e,n),this.cancelAllRequests=new Promise((function(t){s.deleteService=function(){return t()}}));try{var a=new URL(o);this.customDomain=a.origin,this.region="us-central1"}catch(r){this.customDomain=null,this.region=o}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return Object(c.b)(this,void 0,void 0,(function(){var r,o;return Object(c.d)(this,(function(i){switch(i.label){case 0:n["Content-Type"]="application/json",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=i.sent(),[3,4];case 3:return i.sent(),[2,{status:0,json:null}];case 4:o=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,r.json()];case 6:return o=i.sent(),[3,8];case 7:return i.sent(),[3,8];case 8:return[2,{status:r.status,json:o}]}}))}))},t.prototype.call=function(t,e,n){return Object(c.b)(this,void 0,void 0,(function(){var o,i,s,a,u,l,d,f,g,v,m;return Object(c.d)(this,(function(c){switch(c.label){case 0:return o=this._url(t),e=this.serializer.encode(e),i={data:e},s={},[4,this.contextProvider.getContext()];case 1:return(a=c.sent()).authToken&&(s.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(s["Firebase-Instance-ID-Token"]=a.instanceIdToken),u=n.timeout||7e4,l=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new h("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(u),d=l.timer,f=l.promise,[4,Promise.race([y(d,this.postJSON(o,i,s)),f,y(d,this.cancelAllRequests)])];case 2:if(!(g=c.sent()))throw new h("cancelled","Firebase Functions instance was deleted.");if(v=function(t,e,n){var o=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=o,s=void 0;try{var a=e&&e.error;if(a){var u=a.status;if("string"===typeof u){if(!p[u])return new h("internal","internal");o=p[u],i=u}var l=a.message;"string"===typeof l&&(i=l),void 0!==(s=a.details)&&(s=n.decode(s))}}catch(r){}return"ok"===o?null:new h(o,i,s)}(g.status,g.json,this.serializer))throw v;if(!g.json)throw new h("internal","Response is not valid JSON object.");if("undefined"===typeof(m=g.json.data)&&(m=g.json.result),"undefined"===typeof m)throw new h("internal","Response is missing data field.");return[2,{data:this.serializer.decode(m)}]}}))}))},t}();function y(t,e){return Object(c.b)(this,void 0,void 0,(function(){var n;return Object(c.d)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}!function(t,e){var n={Functions:v};t.INTERNAL.registerComponent(new u.a("functions",(function(t,n){var r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),i=t.getProvider("messaging");return new v(r,o,i,n,e)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(o.a,fetch.bind(self)),o.a.registerVersion("@firebase/functions","0.6.1");var m,b=n(23),w=((m={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',m["not-registered"]="Firebase Installation is not registered.",m["installation-not-found"]="Firebase Installation not found.",m["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',m["app-offline"]="Could not process request. Application offline.",m["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",m),C=new s.b("installations","Installations",w);function E(t){return t instanceof s.c&&t.code.includes("request-failed")}function _(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function O(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function R(t,e){return Object(c.b)(this,void 0,void 0,(function(){var n,r;return Object(c.d)(this,(function(o){switch(o.label){case 0:return[4,e.json()];case 1:return n=o.sent(),r=n.error,[2,C.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function S(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function T(t,e){var n=e.refreshToken,r=S(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function P(t){return Object(c.b)(this,void 0,void 0,(function(){var e;return Object(c.d)(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function A(t,e){var n=e.fid;return Object(c.b)(this,void 0,void 0,(function(){var e,r,o,i,s,a;return Object(c.d)(this,(function(u){switch(u.label){case 0:return e=_(t),r=S(t),o={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.19"},i={method:"POST",headers:r,body:JSON.stringify(o)},[4,P((function(){return fetch(e,i)}))];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return a=u.sent(),[2,{fid:a.fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:O(a.authToken)}];case 3:return[4,R("Create Installation",s)];case 4:throw u.sent()}}))}))}function I(t){return new Promise((function(e){setTimeout(e,t)}))}var D=/^[cdef][\w-]{21}$/;function N(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(c.g)(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return D.test(e)?e:""}catch(n){return""}}function x(t){return t.appName+"!"+t.appId}var k=new Map;function L(t,e){var n=x(t);F(n,e),function(t,e){var n=j();n&&n.postMessage({key:t,fid:e});V()}(n,e)}function F(t,e){var n,r,o=k.get(t);if(o)try{for(var i=Object(c.i)(o),s=i.next();!s.done;s=i.next()){(0,s.value)(e)}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}var M=null;function j(){return!M&&"BroadcastChannel"in self&&((M=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){F(t.data.key,t.data.fid)}),M}function V(){0===k.size&&M&&(M.close(),M=null)}var G,W,H="firebase-installations-store",B=null;function U(){return B||(B=Object(b.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(H)}}))),B}function z(t,e){return Object(c.b)(this,void 0,void 0,(function(){var n,r,o,i,s;return Object(c.d)(this,(function(a){switch(a.label){case 0:return n=x(t),[4,U()];case 1:return r=a.sent(),o=r.transaction(H,"readwrite"),[4,(i=o.objectStore(H)).get(n)];case 2:return s=a.sent(),[4,i.put(e,n)];case 3:return a.sent(),[4,o.complete];case 4:return a.sent(),s&&s.fid===e.fid||L(t,e.fid),[2,e]}}))}))}function q(t){return Object(c.b)(this,void 0,void 0,(function(){var e,n,r;return Object(c.d)(this,(function(o){switch(o.label){case 0:return e=x(t),[4,U()];case 1:return n=o.sent(),[4,(r=n.transaction(H,"readwrite")).objectStore(H).delete(e)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2]}}))}))}function K(t,e){return Object(c.b)(this,void 0,void 0,(function(){var n,r,o,i,s,a;return Object(c.d)(this,(function(u){switch(u.label){case 0:return n=x(t),[4,U()];case 1:return r=u.sent(),o=r.transaction(H,"readwrite"),[4,(i=o.objectStore(H)).get(n)];case 2:return s=u.sent(),void 0!==(a=e(s))?[3,4]:[4,i.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,i.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,o.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||L(t,a.fid),[2,a]}}))}))}function Y(t){return Object(c.b)(this,void 0,void 0,(function(){var e,n,r;return Object(c.d)(this,(function(o){switch(o.label){case 0:return[4,K(t,(function(n){var r=function(t){return $(t||{fid:N(),registrationStatus:0})}(n),o=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){var n=Promise.reject(C.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},o=function(t,e){return Object(c.b)(this,void 0,void 0,(function(){var n,r;return Object(c.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,7]),[4,A(t,e)];case 1:return n=o.sent(),[2,z(t,n)];case 2:return E(r=o.sent())&&409===r.customData.serverCode?[4,q(t)]:[3,4];case 3:return o.sent(),[3,6];case 4:return[4,z(t,{fid:e.fid,registrationStatus:0})];case 5:o.sent(),o.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,r);return{installationEntry:r,registrationPromise:o}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Q(t)}:{installationEntry:e}}(t,r);return e=o.registrationPromise,o.installationEntry}))];case 1:return""!==(n=o.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=o.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function Q(t){return Object(c.b)(this,void 0,void 0,(function(){var e,n,r,o;return Object(c.d)(this,(function(i){switch(i.label){case 0:return[4,X(t)];case 1:e=i.sent(),i.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,I(100)];case 3:return i.sent(),[4,X(t)];case 4:return e=i.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,Y(t)];case 6:return n=i.sent(),r=n.installationEntry,(o=n.registrationPromise)?[2,o]:[2,r];case 7:return[2,e]}}))}))}function X(t){return K(t,(function(t){if(!t)throw C.create("installation-not-found");return $(t)}))}function $(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function J(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Object(c.b)(this,void 0,void 0,(function(){var t,o,i,s,a,u,l;return Object(c.d)(this,(function(c){switch(c.label){case 0:return t=function(t,e){var n=e.fid;return _(t)+"/"+n+"/authTokens:generate"}(n,e),o=T(n,e),(i=r.getImmediate({optional:!0}))&&o.append("x-firebase-client",i.getPlatformInfoString()),s={installation:{sdkVersion:"w:0.4.19"}},a={method:"POST",headers:o,body:JSON.stringify(s)},[4,P((function(){return fetch(t,a)}))];case 1:return(u=c.sent()).ok?[4,u.json()]:[3,3];case 2:return l=c.sent(),[2,O(l)];case 3:return[4,R("Generate Auth Token",u)];case 4:throw c.sent()}}))}))}function Z(t,e){return void 0===e&&(e=!1),Object(c.b)(this,void 0,void 0,(function(){var n,r,o;return Object(c.d)(this,(function(i){switch(i.label){case 0:return[4,K(t.appConfig,(function(r){if(!et(r))throw C.create("not-registered");var o=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(o))return r;if(1===o.requestStatus)return n=function(t,e){return Object(c.b)(this,void 0,void 0,(function(){var n,r;return Object(c.d)(this,(function(o){switch(o.label){case 0:return[4,tt(t.appConfig)];case 1:n=o.sent(),o.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,I(100)];case 3:return o.sent(),[4,tt(t.appConfig)];case 4:return n=o.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Z(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw C.create("app-offline");var i=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(c.a)(Object(c.a)({},t),{authToken:e})}(r);return n=function(t,e){return Object(c.b)(this,void 0,void 0,(function(){var n,r,o;return Object(c.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,8]),[4,J(t,e)];case 1:return n=i.sent(),o=Object(c.a)(Object(c.a)({},e),{authToken:n}),[4,z(t.appConfig,o)];case 2:return i.sent(),[2,n];case 3:return!E(r=i.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,q(t.appConfig)];case 4:return i.sent(),[3,7];case 5:return o=Object(c.a)(Object(c.a)({},e),{authToken:{requestStatus:0}}),[4,z(t.appConfig,o)];case 6:i.sent(),i.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,i),i}))];case 1:return r=i.sent(),n?[4,n]:[3,3];case 2:return o=i.sent(),[3,4];case 3:o=r.authToken,i.label=4;case 4:return[2,o]}}))}))}function tt(t){return K(t,(function(t){if(!et(t))throw C.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+1e4<Date.now()?Object(c.a)(Object(c.a)({},t),{authToken:{requestStatus:0}}):t}))}function et(t){return void 0!==t&&2===t.registrationStatus}function nt(t){return Object(c.b)(this,void 0,void 0,(function(){var e;return Object(c.d)(this,(function(n){switch(n.label){case 0:return[4,Y(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function rt(t,e){return Object(c.b)(this,void 0,void 0,(function(){var n,r,o,i;return Object(c.d)(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return _(t)+"/"+n}(t,e),r=T(t,e),o={method:"DELETE",headers:r},[4,P((function(){return fetch(n,o)}))];case 1:return(i=s.sent()).ok?[3,3]:[4,R("Delete Installation",i)];case 2:throw s.sent();case 3:return[2]}}))}))}function ot(t,e){var n=t.appConfig;return function(t,e){j();var n=x(t),r=k.get(n);r||(r=new Set,k.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=x(t),r=k.get(n);r&&(r.delete(e),0===r.size&&k.delete(n),V())}(n,e)}}function it(t){return C.create("missing-app-config-values",{valueName:t})}(G=o.a).INTERNAL.registerComponent(new u.a("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw it("App Configuration");if(!t.name)throw it("App Name");try{for(var r=Object(c.i)(["projectId","apiKey","appId"]),o=r.next();!o.done;o=r.next()){var i=o.value;if(!t.options[i])throw it(i)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(c.b)(this,void 0,void 0,(function(){var e,n,r;return Object(c.d)(this,(function(o){switch(o.label){case 0:return[4,Y(t.appConfig)];case 1:return e=o.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):Z(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(c.b)(this,void 0,void 0,(function(){return Object(c.d)(this,(function(n){switch(n.label){case 0:return[4,nt(t.appConfig)];case 1:return n.sent(),[4,Z(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return Object(c.b)(this,void 0,void 0,(function(){var e,n;return Object(c.d)(this,(function(r){switch(r.label){case 0:return[4,K(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw C.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw C.create("app-offline");case 3:return[4,rt(e,n)];case 4:return r.sent(),[4,q(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return ot(n,t)}}}),"PUBLIC")),G.registerVersion("@firebase/installations","0.4.19");var st,at=((W={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',W["only-available-in-window"]="This method is available in a Window context.",W["only-available-in-sw"]="This method is available in a service worker context.",W["permission-default"]="The notification permission was not granted and dismissed instead.",W["permission-blocked"]="The notification permission was not granted and blocked instead.",W["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",W["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",W["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",W["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",W["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",W["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",W["token-update-no-token"]="FCM returned no token when updating the user to push.",W["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",W["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",W["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",W["invalid-vapid-key"]="The public VAPID key must be a string.",W["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",W),ut=new s.b("messaging","Messaging",at),lt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";function ct(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(c.g)(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pt(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r}!function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(st||(st={}));function ht(t){return Object(c.b)(this,void 0,void 0,(function(){var e,n,r=this;return Object(c.d)(this,(function(o){switch(o.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=o.sent(),!e.map((function(t){return t.name})).includes("fcm_token_details_db"))return[2,null];o.label=2;case 2:return n=null,[4,Object(b.openDb)("fcm_token_details_db",5,(function(e){return Object(c.b)(r,void 0,void 0,(function(){var r,o,i,s;return Object(c.d)(this,(function(a){switch(a.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains("fcm_token_object_Store")?[4,(r=e.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return o=a.sent(),[4,r.clear()];case 2:if(a.sent(),!o)return[2];if(2===e.oldVersion){if(!(i=o).auth||!i.p256dh||!i.endpoint)return[2];n={token:i.fcmToken,createTime:null!==(s=i.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:i.auth,p256dh:i.p256dh,endpoint:i.endpoint,swScope:i.swScope,vapidKey:"string"===typeof i.vapidKey?i.vapidKey:ct(i.vapidKey)}}}else(3===e.oldVersion||4===e.oldVersion)&&(n={token:(i=o).fcmToken,createTime:i.createTime,subscriptionOptions:{auth:ct(i.auth),p256dh:ct(i.p256dh),endpoint:i.endpoint,swScope:i.swScope,vapidKey:ct(i.vapidKey)}});return[2]}}))}))}))];case 3:return o.sent().close(),[4,Object(b.deleteDb)("fcm_token_details_db")];case 4:return o.sent(),[4,Object(b.deleteDb)("fcm_vapid_details_db")];case 5:return o.sent(),[4,Object(b.deleteDb)("undefined")];case 6:return o.sent(),[2,dt(n)?n:null]}}))}))}function dt(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"===typeof t.createTime&&t.createTime>0&&"string"===typeof t.token&&t.token.length>0&&"string"===typeof e.auth&&e.auth.length>0&&"string"===typeof e.p256dh&&e.p256dh.length>0&&"string"===typeof e.endpoint&&e.endpoint.length>0&&"string"===typeof e.swScope&&e.swScope.length>0&&"string"===typeof e.vapidKey&&e.vapidKey.length>0}var ft=null;function gt(){return ft||(ft=Object(b.openDb)("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore("firebase-messaging-store")}}))),ft}function vt(t){return Object(c.b)(this,void 0,void 0,(function(){var e,n,r;return Object(c.d)(this,(function(o){switch(o.label){case 0:return e=bt(t),[4,gt()];case 1:return[4,o.sent().transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(e)];case 2:return(n=o.sent())?[2,n]:[3,3];case 3:return[4,ht(t.appConfig.senderId)];case 4:return(r=o.sent())?[4,yt(t,r)]:[3,6];case 5:return o.sent(),[2,r];case 6:return[2]}}))}))}function yt(t,e){return Object(c.b)(this,void 0,void 0,(function(){var n,r,o;return Object(c.d)(this,(function(i){switch(i.label){case 0:return n=bt(t),[4,gt()];case 1:return r=i.sent(),[4,(o=r.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").put(e,n)];case 2:return i.sent(),[4,o.complete];case 3:return i.sent(),[2,e]}}))}))}function mt(t){return Object(c.b)(this,void 0,void 0,(function(){var e,n,r;return Object(c.d)(this,(function(o){switch(o.label){case 0:return e=bt(t),[4,gt()];case 1:return n=o.sent(),[4,(r=n.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").delete(e)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2]}}))}))}function bt(t){return t.appConfig.appId}function wt(t,e){return Object(c.b)(this,void 0,void 0,(function(){var n,r,o,i,s,a;return Object(c.d)(this,(function(u){switch(u.label){case 0:return[4,Ot(t)];case 1:n=u.sent(),r=Rt(e),o={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(_t(t.appConfig),o)];case 3:return[4,u.sent().json()];case 4:return i=u.sent(),[3,6];case 5:throw s=u.sent(),ut.create("token-subscribe-failed",{errorInfo:s});case 6:if(i.error)throw a=i.error.message,ut.create("token-subscribe-failed",{errorInfo:a});if(!i.token)throw ut.create("token-subscribe-no-token");return[2,i.token]}}))}))}function Ct(t,e){return Object(c.b)(this,void 0,void 0,(function(){var n,r,o,i,s,a;return Object(c.d)(this,(function(u){switch(u.label){case 0:return[4,Ot(t)];case 1:n=u.sent(),r=Rt(e.subscriptionOptions),o={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(_t(t.appConfig)+"/"+e.token,o)];case 3:return[4,u.sent().json()];case 4:return i=u.sent(),[3,6];case 5:throw s=u.sent(),ut.create("token-update-failed",{errorInfo:s});case 6:if(i.error)throw a=i.error.message,ut.create("token-update-failed",{errorInfo:a});if(!i.token)throw ut.create("token-update-no-token");return[2,i.token]}}))}))}function Et(t,e){return Object(c.b)(this,void 0,void 0,(function(){var n,r,o,i,s;return Object(c.d)(this,(function(a){switch(a.label){case 0:return[4,Ot(t)];case 1:n=a.sent(),r={method:"DELETE",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(_t(t.appConfig)+"/"+e,r)];case 3:return[4,a.sent().json()];case 4:if((o=a.sent()).error)throw i=o.error.message,ut.create("token-unsubscribe-failed",{errorInfo:i});return[3,6];case 5:throw s=a.sent(),ut.create("token-unsubscribe-failed",{errorInfo:s});case 6:return[2]}}))}))}function _t(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function Ot(t){var e=t.appConfig,n=t.installations;return Object(c.b)(this,void 0,void 0,(function(){var t;return Object(c.d)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function Rt(t){var e=t.p256dh,n=t.auth,r=t.endpoint,o=t.vapidKey,i={web:{endpoint:r,auth:n,p256dh:e}};return o!==lt&&(i.web.applicationPubKey=o),i}function St(t,e,n){return Object(c.b)(this,void 0,void 0,(function(){var r,o,i,s;return Object(c.d)(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw ut.create("permission-blocked");return[4,It(e,n)];case 1:return r=a.sent(),[4,vt(t)];case 2:return o=a.sent(),i={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:ct(r.getKey("auth")),p256dh:ct(r.getKey("p256dh"))},o?[3,3]:[2,At(t,i)];case 3:if(function(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,o=e.auth===t.auth,i=e.p256dh===t.p256dh;return n&&r&&o&&i}(o.subscriptionOptions,i))return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,Et(t,o.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,At(t,i)];case 8:return Date.now()>=o.createTime+6048e5?[2,Pt({token:o.token,createTime:Date.now(),subscriptionOptions:i},t,e)]:[2,o.token];case 9:return[2]}}))}))}function Tt(t,e){return Object(c.b)(this,void 0,void 0,(function(){var n,r;return Object(c.d)(this,(function(o){switch(o.label){case 0:return[4,vt(t)];case 1:return(n=o.sent())?[4,Et(t,n.token)]:[3,4];case 2:return o.sent(),[4,mt(t)];case 3:o.sent(),o.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=o.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function Pt(t,e,n){return Object(c.b)(this,void 0,void 0,(function(){var r,o,i;return Object(c.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,Ct(e,t)];case 1:return r=s.sent(),o=Object(c.a)(Object(c.a)({},t),{token:r,createTime:Date.now()}),[4,yt(e,o)];case 2:return s.sent(),[2,r];case 3:return i=s.sent(),[4,Tt(e,n)];case 4:throw s.sent(),i;case 5:return[2]}}))}))}function At(t,e){return Object(c.b)(this,void 0,void 0,(function(){var n,r;return Object(c.d)(this,(function(o){switch(o.label){case 0:return[4,wt(t,e)];case 1:return n=o.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,yt(t,r)];case 2:return o.sent(),[2,r.token]}}))}))}function It(t,e){return Object(c.b)(this,void 0,void 0,(function(){var n;return Object(c.d)(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pt(e)})]}}))}))}function Dt(t){return"object"===typeof t&&!!t&&"google.c.a.c_id"in t}function Nt(t){return new Promise((function(e){setTimeout(e,t)}))}var xt=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!==typeof t)throw ut.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(c.b)(this,void 0,void 0,(function(){var n;return Object(c.d)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,vt(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:lt,r.label=2;case 2:return[2,St(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return Tt(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw ut.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw ut.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw ut.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw ut.create("only-available-in-window")},t.prototype.onMessage=function(){throw ut.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw ut.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(c.b)(this,void 0,void 0,(function(){var e,n,r,o;return Object(c.d)(this,(function(i){switch(i.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,Mt()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=i.sent())?[2,Ft(n,e)]:(r=!1,e.notification?[4,jt(kt(e))]:[3,3]);case 2:i.sent(),r=!0,i.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(o=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(!e.notification)return;t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var o=e.notification.image;o&&(t.notification.image=o)}(e,t),function(t,e){if(!e.data)return;t.data=e.data}(e,t),function(t,e){if(!e.fcmOptions)return;t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}(e),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(o):this.bgMessageHandler.next(o)),[4,Nt(1e3)]);case 4:return i.sent(),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return Object(c.b)(this,void 0,void 0,(function(){var r;return Object(c.d)(this,(function(o){switch(o.label){case 0:return t.newSubscription?[3,2]:[4,Tt(this.firebaseDependencies,self.registration)];case 1:return o.sent(),[2];case 2:return[4,vt(this.firebaseDependencies)];case 3:return r=o.sent(),[4,Tt(this.firebaseDependencies,self.registration)];case 4:return o.sent(),[4,St(this.firebaseDependencies,self.registration,null!==(n=null===(e=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:lt)];case 5:return o.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return Object(c.b)(this,void 0,void 0,(function(){var r,o,i,s,a;return Object(c.d)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(o=function(t){var e,n,r,o=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;if(o)return o;return Dt(t.data)?self.location.origin:null}(r))?(i=new URL(o,self.location.href),s=new URL(self.location.origin),i.host!==s.host?[2]:[4,Lt(i)]):[2]):[2];case 1:return(a=u.sent())?[3,4]:[4,self.clients.openWindow(o)];case 2:return a=u.sent(),[4,Nt(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=u.sent(),u.label=6;case 6:return a?(r.messageType=st.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,a.postMessage(r)]):[2]}}))}))},t}();function kt(t){var e,n=Object(c.a)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function Lt(t){return Object(c.b)(this,void 0,void 0,(function(){var e,n,r,o,i,s,a;return Object(c.d)(this,(function(u){switch(u.label){case 0:return[4,Mt()];case 1:e=u.sent();try{for(n=Object(c.i)(e),r=n.next();!r.done;r=n.next())if(o=r.value,i=new URL(o.url,self.location.href),t.host===i.host)return[2,o]}catch(l){s={error:l}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}}))}))}function Ft(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=st.PUSH_RECEIVED;try{for(var o=Object(c.i)(t),i=o.next();!i.done;i=o.next()){i.value.postMessage(e)}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function Mt(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function jt(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var Vt=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(c.b)(this,void 0,void 0,(function(){var e,n;return Object(c.d)(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===st.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),Dt(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(c.b)(this,void 0,void 0,(function(){return Object(c.d)(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw ut.create("permission-blocked");return[4,this.updateVapidKey(null===t||void 0===t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null===t||void 0===t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,St(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return Object(c.b)(this,void 0,void 0,(function(){return Object(c.d)(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=lt),[2]}))}))},t.prototype.updateSwReg=function(t){return Object(c.b)(this,void 0,void 0,(function(){return Object(c.d)(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw ut.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return Object(c.b)(this,void 0,void 0,(function(){var t,e;return Object(c.d)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),ut.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return Object(c.b)(this,void 0,void 0,(function(){return Object(c.d)(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Tt(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return Object(c.b)(this,void 0,void 0,(function(){var t;return Object(c.d)(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?ut.create("permission-blocked"):ut.create("permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw ut.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw ut.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw ut.create("invalid-sw-registration");if(this.swRegistration)throw ut.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw ut.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw ut.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Object(c.b)(this,void 0,void 0,(function(){var n;return Object(c.d)(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case st.NOTIFICATION_CLICKED:return"notification_open";case st.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function Gt(t){return ut.create("missing-app-config-values",{valueName:t})}var Wt={isSupported:Ht};function Ht(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}o.a.INTERNAL.registerComponent(new u.a("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw Gt("App Configuration Object");if(!t.name)throw Gt("App Name");var r=t.options;try{for(var o=Object(c.i)(["projectId","apiKey","appId","messagingSenderId"]),i=o.next();!i.done;i=o.next()){var s=i.value;if(!r[s])throw Gt(s)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!Ht())throw ut.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new xt(n):new Vt(n)}),"PUBLIC").setServiceProps(Wt));var Bt=function(t){function e(n,r){var o=t.call(this,le(n),"Firebase Storage: "+r+" ("+le(n)+")")||this;return o.customData={serverResponse:null},Object.setPrototypeOf(o,e.prototype),o}return Object(c.c)(e,t),e.prototype.codeEquals=function(t){return le(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(s.c),Ut="unknown",zt="object-not-found",qt="quota-exceeded",Kt="unauthenticated",Yt="unauthorized",Qt="retry-limit-exceeded",Xt="canceled",$t="invalid-url",Jt="invalid-default-bucket",Zt="no-default-bucket",te="cannot-slice-blob",ee="server-file-wrong-size",ne="no-download-url",re="invalid-argument",oe="app-deleted",ie="invalid-root-operation",se="invalid-format",ae="internal-error",ue="unsupported-environment";function le(t){return"storage/"+t}function ce(){return new Bt(Ut,"An unknown error occurred, please check the error payload for server response.")}function pe(){return new Bt(Xt,"User canceled the upload/download.")}function he(){return new Bt(te,"Cannot slice blob for upload. Please retry the upload.")}function de(t){return new Bt(re,t)}function fe(){return new Bt(oe,"The Firebase app was deleted.")}function ge(t){return new Bt(ie,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ve(t,e){return new Bt(se,"String does not match format '"+t+"': "+e)}function ye(t){throw new Bt(ae,"Internal error: "+t)}var me={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},be=function(t,e){this.data=t,this.contentType=e||null};function we(t,e){switch(t){case me.RAW:return new be(Ce(e));case me.BASE64:case me.BASE64URL:return new be(Ee(t,e));case me.DATA_URL:return new be(function(t){var e=new _e(t);return e.base64?Ee(me.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(r){throw ve(me.DATA_URL,"Malformed data URL.")}return Ce(e)}(e.rest)}(e),new _e(e).contentType)}throw ce()}function Ce(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<t.length-1&&56320===(64512&t.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else e.push(239,191,189);else 56320===(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Ee(t,e){switch(t){case me.BASE64:var n=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(n||o)throw ve(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case me.BASE64URL:var i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw ve(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(r){throw ve(t,"Invalid character found")}for(var u=new Uint8Array(a.length),l=0;l<a.length;l++)u[l]=a.charCodeAt(l);return u}var _e=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw ve(me.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(r=n,o=";base64",r.length>=o.length&&r.substring(r.length-o.length)===o),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var r,o};var Oe,Re={STATE_CHANGED:"state_changed"},Se="running",Te="pausing",Pe="paused",Ae="success",Ie="canceling",De="canceled",Ne="error",xe={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ke(t){switch(t){case Se:case Te:case Ie:return xe.RUNNING;case Pe:return xe.PAUSED;case Ae:return xe.SUCCESS;case De:return xe.CANCELED;case Ne:default:return xe.ERROR}}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Oe||(Oe={}));var Le=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Oe.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Oe.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Oe.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw ye("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw ye("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw ye("cannot .getStatus() before sending");try{return this.xhr_.status}catch(r){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw ye("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Fe=function(){function t(){}return t.prototype.createXhrIo=function(){return new Le},t}();function Me(t){return"string"===typeof t||t instanceof String}function je(t){return Ve()&&t instanceof Blob}function Ve(){return"undefined"!==typeof Blob}function Ge(t,e,n,r){if(r<e)throw new Bt(re,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new Bt(re,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function We(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function He(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=We();if(void 0!==n){for(var r=new n,o=0;o<t.length;o++)r.append(t[o]);return r.getBlob()}if(Ve())return new Blob(t);throw new Bt(ue,"This browser doesn't seem to support creating Blobs")}var Be=function(){function t(t,e){var n=0,r="";je(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(je(this.data_)){var r=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===r?null:new t(r)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Ve()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(He.apply(null,r))}var o=e.map((function(t){return Me(t)?we(me.RAW,t).data:t.data_})),i=0;o.forEach((function(t){i+=t.byteLength}));var s=new Uint8Array(i),a=0;return o.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),Ue=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new Bt(Jt,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null;var r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var i="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),s=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+i+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],a=0;a<s.length;a++){var u=s[a],l=u.regex.exec(e);if(l){var c=l[u.indices.bucket],p=l[u.indices.path];p||(p=""),n=new t(c,p),u.postModify(n);break}}if(null==n)throw function(t){return new Bt($t,"Invalid URL '"+t+"'.")}(e);return n},t}();function ze(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!==typeof(n=e)||Array.isArray(n)?null:e}function qe(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Ke(t){return"https://firebasestorage.googleapis.com/v0"+t}function Ye(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}function Qe(t,e){return e}var Xe=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Qe},$e=null;function Je(){if($e)return $e;var t=[];t.push(new Xe("bucket")),t.push(new Xe("generation")),t.push(new Xe("metageneration")),t.push(new Xe("name","fullPath",!0));var e=new Xe("name");e.xform=function(t,e){return function(t){return!Me(t)||t.length<2?t:qe(t)}(e)},t.push(e);var n=new Xe("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new Xe("timeCreated")),t.push(new Xe("updated")),t.push(new Xe("md5Hash",null,!0)),t.push(new Xe("cacheControl",null,!0)),t.push(new Xe("contentDisposition",null,!0)),t.push(new Xe("contentEncoding",null,!0)),t.push(new Xe("contentLanguage",null,!0)),t.push(new Xe("contentType",null,!0)),t.push(new Xe("metadata","customMetadata",!0)),$e=t}function Ze(t,e,n){for(var r={type:"file"},o=n.length,i=0;i<o;i++){var s=n[i];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,o=new Ue(n,r);return e.makeStorageReference(o)}})}(r,t),r}function tn(t,e,n){var r=ze(e);return null===r?null:Ze(t,r,n)}function en(t,e){for(var n={},r=e.length,o=0;o<r;o++){var i=e[o];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}function nn(t,e,n){var r=ze(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var o=0,i=n.prefixes;o<i.length;o++){var s=i[o].replace(/\/$/,""),a=t.makeStorageReference(new Ue(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,l=n.items;u<l.length;u++){var c=l[u];a=t.makeStorageReference(new Ue(e,c.name));r.items.push(a)}return r}(t,e,r)}var rn=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function on(t){if(!t)throw ce()}function sn(t,e){return function(n,r){var o=tn(t,r,e);return on(null!==o),o}}function an(t,e){return function(n,r){var o=tn(t,r,e);return on(null!==o),function(t,e){var n=ze(e);if(null===n)return null;if(!Me(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var o=encodeURIComponent;return r.split(",").map((function(e){var n=t.bucket,r=t.fullPath;return Ke("/b/"+o(n)+"/o/"+o(r))+Ye({alt:"media",token:e})}))[0]}(o,r)}}function un(t){return function(e,n){var r,o,i;return 401===e.getStatus()?r=new Bt(Kt,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(i=t.bucket,r=new Bt(qt,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(o=t.path,r=new Bt(Yt,"User does not have permission to access '"+o+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function ln(t){var e=un(t);return function(n,r){var o,i=e(n,r);return 404===n.getStatus()&&(o=t.path,i=new Bt(zt,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function cn(t,e,n){var r=Ke(e.fullServerUrl()),o=t.maxOperationRetryTime,i=new rn(r,"GET",sn(t,n),o);return i.errorHandler=ln(e),i}function pn(t,e,n,r,o){var i={};e.isRoot?i.prefix="":i.prefix=e.path+"/",n&&n.length>0&&(i.delimiter=n),r&&(i.pageToken=r),o&&(i.maxResults=o);var s=Ke(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new rn(s,"GET",function(t,e){return function(n,r){var o=nn(t,e,r);return on(null!==o),o}}(t,e.bucket),a);return u.urlParams=i,u.errorHandler=un(e),u}function hn(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var dn=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function fn(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){on(!1)}return on(!!n&&-1!==(e||["active"]).indexOf(n)),n}function gn(t,e,n,r,o,i,s,a){var u=new dn(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Bt(ee,"Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,c=l;o>0&&(c=Math.min(c,o));var p=u.current,h=p+c,d={"X-Goog-Upload-Command":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},f=r.slice(p,h);if(null===f)throw he();var g=e.maxUploadRetryTime,v=new rn(n,"POST",(function(t,n){var o,s=fn(t,["active","final"]),a=u.current+c,l=r.size();return o="final"===s?sn(e,i)(t,n):null,new dn(a,l,"final"===s,o)}),g);return v.headers=d,v.body=f.uploadData(),v.progressCallback=a||null,v.errorHandler=un(t),v}var vn=function(t,e,n){if("function"===typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}},yn=function(t,e,n,r,o,i){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=o,this.ref=i};function mn(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var bn=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=Je(),this._resumable=this._shouldDoResumable(this._blob),this._state=Se,this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals(Xt)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition(Ne))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals(Xt)?r.completeTransitions_():(r._error=t,r._transition(Ne))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){this._state===Se&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then((function(n){switch(e._state){case Se:t(n);break;case Ie:e._transition(De);break;case Te:e._transition(Pe)}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,o,i){var s=e.bucketOnlyServerUrl(),a=hn(e,o,i),u={name:a.fullPath},l=Ke(s),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":o.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},p=en(a,n),h=t.maxUploadRetryTime,d=new rn(l,"POST",(function(t){var e;fn(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(r){on(!1)}return on(Me(e)),e}),h);return d.urlParams=u,d.headers=c,d.body=p,d.errorHandler=un(e),d}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),o=t._ref.storage.makeRequest(n,e);t._request=o,o.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var o=function(t,e,n,o){var i=t.maxUploadRetryTime,s=new rn(n,"POST",(function(t){var e=fn(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(r){on(!1)}n||on(!1);var i=Number(n);return on(!isNaN(i)),new dn(i,o.size(),"final"===e)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=un(e),s}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(o,n);t._request=i,i.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new dn(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken((function(i){var s;try{s=gn(t._ref._location,t._ref.storage,o,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(r){return t._error=r,void t._transition(Ne)}var a=t._ref.storage.makeRequest(s,i);t._request=a,a.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(Ae)):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=cn(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition(Ae)}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,o){var i=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=hn(e,r,o),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+en(u,n)+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",c="\r\n--"+a+"--",p=Be.getBlob(l,r,c);if(null===p)throw he();var h={name:u.fullPath},d=Ke(i),f=t.maxUploadRetryTime,g=new rn(d,"POST",sn(t,n),f);return g.urlParams=h,g.headers=s,g.body=p.uploadData(),g.errorHandler=un(e),g}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(Ae)}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case Ie:case Te:this._state=t,void 0!==this._request&&this._request.cancel();break;case Se:var e=this._state===Pe;this._state=t,e&&(this._notifyObservers(),this._start());break;case Pe:this._state=t,this._notifyObservers();break;case De:this._error=pe(),this._state=t,this._notifyObservers();break;case Ne:case Ae:this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case Te:this._transition(Pe);break;case Ie:this._transition(De);break;case Se:this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=ke(this._state);return new yn(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var o=this,i=new vn(e,n,r);return this._addObserver(i),function(){o._removeObserver(i)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(ke(this._state)){case xe.SUCCESS:mn(this._resolve.bind(null,this.snapshot))();break;case xe.CANCELED:case xe.ERROR:mn(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(ke(this._state)){case xe.RUNNING:case xe.PAUSED:t.next&&mn(t.next.bind(t,this.snapshot))();break;case xe.SUCCESS:t.complete&&mn(t.complete.bind(t))();break;case xe.CANCELED:case xe.ERROR:t.error&&mn(t.error.bind(t,this._error))();break;default:t.error&&mn(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t=this._state===Pe||this._state===Te;return t&&this._transition(Se),t},t.prototype.pause=function(){var t=this._state===Se;return t&&this._transition(Te),t},t.prototype.cancel=function(){var t=this._state===Se||this._state===Te;return t&&this._transition(Ie),t},t}(),wn=function(){function t(t,e){this._service=t,this._location=e instanceof Ue?e:Ue.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new Ue(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return qe(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new Ue(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw ge(t)},t}();function Cn(t){var e={prefixes:[],items:[]};return function t(e,n,r){return Object(c.b)(this,void 0,void 0,(function(){var o,i,s;return Object(c.d)(this,(function(a){switch(a.label){case 0:return[4,En(e,{pageToken:r})];case 1:return o=a.sent(),(i=n.prefixes).push.apply(i,o.prefixes),(s=n.items).push.apply(s,o.items),null==o.nextPageToken?[3,3]:[4,t(e,n,o.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))}function En(t,e){return Object(c.b)(this,void 0,void 0,(function(){var n,r,o;return Object(c.d)(this,(function(i){switch(i.label){case 0:return null!=e&&"number"===typeof e.maxResults&&Ge("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=e||{},o=pn(t.storage,t._location,"/",r.pageToken,r.maxResults),[2,t.storage.makeRequest(o,n).getPromise()]}}))}))}function _n(t,e){return Object(c.b)(this,void 0,void 0,(function(){var n,r;return Object(c.d)(this,(function(o){switch(o.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=o.sent(),r=function(t,e,n,r){var o=Ke(e.fullServerUrl()),i=en(n,r),s=t.maxOperationRetryTime,a=new rn(o,"PATCH",sn(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=i,a.errorHandler=ln(e),a}(t.storage,t._location,e,Je()),[2,t.storage.makeRequest(r,n).getPromise()]}}))}))}function On(t){return Object(c.b)(this,void 0,void 0,(function(){var e,n;return Object(c.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=Ke(e.fullServerUrl()),o=t.maxOperationRetryTime,i=new rn(r,"GET",an(t,n),o);return i.errorHandler=ln(e),i}(t.storage,t._location,Je()),[2,t.storage.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new Bt(ne,"The given file does not have any download URLs.");return t}))]}}))}))}function Rn(t){return Object(c.b)(this,void 0,void 0,(function(){var e,n;return Object(c.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=Ke(e.fullServerUrl()),r=t.maxOperationRetryTime,o=new rn(n,"DELETE",(function(t,e){}),r);return o.successCodes=[200,204],o.errorHandler=ln(e),o}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}function Sn(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Ue(t._location.bucket,n);return new wn(t.storage,r)}var Tn=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Pn=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new Tn(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new Tn(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var o=this,i=void 0;return e&&(i="function"===typeof e?function(t){return e(new Tn(t,o,o._ref))}:{next:e.next?function(t){return e.next(new Tn(t,o,o._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,i,n||void 0,r||void 0)},t}(),An=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new In(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new In(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),In=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(Sn(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Pn(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new bn(t,new Be(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=me.RAW),this._throwIfRoot("putString"),new Pn(function(t,e,n,r){void 0===n&&(n=me.RAW),t._throwIfRoot("putString");var o=we(n,e),i=Object(c.a)({},r);return null==i.contentType&&null!=o.contentType&&(i.contentType=o.contentType),new bn(t,new Be(o.data,!0),i)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t=this;return Cn(this._delegate).then((function(e){return new An(e,t.storage)}))},t.prototype.list=function(t){var e=this;return En(this._delegate,t).then((function(t){return new An(t,e.storage)}))},t.prototype.getMetadata=function(){return function(t){return Object(c.b)(this,void 0,void 0,(function(){var e,n;return Object(c.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=cn(t.storage,t._location,Je()),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype.updateMetadata=function(t){return _n(this._delegate,t)},t.prototype.getDownloadURL=function(){return On(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),Rn(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw ge(t)},t}(),Dn=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();var Nn=function(){function t(t,e,n,r,o,i,s,a,u,l,c){var p=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=o.slice(),this.additionalRetryCodes_=i.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=l,this.timeout_=u,this.pool_=c,this.promise_=new Promise((function(t,e){p.resolve_=t,p.reject_=e,p.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var o,i=t.resolve_,s=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var u=t.callback_(a,a.getResponseText());void 0!==u?i(u):i()}catch(r){s(r)}else null!==a?((o=ce()).serverResponse=a.getResponseText(),t.errorCallback_?s(t.errorCallback_(a,o)):s(o)):n.canceled?s(o=t.appDelete_?fe():pe()):s(o=new Bt(Qt,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new xn(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,o=null,i=!1,s=0;function a(){return 2===s}var u=!1;function l(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u||(u=!0,e.apply(null,t))}function p(e){o=setTimeout((function(){o=null,t(h,a())}),e)}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)l.call.apply(l,Object(c.h)([null,t],e));else{var o,h=a()||i;if(h)l.call.apply(l,Object(c.h)([null,t],e));else r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),p(o)}}var d=!1;function f(t){d||(d=!0,u||(null!==o?(t||(s=2),clearTimeout(o),p(0)):t||(s=1)))}return p(0),setTimeout((function(){i=!0,f(!0)}),n),f}((function(e,n){if(n)e(!1,new xn(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(o),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(o),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Oe.NO_ERROR,i=n.getStatus();if(r&&!t.isRetryStatusCode_(i)){var s=-1!==t.successCodes_.indexOf(i);e(!0,new xn(s,n))}else{var a=n.getErrorCode()===Oe.ABORT;e(!1,new xn(!1,null,a))}}))}function o(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),xn=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function kn(t,e,n,r){var i=Ye(t.urlParams),s=t.url+i,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t){var e="undefined"!==typeof o.a?o.a.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}(a),new Nn(s,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}function Ln(t){return/^[A-Za-z]+:\/\//.test(t)}function Fn(t,e){if(t instanceof jn){var n=t;if(null==n._bucket)throw new Bt(Zt,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new wn(n,n._bucket);return null!=e?Fn(r,e):r}if(void 0!==e){if(e.includes(".."))throw de('`path` param cannot contain ".."');return Sn(t,e)}return t}function Mn(t,e){if(e&&Ln(e)){if(t instanceof jn)return new wn(t,e);throw de("To use ref(service, url), the first argument must be a Storage instance.")}return Fn(t,e)}var jn=function(){function t(t,e,n,r){this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ue.makeFromBucketSpec(r):function(t){var e=null===t||void 0===t?void 0:t.storageBucket;return null==e?null:Ue.makeFromBucketSpec(e)}(this.app.options)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Ge("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Ge("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(c.b)(this,void 0,void 0,(function(){var t,e;return Object(c.d)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new wn(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new Dn(fe());var r=kn(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},t}(),Vn=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(Ln(t))throw de("ref() expected a child path but got a URL, use refFromURL instead.");return new In(Mn(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!Ln(t))throw de("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ue.makeFromUrl(t)}catch(r){throw de("refFromUrl() expected a valid full URL but got an invalid one.")}return new In(Mn(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function Gn(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new Vn(n,new jn(n,r,new Fe,e))}!function(t){var e={TaskState:xe,TaskEvent:Re,StringFormat:me,Storage:jn,Reference:In};t.INTERNAL.registerComponent(new u.a("storage",Gn,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.4.2")}(o.a);var Wn,Hn,Bn,Un=((Wn={})["trace started"]="Trace {$traceName} was started before.",Wn["trace stopped"]="Trace {$traceName} is not running.",Wn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Wn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Wn["no window"]="Window is not available.",Wn["no app id"]="App id is not available.",Wn["no project id"]="Project id is not available.",Wn["no api key"]="Api key is not available.",Wn["invalid cc log"]="Attempted to queue invalid cc event",Wn["FB not default"]="Performance can only start when Firebase app instance is the default one.",Wn["RC response not ok"]="RC response is not ok",Wn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Wn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Wn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Wn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Wn),zn=new s.b("performance","Performance",Un),qn=new i.b("Performance");qn.logLevel=i.a.INFO;var Kn,Yn=function(){function t(t){if(this.window=t,!t)throw zn.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(s.w)()||(qn.info("IndexedDB is not supported by current browswer"),!1):(qn.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var o=r[n];e(o)}})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===Hn&&(Hn=new t(Bn)),Hn},t}();function Qn(t,e){var n=t.length-e.length;if(n<0||n>1)throw zn.create("invalid String merger input");for(var r=[],o=0;o<t.length;o++)r.push(t.charAt(o)),e.length>o&&r.push(e.charAt(o));return r.join("")}var Xn,$n,Jn=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Qn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Qn("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw zn.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw zn.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw zn.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===Kn&&(Kn=new t),Kn},t}();function Zn(){return Xn}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}($n||($n={}));var tr=["firebase_","google_","ga_"],er=new RegExp("^[a-zA-Z]\\w*$");function nr(){var t=Yn.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function rr(){switch(Yn.getInstance().document.visibilityState){case"visible":return $n.VISIBLE;case"hidden":return $n.HIDDEN;default:return $n.UNKNOWN}}function or(){var t=Yn.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var ir=!0;function sr(t){var e=function(){var t=Yn.getInstance().localStorage;if(!t)return;var e=t.getItem("@firebase/performance/configexpire");if(!e||(n=e,!(Number(n)>Date.now())))return;var n;var r=t.getItem("@firebase/performance/config");if(!r)return;try{return JSON.parse(r)}catch(o){return}}();return e?(ar(e),Promise.resolve()):function(t){return function(){var t=Jn.getInstance().installationsService.getToken();return t.then((function(t){})),t}().then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+Jn.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+Jn.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:Jn.getInstance().getAppId(),app_version:"0.4.5",sdk_version:"0.0.1"})});return fetch(r).then((function(t){if(t.ok)return t.json();throw zn.create("RC response not ok")}))})).catch((function(){qn.info("Could not fetch config, will use default configs")}))}(t).then(ar).then((function(t){return function(t){var e=Yn.getInstance().localStorage;if(!t||!e)return;e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*Jn.getInstance().configTimeToLive*60*1e3))}(t)}),(function(){}))}function ar(t){if(!t)return t;var e=Jn.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=ir,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=ur(e.tracesSamplingRate),e.logNetworkAfterSampling=ur(e.networkRequestsSamplingRate),t}function ur(t){return Math.random()<=t}var lr,cr=1;function pr(){return cr=2,lr=lr||function(){var t=Yn.getInstance().document;return new Promise((function(e){t&&"complete"!==t.readyState?t.addEventListener("readystatechange",(function n(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())})):e()}))}().then((function(){return function(){var t=Jn.getInstance().installationsService.getId();return t.then((function(t){Xn=t})),t}()})).then((function(t){return sr(t)})).then((function(){return hr()}),(function(){return hr()}))}function hr(){cr=3}var dr,fr=3,gr=[],vr=!1;function yr(t){setTimeout((function(){if(0!==fr)return gr.length?void function(){var t=gr.splice(0,1e3),e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}));(function(t,e){return function(t){var e=Jn.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||qn.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=1e4;isNaN(n)||(r=Math.max(n,r));var o=t.logResponseDetails;Array.isArray(o)&&o.length>0&&"RETRY_REQUEST_LATER"===o[0].responseAction&&(gr=Object(c.h)(e,gr),qn.info("Retry transport request later.")),fr=3,yr(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Jn.getInstance().logSource,log_event:e},t).catch((function(){gr=Object(c.h)(t,gr),fr--,qn.info("Tries left: "+fr+"."),yr(1e4)}))}():yr(1e4)}),t)}function mr(t){if(!t.eventTime||!t.message)throw zn.create("invalid cc log");gr=Object(c.h)(gr,[t])}function br(t,e){dr||(dr=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);mr({message:r,eventTime:Date.now()})}}(Er)),dr(t,e)}function wr(t){var e=Jn.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&Yn.getInstance().requiredApisAvailable()&&(t.isAuto&&rr()!==$n.VISIBLE||(3===cr?Cr(t):pr().then((function(){return Cr(t)}),(function(){return Cr(t)}))))}function Cr(t){if(Zn()){var e=Jn.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return br(t,1)}),0)}}function Er(t,e){return 0===e?function(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:_r(),network_request_metric:e};return JSON.stringify(n)}(t):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:_r(),trace_metric:e};return JSON.stringify(r)}(t)}function _r(){return{google_app_id:Jn.getInstance().getAppId(),app_instance_id:Zn(),web_app_info:{sdk_version:"0.4.5",page_url:Yn.getInstance().getUrl(),service_worker_status:nr(),visibility_state:rr(),effective_connection_type:or()},application_process_state:0}}var Or=["_fp","_fcp","_fid"];var Rr=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=Yn.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw zn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw zn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),wr(this)},t.prototype.record=function(t,e,n){if(t<=0)throw zn.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw zn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Object(c.a)({},n.attributes)),n&&n.metrics)for(var r=0,o=Object.keys(n.metrics);r<o.length;r++){var i=o[r];isNaN(Number(n.metrics[i]))||(this.counters[i]=Number(Math.floor(n.metrics[i])))}wr(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&Or.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw zn.create("invalid custom metric name",{customMetricName:t});this.counters[t]=function(t){var e=Math.floor(t);return e<t&&qn.info("Metric value should be an Integer, setting the value as : "+e+"."),e}(e)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=function(t){return!(0===t.length||t.length>40)&&(!tr.some((function(e){return t.startsWith(e)}))&&!!t.match(er))}(t),r=function(t){return 0!==t.length&&t.length<=100}(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw zn.create("invalid attribute name",{attributeName:t});if(!r)throw zn.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Object(c.a)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var o=Yn.getInstance().getUrl();if(o){var i=new t("_wt_"+o,!0),s=Math.floor(1e3*Yn.getInstance().getTimeOrigin());i.setStartTime(s),e&&e[0]&&(i.setDuration(Math.floor(1e3*e[0].duration)),i.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),i.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),i.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var a=n.find((function(t){return"first-paint"===t.name}));a&&a.startTime&&i.putMetric("_fp",Math.floor(1e3*a.startTime));var u=n.find((function(t){return"first-contentful-paint"===t.name}));u&&u.startTime&&i.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&i.putMetric("_fid",Math.floor(1e3*r))}wr(i)}},t.createUserTimingTrace=function(e){wr(new t(e,!1,e))},t}();function Sr(t){var e=t;if(e&&void 0!==e.responseStart){var n=Yn.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),o=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,i=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=Jn.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],o=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==o&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return br(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:o,timeToResponseCompletedUs:i})}}function Tr(){Zn()&&(setTimeout((function(){return function(){var t=Yn.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){Rr.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),Rr.createOobTrace(e,n,t))}))}else Rr.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=Yn.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){Sr(r[n])}t.setupObserver("resource",Sr)}()}),0),setTimeout((function(){return function(){for(var t=Yn.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){Pr(r[n])}t.setupObserver("measure",Pr)}()}),0))}function Pr(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&Rr.createUserTimingTrace(e)}var Ar=function(){function t(t){this.app=t,Yn.getInstance().requiredApisAvailable()&&Object(s.N)().then((function(t){t&&(vr||(yr(5500),vr=!0),pr().then(Tr,Tr))})).catch((function(t){qn.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new Rr(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return Jn.getInstance().instrumentationEnabled},set:function(t){Jn.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return Jn.getInstance().dataCollectionEnabled},set:function(t){Jn.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){var e=function(t,e){if("[DEFAULT]"!==t.name)throw zn.create("FB not default");if("undefined"===typeof window)throw zn.create("no window");return function(t){Bn=t}(window),Jn.getInstance().firebaseAppInstance=t,Jn.getInstance().installationsService=e,new Ar(t)};t.INTERNAL.registerComponent(new u.a("performance",(function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)}),"PUBLIC")),t.registerVersion("@firebase/performance","0.4.5")}(o.a);var Ir,Dr,Nr="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(Ir||(Ir={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(Dr||(Dr={}));var xr,kr=new i.b("@firebase/analytics");function Lr(t,e,n,r,o,i){return Object(c.b)(this,void 0,void 0,(function(){var s,a,u,l;return Object(c.d)(this,(function(c){switch(c.label){case 0:s=r[o],c.label=1;case 1:return c.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return c.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=c.sent(),(u=a.find((function(t){return t.measurementId===o})))?[4,e[u.appId]]:[3,6];case 5:c.sent(),c.label=6;case 6:return[3,8];case 7:return l=c.sent(),kr.error(l),[3,8];case 8:return t(Ir.CONFIG,o,i),[2]}}))}))}function Fr(t,e,n,r,o){return Object(c.b)(this,void 0,void 0,(function(){var i,s,a,u,l,p,h,d;return Object(c.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,4,,5]),i=[],o&&o.send_to?(s=o.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=c.sent(),u=function(t){var n=a.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return i=[],"break";i.push(r)},l=0,p=s;l<p.length&&(h=p[l],"break"!==u(h));l++);c.label=2;case 2:return 0===i.length&&(i=Object.values(e)),[4,Promise.all(i)];case 3:return c.sent(),t(Ir.EVENT,r,o||{}),[3,5];case 4:return d=c.sent(),kr.error(d),[3,5];case 5:return[2]}}))}))}function Mr(t,e,n,r,o){var i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[o]&&"function"===typeof window[o]&&(i=window[o]),window[o]=function(t,e,n,r){return function(o,i,s){return Object(c.b)(this,void 0,void 0,(function(){var a;return Object(c.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),o!==Ir.EVENT?[3,2]:[4,Fr(t,e,n,i,s)];case 1:return u.sent(),[3,5];case 2:return o!==Ir.CONFIG?[3,4]:[4,Lr(t,e,n,r,i,s)];case 3:return u.sent(),[3,5];case 4:t(Ir.SET,i),u.label=5;case 5:return[3,7];case 6:return a=u.sent(),kr.error(a),[3,7];case 7:return[2]}}))}))}}(i,t,e,n),{gtagCore:i,wrappedGtag:window[o]}}var jr=((xr={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",xr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",xr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",xr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",xr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",xr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",xr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",xr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',xr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',xr),Vr=new s.b("analytics","Analytics",jr),Gr=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function Wr(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Hr(t){var e;return Object(c.b)(this,void 0,void 0,(function(){var n,r,o,i,s,a,u;return Object(c.d)(this,(function(l){switch(l.label){case 0:return n=t.appId,r=t.apiKey,o={method:"GET",headers:Wr(r)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(i,o)];case 1:if(200===(s=l.sent()).status||304===s.status)return[3,6];a="",l.label=2;case 2:return l.trys.push([2,4,,5]),[4,s.json()];case 3:return u=l.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message),[3,5];case 4:return l.sent(),[3,5];case 5:throw Vr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a});case 6:return[2,s.json()]}}))}))}function Br(t,e,n,r){var o=e.throttleEndTimeMillis,i=e.backoffCount;return void 0===r&&(r=Gr),Object(c.b)(this,void 0,void 0,(function(){var e,a,u,l,p,h,d;return Object(c.d)(this,(function(c){switch(c.label){case 0:e=t.appId,a=t.measurementId,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Ur(n,o)];case 2:return c.sent(),[3,4];case 3:if(u=c.sent(),a)return kr.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:e,measurementId:a}];throw u;case 4:return c.trys.push([4,6,,7]),[4,Hr(t)];case 5:return l=c.sent(),r.deleteThrottleMetadata(e),[2,l];case 6:if(!function(t){if(!(t instanceof s.c)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(p=c.sent())){if(r.deleteThrottleMetadata(e),a)return kr.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+p.message+"]"),[2,{appId:e,measurementId:a}];throw p}return h=503===Number(p.customData.httpStatus)?Object(s.j)(i,r.intervalMillis,30):Object(s.j)(i,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:i+1},r.setThrottleMetadata(e,d),kr.debug("Calling attemptFetch again in "+h+" millis"),[2,Br(t,d,n,r)];case 7:return[2]}}))}))}function Ur(t,e){return new Promise((function(n,r){var o=Math.max(e-Date.now(),0),i=setTimeout(n,o);t.addEventListener((function(){clearTimeout(i),r(Vr.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var zr=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();function qr(t,e,n,r,o){return Object(c.b)(this,void 0,void 0,(function(){var i,a,u,l,p,h,d;return Object(c.d)(this,(function(f){switch(f.label){case 0:return(i=function(t,e,n){return void 0===e&&(e=Gr),Object(c.b)(this,void 0,void 0,(function(){var r,o,i,s,a,u,l=this;return Object(c.d)(this,(function(p){if(r=t.options,o=r.appId,i=r.apiKey,s=r.measurementId,!o)throw Vr.create("no-app-id");if(!i){if(s)return[2,{measurementId:s,appId:o}];throw Vr.create("no-api-key")}return a=e.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new zr,setTimeout((function(){return Object(c.b)(l,void 0,void 0,(function(){return Object(c.d)(this,(function(t){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,Br({appId:o,apiKey:i,measurementId:s},a,u,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&kr.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return kr.error(t)})),e.push(i),a=function(){return Object(c.b)(this,void 0,void 0,(function(){var t;return Object(c.d)(this,(function(e){switch(e.label){case 0:return Object(s.w)()?[3,1]:(kr.warn(Vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(s.N)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),kr.warn(Vr.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([i,a])];case 1:return u=f.sent(),l=u[0],p=u[1],o("js",new Date),(d={}).origin="firebase",d.update=!0,h=d,null!=p&&(h.firebase_id=p),o(Ir.CONFIG,l.measurementId,h),[2,l.measurementId]}}))}))}var Kr,Yr,Qr={},Xr=[],$r={},Jr="dataLayer",Zr="gtag",to=!1;function eo(t){if(to)throw Vr.create("already-initialized");t.dataLayerName&&(Jr=t.dataLayerName),t.gtagName&&(Zr=t.gtagName)}function no(t,e){!function(){var t=[];if(Object(s.s)()&&t.push("This is a browser extension environment."),Object(s.e)()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=Vr.create("invalid-analytics-context",{errorInfo:e});kr.warn(n.message)}}();var n=t.options.appId;if(!n)throw Vr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Vr.create("no-api-key");kr.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Qr[n])throw Vr.create("already-exists",{id:n});if(!to){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(Nr))return r}return null})()||function(t){var e=document.createElement("script");e.src=Nr+"?l="+t,e.async=!0,document.head.appendChild(e)}(Jr),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Jr);var r=Mr(Qr,Xr,$r,Jr,Zr),o=r.wrappedGtag,i=r.gtagCore;Yr=o,Kr=i,to=!0}return Qr[n]=qr(t,Xr,$r,e,Kr),{app:t,logEvent:function(t,e,r){(function(t,e,n,r,o){return Object(c.b)(this,void 0,void 0,(function(){var i,s;return Object(c.d)(this,(function(a){switch(a.label){case 0:return o&&o.global?(t(Ir.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:i=a.sent(),s=Object(c.a)(Object(c.a)({},r),{send_to:i}),t(Ir.EVENT,n,s),a.label=3;case 3:return[2]}}))}))})(Yr,Qr[n],t,e,r).catch((function(t){return kr.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return Object(c.b)(this,void 0,void 0,(function(){var o;return Object(c.d)(this,(function(i){switch(i.label){case 0:return r&&r.global?(t(Ir.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:o=i.sent(),t(Ir.CONFIG,o,{update:!0,screen_name:n}),i.label=3;case 3:return[2]}}))}))})(Yr,Qr[n],t,e).catch((function(t){return kr.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return Object(c.b)(this,void 0,void 0,(function(){var o;return Object(c.d)(this,(function(i){switch(i.label){case 0:return r&&r.global?(t(Ir.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:o=i.sent(),t(Ir.CONFIG,o,{update:!0,user_id:n}),i.label=3;case 3:return[2]}}))}))})(Yr,Qr[n],t,e).catch((function(t){return kr.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return Object(c.b)(this,void 0,void 0,(function(){var o,i,s,a,u;return Object(c.d)(this,(function(l){switch(l.label){case 0:if(!r||!r.global)return[3,1];for(o={},i=0,s=Object.keys(n);i<s.length;i++)a=s[i],o["user_properties."+a]=n[a];return t(Ir.SET,o),[2,Promise.resolve()];case 1:return[4,e];case 2:u=l.sent(),t(Ir.CONFIG,u,{update:!0,user_properties:n}),l.label=3;case 3:return[2]}}))}))})(Yr,Qr[n],t,e).catch((function(t){return kr.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Object(c.b)(this,void 0,void 0,(function(){var n;return Object(c.d)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(Qr[n],t).catch((function(t){return kr.error(t)}))},INTERNAL:{delete:function(){return delete Qr[n],Promise.resolve()}}}}function ro(){return Object(c.b)(this,void 0,void 0,(function(){return Object(c.d)(this,(function(t){switch(t.label){case 0:if(Object(s.s)())return[2,!1];if(!Object(s.e)())return[2,!1];if(!Object(s.w)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(s.N)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new u.a("analytics",(function(t){return no(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:eo,EventName:Dr,isSupported:ro})),t.INTERNAL.registerComponent(new u.a("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(r){throw Vr.create("interop-component-reg-failed",{reason:r})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.2")}(o.a);var oo,io=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return Object(c.b)(this,void 0,void 0,(function(){var e,n,r,o,i;return Object(c.d)(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return o=s.sent(),i=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===o.status&&i.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(i)];case 3:return s.sent(),[2,o]}}))}))},t}(),so=((oo={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",oo["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",oo["registration-api-key"]="Undefined API key. Check Firebase app initialization.",oo["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",oo["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",oo["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",oo["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",oo["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",oo["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",oo["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',oo["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',oo["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",oo["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",oo),ao=new s.b("remoteconfig","Remote Config",so);var uo=function(){function t(t,e,n,r,o,i){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=o,this.appId=i}return t.prototype.fetch=function(t){return Object(c.b)(this,void 0,void 0,(function(){var e,n,r,o,i,s,a,u,l,p,h,d,f,g,v,y,m,b,w;return Object(c.d)(this,(function(c){switch(c.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=c.sent(),n=e[0],r=e[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",i=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},a={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===C&&(C=navigator),C.languages&&C.languages[0]||C.language)},u={method:"POST",headers:s,body:JSON.stringify(a)},l=fetch(i,u),p=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),c.label=2;case 2:return c.trys.push([2,5,,6]),[4,Promise.race([l,p])];case 3:return c.sent(),[4,l];case 4:return h=c.sent(),[3,6];case 5:throw d=c.sent(),f="fetch-client-network","AbortError"===d.name&&(f="fetch-timeout"),ao.create(f,{originalErrorMessage:d.message});case 6:if(g=h.status,v=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];b=void 0,c.label=7;case 7:return c.trys.push([7,9,,10]),[4,h.json()];case 8:return b=c.sent(),[3,10];case 9:throw w=c.sent(),ao.create("fetch-client-parse",{originalErrorMessage:w.message});case 10:y=b.entries,m=b.state,c.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?g=500:"NO_CHANGE"===m?g=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(y={}),304!==g&&200!==g)throw ao.create("fetch-status",{httpStatus:g});return[2,{status:g,eTag:v,config:y}]}var C}))}))},t}(),lo=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),co=["1","true","t","yes","y","on"],po=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&co.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),ho=function(){function t(t,e,n,r,o){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=i.a.DEBUG;break;case"silent":this._logger.logLevel=i.a.SILENT;break;default:this._logger.logLevel=i.a.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Object(c.b)(this,void 0,void 0,(function(){var t,e,n;return Object(c.d)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return Object(c.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(c.d)(this,(function(o){switch(o.label){case 0:t=new lo,setTimeout((function(){return Object(c.b)(r,void 0,void 0,(function(){return Object(c.d)(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return e=o.sent(),n=function(t,e){return t instanceof s.c&&-1!==t.code.indexOf(e)}(e,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw o.sent(),e;case 6:return[2]}}))}))},t.prototype.fetchAndActivate=function(){return Object(c.b)(this,void 0,void 0,(function(){return Object(c.d)(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t=this;return function(t,e){void 0===t&&(t={});void 0===e&&(e={});return Object.keys(Object(c.a)(Object(c.a)({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new po("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new po("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new po("static"))},t}();function fo(t,e){var n=t.target.error||void 0;return ao.create(e,{originalErrorMessage:n&&n.message})}var go=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(fo(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Object(c.b)(this,void 0,void 0,(function(){var e,n=this;return Object(c.d)(this,(function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return e=o.sent(),[2,new Promise((function(o,i){var s=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),a=n.createCompositeKey(t);try{var u=s.get(a);u.onerror=function(t){i(fo(t,"storage-get"))},u.onsuccess=function(t){var e=t.target.result;o(e?e.value:void 0)}}catch(r){i(ao.create("storage-get",{originalErrorMessage:r&&r.message}))}}))]}}))}))},t.prototype.set=function(t,e){return Object(c.b)(this,void 0,void 0,(function(){var n,o=this;return Object(c.d)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,s){var a=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),u=o.createCompositeKey(t);try{var l=a.put({compositeKey:u,value:e});l.onerror=function(t){s(fo(t,"storage-set"))},l.onsuccess=function(){i()}}catch(r){s(ao.create("storage-set",{originalErrorMessage:r&&r.message}))}}))]}}))}))},t.prototype.delete=function(t){return Object(c.b)(this,void 0,void 0,(function(){var e,n=this;return Object(c.d)(this,(function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return e=o.sent(),[2,new Promise((function(o,i){var s=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=n.createCompositeKey(t);try{var u=s.delete(a);u.onerror=function(t){i(fo(t,"storage-delete"))},u.onsuccess=function(){o()}}catch(r){i(ao.create("storage-delete",{originalErrorMessage:r&&r.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),vo=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Object(c.b)(this,void 0,void 0,(function(){var t,e,n,r,o,i;return Object(c.d)(this,(function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=s.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(o=s.sent())&&(this.lastSuccessfulFetchTimestampMillis=o),[4,n];case 3:return(i=s.sent())&&(this.activeConfig=i),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function yo(t,e){return new Promise((function(n,r){var o=Math.max(e-Date.now(),0),i=setTimeout(n,o);t.addEventListener((function(){clearTimeout(i),r(ao.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var mo,bo=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Object(c.b)(this,void 0,void 0,(function(){var e;return Object(c.d)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return Object(c.b)(this,void 0,void 0,(function(){var e,o,i;return Object(c.d)(this,(function(a){switch(a.label){case 0:return[4,yo(t.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof s.c)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o=a.sent()))throw o;return i={throttleEndTimeMillis:Date.now()+Object(s.j)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(i)];case 6:return a.sent(),[2,this.attemptFetch(t,i)];case 7:return[2]}}))}))},t}();(mo=o.a).INTERNAL.registerComponent(new u.a("remoteConfig",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"===typeof window)throw ao.create("registration-window");var o=n.options,s=o.projectId,a=o.apiKey,u=o.appId;if(!s)throw ao.create("registration-project-id");if(!a)throw ao.create("registration-api-key");if(!u)throw ao.create("registration-app-id");e=e||"firebase";var l=new go(u,n.name,e),c=new vo(l),p=new i.b("@firebase/remote-config");p.logLevel=i.a.ERROR;var h=new uo(r,mo.SDK_VERSION,e,s,a,u),d=new bo(h,l),f=new io(d,l,c,p),g=new ho(n,f,c,l,p);return g.ensureInitialized(),g}),"PUBLIC").setMultipleInstances(!0)),mo.registerVersion("@firebase/remote-config","0.1.30");o.a.registerVersion("firebase","8.2.0","app");console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),o.a.registerVersion("firebase","8.2.0")},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s}));var r=n(0),o=n(2),i=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new o.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,o=e.optional,i=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService(i);if(!s){if(o)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(o)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(p){}try{for(var o=Object(r.i)(this.instancesDeferred.entries()),i=o.next();!i.done;i=o.next()){var s=Object(r.e)(i.value,2),a=s[0],u=s[1],l=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService(l);u.resolve(c)}catch(p){}}}catch(h){e={error:h}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.g)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();var a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return hl})),n.d(e,"b",(function(){return ll})),n.d(e,"c",(function(){return P})),n.d(e,"d",(function(){return al})),n.d(e,"e",(function(){return cl})),n.d(e,"f",(function(){return yl})),n.d(e,"g",(function(){return vl})),n.d(e,"h",(function(){return Eu})),n.d(e,"i",(function(){return ml})),n.d(e,"j",(function(){return Cl})),n.d(e,"k",(function(){return Cu})),n.d(e,"l",(function(){return Sl})),n.d(e,"m",(function(){return wl})),n.d(e,"n",(function(){return Tl})),n.d(e,"o",(function(){return _l})),n.d(e,"p",(function(){return pl})),n.d(e,"q",(function(){return xa})),n.d(e,"r",(function(){return X})),n.d(e,"s",(function(){return sl})),n.d(e,"t",(function(){return Ol}));var r=n(6),o=n(2),i=n(11),s=n(0),a=new r.b("@firebase/firestore");function u(){return a.logLevel}function l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(a.logLevel<=r.a.DEBUG){var o=e.map(h);a.debug.apply(a,Object(s.h)(["Firestore (8.2.0): "+t],o))}}function c(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(a.logLevel<=r.a.ERROR){var o=e.map(h);a.error.apply(a,Object(s.h)(["Firestore (8.2.0): "+t],o))}}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(a.logLevel<=r.a.WARN){var o=e.map(h);a.warn.apply(a,Object(s.h)(["Firestore (8.2.0): "+t],o))}}function h(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function d(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.0) INTERNAL ASSERTION FAILED: "+t;throw c(e),new Error(e)}function f(t,e){t||d()}function g(t,e){return t}function v(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var y=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=v(40),o=0;o<r.length;++o)n.length<20&&r[o]<e&&(n+=t.charAt(r[o]%t.length));return n},t}();function m(t,e){return t<e?-1:t>e?1:0}function b(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function w(t){return t+"\0"}var C=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.i,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return m(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();C.h=new C("");var E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(s.c)(e,t),e}(Error),O=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(C.fromBase64String(e))}catch(e){throw new _(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(C.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),R=function(t){this._=t};function S(){if("undefined"==typeof Uint8Array)throw new _(E.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function T(){if("undefined"==typeof atob)throw new _(E.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.fromBase64String=function(t){return T(),new e(O.fromBase64String(t))},e.fromUint8Array=function(t){return S(),new e(O.fromUint8Array(t))},e.prototype.toBase64=function(){return T(),this._.toBase64()},e.prototype.toUint8Array=function(){return S(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(R),A=function(){function t(t){this.uid=t}return t.prototype.T=function(){return null!=this.uid},t.prototype.I=function(){return this.T()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();A.UNAUTHENTICATED=new A(null),A.m=new A("google-credentials-uid"),A.A=new A("first-party-uid");var I=function(t,e){this.user=e,this.type="OAuth",this.R={},this.R.Authorization="Bearer "+t},D=function(){function t(){this.P=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.g=function(){},t.prototype.V=function(t){this.P=t,t(A.UNAUTHENTICATED)},t.prototype.p=function(){this.P=null},t}(),N=function(){function t(t){var e=this;this.v=null,this.currentUser=A.UNAUTHENTICATED,this.S=!1,this.D=0,this.P=null,this.forceRefresh=!1,this.v=function(){e.D++,e.currentUser=e.C(),e.S=!0,e.P&&e.P(e.currentUser)},this.D=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.v):(this.v(null),t.get().then((function(t){e.auth=t,e.v&&e.auth.addAuthTokenListener(e.v)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.D,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.D!==e?(l("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(f("string"==typeof n.accessToken),new I(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.g=function(){this.forceRefresh=!0},t.prototype.V=function(t){this.P=t,this.S&&t(this.currentUser)},t.prototype.p=function(){this.auth&&this.auth.removeAuthTokenListener(this.v),this.v=null,this.P=null},t.prototype.C=function(){var t=this.auth&&this.auth.getUid();return f(null===t||"string"==typeof t),new A(t)},t}(),x=function(){function t(t,e){this.N=t,this.F=e,this.type="FirstParty",this.user=A.A}return Object.defineProperty(t.prototype,"R",{get:function(){var t={"X-Goog-AuthUser":this.F},e=this.N.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),k=function(){function t(t,e){this.N=t,this.F=e}return t.prototype.getToken=function(){return Promise.resolve(new x(this.N,this.F))},t.prototype.V=function(t){t(A.A)},t.prototype.p=function(){},t.prototype.g=function(){},t}(),L=function(t,e,n,r,o,i){this.O=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=o,this.k=i},F=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"M",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),M=function(){function t(){}return t.prototype.L=function(t){},t.prototype.$=function(){},t}(),j=function(){function t(){var t=this;this.B=function(){return t.q()},this.U=function(){return t.K()},this.W=[],this.j()}return t.prototype.L=function(t){this.W.push(t)},t.prototype.$=function(){window.removeEventListener("online",this.B),window.removeEventListener("offline",this.U)},t.prototype.j=function(){window.addEventListener("online",this.B),window.addEventListener("offline",this.U)},t.prototype.q=function(){l("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.W;t<e.length;t++)(0,e[t])(0)},t.prototype.K=function(){l("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.W;t<e.length;t++)(0,e[t])(1)},t.G=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}();function V(t){return null==t}function G(t){return 0===t&&1/t==-1/0}function W(t){return"number"==typeof t&&Number.isInteger(t)&&!G(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var H,B,U={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};function z(t){switch(t){case E.OK:return d();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0;default:return d()}}function q(t){if(void 0===t)return c("GRPC error has no .code"),E.UNKNOWN;switch(t){case H.OK:return E.OK;case H.CANCELLED:return E.CANCELLED;case H.UNKNOWN:return E.UNKNOWN;case H.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case H.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case H.INTERNAL:return E.INTERNAL;case H.UNAVAILABLE:return E.UNAVAILABLE;case H.UNAUTHENTICATED:return E.UNAUTHENTICATED;case H.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case H.NOT_FOUND:return E.NOT_FOUND;case H.ALREADY_EXISTS:return E.ALREADY_EXISTS;case H.PERMISSION_DENIED:return E.PERMISSION_DENIED;case H.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case H.ABORTED:return E.ABORTED;case H.OUT_OF_RANGE:return E.OUT_OF_RANGE;case H.UNIMPLEMENTED:return E.UNIMPLEMENTED;case H.DATA_LOSS:return E.DATA_LOSS;default:return d()}}(B=H||(H={}))[B.OK=0]="OK",B[B.CANCELLED=1]="CANCELLED",B[B.UNKNOWN=2]="UNKNOWN",B[B.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",B[B.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",B[B.NOT_FOUND=5]="NOT_FOUND",B[B.ALREADY_EXISTS=6]="ALREADY_EXISTS",B[B.PERMISSION_DENIED=7]="PERMISSION_DENIED",B[B.UNAUTHENTICATED=16]="UNAUTHENTICATED",B[B.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",B[B.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",B[B.ABORTED=10]="ABORTED",B[B.OUT_OF_RANGE=11]="OUT_OF_RANGE",B[B.UNIMPLEMENTED=12]="UNIMPLEMENTED",B[B.INTERNAL=13]="INTERNAL",B[B.UNAVAILABLE=14]="UNAVAILABLE",B[B.DATA_LOSS=15]="DATA_LOSS";var K=function(){function t(t){this.H=t.H,this.J=t.J}return t.prototype.Y=function(t){this.X=t},t.prototype.Z=function(t){this.tt=t},t.prototype.onMessage=function(t){this.et=t},t.prototype.close=function(){this.J()},t.prototype.send=function(t){this.H(t)},t.prototype.nt=function(){this.X()},t.prototype.st=function(t){this.tt(t)},t.prototype.it=function(t){this.et(t)},t}(),Y=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Q=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.k=e.k,n}return Object(s.c)(e,t),e.prototype.lt=function(t,e,n,r){return new Promise((function(o,s){var a=new i.f;a.listenOnce(i.c.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case i.a.NO_ERROR:var e=a.getResponseJson();l("Connection","XHR received:",JSON.stringify(e)),o(e);break;case i.a.TIMEOUT:l("Connection",'RPC "'+t+'" timed out'),s(new _(E.DEADLINE_EXCEEDED,"Request time out"));break;case i.a.HTTP_ERROR:var n=a.getStatus();if(l("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(e)>=0?e:E.UNKNOWN}(r.status);s(new _(u,r.message))}else s(new _(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new _(E.UNAVAILABLE,"Connection failed."));break;default:d()}}finally{l("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);a.send(e,"POST",u,n,15)}))},e.prototype.ft=function(t,e){var n=[this.ot,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Object(i.g)(),s=Object(i.h)(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.O.projectId+"/databases/"+this.O.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.k};this.ht(a.initMessageHeaders,e),Object(o.x)()||Object(o.A)()||Object(o.t)()||Object(o.v)()||Object(o.B)()||Object(o.s)()||(a.httpHeadersOverwriteParam="$httpHeaders");var u=n.join("");l("Connection","Creating WebChannel: "+u,a);var c=r.createWebChannel(u,a),h=!1,d=!1,g=new K({H:function(t){d?l("Connection","Not sending because WebChannel is closed:",t):(h||(l("Connection","Opening WebChannel transport."),c.open(),h=!0),l("Connection","WebChannel sending:",t),c.send(t))},J:function(){return c.close()}}),v=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return v(c,i.e.EventType.OPEN,(function(){d||l("Connection","WebChannel transport opened.")})),v(c,i.e.EventType.CLOSE,(function(){d||(d=!0,l("Connection","WebChannel transport closed"),g.st())})),v(c,i.e.EventType.ERROR,(function(t){d||(d=!0,p("Connection","WebChannel transport errored:",t),g.st(new _(E.UNAVAILABLE,"The operation could not be completed")))})),v(c,i.e.EventType.MESSAGE,(function(t){var e;if(!d){var n=t.data[0];f(!!n);var r=n,o=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(o){l("Connection","WebChannel received error:",o);var i=o.status,s=function(t){var e=H[t];if(void 0!==e)return q(e)}(i),a=o.message;void 0===s&&(s=E.INTERNAL,a="Unknown error status: "+i+" with message "+o.message),d=!0,g.st(new _(s,a)),c.close()}else l("Connection","WebChannel received:",n),g.it(n)}})),v(s,i.b.STAT_EVENT,(function(t){t.stat===i.d.PROXY?l("Connection","Detected buffering proxy"):t.stat===i.d.NOPROXY&&l("Connection","Detected no buffering proxy")})),setTimeout((function(){g.nt()}),0),g},e}(function(){function t(t){this.rt=t,this.O=t.O;var e=t.ssl?"https":"http";this.ot=e+"://"+t.host,this.ct="projects/"+this.O.projectId+"/databases/"+this.O.database+"/documents"}return t.prototype.at=function(t,e,n,r){var o=this.ut(t,e);l("RestConnection","Sending: ",o,n);var i={};return this.ht(i,r),this.lt(t,o,i,n).then((function(t){return l("RestConnection","Received: ",t),t}),(function(e){throw p("RestConnection",t+" failed with error: ",e,"url: ",o,"request:",n),e}))},t.prototype._t=function(t,e,n,r){return this.at(t,e,n,r)},t.prototype.ht=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.0",t["Content-Type"]="text/plain",e)for(var n in e.R)e.R.hasOwnProperty(n)&&(t[n]=e.R[n])},t.prototype.ut=function(t,e){var n=U[t];return this.ot+"/v1/"+e+":"+n},t}()),X=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new _(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.dt=function(t){return this.seconds===t.seconds?m(this.nanoseconds,t.nanoseconds):m(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),$=function(){function t(t){this.timestamp=t}return t.wt=function(e){return new t(e)},t.min=function(){return new t(new X(0,0))},t.prototype.u=function(t){return this.timestamp.dt(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.Et=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.Tt=function(){return this.timestamp},t}(),J=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&d(),void 0===n?n=t.length-e:n>t.length-e&&d(),this.segments=t,this.offset=e,this.It=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.It},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.At(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Rt(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Pt=function(t){return t=void 0===t?1:t,this.Rt(this.segments,this.offset+t,this.length-t)},t.prototype.yt=function(){return this.Rt(this.segments,this.offset,this.length-1)},t.prototype.gt=function(){return this.segments[this.offset]},t.prototype.Vt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.bt=function(){return 0===this.length},t.prototype.vt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.St=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.Dt=function(){return this.segments.slice(this.offset,this.limit())},t.At=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var o=t.get(r),i=e.get(r);if(o<i)return-1;if(o>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype.Rt=function(t,n,r){return new e(t,n,r)},e.prototype.Ct=function(){return this.Dt().join("/")},e.prototype.toString=function(){return this.Ct()},e.xt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],o=0,i=t;o<i.length;o++){var s=i[o];if(s.indexOf("//")>=0)throw new _(E.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.Nt=function(){return new e([])},e}(J),tt=/^[_a-zA-Z][_a-zA-Z0-9]*$/,et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype.Rt=function(t,n,r){return new e(t,n,r)},e.Ft=function(t){return tt.test(t)},e.prototype.Ct=function(){return this.Dt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.Ft(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.Ct()},e.prototype.Ot=function(){return 1===this.length&&"__name__"===this.get(0)},e.kt=function(){return new e(["__name__"])},e.Mt=function(t){for(var n=[],r="",o=0,i=function(){if(0===r.length)throw new _(E.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;o<t.length;){var a=t[o];if("\\"===a){if(o+1===t.length)throw new _(E.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[o+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new _(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,o+=2}else"`"===a?(s=!s,o++):"."!==a||s?(r+=a,o++):(i(),o++)}if(i(),s)throw new _(E.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.Nt=function(){return new e([])},e}(J),nt=function(){function t(t){this.path=t}return t.Lt=function(e){return new t(Z.xt(e))},t.$t=function(e){return new t(Z.xt(e).Pt(5))},t.prototype.Bt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Z.At(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.At=function(t,e){return Z.At(t.path,e.path)},t.qt=function(t){return t.length%2==0},t.Ut=function(e){return new t(new Z(e.slice()))},t}();function rt(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ot(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function it(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var st=function(){function t(t){this.fields=t,t.sort(et.At)}return t.prototype.Qt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].vt(t))return!0;return!1},t.prototype.isEqual=function(t){return b(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),at=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ut(t){if(f(!!t),"string"==typeof t){var e=0,n=at.exec(t);if(f(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var o=new Date(t);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ct(t){return"string"==typeof t?C.fromBase64String(t):C.fromUint8Array(t)}function pt(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ht(t){var e=ut(t.mapValue.fields.__local_write_time__.timestampValue);return new X(e.seconds,e.nanos)}function dt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pt(t)?4:10:d()}function ft(t,e){var n=dt(t);if(n!==dt(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ht(t).isEqual(ht(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ut(t.timestampValue),r=ut(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ct(t.bytesValue).isEqual(ct(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return lt(t.geoPointValue.latitude)===lt(e.geoPointValue.latitude)&&lt(t.geoPointValue.longitude)===lt(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return lt(t.integerValue)===lt(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=lt(t.doubleValue),r=lt(e.doubleValue);return n===r?G(n)===G(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return b(t.arrayValue.values||[],e.arrayValue.values||[],ft);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(rt(n)!==rt(r))return!1;for(var o in n)if(n.hasOwnProperty(o)&&(void 0===r[o]||!ft(n[o],r[o])))return!1;return!0}(t,e);default:return d()}}function gt(t,e){return void 0!==(t.values||[]).find((function(t){return ft(t,e)}))}function vt(t,e){var n=dt(t),r=dt(e);if(n!==r)return m(n,r);switch(n){case 0:return 0;case 1:return m(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=lt(t.integerValue||t.doubleValue),r=lt(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return yt(t.timestampValue,e.timestampValue);case 4:return yt(ht(t),ht(e));case 5:return m(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ct(t),r=ct(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),o=0;o<n.length&&o<r.length;o++){var i=m(n[o],r[o]);if(0!==i)return i}return m(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=m(lt(t.latitude),lt(e.latitude));return 0!==n?n:m(lt(t.longitude),lt(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],o=0;o<n.length&&o<r.length;++o){var i=vt(n[o],r[o]);if(i)return i}return m(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),o=e.fields||{},i=Object.keys(o);r.sort(),i.sort();for(var s=0;s<r.length&&s<i.length;++s){var a=m(r[s],i[s]);if(0!==a)return a;var u=vt(n[r[s]],o[i[s]]);if(0!==u)return u}return m(r.length,i.length)}(t.mapValue,e.mapValue);default:throw d()}}function yt(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return m(t,e);var n=ut(t),r=ut(e),o=m(n.seconds,r.seconds);return 0!==o?o:m(n.nanos,r.nanos)}function mt(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=ut(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ct(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,nt.$t(r).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,o=0,i=e.values||[];o<i.length;o++)r?r=!1:n+=",",n+=t(i[o]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,o=0,i=Object.keys(e.fields||{}).sort();o<i.length;o++){var s=i[o];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):d();var n,r}(t)}function bt(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.Ct()}}function wt(t){return!!t&&"integerValue"in t}function Ct(t){return!!t&&"arrayValue"in t}function Et(t){return!!t&&"nullValue"in t}function _t(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ot(t){return!!t&&"mapValue"in t}var Rt=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.bt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Ot(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.Vt()])||null},t.prototype.isEqual=function(t){return ft(this.proto,t.proto)},t}(),St=function(){function t(t){void 0===t&&(t=Rt.empty()),this.Kt=t,this.Wt=new Map}return t.prototype.set=function(t,e){return this.jt(t,e),this},t.prototype.delete=function(t){return this.jt(t,null),this},t.prototype.jt=function(t,e){for(var n=this.Wt,r=0;r<t.length-1;++r){var o=t.get(r),i=n.get(o);i instanceof Map?n=i:i&&10===dt(i)?(i=new Map(Object.entries(i.mapValue.fields||{})),n.set(o,i),n=i):(i=new Map,n.set(o,i),n=i)}n.set(t.Vt(),e)},t.prototype.Gt=function(){var t=this.zt(et.Nt(),this.Wt);return null!=t?new Rt(t):this.Kt},t.prototype.zt=function(t,e){var n=this,r=!1,o=this.Kt.field(t),i=Ot(o)?Object.assign({},o.mapValue.fields):{};return e.forEach((function(e,o){if(e instanceof Map){var s=n.zt(t.child(o),e);null!=s&&(i[o]=s,r=!0)}else null!==e?(i[o]=e,r=!0):i.hasOwnProperty(o)&&(delete i[o],r=!0)})),r?{mapValue:{fields:i}}:null},t}();function Tt(t){var e=[];return ot(t.fields||{},(function(t,n){var r=new et([t]);if(Ot(n)){var o=Tt(n.mapValue).fields;if(0===o.length)e.push(r);else for(var i=0,s=o;i<s.length;i++){var a=s[i];e.push(r.child(a))}}else e.push(r)})),new st(e)}var Pt=function(t,e){this.key=t,this.version=e},At=function(t){function e(e,n,r,o){var i=this;return(i=t.call(this,e,n)||this).Ht=r,i.Jt=!!o.Jt,i.hasCommittedMutations=!!o.hasCommittedMutations,i}return Object(s.c)(e,t),e.prototype.field=function(t){return this.Ht.field(t)},e.prototype.data=function(){return this.Ht},e.prototype.Yt=function(){return this.Ht.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Jt===t.Jt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Ht.isEqual(t.Ht)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Ht.toString()+", {hasLocalMutations: "+this.Jt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Jt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Pt),It=function(t){function e(e,n,r){var o=this;return(o=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),o}return Object(s.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Pt),Dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Pt),Nt=function(t,e,n,r,o,i,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===i&&(i=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=s,this.Xt=null};function xt(t,e,n,r,o,i,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===i&&(i=null),void 0===s&&(s=null),new Nt(t,e,n,r,o,i,s)}function kt(t){var e=g(t);if(null===e.Xt){var n=e.path.Ct();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.Ct()+t.op.toString()+mt(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.Ct()+t.dir}(t)})).join(","),V(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Kt(e.startAt)),e.endAt&&(n+="|ub:",n+=Kt(e.endAt)),e.Xt=n}return e.Xt}function Lt(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Qt(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(o=t.filters[r],i=e.filters[r],o.op!==i.op||!o.field.isEqual(i.field)||!ft(o.value,i.value))return!1;var o,i;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$t(t.startAt,e.startAt)&&$t(t.endAt,e.endAt)}function Ft(t){return nt.qt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Mt=function(t){function e(e,n,r){var o=this;return(o=t.call(this)||this).field=e,o.op=n,o.value=r,o}return Object(s.c)(e,t),e.create=function(t,n,r){return t.Ot()?"in"===n||"not-in"===n?this.Zt(t,n,r):new jt(t,n,r):"array-contains"===n?new Ht(t,r):"in"===n?new Bt(t,r):"not-in"===n?new Ut(t,r):"array-contains-any"===n?new zt(t,r):new e(t,n,r)},e.Zt=function(t,e,n){return"in"===e?new Vt(t,n):new Gt(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.te(vt(e,this.value)):null!==e&&dt(this.value)===dt(e)&&this.te(vt(e,this.value))},e.prototype.te=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return d()}},e.prototype.ee=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),jt=function(t){function e(e,n,r){var o=this;return(o=t.call(this,e,n,r)||this).key=nt.$t(r.referenceValue),o}return Object(s.c)(e,t),e.prototype.matches=function(t){var e=nt.At(t.key,this.key);return this.te(e)},e}(Mt),Vt=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Wt("in",n),r}return Object(s.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Mt),Gt=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Wt("not-in",n),r}return Object(s.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Mt);function Wt(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return nt.$t(t.referenceValue)}))}var Ht=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(s.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Ct(e)&&gt(e.arrayValue,this.value)},e}(Mt),Bt=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(s.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&gt(this.value.arrayValue,e)},e}(Mt),Ut=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(s.c)(e,t),e.prototype.matches=function(t){if(gt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!gt(this.value.arrayValue,e)},e}(Mt),zt=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(s.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Ct(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return gt(e.value.arrayValue,t)}))},e}(Mt),qt=function(t,e){this.position=t,this.before=e};function Kt(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return mt(t)})).join(",")}var Yt=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Qt(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Xt(t,e,n){for(var r=0,o=0;o<t.position.length;o++){var i=e[o],s=t.position[o];if(r=i.field.Ot()?nt.At(nt.$t(s.referenceValue),n.key):vt(s,n.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function $t(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ft(t.position[n],e.position[n]))return!1;return!0}var Jt=function(t,e,n,r,o,i,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===i&&(i="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.ne=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=s,this.endAt=a,this.se=null,this.ie=null,this.startAt,this.endAt};function Zt(t,e,n,r,o,i,s,a){return new Jt(t,e,n,r,o,i,s,a)}function te(t){return new Jt(t)}function ee(t){return!V(t.limit)&&"F"===t.limitType}function ne(t){return!V(t.limit)&&"L"===t.limitType}function re(t){return t.ne.length>0?t.ne[0].field:null}function oe(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.ee())return r.field}return null}function ie(t){return null!==t.collectionGroup}function se(t){var e=g(t);if(null===e.se){e.se=[];var n=oe(e),r=re(e);if(null!==n&&null===r)n.Ot()||e.se.push(new Yt(n)),e.se.push(new Yt(et.kt(),"asc"));else{for(var o=!1,i=0,s=e.ne;i<s.length;i++){var a=s[i];e.se.push(a),a.field.Ot()&&(o=!0)}if(!o){var u=e.ne.length>0?e.ne[e.ne.length-1].dir:"asc";e.se.push(new Yt(et.kt(),u))}}}return e.se}function ae(t){var e=g(t);if(!e.ie)if("F"===e.limitType)e.ie=xt(e.path,e.collectionGroup,se(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,o=se(e);r<o.length;r++){var i=o[r],s="desc"===i.dir?"asc":"desc";n.push(new Yt(i.field,s))}var a=e.endAt?new qt(e.endAt.position,!e.endAt.before):null,u=e.startAt?new qt(e.startAt.position,!e.startAt.before):null;e.ie=xt(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.ie}function ue(t,e,n){return new Jt(t.path,t.collectionGroup,t.ne.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function le(t,e){return Lt(ae(t),ae(e))&&t.limitType===e.limitType}function ce(t){return kt(ae(t))+"|lt:"+t.limitType}function pe(t){return"Query(target="+function(t){var e=t.path.Ct();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.Ct()+" "+e.op+" "+mt(e.value);var e})).join(", ")+"]"),V(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.Ct()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Kt(t.startAt)),t.endAt&&(e+=", endAt: "+Kt(t.endAt)),"Target("+e+")"}(ae(t))+"; limitType="+t.limitType+")"}function he(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.Bt(t.collectionGroup)&&t.path.vt(n):nt.qt(t.path)?t.path.isEqual(n):t.path.St(n)}(t,e)&&function(t,e){for(var n=0,r=t.ne;n<r.length;n++){var o=r[n];if(!o.field.Ot()&&null===e.field(o.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Xt(t.startAt,se(t),e))&&(!t.endAt||!Xt(t.endAt,se(t),e))}(t,e)}function de(t){return function(e,n){for(var r=!1,o=0,i=se(t);o<i.length;o++){var s=i[o],a=fe(s,e,n);if(0!==a)return a;r=r||s.field.Ot()}return 0}}function fe(t,e,n){var r=t.field.Ot()?nt.At(e.key,n.key):function(t,e,n){var r=e.field(t),o=n.field(t);return null!==r&&null!==o?vt(r,o):d()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return d()}}var ge=function(){function t(t,e,n,r,o,i,s){void 0===o&&(o=$.min()),void 0===i&&(i=$.min()),void 0===s&&(s=C.h),this.target=t,this.targetId=e,this.re=n,this.sequenceNumber=r,this.oe=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s}return t.prototype.ce=function(e){return new t(this.target,this.targetId,this.re,e,this.oe,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.ae=function(e,n){return new t(this.target,this.targetId,this.re,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.ue=function(e){return new t(this.target,this.targetId,this.re,this.sequenceNumber,this.oe,e,this.resumeToken)},t}();function ve(t,e){if(t.he){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:G(e)?"-0":e}}function ye(t){return{integerValue:""+t}}function me(t,e){return W(e)?ye(e):ve(t,e)}var be=function(){this.le=void 0};function we(t,e,n){return t instanceof _e?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Oe?Re(t,e):t instanceof Se?Te(t,e):function(t,e){var n=Ee(t,e),r=Ae(n)+Ae(t._e);return wt(n)&&wt(t._e)?ye(r):ve(t.fe,r)}(t,e)}function Ce(t,e,n){return t instanceof Oe?Re(t,e):t instanceof Se?Te(t,e):n}function Ee(t,e){return t instanceof Pe?wt(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var _e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e}(be),Oe=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(s.c)(e,t),e}(be);function Re(t,e){for(var n=Ie(e),r=function(t){n.some((function(e){return ft(e,t)}))||n.push(t)},o=0,i=t.elements;o<i.length;o++)r(i[o]);return{arrayValue:{values:n}}}var Se=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(s.c)(e,t),e}(be);function Te(t,e){for(var n=Ie(e),r=function(t){n=n.filter((function(e){return!ft(e,t)}))},o=0,i=t.elements;o<i.length;o++)r(i[o]);return{arrayValue:{values:n}}}var Pe=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).fe=e,r._e=n,r}return Object(s.c)(e,t),e}(be);function Ae(t){return lt(t.integerValue||t.doubleValue)}function Ie(t){return Ct(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var De=function(t,e){this.field=t,this.transform=e},Ne=function(t,e){this.version=t,this.transformResults=e},xe=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.de=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"we",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ke(t,e){return void 0!==t.updateTime?e instanceof At&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof At}var Le=function(){};function Fe(t,e,n){return t instanceof We?function(t,e,n){var r=t.value;if(n.transformResults){var o=Ue(t.fieldTransforms,e,n.transformResults);r=qe(t.fieldTransforms,r,o)}return new At(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof He?function(t,e,n){if(!ke(t.Ee,e))return new Dt(t.key,n.version);var r=Be(t,e,n.transformResults?Ue(t.fieldTransforms,e,n.transformResults):[]);return new At(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new It(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Me(t,e,n,r){return t instanceof We?function(t,e,n,r){if(!ke(t.Ee,e))return e;var o=t.value;if(t.fieldTransforms){var i=ze(t.fieldTransforms,n,e,r);o=qe(t.fieldTransforms,o,i)}var s=Ge(e);return new At(t.key,s,o,{Jt:!0})}(t,e,r,n):t instanceof He?function(t,e,n,r){if(!ke(t.Ee,e))return e;var o=Ge(e),i=Be(t,e,ze(t.fieldTransforms,n,e,r));return new At(t.key,o,i,{Jt:!0})}(t,e,r,n):function(t,e){return ke(t.Ee,e)?new It(t.key,$.min()):e}(t,e)}function je(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,o=t;r<o.length;r++){var i=o[r],s=e instanceof At?e.field(i.field):void 0,a=Ee(i.transform,s||null);null!=a&&(n=null==n?(new St).set(i.field,a):n.set(i.field,a))}return n?n.Gt():null}(t.fieldTransforms,e):null}function Ve(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ee.isEqual(e.Ee)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&b(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Oe&&e instanceof Oe||t instanceof Se&&e instanceof Se?b(t.elements,e.elements,ft):t instanceof Pe&&e instanceof Pe?ft(t._e,e._e):t instanceof _e&&e instanceof _e}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Te.isEqual(e.Te))}function Ge(t){return t instanceof At?t.version:$.min()}var We=function(t){function e(e,n,r,o){void 0===o&&(o=[]);var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ee=r,i.fieldTransforms=o,i.type=0,i}return Object(s.c)(e,t),e}(Le),He=function(t){function e(e,n,r,o,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Te=r,s.Ee=o,s.fieldTransforms=i,s.type=1,s}return Object(s.c)(e,t),e}(Le);function Be(t,e,n){var r;return r=function(t,e){var n=new St(e);return t.Te.fields.forEach((function(e){if(!e.bt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Gt()}(t,r=e instanceof At?e.data():Rt.empty()),qe(t.fieldTransforms,r,n)}function Ue(t,e,n){var r=[];f(t.length===n.length);for(var o=0;o<n.length;o++){var i=t[o],s=i.transform,a=null;e instanceof At&&(a=e.field(i.field)),r.push(Ce(s,a,n[o]))}return r}function ze(t,e,n,r){for(var o=[],i=0,s=t;i<s.length;i++){var a=s[i],u=a.transform,l=null;n instanceof At&&(l=n.field(a.field)),null===l&&r instanceof At&&(l=r.field(a.field)),o.push(we(u,l,e))}return o}function qe(t,e,n){for(var r=new St(e),o=0;o<t.length;o++){var i=t[o];r.set(i.field,n[o])}return r.Gt()}var Ke=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ee=n,r.type=2,r.fieldTransforms=[],r}return Object(s.c)(e,t),e}(Le),Ye=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ee=n,r.type=3,r.fieldTransforms=[],r}return Object(s.c)(e,t),e}(Le),Qe=function(t){this.count=t},Xe=function(){function t(t,e){this.At=t,this.root=e||Je.EMPTY}return t.prototype.Ie=function(e,n){return new t(this.At,this.root.Ie(e,n,this.At).copy(null,null,Je.me,null,null))},t.prototype.remove=function(e){return new t(this.At,this.root.remove(e,this.At).copy(null,null,Je.me,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.bt();){var n=this.At(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.bt();){var r=this.At(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.bt=function(){return this.root.bt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Ae=function(){return this.root.Ae()},t.prototype.Re=function(){return this.root.Re()},t.prototype.Pe=function(t){return this.root.Pe(t)},t.prototype.forEach=function(t){this.Pe((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Pe((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ye=function(t){return this.root.ye(t)},t.prototype.ge=function(){return new $e(this.root,null,this.At,!1)},t.prototype.Ve=function(t){return new $e(this.root,t,this.At,!1)},t.prototype.pe=function(){return new $e(this.root,null,this.At,!0)},t.prototype.be=function(t){return new $e(this.root,t,this.At,!0)},t}(),$e=function(){function t(t,e,n,r){this.ve=r,this.Se=[];for(var o=1;!t.bt();)if(o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.ve?t.left:t.right;else{if(0===o){this.Se.push(t);break}this.Se.push(t),t=this.ve?t.right:t.left}}return t.prototype.De=function(){var t=this.Se.pop(),e={key:t.key,value:t.value};if(this.ve)for(t=t.left;!t.bt();)this.Se.push(t),t=t.right;else for(t=t.right;!t.bt();)this.Se.push(t),t=t.left;return e},t.prototype.Ce=function(){return this.Se.length>0},t.prototype.xe=function(){if(0===this.Se.length)return null;var t=this.Se[this.Se.length-1];return{key:t.key,value:t.value}},t}(),Je=function(){function t(e,n,r,o,i){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=o?o:t.EMPTY,this.right=null!=i?i:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,o,i){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=i?i:this.right)},t.prototype.bt=function(){return!1},t.prototype.Pe=function(t){return this.left.Pe(t)||t(this.key,this.value)||this.right.Pe(t)},t.prototype.ye=function(t){return this.right.ye(t)||t(this.key,this.value)||this.left.ye(t)},t.prototype.min=function(){return this.left.bt()?this:this.left.min()},t.prototype.Ae=function(){return this.min().key},t.prototype.Re=function(){return this.right.bt()?this.key:this.right.Re()},t.prototype.Ie=function(t,e,n){var r=this,o=n(t,r.key);return(r=o<0?r.copy(null,null,null,r.left.Ie(t,e,n),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ie(t,e,n))).Ne()},t.prototype.Fe=function(){if(this.left.bt())return t.EMPTY;var e=this;return e.left.Oe()||e.left.left.Oe()||(e=e.ke()),(e=e.copy(null,null,null,e.left.Fe(),null)).Ne()},t.prototype.remove=function(e,n){var r,o=this;if(n(e,o.key)<0)o.left.bt()||o.left.Oe()||o.left.left.Oe()||(o=o.ke()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.Oe()&&(o=o.Me()),o.right.bt()||o.right.Oe()||o.right.left.Oe()||(o=o.Le()),0===n(e,o.key)){if(o.right.bt())return t.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.Fe())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.Ne()},t.prototype.Oe=function(){return this.color},t.prototype.Ne=function(){var t=this;return t.right.Oe()&&!t.left.Oe()&&(t=t.$e()),t.left.Oe()&&t.left.left.Oe()&&(t=t.Me()),t.left.Oe()&&t.right.Oe()&&(t=t.Be()),t},t.prototype.ke=function(){var t=this.Be();return t.right.left.Oe()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Me())).$e()).Be()),t},t.prototype.Le=function(){var t=this.Be();return t.left.left.Oe()&&(t=(t=t.Me()).Be()),t},t.prototype.$e=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Me=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Be=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.qe=function(){var t=this.Ue();return Math.pow(2,t)<=this.size+1},t.prototype.Ue=function(){if(this.Oe()&&this.left.Oe())throw d();if(this.right.Oe())throw d();var t=this.left.Ue();if(t!==this.right.Ue())throw d();return t+(this.Oe()?0:1)},t}();Je.EMPTY=null,Je.RED=!0,Je.me=!1,Je.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw d()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw d()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw d()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw d()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw d()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,o){return this},t.prototype.Ie=function(t,e,n){return new Je(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.bt=function(){return!0},t.prototype.Pe=function(t){return!1},t.prototype.ye=function(t){return!1},t.prototype.Ae=function(){return null},t.prototype.Re=function(){return null},t.prototype.Oe=function(){return!1},t.prototype.qe=function(){return!0},t.prototype.Ue=function(){return 0},t}());var Ze=function(){function t(t){this.At=t,this.data=new Xe(this.At)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Ae()},t.prototype.last=function(){return this.data.Re()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pe((function(e,n){return t(e),!1}))},t.prototype.Qe=function(t,e){for(var n=this.data.Ve(t[0]);n.Ce();){var r=n.De();if(this.At(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ke=function(t,e){var n;for(n=void 0!==e?this.data.Ve(e):this.data.ge();n.Ce();)if(!t(n.De().key))return},t.prototype.We=function(t){var e=this.data.Ve(t);return e.Ce()?e.De().key:null},t.prototype.ge=function(){return new tn(this.data.ge())},t.prototype.Ve=function(t){return new tn(this.data.Ve(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ie(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.bt=function(){return this.data.bt()},t.prototype.je=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ge(),r=e.data.ge();n.Ce();){var o=n.De().key,i=r.De().key;if(0!==this.At(o,i))return!1}return!0},t.prototype.Dt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.At);return n.data=e,n},t}(),tn=function(){function t(t){this.Ge=t}return t.prototype.De=function(){return this.Ge.De().key},t.prototype.Ce=function(){return this.Ge.Ce()},t}(),en=new Xe(nt.At);function nn(){return en}function rn(){return nn()}var on=new Xe(nt.At);function sn(){return on}var an=new Xe(nt.At);function un(){return an}var ln=new Ze(nt.At);function cn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ln,r=0,o=t;r<o.length;r++){var i=o[r];n=n.add(i)}return n}var pn=new Ze(m);function hn(){return pn}var dn=function(){function t(t){this.At=t?function(e,n){return t(e,n)||nt.At(e.key,n.key)}:function(t,e){return nt.At(t.key,e.key)},this.ze=sn(),this.He=new Xe(this.At)}return t.Je=function(e){return new t(e.At)},t.prototype.has=function(t){return null!=this.ze.get(t)},t.prototype.get=function(t){return this.ze.get(t)},t.prototype.first=function(){return this.He.Ae()},t.prototype.last=function(){return this.He.Re()},t.prototype.bt=function(){return this.He.bt()},t.prototype.indexOf=function(t){var e=this.ze.get(t);return e?this.He.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.He.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.He.Pe((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ze.Ie(t.key,t),e.He.Ie(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ze.remove(t),this.He.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.He.ge(),r=e.He.ge();n.Ce();){var o=n.De().key,i=r.De().key;if(!o.isEqual(i))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.At=this.At,r.ze=e,r.He=n,r},t}(),fn=function(){function t(){this.Ye=new Xe(nt.At)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Ye.get(e);n?0!==t.type&&3===n.type?this.Ye=this.Ye.Ie(e,t):3===t.type&&1!==n.type?this.Ye=this.Ye.Ie(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Ye=this.Ye.Ie(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Ye=this.Ye.Ie(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Ye=this.Ye.remove(e):1===t.type&&2===n.type?this.Ye=this.Ye.Ie(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Ye=this.Ye.Ie(e,{type:2,doc:t.doc}):d():this.Ye=this.Ye.Ie(e,t)},t.prototype.Xe=function(){var t=[];return this.Ye.Pe((function(e,n){t.push(n)})),t},t}(),gn=function(){function t(t,e,n,r,o,i,s,a){this.query=t,this.docs=e,this.Ze=n,this.docChanges=r,this.tn=o,this.fromCache=i,this.en=s,this.nn=a}return t.sn=function(e,n,r,o){var i=[];return n.forEach((function(t){i.push({type:0,doc:t})})),new t(e,n,dn.Je(n),i,r,o,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.tn.bt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.en===t.en&&this.tn.isEqual(t.tn)&&le(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ze.isEqual(t.Ze)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),vn=function(){function t(t,e,n,r,o){this.oe=t,this.rn=e,this.on=n,this.cn=r,this.an=o}return t.un=function(e,n){var r=new Map;return r.set(e,yn.hn(e,n)),new t($.min(),r,hn(),nn(),cn())},t}(),yn=function(){function t(t,e,n,r,o){this.resumeToken=t,this.ln=e,this._n=n,this.fn=r,this.dn=o}return t.hn=function(e,n){return new t(C.h,n,cn(),cn(),cn())},t}(),mn=function(t,e,n,r){this.wn=t,this.removedTargetIds=e,this.key=n,this.En=r},bn=function(t,e){this.targetId=t,this.Tn=e},wn=function(t,e,n,r){void 0===n&&(n=C.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Cn=function(){function t(){this.In=0,this.mn=On(),this.An=C.h,this.Rn=!1,this.Pn=!0}return Object.defineProperty(t.prototype,"ln",{get:function(){return this.Rn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.An},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yn",{get:function(){return 0!==this.In},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gn",{get:function(){return this.Pn},enumerable:!1,configurable:!0}),t.prototype.Vn=function(t){t.o()>0&&(this.Pn=!0,this.An=t)},t.prototype.pn=function(){var t=cn(),e=cn(),n=cn();return this.mn.forEach((function(r,o){switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:d()}})),new yn(this.An,this.Rn,t,e,n)},t.prototype.bn=function(){this.Pn=!1,this.mn=On()},t.prototype.vn=function(t,e){this.Pn=!0,this.mn=this.mn.Ie(t,e)},t.prototype.Sn=function(t){this.Pn=!0,this.mn=this.mn.remove(t)},t.prototype.Dn=function(){this.In+=1},t.prototype.Cn=function(){this.In-=1},t.prototype.xn=function(){this.Pn=!0,this.Rn=!0},t}(),En=function(){function t(t){this.Nn=t,this.Fn=new Map,this.On=nn(),this.kn=_n(),this.Mn=new Ze(m)}return t.prototype.Ln=function(t){for(var e=0,n=t.wn;e<n.length;e++){var r=n[e];t.En instanceof At?this.$n(r,t.En):t.En instanceof It&&this.Bn(r,t.key,t.En)}for(var o=0,i=t.removedTargetIds;o<i.length;o++)r=i[o],this.Bn(r,t.key,t.En)},t.prototype.qn=function(t){var e=this;this.Un(t,(function(n){var r=e.Qn(n);switch(t.state){case 0:e.Kn(n)&&r.Vn(t.resumeToken);break;case 1:r.Cn(),r.yn||r.bn(),r.Vn(t.resumeToken);break;case 2:r.Cn(),r.yn||e.removeTarget(n);break;case 3:e.Kn(n)&&(r.xn(),r.Vn(t.resumeToken));break;case 4:e.Kn(n)&&(e.Wn(n),r.Vn(t.resumeToken));break;default:d()}}))},t.prototype.Un=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fn.forEach((function(t,r){n.Kn(r)&&e(r)}))},t.prototype.jn=function(t){var e=t.targetId,n=t.Tn.count,r=this.Gn(e);if(r){var o=r.target;if(Ft(o))if(0===n){var i=new nt(o.path);this.Bn(e,i,new It(i,$.min()))}else f(1===n);else this.zn(e)!==n&&(this.Wn(e),this.Mn=this.Mn.add(e))}},t.prototype.Hn=function(t){var e=this,n=new Map;this.Fn.forEach((function(r,o){var i=e.Gn(o);if(i){if(r.ln&&Ft(i.target)){var s=new nt(i.target.path);null!==e.On.get(s)||e.Jn(o,s)||e.Bn(o,s,new It(s,t))}r.gn&&(n.set(o,r.pn()),r.bn())}}));var r=cn();this.kn.forEach((function(t,n){var o=!0;n.Ke((function(t){var n=e.Gn(t);return!n||2===n.re||(o=!1,!1)})),o&&(r=r.add(t))}));var o=new vn(t,n,this.Mn,this.On,r);return this.On=nn(),this.kn=_n(),this.Mn=new Ze(m),o},t.prototype.$n=function(t,e){if(this.Kn(t)){var n=this.Jn(t,e.key)?2:0;this.Qn(t).vn(e.key,n),this.On=this.On.Ie(e.key,e),this.kn=this.kn.Ie(e.key,this.Yn(e.key).add(t))}},t.prototype.Bn=function(t,e,n){if(this.Kn(t)){var r=this.Qn(t);this.Jn(t,e)?r.vn(e,1):r.Sn(e),this.kn=this.kn.Ie(e,this.Yn(e).delete(t)),n&&(this.On=this.On.Ie(e,n))}},t.prototype.removeTarget=function(t){this.Fn.delete(t)},t.prototype.zn=function(t){var e=this.Qn(t).pn();return this.Nn.Xn(t).size+e._n.size-e.dn.size},t.prototype.Dn=function(t){this.Qn(t).Dn()},t.prototype.Qn=function(t){var e=this.Fn.get(t);return e||(e=new Cn,this.Fn.set(t,e)),e},t.prototype.Yn=function(t){var e=this.kn.get(t);return e||(e=new Ze(m),this.kn=this.kn.Ie(t,e)),e},t.prototype.Kn=function(t){var e=null!==this.Gn(t);return e||l("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Gn=function(t){var e=this.Fn.get(t);return e&&e.yn?null:this.Nn.Zn(t)},t.prototype.Wn=function(t){var e=this;this.Fn.set(t,new Cn),this.Nn.Xn(t).forEach((function(n){e.Bn(t,n,null)}))},t.prototype.Jn=function(t,e){return this.Nn.Xn(t).has(e)},t}();function _n(){return new Xe(nt.At)}function On(){return new Xe(nt.At)}var Rn={asc:"ASCENDING",desc:"DESCENDING"},Sn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tn=function(t,e){this.O=t,this.he=e};function Pn(t,e){return t.he?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function An(t,e){return t.he?e.toBase64():e.toUint8Array()}function In(t,e){return Pn(t,e.Tt())}function Dn(t){return f(!!t),$.wt(function(t){var e=ut(t);return new X(e.seconds,e.nanos)}(t))}function Nn(t,e){return function(t){return new Z(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).Ct()}function xn(t){var e=Z.xt(t);return f(nr(e)),e}function kn(t,e){return Nn(t.O,e.path)}function Ln(t,e){var n=xn(e);if(n.get(1)!==t.O.projectId)throw new _(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.O.projectId);if(n.get(3)!==t.O.database)throw new _(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.O.database);return new nt(Vn(n))}function Fn(t,e){return Nn(t.O,e)}function Mn(t){var e=xn(t);return 4===e.length?Z.Nt():Vn(e)}function jn(t){return new Z(["projects",t.O.projectId,"databases",t.O.database]).Ct()}function Vn(t){return f(t.length>4&&"documents"===t.get(4)),t.Pt(5)}function Gn(t,e,n){return{name:kn(t,e),fields:n.proto.mapValue.fields}}function Wn(t,e,n){var r=Ln(t,e.name),o=Dn(e.updateTime),i=new Rt({mapValue:{fields:e.fields}});return new At(r,o,i,{hasCommittedMutations:!!n})}function Hn(t,e){var n;if(e instanceof We)n={update:Gn(t,e.key,e.value)};else if(e instanceof Ke)n={delete:kn(t,e.key)};else if(e instanceof He)n={update:Gn(t,e.key,e.data),updateMask:er(e.Te)};else{if(!(e instanceof Ye))return d();n={verify:kn(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof _e)return{fieldPath:e.field.Ct(),setToServerValue:"REQUEST_TIME"};if(n instanceof Oe)return{fieldPath:e.field.Ct(),appendMissingElements:{values:n.elements}};if(n instanceof Se)return{fieldPath:e.field.Ct(),removeAllFromArray:{values:n.elements}};if(n instanceof Pe)return{fieldPath:e.field.Ct(),increment:n._e};throw d()}(0,t)}))),e.Ee.we||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:In(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:d()}(t,e.Ee)),n}function Bn(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?xe.updateTime(Dn(t.updateTime)):void 0!==t.exists?xe.exists(t.exists):xe.de()}(e.currentDocument):xe.de(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)f("REQUEST_TIME"===e.setToServerValue),n=new _e;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Oe(r)}else if("removeAllFromArray"in e){var o=e.removeAllFromArray.values||[];n=new Se(o)}else"increment"in e?n=new Pe(t,e.increment):d();var i=et.Mt(e.fieldPath);return new De(i,n)}(t,e)})):[];if(e.update){e.update.name;var o=Ln(t,e.update.name),i=new Rt({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){var e=t.fieldPaths||[];return new st(e.map((function(t){return et.Mt(t)})))}(e.updateMask);return new He(o,i,s,n,r)}return new We(o,i,n,r)}if(e.delete){var a=Ln(t,e.delete);return new Ke(a,n)}if(e.verify){var u=Ln(t,e.verify);return new Ye(u,n)}return d()}function Un(t,e){return{documents:[Fn(t,e.path)]}}function zn(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Fn(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Fn(t,r.yt()),n.structuredQuery.from=[{collectionId:r.Vt()}]);var o=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(_t(t.value))return{unaryFilter:{field:$n(t.field),op:"IS_NAN"}};if(Et(t.value))return{unaryFilter:{field:$n(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(_t(t.value))return{unaryFilter:{field:$n(t.field),op:"IS_NOT_NAN"}};if(Et(t.value))return{unaryFilter:{field:$n(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$n(t.field),op:Xn(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);o&&(n.structuredQuery.where=o);var i=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:$n(t.field),direction:Qn(t.dir)}}(t)}))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);var s=function(t,e){return t.he||V(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Kn(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Kn(e.endAt)),n}function qn(t){var e=Mn(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){f(1===r);var i=n.from[0];i.allDescendants?o=i.collectionId:e=e.child(i.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[tr(e)]:void 0!==e.fieldFilter?[Zn(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):d():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Yt(Jn(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return V(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=Yn(n.startAt));var c=null;return n.endAt&&(c=Yn(n.endAt)),Zt(e,o,a,s,u,"F",l,c)}function Kn(t){return{before:t.before,values:t.position}}function Yn(t){var e=!!t.before,n=t.values||[];return new qt(n,e)}function Qn(t){return Rn[t]}function Xn(t){return Sn[t]}function $n(t){return{fieldPath:t.Ct()}}function Jn(t){return et.Mt(t.fieldPath)}function Zn(t){return Mt.create(Jn(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return d()}}(t.fieldFilter.op),t.fieldFilter.value)}function tr(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Jn(t.unaryFilter.field);return Mt.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Jn(t.unaryFilter.field);return Mt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Jn(t.unaryFilter.field);return Mt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Jn(t.unaryFilter.field);return Mt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return d()}}function er(t){var e=[];return t.fields.forEach((function(t){return e.push(t.Ct())})),{fieldPaths:e}}function nr(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function rr(t){return new Tn(t,!0)}var or=function(){function t(t){var e=this;this.ts=null,this.es=null,this.result=void 0,this.error=void 0,this.ns=!1,this.ss=!1,t((function(t){e.ns=!0,e.result=t,e.ts&&e.ts(t)}),(function(t){e.ns=!0,e.error=t,e.es&&e.es(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.ss&&d(),this.ss=!0,this.ns?this.error?this.rs(n,this.error):this.os(e,this.result):new t((function(t,o){r.ts=function(n){r.os(e,n).next(t,o)},r.es=function(e){r.rs(n,e).next(t,o)}}))},t.prototype.cs=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.us=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.os=function(e,n){return e?this.us((function(){return e(n)})):t.resolve(n)},t.prototype.rs=function(e,n){return e?this.us((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.hs=function(e){return new t((function(t,n){var r=0,o=0,i=!1;e.forEach((function(e){++r,e.next((function(){++o,i&&o===r&&t()}),(function(t){return n(t)}))})),i=!0,o===r&&t()}))},t.ls=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},o=0,i=e;o<i.length;o++)r(i[o]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,o){r.push(e.call(n,t,o))})),this.hs(r)},t}(),ir=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this._s=new Y,this.transaction.oncomplete=function(){n._s.resolve()},this.transaction.onabort=function(){e.error?n._s.reject(new ur(t,e.error)):n._s.resolve()},this.transaction.onerror=function(e){var r=dr(e.target.error);n._s.reject(new ur(t,r))}}return t.open=function(e,n,r,o){try{return new t(n,e.transaction(o,r))}catch(e){throw new ur(n,e)}},Object.defineProperty(t.prototype,"fs",{get:function(){return this._s.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this._s.reject(t),this.aborted||(l("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new cr(e)},t}(),sr=function(){function e(t,n,r){this.name=t,this.version=n,this.ds=r,12.2===e.ws(Object(o.p)())&&c("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return l("SimpleDb","Removing database:",t),pr(window.indexedDB.deleteDatabase(t)).cs()},e.G=function(){if("undefined"==typeof indexedDB)return!1;if(e.Es())return!0;var t=Object(o.p)(),n=e.ws(t),r=0<n&&n<10,i=e.Ts(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.Es=function(){var e;return"undefined"!=typeof t&&"YES"===(null===(e=Object({NODE_ENV:"production",PUBLIC_URL:"/Les_miss",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}))||void 0===e?void 0:e.Is)},e.As=function(t,e){return t.store(e)},e.ws=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Ts=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Rs=function(t){return Object(s.b)(this,void 0,void 0,(function(){var e,n=this;return Object(s.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(l("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var o=indexedDB.open(n.name,n.version);o.onsuccess=function(t){var n=t.target.result;e(n)},o.onblocked=function(){r(new ur(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new _(E.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new ur(t,n))},o.onupgradeneeded=function(t){l("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.ds.Ps(e,o.transaction,t.oldVersion,n.version).next((function(){l("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.ys&&(this.db.onversionchange=function(t){return n.ys(t)}),this.db)]}}))}))},e.prototype.gs=function(t){this.ys=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},e.prototype.runTransaction=function(t,e,n,r){return Object(s.b)(this,void 0,void 0,(function(){var o,i,a,u,c;return Object(s.d)(this,(function(p){switch(p.label){case 0:o="readonly"===e,i=0,a=function(){var e,a,c,p,h;return Object(s.d)(this,(function(s){switch(s.label){case 0:++i,s.label=1;case 1:return s.trys.push([1,4,,5]),[4,u.Rs(t)];case 2:return u.db=s.sent(),e=ir.open(u.db,t,o?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),or.reject(t)})).cs(),c={},a.catch((function(){})),[4,e.fs];case 3:return[2,(c.value=(s.sent(),a),c)];case 4:return p=s.sent(),h="FirebaseError"!==p.name&&i<3,l("SimpleDb","Transaction failed with error:",p.message,"Retrying:",h),u.close(),h?[3,5]:[2,{value:Promise.reject(p)}];case 5:return[2]}}))},u=this,p.label=1;case 1:return[5,a()];case 2:if("object"==typeof(c=p.sent()))return[2,c.value];p.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),ar=function(){function t(t){this.Vs=t,this.ps=!1,this.bs=null}return Object.defineProperty(t.prototype,"ns",{get:function(){return this.ps},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vs",{get:function(){return this.bs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Vs=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ps=!0},t.prototype.Ss=function(t){this.bs=t},t.prototype.delete=function(){return pr(this.Vs.delete())},t}(),ur=function(t){function e(e,n){var r=this;return(r=t.call(this,E.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(s.c)(e,t),e}(_);function lr(t){return"IndexedDbTransactionError"===t.name}var cr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(l("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(l("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),pr(n)},t.prototype.add=function(t){return l("SimpleDb","ADD",this.store.name,t,t),pr(this.store.add(t))},t.prototype.get=function(t){var e=this;return pr(this.store.get(t)).next((function(n){return void 0===n&&(n=null),l("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return l("SimpleDb","DELETE",this.store.name,t),pr(this.store.delete(t))},t.prototype.count=function(){return l("SimpleDb","COUNT",this.store.name),pr(this.store.count())},t.prototype.Ds=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.xs=function(t,e){l("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ns=!1;var r=this.cursor(n);return this.Cs(r,(function(t,e,n){return n.delete()}))},t.prototype.Fs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Cs(r,e)},t.prototype.Os=function(t){var e=this.cursor({});return new or((function(n,r){e.onerror=function(t){var e=dr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Cs=function(t,e){var n=[];return new or((function(r,o){t.onerror=function(t){o(t.target.error)},t.onsuccess=function(t){var o=t.target.result;if(o){var i=new ar(o),s=e(o.primaryKey,o.value,i);if(s instanceof or){var a=s.catch((function(t){return i.done(),or.reject(t)}));n.push(a)}i.ns?r():null===i.vs?o.continue():o.continue(i.vs)}else r()}})).next((function(){return or.hs(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ns?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function pr(t){return new or((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=dr(t.target.error);n(e)}}))}var hr=!1;function dr(t){var e=sr.ws(Object(o.p)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new _("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return hr||(hr=!0,setTimeout((function(){throw r}),0)),r}}return t}var fr=function(){function t(t,e,n,r,o){this.ks=t,this.Ms=e,this.Ls=n,this.op=r,this.$s=o,this.Bs=new Y,this.then=this.Bs.promise.then.bind(this.Bs.promise),this.Bs.promise.catch((function(t){}))}return t.qs=function(e,n,r,o,i){var s=new t(e,n,Date.now()+r,o,i);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Us=setTimeout((function(){return e.Qs()}),t)},t.prototype.Ks=function(){return this.Qs()},t.prototype.cancel=function(t){null!==this.Us&&(this.clearTimeout(),this.Bs.reject(new _(E.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Qs=function(){var t=this;this.ks.Ws((function(){return null!==t.Us?(t.clearTimeout(),t.op().then((function(e){return t.Bs.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Us&&(this.$s(this),clearTimeout(this.Us),this.Us=null)},t}();function gr(t,e){if(c("AsyncQueue",e+": "+t),lr(t))return new _(E.UNAVAILABLE,e+": "+t);throw t}var vr=function(){function t(t,e,n,r,o){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===o&&(o=6e4),this.js=t,this.Ms=e,this.Gs=n,this.zs=r,this.Hs=o,this.Js=0,this.Ys=null,this.Xs=Date.now(),this.reset()}return t.prototype.reset=function(){this.Js=0},t.prototype.Zs=function(){this.Js=this.Hs},t.prototype.ti=function(t){var e=this;this.cancel();var n=Math.floor(this.Js+this.ei()),r=Math.max(0,Date.now()-this.Xs),o=Math.max(0,n-r);o>0&&l("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.Js+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ys=this.js.ni(this.Ms,o,(function(){return e.Xs=Date.now(),t()})),this.Js*=this.zs,this.Js<this.Gs&&(this.Js=this.Gs),this.Js>this.Hs&&(this.Js=this.Hs)},t.prototype.si=function(){null!==this.Ys&&(this.Ys.Ks(),this.Ys=null)},t.prototype.cancel=function(){null!==this.Ys&&(this.Ys.cancel(),this.Ys=null)},t.prototype.ei=function(){return(Math.random()-.5)*this.Js},t}(),yr=function(){function t(t,e,n,r,o,i){this.js=t,this.ii=n,this.ri=r,this.oi=o,this.listener=i,this.state=0,this.ci=0,this.ai=null,this.stream=null,this.ui=new vr(t,e)}return t.prototype.hi=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.li=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this._i()},t.prototype.stop=function(){return Object(s.b)(this,void 0,void 0,(function(){return Object(s.d)(this,(function(t){switch(t.label){case 0:return this.hi()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.fi=function(){this.state=0,this.ui.reset()},t.prototype.di=function(){var t=this;this.li()&&null===this.ai&&(this.ai=this.js.ni(this.ii,6e4,(function(){return t.wi()})))},t.prototype.Ei=function(t){this.Ti(),this.stream.send(t)},t.prototype.wi=function(){return Object(s.b)(this,void 0,void 0,(function(){return Object(s.d)(this,(function(t){return this.li()?[2,this.close(0)]:[2]}))}))},t.prototype.Ti=function(){this.ai&&(this.ai.cancel(),this.ai=null)},t.prototype.close=function(t,e){return Object(s.b)(this,void 0,void 0,(function(){return Object(s.d)(this,(function(n){switch(n.label){case 0:return this.Ti(),this.ui.cancel(),this.ci++,3!==t?this.ui.reset():e&&e.code===E.RESOURCE_EXHAUSTED?(c(e.toString()),c("Using maximum backoff delay to prevent overloading the backend."),this.ui.Zs()):e&&e.code===E.UNAUTHENTICATED&&this.oi.g(),null!==this.stream&&(this.Ii(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Z(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.Ii=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.mi(this.ci),n=this.ci;this.oi.getToken().then((function(e){t.ci===n&&t.Ai(e)}),(function(n){e((function(){var e=new _(E.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Ri(e)}))}))},t.prototype.Ai=function(t){var e=this,n=this.mi(this.ci);this.stream=this.Pi(t),this.stream.Y((function(){n((function(){return e.state=2,e.listener.Y()}))})),this.stream.Z((function(t){n((function(){return e.Ri(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype._i=function(){var t=this;this.state=4,this.ui.ti((function(){return Object(s.b)(t,void 0,void 0,(function(){return Object(s.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Ri=function(t){return l("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.mi=function(t){var e=this;return function(n){e.js.Ws((function(){return e.ci===t?n():(l("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),mr=function(t){function e(e,n,r,o,i){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,i)||this).fe=o,s}return Object(s.c)(e,t),e.prototype.Pi=function(t){return this.ri.ft("Listen",t)},e.prototype.onMessage=function(t){this.ui.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:d()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],i=function(t,e){return t.he?(f(void 0===e||"string"==typeof e),C.fromBase64String(e||"")):(f(void 0===e||e instanceof Uint8Array),C.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?E.UNKNOWN:q(t.code);return new _(e,t.message||"")}(a);n=new wn(r,o,i,s||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,o=Ln(t,r.document.name),i=Dn(r.document.updateTime);var a=new Rt({mapValue:{fields:r.document.fields}}),u=(s=new At(o,i,a,{}),r.targetIds||[]),l=r.removedTargetIds||[];n=new mn(u,l,s.key,s)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,o=Ln(t,r.document),i=r.readTime?Dn(r.readTime):$.min(),a=new It(o,i),s=r.removedTargetIds||[],n=new mn([],s,a.key,a);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,o=Ln(t,r.document),i=r.removedTargetIds||[],n=new mn([],i,o,null);else{if(!("filter"in e))return d();e.filter;var c=e.filter;c.targetId,r=c.count||0,o=new Qe(r),i=c.targetId,n=new bn(i,o)}return n}(this.fe,t),n=function(t){if(!("targetChange"in t))return $.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?$.min():e.readTime?Dn(e.readTime):$.min()}(t);return this.listener.yi(e,n)},e.prototype.gi=function(t){var e={};e.database=jn(this.fe),e.addTarget=function(t,e){var n,r=e.target;return(n=Ft(r)?{documents:Un(t,r)}:{query:zn(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=An(t,e.resumeToken):e.oe.u($.min())>0&&(n.readTime=Pn(t,e.oe.Tt())),n}(this.fe,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return d()}}(0,e.re);return null==n?null:{"goog-listen-tags":n}}(this.fe,t);n&&(e.labels=n),this.Ei(e)},e.prototype.Vi=function(t){var e={};e.database=jn(this.fe),e.removeTarget=t,this.Ei(e)},e}(yr),br=function(t){function e(e,n,r,o,i){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,i)||this).fe=o,s.pi=!1,s}return Object(s.c)(e,t),Object.defineProperty(e.prototype,"bi",{get:function(){return this.pi},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.pi=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.Ii=function(){this.pi&&this.vi([])},e.prototype.Pi=function(t){return this.ri.ft("Write",t)},e.prototype.onMessage=function(t){if(f(!!t.streamToken),this.lastStreamToken=t.streamToken,this.pi){this.ui.reset();var e=function(t,e){return t&&t.length>0?(f(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Dn(t.updateTime):Dn(e);n.isEqual($.min())&&(n=Dn(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Ne(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Dn(t.commitTime);return this.listener.Si(n,e)}return f(!t.writeResults||0===t.writeResults.length),this.pi=!0,this.listener.Di()},e.prototype.Ci=function(){var t={};t.database=jn(this.fe),this.Ei(t)},e.prototype.vi=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Hn(e.fe,t)}))};this.Ei(n)},e}(yr),wr=function(t){function e(e,n,r){var o=this;return(o=t.call(this)||this).credentials=e,o.ri=n,o.fe=r,o.xi=!1,o}return Object(s.c)(e,t),e.prototype.Ni=function(){if(this.xi)throw new _(E.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.at=function(t,e,n){var r=this;return this.Ni(),this.credentials.getToken().then((function(o){return r.ri.at(t,e,n,o)})).catch((function(t){throw t.code===E.UNAUTHENTICATED&&r.credentials.g(),t}))},e.prototype._t=function(t,e,n){var r=this;return this.Ni(),this.credentials.getToken().then((function(o){return r.ri._t(t,e,n,o)})).catch((function(t){throw t.code===E.UNAUTHENTICATED&&r.credentials.g(),t}))},e.prototype.terminate=function(){this.xi=!1},e}((function(){})),Cr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Er=function(){function t(){this.Fi=[]}return t.prototype.Oi=function(t){this.Fi.push(t)},t.prototype.ki=function(){this.Fi.forEach((function(t){return t()}))},t}(),_r={Mi:!1,Li:0,$i:0,Bi:0},Or=function(){function t(t,e,n){this.qi=t,this.Ui=e,this.Qi=n}return t.Ki=function(e){return new t(e,t.Wi,t.ji)},t}();Or.Wi=10,Or.ji=1e3,Or.Gi=new Or(41943040,Or.Wi,Or.ji),Or.zi=new Or(-1,0,0);var Rr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.Hi=function(t){return n.Ji(t)},this.Yi=function(t){return e.Xi(t)})}return t.prototype.Ji=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.Yi&&this.Yi(t),t},t}();function Sr(t){return Object(s.b)(this,void 0,void 0,(function(){return Object(s.d)(this,(function(e){if(t.code!==E.FAILED_PRECONDITION||t.message!==Cr)throw t;return l("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}Rr.Zi=-1;var Tr=function(t,e){this.progress=t,this.tr=e},Pr=function(){function t(t,e,n,r){this.batchId=t,this.er=e,this.baseMutations=n,this.mutations=r}return t.prototype.nr=function(t,e,n){for(var r=n.sr,o=0;o<this.mutations.length;o++){var i=this.mutations[o];i.key.isEqual(t)&&(e=Fe(i,e,r[o]))}return e},t.prototype.ir=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var o=r[n];o.key.isEqual(t)&&(e=Me(o,e,e,this.er))}for(var i=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=Me(u,e,i,this.er))}return e},t.prototype.rr=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var o=e.ir(r.key,t.get(r.key));o&&(n=n.Ie(r.key,o))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),cn())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&b(this.mutations,t.mutations,(function(t,e){return Ve(t,e)}))&&b(this.baseMutations,t.baseMutations,(function(t,e){return Ve(t,e)}))},t}(),Ar=function(){function t(t,e,n,r){this.batch=t,this.cr=e,this.sr=n,this.ar=r}return t.from=function(e,n,r){f(e.mutations.length===r.length);for(var o=un(),i=e.mutations,s=0;s<i.length;s++)o=o.Ie(i[s].key,r[s].version);return new t(e,n,r,o)},t}(),Ir=function(){function t(t,e){this.ur=t,this.hr=e,this.lr={}}return t.prototype.get=function(t){var e=this.ur(t),n=this.lr[e];if(void 0!==n)for(var r=0,o=n;r<o.length;r++){var i=o[r],s=i[0],a=i[1];if(this.hr(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ur(t),r=this.lr[n];if(void 0!==r){for(var o=0;o<r.length;o++)if(this.hr(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e])}else this.lr[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ur(t),n=this.lr[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.hr(n[r][0],t))return 1===n.length?delete this.lr[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ot(this.lr,(function(e,n){for(var r=0,o=n;r<o.length;r++){var i=o[r],s=i[0],a=i[1];t(s,a)}}))},t.prototype.bt=function(){return it(this.lr)},t}(),Dr=function(){function t(){this._r=new Ir((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.dr=!1}return t.prototype.wr=function(t){var e=this._r.get(t);return e?e.readTime:$.min()},t.prototype.Er=function(t,e){this.Tr(),this._r.set(t.key,{Ir:t,readTime:e})},t.prototype.mr=function(t,e){void 0===e&&(e=null),this.Tr(),this._r.set(t,{Ir:null,readTime:e})},t.prototype.Ar=function(t,e){this.Tr();var n=this._r.get(e);return void 0!==n?or.resolve(n.Ir):this.Rr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Tr(),this.dr=!0,this.yr(t)},t.prototype.Tr=function(){},t}();function Nr(t,e){var n=t[0],r=t[1],o=e[0],i=e[1],s=m(n,o);return 0===s?m(r,i):s}var xr=function(){function t(t){this.gr=t,this.buffer=new Ze(Nr),this.Vr=0}return t.prototype.pr=function(){return++this.Vr},t.prototype.br=function(t){var e=[t,this.pr()];if(this.buffer.size<this.gr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Nr(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),kr=function(){function t(t,e){this.vr=t,this.ks=e,this.Sr=!1,this.Dr=null}return t.prototype.start=function(t){-1!==this.vr.params.qi&&this.Cr(t)},t.prototype.stop=function(){this.Dr&&(this.Dr.cancel(),this.Dr=null)},Object.defineProperty(t.prototype,"Nr",{get:function(){return null!==this.Dr},enumerable:!1,configurable:!0}),t.prototype.Cr=function(t){var e=this,n=this.Sr?3e5:6e4;l("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Dr=this.ks.ni("lru_garbage_collection",n,(function(){return Object(s.b)(e,void 0,void 0,(function(){var e;return Object(s.d)(this,(function(n){switch(n.label){case 0:this.Dr=null,this.Sr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Fr(this.vr)];case 2:return n.sent(),[3,7];case 3:return lr(e=n.sent())?(l("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Sr(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Cr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Lr=function(){function t(t,e){this.Or=t,this.params=e}return t.prototype.kr=function(t,e){return this.Or.Mr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Lr=function(t,e){var n=this;if(0===e)return or.resolve(Rr.Zi);var r=new xr(e);return this.Or.Un(t,(function(t){return r.br(t.sequenceNumber)})).next((function(){return n.Or.$r(t,(function(t){return r.br(t)}))})).next((function(){return r.maxValue}))},t.prototype.Br=function(t,e,n){return this.Or.Br(t,e,n)},t.prototype.qr=function(t,e){return this.Or.qr(t,e)},t.prototype.Ur=function(t,e){var n=this;return-1===this.params.qi?(l("LruGarbageCollector","Garbage collection skipped; disabled"),or.resolve(_r)):this.Qr(t).next((function(r){return r<n.params.qi?(l("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.qi),_r):n.Kr(t,e)}))},t.prototype.Qr=function(t){return this.Or.Qr(t)},t.prototype.Kr=function(t,e){var n,o,i,s,a,c,p,h=this,d=Date.now();return this.kr(t,this.params.Ui).next((function(e){return e>h.params.Qi?(l("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.params.Qi+" from "+e),o=h.params.Qi):o=e,s=Date.now(),h.Lr(t,o)})).next((function(r){return n=r,a=Date.now(),h.Br(t,n,e)})).next((function(e){return i=e,c=Date.now(),h.qr(t,n)})).next((function(t){return p=Date.now(),u()<=r.a.DEBUG&&l("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-d)+"ms\n\tDetermined least recently used "+o+" in "+(a-s)+"ms\n\tRemoved "+i+" targets in "+(c-a)+"ms\n\tRemoved "+t+" documents in "+(p-c)+"ms\nTotal Duration: "+(p-d)+"ms"),or.resolve({Mi:!0,Li:o,$i:i,Bi:t})}))},t}();function Fr(t,e,n){if(!n)throw new _(E.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Mr(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _(E.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function jr(t,e,n,r){if(!0===e&&!0===r)throw new _(E.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Vr(t){if(!nt.qt(t))throw new _(E.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Gr(t){if(nt.qt(t))throw new _(E.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Wr(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":d()}function Hr(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new _(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Wr(t);throw new _(E.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Br(t,e){if(e<=0)throw new _(E.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Ur=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new _(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new _(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,jr("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),zr=new Map,qr=function(){function t(t,e){this.Wr="(lite)",this.jr=new Ur({}),this.Gr=!1,t instanceof F?(this.zr=t,this.Hr=new D):(this.Jr=t,this.zr=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new _(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new F(t.options.projectId)}(t),this.Hr=new N(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Jr)throw new _(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Jr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Yr",{get:function(){return this.Gr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xr",{get:function(){return void 0!==this.Zr},enumerable:!1,configurable:!0}),t.prototype.eo=function(t){if(this.Gr)throw new _(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.jr=new Ur(t),void 0!==t.credentials&&(this.Hr=function(t){if(!t)return new D;switch(t.type){case"gapi":var e=t.client;return f(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new k(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new _(E.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.no=function(){return this.jr},t.prototype.so=function(){return this.Gr=!0,this.jr},t.prototype._delete=function(){return this.Zr||(this.Zr=this.io()),this.Zr},t.prototype.io=function(){return this,(t=zr.get(this))&&(l("ComponentProvider","Removing Datastore"),zr.delete(this),t.terminate()),Promise.resolve();var t},t}();function Kr(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Qr(e)),e=Yr(t.get(n),e);return Qr(e)}function Yr(t,e){for(var n=e,r=t.length,o=0;o<r;o++){var i=t.charAt(o);switch(i){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=i}}return n}function Qr(t){return t+"\x01\x01"}function Xr(t){var e=t.length;if(f(e>=2),2===e)return f("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Z.Nt();for(var n=e-2,r=[],o="",i=0;i<e;){var s=t.indexOf("\x01",i);switch((s<0||s>n)&&d(),t.charAt(s+1)){case"\x01":var a=t.substring(i,s),u=void 0;0===o.length?u=a:(u=o+=a,o=""),r.push(u);break;case"\x10":o+=t.substring(i,s),o+="\0";break;case"\x11":o+=t.substring(i,s+1);break;default:d()}i=s+2}return new Z(r)}var $r=function(t,e){this.seconds=t,this.nanoseconds=e},Jr=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Jr.store="owner",Jr.key="owner";var Zr=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Zr.store="mutationQueues",Zr.keyPath="userId";var to=function(t,e,n,r,o){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};to.store="mutations",to.keyPath="batchId",to.userMutationsIndex="userMutationsIndex",to.userMutationsKeyPath=["userId","batchId"];var eo=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Kr(e)]},t.key=function(t,e,n){return[t,Kr(e),n]},t}();eo.store="documentMutations",eo.PLACEHOLDER=new eo;var no=function(t,e){this.path=t,this.readTime=e},ro=function(t,e){this.path=t,this.version=e},oo=function(t,e,n,r,o,i){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=i};oo.store="remoteDocuments",oo.readTimeIndex="readTimeIndex",oo.readTimeIndexPath="readTime",oo.collectionReadTimeIndex="collectionReadTimeIndex",oo.collectionReadTimeIndexPath=["parentPath","readTime"];var io=function(t){this.byteSize=t};io.store="remoteDocumentGlobal",io.key="remoteDocumentGlobalKey";var so=function(t,e,n,r,o,i,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=i,this.query=s};so.store="targets",so.keyPath="targetId",so.queryTargetsIndexName="queryTargetsIndex",so.queryTargetsKeyPath=["canonicalId","targetId"];var ao=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ao.store="targetDocuments",ao.keyPath=["targetId","path"],ao.documentTargetsIndex="documentTargetsIndex",ao.documentTargetsKeyPath=["path","targetId"];var uo=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};uo.key="targetGlobalKey",uo.store="targetGlobal";var lo=function(t,e){this.collectionId=t,this.parent=e};lo.store="collectionParents",lo.keyPath=["collectionId","parent"];var co=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};co.store="clientMetadata",co.keyPath="clientId";var po=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};po.store="bundles",po.keyPath="bundleId";var ho=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};ho.store="namedQueries",ho.keyPath="name";var fo=Object(s.h)(Object(s.h)(Object(s.h)(Object(s.h)([Zr.store,to.store,eo.store,oo.store,so.store,Jr.store,uo.store,ao.store],[co.store]),[io.store]),[lo.store]),[po.store,ho.store]),go=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ro=e,r.oo=n,r}return Object(s.c)(e,t),e}(Er);function vo(t,e){var n=g(t);return sr.As(n.ro,e)}var yo=function(t){this.co=t};function mo(t,e){if(e.document)return Wn(t.co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=nt.Ut(e.noDocument.path),r=_o(e.noDocument.readTime);return new It(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var o=nt.Ut(e.unknownDocument.path);return r=_o(e.unknownDocument.version),new Dt(o,r)}return d()}function bo(t,e,n){var r=wo(n),o=e.key.path.yt().Dt();if(e instanceof At){var i=function(t,e){return{name:kn(t,e.key),fields:e.Yt().mapValue.fields,updateTime:Pn(t,e.version.Tt())}}(t.co,e),s=e.hasCommittedMutations;return new oo(null,null,i,s,r,o)}if(e instanceof It){var a=e.key.path.Dt(),u=Eo(e.version);return s=e.hasCommittedMutations,new oo(null,new no(a,u),null,s,r,o)}if(e instanceof Dt){var l=e.key.path.Dt(),c=Eo(e.version);return new oo(new ro(l,c),null,null,!0,r,o)}return d()}function wo(t){var e=t.Tt();return[e.seconds,e.nanoseconds]}function Co(t){var e=new X(t[0],t[1]);return $.wt(e)}function Eo(t){var e=t.Tt();return new $r(e.seconds,e.nanoseconds)}function _o(t){var e=new X(t.seconds,t.nanoseconds);return $.wt(e)}function Oo(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Bn(t.co,e)})),r=e.mutations.length-1;r>=0;--r){var o=e.mutations[r];void 0!==(null==o?void 0:o.transform)&&(e.mutations[r-1].updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var i=e.mutations.map((function(e){return Bn(t.co,e)})),s=X.fromMillis(e.localWriteTimeMs);return new Pr(e.batchId,s,n,i)}function Ro(t){var e,n,r=_o(t.readTime),o=void 0!==t.lastLimboFreeSnapshotVersion?_o(t.lastLimboFreeSnapshotVersion):$.min();return void 0!==t.query.documents?(f(1===(n=t.query).documents.length),e=ae(te(Mn(n.documents[0])))):e=function(t){return ae(qn(t))}(t.query),new ge(e,t.targetId,0,t.lastListenSequenceNumber,r,o,C.fromBase64String(t.resumeToken))}function So(t,e){var n,r=Eo(e.oe),o=Eo(e.lastLimboFreeSnapshotVersion);n=Ft(e.target)?Un(t.co,e.target):zn(t.co,e.target);var i=e.resumeToken.toBase64();return new so(e.targetId,kt(e.target),r,i,e.sequenceNumber,o,n)}function To(t){var e=qn({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ue(e,e.limit,"L"):e}var Po=function(){function t(){}return t.prototype.ao=function(t,e){return Ao(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:_o(e.createTime),version:e.version};var e}))},t.prototype.uo=function(t,e){return Ao(t).put({bundleId:(n=e).id,createTime:Eo(Dn(n.createTime)),version:n.version});var n},t.prototype.ho=function(t,e){return Io(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:To(e.bundledQuery),readTime:_o(e.readTime)};var e}))},t.prototype.lo=function(t,e){return Io(t).put(function(t){return{name:t.name,readTime:Eo(Dn(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Ao(t){return vo(t,po.store)}function Io(t){return vo(t,ho.store)}var Do=function(){function t(){this._o=new No}return t.prototype.fo=function(t,e){return this._o.add(e),or.resolve()},t.prototype.wo=function(t,e){return or.resolve(this._o.getEntries(e))},t}(),No=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.Vt(),n=t.yt(),r=this.index[e]||new Ze(Z.At),o=!r.has(n);return this.index[e]=r.add(n),o},t.prototype.has=function(t){var e=t.Vt(),n=t.yt(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ze(Z.At)).Dt()},t}(),xo=function(){function t(){this.Eo=new No}return t.prototype.fo=function(t,e){var n=this;if(!this.Eo.has(e)){var r=e.Vt(),o=e.yt();t.Oi((function(){n.Eo.add(e)}));var i={collectionId:r,parent:Kr(o)};return ko(t).put(i)}return or.resolve()},t.prototype.wo=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[w(e),""],!1,!0);return ko(t).Ds(r).next((function(t){for(var r=0,o=t;r<o.length;r++){var i=o[r];if(i.collectionId!==e)break;n.push(Xr(i.parent))}return n}))},t}();function ko(t){return vo(t,lo.store)}function Lo(t,e,n){var r=t.store(to.store),o=t.store(eo.store),i=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Fs({range:s},(function(t,e,n){return a++,n.delete()}));i.push(u.next((function(){f(1===a)})));for(var l=[],c=0,p=n.mutations;c<p.length;c++){var h=p[c],d=eo.key(e,h.key.path,n.batchId);i.push(o.delete(d)),l.push(h.key)}return or.hs(i).next((function(){return l}))}function Fo(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw d();e=t.noDocument}return JSON.stringify(e).length}var Mo=function(){function t(t,e,n,r){this.userId=t,this.fe=e,this.To=n,this.Io=r,this.mo={}}return t.Ao=function(e,n,r,o){return f(""!==e.uid),new t(e.T()?e.uid:"",n,r,o)},t.prototype.Ro=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vo(t).Fs({index:to.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Po=function(t,e,n,r){var o=this,i=Go(t),s=Vo(t);return s.add({}).next((function(a){f("number"==typeof a);for(var u=new Pr(a,e,n,r),l=function(t,e,n){var r=n.baseMutations.map((function(e){return Hn(t.co,e)})),o=n.mutations.map((function(e){return Hn(t.co,e)}));return new to(e,n.batchId,n.er.toMillis(),r,o)}(o.fe,o.userId,u),c=[],p=new Ze((function(t,e){return m(t.Ct(),e.Ct())})),h=0,d=r;h<d.length;h++){var g=d[h],v=eo.key(o.userId,g.key.path,a);p=p.add(g.key.path.yt()),c.push(s.put(l)),c.push(i.put(v,eo.PLACEHOLDER))}return p.forEach((function(e){c.push(o.To.fo(t,e))})),t.Oi((function(){o.mo[a]=u.keys()})),or.hs(c).next((function(){return u}))}))},t.prototype.yo=function(t,e){var n=this;return Vo(t).get(e).next((function(t){return t?(f(t.userId===n.userId),Oo(n.fe,t)):null}))},t.prototype.Vo=function(t,e){var n=this;return this.mo[e]?or.resolve(this.mo[e]):this.yo(t,e).next((function(t){if(t){var r=t.keys();return n.mo[e]=r,r}return null}))},t.prototype.po=function(t,e){var n=this,r=e+1,o=IDBKeyRange.lowerBound([this.userId,r]),i=null;return Vo(t).Fs({index:to.userMutationsIndex,range:o},(function(t,e,o){e.userId===n.userId&&(f(e.batchId>=r),i=Oo(n.fe,e)),o.done()})).next((function(){return i}))},t.prototype.bo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Vo(t).Fs({index:to.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.vo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vo(t).Ds(to.userMutationsIndex,n).next((function(t){return t.map((function(t){return Oo(e.fe,t)}))}))},t.prototype.So=function(t,e){var n=this,r=eo.prefixForPath(this.userId,e.path),o=IDBKeyRange.lowerBound(r),i=[];return Go(t).Fs({range:o},(function(r,o,s){var a=r[0],u=r[1],l=r[2],c=Xr(u);if(a===n.userId&&e.path.isEqual(c))return Vo(t).get(l).next((function(t){if(!t)throw d();f(t.userId===n.userId),i.push(Oo(n.fe,t))}));s.done()})).next((function(){return i}))},t.prototype.Do=function(t,e){var n=this,r=new Ze(m),o=[];return e.forEach((function(e){var i=eo.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(i),a=Go(t).Fs({range:s},(function(t,o,i){var s=t[0],a=t[1],u=t[2],l=Xr(a);s===n.userId&&e.path.isEqual(l)?r=r.add(u):i.done()}));o.push(a)})),or.hs(o).next((function(){return n.Co(t,r)}))},t.prototype.xo=function(t,e){var n=this,r=e.path,o=r.length+1,i=eo.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(i),a=new Ze(m);return Go(t).Fs({range:s},(function(t,e,i){var s=t[0],u=t[1],l=t[2],c=Xr(u);s===n.userId&&r.vt(c)?c.length===o&&(a=a.add(l)):i.done()})).next((function(){return n.Co(t,a)}))},t.prototype.Co=function(t,e){var n=this,r=[],o=[];return e.forEach((function(e){o.push(Vo(t).get(e).next((function(t){if(null===t)throw d();f(t.userId===n.userId),r.push(Oo(n.fe,t))})))})),or.hs(o).next((function(){return r}))},t.prototype.No=function(t,e){var n=this;return Lo(t.ro,this.userId,e).next((function(r){return t.Oi((function(){n.Fo(e.batchId)})),or.forEach(r,(function(e){return n.Io.Oo(t,e)}))}))},t.prototype.Fo=function(t){delete this.mo[t]},t.prototype.ko=function(t){var e=this;return this.Ro(t).next((function(n){if(!n)return or.resolve();var r=IDBKeyRange.lowerBound(eo.prefixForUser(e.userId)),o=[];return Go(t).Fs({range:r},(function(t,n,r){if(t[0]===e.userId){var i=Xr(t[1]);o.push(i)}else r.done()})).next((function(){f(0===o.length)}))}))},t.prototype.Mo=function(t,e){return jo(t,this.userId,e)},t.prototype.Lo=function(t){var e=this;return Wo(t).get(this.userId).next((function(t){return t||new Zr(e.userId,-1,"")}))},t}();function jo(t,e,n){var r=eo.prefixForPath(e,n.path),o=r[1],i=IDBKeyRange.lowerBound(r),s=!1;return Go(t).Fs({range:i,Ns:!0},(function(t,n,r){var i=t[0],a=t[1];t[2],i===e&&a===o&&(s=!0),r.done()})).next((function(){return s}))}function Vo(t){return vo(t,to.store)}function Go(t){return vo(t,eo.store)}function Wo(t){return vo(t,Zr.store)}var Ho=function(){function t(t){this.$o=t}return t.prototype.next=function(){return this.$o+=2,this.$o},t.Bo=function(){return new t(0)},t.qo=function(){return new t(-1)},t}(),Bo=function(){function t(t,e){this.Io=t,this.fe=e}return t.prototype.Uo=function(t){var e=this;return this.Qo(t).next((function(n){var r=new Ho(n.highestTargetId);return n.highestTargetId=r.next(),e.Ko(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Wo=function(t){return this.Qo(t).next((function(t){return $.wt(new X(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.jo=function(t){return this.Qo(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Go=function(t,e,n){var r=this;return this.Qo(t).next((function(o){return o.highestListenSequenceNumber=e,n&&(o.lastRemoteSnapshotVersion=n.Tt()),e>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=e),r.Ko(t,o)}))},t.prototype.zo=function(t,e){var n=this;return this.Ho(t,e).next((function(){return n.Qo(t).next((function(r){return r.targetCount+=1,n.Jo(e,r),n.Ko(t,r)}))}))},t.prototype.Yo=function(t,e){return this.Ho(t,e)},t.prototype.Xo=function(t,e){var n=this;return this.Zo(t,e.targetId).next((function(){return Uo(t).delete(e.targetId)})).next((function(){return n.Qo(t)})).next((function(e){return f(e.targetCount>0),e.targetCount-=1,n.Ko(t,e)}))},t.prototype.Br=function(t,e,n){var r=this,o=0,i=[];return Uo(t).Fs((function(s,a){var u=Ro(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(o++,i.push(r.Xo(t,u)))})).next((function(){return or.hs(i)})).next((function(){return o}))},t.prototype.Un=function(t,e){return Uo(t).Fs((function(t,n){var r=Ro(n);e(r)}))},t.prototype.Qo=function(t){return zo(t).get(uo.key).next((function(t){return f(null!==t),t}))},t.prototype.Ko=function(t,e){return zo(t).put(uo.key,e)},t.prototype.Ho=function(t,e){return Uo(t).put(So(this.fe,e))},t.prototype.Jo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tc=function(t){return this.Qo(t).next((function(t){return t.targetCount}))},t.prototype.ec=function(t,e){var n=kt(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),o=null;return Uo(t).Fs({range:r,index:so.queryTargetsIndexName},(function(t,n,r){var i=Ro(n);Lt(e,i.target)&&(o=i,r.done())})).next((function(){return o}))},t.prototype.nc=function(t,e,n){var r=this,o=[],i=qo(t);return e.forEach((function(e){var s=Kr(e.path);o.push(i.put(new ao(n,s))),o.push(r.Io.sc(t,n,e))})),or.hs(o)},t.prototype.ic=function(t,e,n){var r=this,o=qo(t);return or.forEach(e,(function(e){var i=Kr(e.path);return or.hs([o.delete([n,i]),r.Io.rc(t,n,e)])}))},t.prototype.Zo=function(t,e){var n=qo(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.oc=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=qo(t),o=cn();return r.Fs({range:n,Ns:!0},(function(t,e,n){var r=Xr(t[1]),i=new nt(r);o=o.add(i)})).next((function(){return o}))},t.prototype.Mo=function(t,e){var n=Kr(e.path),r=IDBKeyRange.bound([n],[w(n)],!1,!0),o=0;return qo(t).Fs({index:ao.documentTargetsIndex,Ns:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(o++,n.done())})).next((function(){return o>0}))},t.prototype.Zn=function(t,e){return Uo(t).get(e).next((function(t){return t?Ro(t):null}))},t}();function Uo(t){return vo(t,so.store)}function zo(t){return vo(t,uo.store)}function qo(t){return vo(t,ao.store)}var Ko=function(){function t(t,e){this.db=t,this.vr=function(t,e){return new Lr(t,e)}(this,e)}return t.prototype.Mr=function(t){var e=this.cc(t);return this.db.ac().tc(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.cc=function(t){var e=0;return this.$r(t,(function(t){e++})).next((function(){return e}))},t.prototype.Un=function(t,e){return this.db.ac().Un(t,e)},t.prototype.$r=function(t,e){return this.uc(t,(function(t,n){return e(n)}))},t.prototype.sc=function(t,e,n){return Yo(t,n)},t.prototype.rc=function(t,e,n){return Yo(t,n)},t.prototype.Br=function(t,e,n){return this.db.ac().Br(t,e,n)},t.prototype.Oo=function(t,e){return Yo(t,e)},t.prototype.hc=function(t,e){return function(t,e){var n=!1;return Wo(t).Os((function(r){return jo(t,r,e).next((function(t){return t&&(n=!0),or.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.qr=function(t,e){var n=this,r=this.db._c().lc(),o=[],i=0;return this.uc(t,(function(s,a){if(a<=e){var u=n.hc(t,s).next((function(e){if(!e)return i++,r.Ar(t,s).next((function(){return r.mr(s),qo(t).delete([0,Kr(s.path)])}))}));o.push(u)}})).next((function(){return or.hs(o)})).next((function(){return r.apply(t)})).next((function(){return i}))},t.prototype.removeTarget=function(t,e){var n=e.ce(t.oo);return this.db.ac().Yo(t,n)},t.prototype.fc=function(t,e){return Yo(t,e)},t.prototype.uc=function(t,e){var n,r=qo(t),o=Rr.Zi;return r.Fs({index:ao.documentTargetsIndex},(function(t,r){var i=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===i?(o!==Rr.Zi&&e(new nt(Xr(n)),o),o=a,n=s):o=Rr.Zi})).next((function(){o!==Rr.Zi&&e(new nt(Xr(n)),o)}))},t.prototype.Qr=function(t){return this.db._c().dc(t)},t}();function Yo(t,e){return qo(t).put(function(t,e){return new ao(0,Kr(t.path),e)}(e,t.oo))}var Qo=function(){function t(t,e){this.fe=t,this.To=e}return t.prototype.Er=function(t,e,n){return Jo(t).put(Zo(e),n)},t.prototype.mr=function(t,e){var n=Jo(t),r=Zo(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.wc(t,r)}))},t.prototype.Ar=function(t,e){var n=this;return Jo(t).get(Zo(e)).next((function(t){return n.Ec(t)}))},t.prototype.Tc=function(t,e){var n=this;return Jo(t).get(Zo(e)).next((function(t){var e=n.Ec(t);return e?{Ir:e,size:Fo(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=rn();return this.Ic(t,e,(function(t,e){var o=n.Ec(e);r=r.Ie(t,o)})).next((function(){return r}))},t.prototype.mc=function(t,e){var n=this,r=rn(),o=new Xe(nt.At);return this.Ic(t,e,(function(t,e){var i=n.Ec(e);i?(r=r.Ie(t,i),o=o.Ie(t,Fo(e))):(r=r.Ie(t,null),o=o.Ie(t,0))})).next((function(){return{Ac:r,Rc:o}}))},t.prototype.Ic=function(t,e,n){if(e.bt())return or.resolve();var r=IDBKeyRange.bound(e.first().path.Dt(),e.last().path.Dt()),o=e.ge(),i=o.De();return Jo(t).Fs({range:r},(function(t,e,r){for(var s=nt.Ut(t);i&&nt.At(i,s)<0;)n(i,null),i=o.De();i&&i.isEqual(s)&&(n(i,e),i=o.Ce()?o.De():null),i?r.Ss(i.path.Dt()):r.done()})).next((function(){for(;i;)n(i,null),i=o.Ce()?o.De():null}))},t.prototype.Pc=function(t,e,n){var r=this,o=sn(),i=e.path.length+1,s={};if(n.isEqual($.min())){var a=e.path.Dt();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.Dt(),l=wo(n);s.range=IDBKeyRange.lowerBound([u,l],!0),s.index=oo.collectionReadTimeIndex}return Jo(t).Fs(s,(function(t,n,s){if(t.length===i){var a=mo(r.fe,n);e.path.vt(a.key.path)?a instanceof At&&he(e,a)&&(o=o.Ie(a.key,a)):s.done()}})).next((function(){return o}))},t.prototype.lc=function(t){return new Xo(this,!!t&&t.yc)},t.prototype.dc=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return $o(t).get(io.key).next((function(t){return f(!!t),t}))},t.prototype.wc=function(t,e){return $o(t).put(io.key,e)},t.prototype.Ec=function(t){if(t){var e=mo(this.fe,t);return e instanceof It&&e.version.isEqual($.min())?null:e}return null},t}(),Xo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).gc=e,r.yc=n,r.Vc=new Ir((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(s.c)(e,t),e.prototype.yr=function(t){var e=this,n=[],r=0,o=new Ze((function(t,e){return m(t.Ct(),e.Ct())}));return this._r.forEach((function(i,s){var a=e.Vc.get(i);if(s.Ir){var u=bo(e.gc.fe,s.Ir,e.wr(i));o=o.add(i.path.yt());var l=Fo(u);r+=l-a,n.push(e.gc.Er(t,i,u))}else if(r-=a,e.yc){var c=bo(e.gc.fe,new It(i,$.min()),e.wr(i));n.push(e.gc.Er(t,i,c))}else n.push(e.gc.mr(t,i))})),o.forEach((function(r){n.push(e.gc.To.fo(t,r))})),n.push(this.gc.updateMetadata(t,r)),or.hs(n)},e.prototype.Rr=function(t,e){var n=this;return this.gc.Tc(t,e).next((function(t){return null===t?(n.Vc.set(e,0),null):(n.Vc.set(e,t.size),t.Ir)}))},e.prototype.Pr=function(t,e){var n=this;return this.gc.mc(t,e).next((function(t){var e=t.Ac;return t.Rc.forEach((function(t,e){n.Vc.set(t,e)})),e}))},e}(Dr);function $o(t){return vo(t,io.store)}function Jo(t){return vo(t,oo.store)}function Zo(t){return t.path.Dt()}var ti=function(){function t(t){this.fe=t}return t.prototype.Ps=function(t,e,n,r){var o=this;f(n<r&&n>=0&&r<=11);var i=new ir("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Jr.store)}(t),function(t){t.createObjectStore(Zr.store,{keyPath:Zr.keyPath}),t.createObjectStore(to.store,{keyPath:to.keyPath,autoIncrement:!0}).createIndex(to.userMutationsIndex,to.userMutationsKeyPath,{unique:!0}),t.createObjectStore(eo.store)}(t),ei(t),function(t){t.createObjectStore(oo.store)}(t));var s=or.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ao.store),t.deleteObjectStore(so.store),t.deleteObjectStore(uo.store)}(t),ei(t)),s=s.next((function(){return function(t){var e=t.store(uo.store),n=new uo(0,0,$.min().Tt(),0);return e.put(uo.key,n)}(i)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(to.store).Ds().next((function(n){t.deleteObjectStore(to.store),t.createObjectStore(to.store,{keyPath:to.keyPath,autoIncrement:!0}).createIndex(to.userMutationsIndex,to.userMutationsKeyPath,{unique:!0});var r=e.store(to.store),o=n.map((function(t){return r.put(t)}));return or.hs(o)}))}(t,i)}))),s=s.next((function(){!function(t){t.createObjectStore(co.store,{keyPath:co.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return o.bc(i)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(io.store)}(t),o.vc(i)}))),n<7&&r>=7&&(s=s.next((function(){return o.Sc(i)}))),n<8&&r>=8&&(s=s.next((function(){return o.Dc(t,i)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(oo.store);e.createIndex(oo.readTimeIndex,oo.readTimeIndexPath,{unique:!1}),e.createIndex(oo.collectionReadTimeIndex,oo.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return o.Cc(i)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(po.store,{keyPath:po.keyPath})}(t),function(t){t.createObjectStore(ho.store,{keyPath:ho.keyPath})}(t)}))),s},t.prototype.vc=function(t){var e=0;return t.store(oo.store).Fs((function(t,n){e+=Fo(n)})).next((function(){var n=new io(e);return t.store(io.store).put(io.key,n)}))},t.prototype.bc=function(t){var e=this,n=t.store(Zr.store),r=t.store(to.store);return n.Ds().next((function(n){return or.forEach(n,(function(n){var o=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Ds(to.userMutationsIndex,o).next((function(r){return or.forEach(r,(function(r){f(r.userId===n.userId);var o=Oo(e.fe,r);return Lo(t,n.userId,o).next((function(){}))}))}))}))}))},t.prototype.Sc=function(t){var e=t.store(ao.store),n=t.store(oo.store);return t.store(uo.store).get(uo.key).next((function(t){var r=[];return n.Fs((function(n,o){var i=new Z(n),s=function(t){return[0,Kr(t)]}(i);r.push(e.get(s).next((function(n){return n?or.resolve():function(n){return e.put(new ao(0,Kr(n),t.highestListenSequenceNumber))}(i)})))})).next((function(){return or.hs(r)}))}))},t.prototype.Dc=function(t,e){t.createObjectStore(lo.store,{keyPath:lo.keyPath});var n=e.store(lo.store),r=new No,o=function(t){if(r.add(t)){var e=t.Vt(),o=t.yt();return n.put({collectionId:e,parent:Kr(o)})}};return e.store(oo.store).Fs({Ns:!0},(function(t,e){var n=new Z(t);return o(n.yt())})).next((function(){return e.store(eo.store).Fs({Ns:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Xr(n));return o(r.yt())}))}))},t.prototype.Cc=function(t){var e=this,n=t.store(so.store);return n.Fs((function(t,r){var o=Ro(r),i=So(e.fe,o);return n.put(i)}))},t}();function ei(t){t.createObjectStore(ao.store,{keyPath:ao.keyPath}).createIndex(ao.documentTargetsIndex,ao.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(so.store,{keyPath:so.keyPath}).createIndex(so.queryTargetsIndexName,so.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(uo.store)}var ni="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ri=function(){function t(e,n,r,o,i,s,a,u,l,p){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.js=i,this.window=s,this.document=a,this.xc=l,this.Nc=p,this.Fc=null,this.Oc=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kc=null,this.inForeground=!1,this.Mc=null,this.Lc=null,this.$c=Number.NEGATIVE_INFINITY,this.Bc=function(t){return Promise.resolve()},!t.G())throw new _(E.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Io=new Ko(this,o),this.qc=n+"main",this.fe=new yo(u),this.Uc=new sr(this.qc,11,new ti(this.fe)),this.Qc=new Bo(this.Io,this.fe),this.To=new xo,this.Kc=function(t,e){return new Qo(t,e)}(this.fe,this.To),this.Wc=new Po,this.window&&this.window.localStorage?this.jc=this.window.localStorage:(this.jc=null,!1===p&&c("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Gc().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new _(E.FAILED_PRECONDITION,ni);return t.zc(),t.Hc(),t.Jc(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Qc.jo(e)}))})).then((function(e){t.Fc=new Rr(e,t.xc)})).then((function(){t.Oc=!0})).catch((function(e){return t.Uc&&t.Uc.close(),Promise.reject(e)}))},t.prototype.Yc=function(t){var e=this;return this.Bc=function(n){return Object(s.b)(e,void 0,void 0,(function(){return Object(s.d)(this,(function(e){return this.Nr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Xc=function(t){var e=this;this.Uc.gs((function(n){return Object(s.b)(e,void 0,void 0,(function(){return Object(s.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Zc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.js.Ws((function(){return Object(s.b)(e,void 0,void 0,(function(){return Object(s.d)(this,(function(t){switch(t.label){case 0:return this.Nr?[4,this.Gc()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Gc=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return ii(e).put(new co(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.ta(e).next((function(e){e||(t.isPrimary=!1,t.js.ea((function(){return t.Bc(!1)})))}))})).next((function(){return t.na(e)})).next((function(n){return t.isPrimary&&!n?t.sa(e).next((function(){return!1})):!!n&&t.ia(e).next((function(){return!0}))}))})).catch((function(e){if(lr(e))return l("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return l("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.js.ea((function(){return t.Bc(e)})),t.isPrimary=e}))},t.prototype.ta=function(t){var e=this;return oi(t).get(Jr.key).next((function(t){return or.resolve(e.ra(t))}))},t.prototype.oa=function(t){return ii(t).delete(this.clientId)},t.prototype.ca=function(){return Object(s.b)(this,void 0,void 0,(function(){var t,e,n,r,o=this;return Object(s.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.aa(this.$c,18e5)?[3,2]:(this.$c=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=vo(t,co.store);return e.Ds().next((function(t){var n=o.ua(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return or.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.jc)for(e=0,n=t;e<n.length;e++)r=n[e],this.jc.removeItem(this.ha(r.clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Jc=function(){var t=this;this.Lc=this.js.ni("client_metadata_refresh",4e3,(function(){return t.Gc().then((function(){return t.ca()})).then((function(){return t.Jc()}))}))},t.prototype.ra=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.na=function(t){var e=this;return this.Nc?or.resolve(!0):oi(t).get(Jr.key).next((function(n){if(null!==n&&e.aa(n.leaseTimestampMs,5e3)&&!e.la(n.ownerId)){if(e.ra(n)&&e.networkEnabled)return!0;if(!e.ra(n)){if(!n.allowTabSynchronization)throw new _(E.FAILED_PRECONDITION,ni);return!1}}return!(!e.networkEnabled||!e.inForeground)||ii(t).Ds().next((function(t){return void 0===e.ua(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,o=e.networkEnabled===t.networkEnabled;if(n||r&&o)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&l("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.$=function(){return Object(s.b)(this,void 0,void 0,(function(){var t=this;return Object(s.d)(this,(function(e){switch(e.label){case 0:return this.Oc=!1,this._a(),this.Lc&&(this.Lc.cancel(),this.Lc=null),this.fa(),this.da(),[4,this.Uc.runTransaction("shutdown","readwrite",[Jr.store,co.store],(function(e){var n=new go(e,Rr.Zi);return t.sa(n).next((function(){return t.oa(n)}))}))];case 1:return e.sent(),this.Uc.close(),this.wa(),[2]}}))}))},t.prototype.ua=function(t,e){var n=this;return t.filter((function(t){return n.aa(t.updateTimeMs,e)&&!n.la(t.clientId)}))},t.prototype.Ea=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return ii(e).Ds().next((function(e){return t.ua(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Nr",{get:function(){return this.Oc},enumerable:!1,configurable:!0}),t.prototype.Ta=function(t){return Mo.Ao(t,this.fe,this.To,this.Io)},t.prototype.ac=function(){return this.Qc},t.prototype._c=function(){return this.Kc},t.prototype.Ia=function(){return this.To},t.prototype.ma=function(){return this.Wc},t.prototype.runTransaction=function(t,e,n){var r=this;l("IndexedDbPersistence","Starting transaction:",t);var o,i="readonly"===e?"readonly":"readwrite";return this.Uc.runTransaction(t,i,fo,(function(i){return o=new go(i,r.Fc?r.Fc.next():Rr.Zi),"readwrite-primary"===e?r.ta(o).next((function(t){return!!t||r.na(o)})).next((function(e){if(!e)throw c("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.js.ea((function(){return r.Bc(!1)})),new _(E.FAILED_PRECONDITION,Cr);return n(o)})).next((function(t){return r.ia(o).next((function(){return t}))})):r.Aa(o).next((function(){return n(o)}))})).then((function(t){return o.ki(),t}))},t.prototype.Aa=function(t){var e=this;return oi(t).get(Jr.key).next((function(t){if(null!==t&&e.aa(t.leaseTimestampMs,5e3)&&!e.la(t.ownerId)&&!e.ra(t)&&!(e.Nc||e.allowTabSynchronization&&t.allowTabSynchronization))throw new _(E.FAILED_PRECONDITION,ni)}))},t.prototype.ia=function(t){var e=new Jr(this.clientId,this.allowTabSynchronization,Date.now());return oi(t).put(Jr.key,e)},t.G=function(){return sr.G()},t.prototype.sa=function(t){var e=this,n=oi(t);return n.get(Jr.key).next((function(t){return e.ra(t)?(l("IndexedDbPersistence","Releasing primary lease."),n.delete(Jr.key)):or.resolve()}))},t.prototype.aa=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(c("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.zc=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Mc=function(){t.js.Ws((function(){return t.inForeground="visible"===t.document.visibilityState,t.Gc()}))},this.document.addEventListener("visibilitychange",this.Mc),this.inForeground="visible"===this.document.visibilityState)},t.prototype.fa=function(){this.Mc&&(this.document.removeEventListener("visibilitychange",this.Mc),this.Mc=null)},t.prototype.Hc=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.kc=function(){e._a(),e.js.Ws((function(){return e.$()}))},this.window.addEventListener("unload",this.kc))},t.prototype.da=function(){this.kc&&(this.window.removeEventListener("unload",this.kc),this.kc=null)},t.prototype.la=function(t){var e;try{var n=null!==(null===(e=this.jc)||void 0===e?void 0:e.getItem(this.ha(t)));return l("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return c("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype._a=function(){if(this.jc)try{this.jc.setItem(this.ha(this.clientId),String(Date.now()))}catch(t){c("Failed to set zombie client id.",t)}},t.prototype.wa=function(){if(this.jc)try{this.jc.removeItem(this.ha(this.clientId))}catch(t){}},t.prototype.ha=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function oi(t){return vo(t,Jr.store)}function ii(t){return vo(t,co.store)}function si(t,e){var n=t.projectId;return t.M||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var ai=function(){function t(t,e,n){this.Kc=t,this.Ra=e,this.To=n}return t.prototype.Pa=function(t,e){var n=this;return this.Ra.So(t,e).next((function(r){return n.ya(t,e,r)}))},t.prototype.ya=function(t,e,n){return this.Kc.Ar(t,e).next((function(t){for(var r=0,o=n;r<o.length;r++)t=o[r].ir(e,t);return t}))},t.prototype.ga=function(t,e,n){var r=rn();return e.forEach((function(t,e){for(var o=0,i=n;o<i.length;o++)e=i[o].ir(t,e);r=r.Ie(t,e)})),r},t.prototype.Va=function(t,e){var n=this;return this.Kc.getEntries(t,e).next((function(e){return n.pa(t,e)}))},t.prototype.pa=function(t,e){var n=this;return this.Ra.Do(t,e).next((function(r){var o=n.ga(t,e,r),i=nn();return o.forEach((function(t,e){e||(e=new It(t,$.min())),i=i.Ie(t,e)})),i}))},t.prototype.Pc=function(t,e,n){return function(t){return nt.qt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ba(t,e.path):ie(e)?this.va(t,e,n):this.Sa(t,e,n)},t.prototype.ba=function(t,e){return this.Pa(t,new nt(e)).next((function(t){var e=sn();return t instanceof At&&(e=e.Ie(t.key,t)),e}))},t.prototype.va=function(t,e,n){var r=this,o=e.collectionGroup,i=sn();return this.To.wo(t,o).next((function(s){return or.forEach(s,(function(s){var a=function(t,e){return new Jt(e,null,t.ne.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(o));return r.Sa(t,a,n).next((function(t){t.forEach((function(t,e){i=i.Ie(t,e)}))}))})).next((function(){return i}))}))},t.prototype.Sa=function(t,e,n){var r,o,i=this;return this.Kc.Pc(t,e,n).next((function(n){return r=n,i.Ra.xo(t,e)})).next((function(e){return o=e,i.Da(t,o,r).next((function(t){r=t;for(var e=0,n=o;e<n.length;e++)for(var i=n[e],s=0,a=i.mutations;s<a.length;s++){var u=a[s],l=u.key,c=r.get(l),p=Me(u,c,c,i.er);r=p instanceof At?r.Ie(l,p):r.remove(l)}}))})).next((function(){return r.forEach((function(t,n){he(e,n)||(r=r.remove(t))})),r}))},t.prototype.Da=function(t,e,n){for(var r=cn(),o=0,i=e;o<i.length;o++)for(var s=0,a=i[o].mutations;s<a.length;s++){var u=a[s];u instanceof He&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.Kc.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof At&&(l=l.Ie(t,e))})),l}))},t}(),ui=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Ca=n,this.xa=r}return t.Na=function(e,n){for(var r=cn(),o=cn(),i=0,s=n.docChanges;i<s.length;i++){var a=s[i];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}}return new t(e,n.fromCache,r,o)},t}(),li=function(){function t(){}return t.prototype.Fa=function(t){this.Oa=t},t.prototype.Pc=function(t,e,n,o){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.ne.length||1===t.ne.length&&t.ne[0].field.Ot())}(e)||n.isEqual($.min())?this.ka(t,e):this.Oa.Va(t,o).next((function(s){var a=i.Ma(e,s);return(ee(e)||ne(e))&&i.La(e.limitType,a,o,n)?i.ka(t,e):(u()<=r.a.DEBUG&&l("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),pe(e)),i.Oa.Pc(t,e,n).next((function(t){return a.forEach((function(e){t=t.Ie(e.key,e)})),t})))}))},t.prototype.Ma=function(t,e){var n=new Ze(de(t));return e.forEach((function(e,r){r instanceof At&&he(t,r)&&(n=n.add(r))})),n},t.prototype.La=function(t,e,n,r){if(n.size!==e.size)return!0;var o="F"===t?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.u(r)>0)},t.prototype.ka=function(t,e){return u()<=r.a.DEBUG&&l("QueryEngine","Using full collection scan to execute query:",pe(e)),this.Oa.Pc(t,e,$.min())},t}(),ci=function(){function t(t,e,n,r){this.persistence=t,this.$a=e,this.fe=r,this.Ba=new Xe(m),this.qa=new Ir((function(t){return kt(t)}),Lt),this.Ua=$.min(),this.Ra=t.Ta(n),this.Qa=t._c(),this.Qc=t.ac(),this.Ka=new ai(this.Qa,this.Ra,this.persistence.Ia()),this.Wc=t.ma(),this.$a.Fa(this.Ka)}return t.prototype.Fr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Ur(n,e.Ba)}))},t}();function pi(t,e,n,r){return new ci(t,e,n,r)}function hi(t,e){return Object(s.b)(this,void 0,void 0,(function(){var n,r,o,i;return Object(s.d)(this,(function(s){switch(s.label){case 0:return n=g(t),r=n.Ra,o=n.Ka,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var i;return n.Ra.vo(t).next((function(s){return i=s,r=n.persistence.Ta(e),o=new ai(n.Qa,r,n.persistence.Ia()),r.vo(t)})).next((function(e){for(var n=[],r=[],s=cn(),a=0,u=i;a<u.length;a++){var l=u[a];n.push(l.batchId);for(var c=0,p=l.mutations;c<p.length;c++){var h=p[c];s=s.add(h.key)}}for(var d=0,f=e;d<f.length;d++){var g=f[d];r.push(g.batchId);for(var v=0,y=g.mutations;v<y.length;v++){var m=y[v];s=s.add(m.key)}}return o.Va(t,s).next((function(t){return{Wa:t,ja:n,Ga:r}}))}))}))];case 1:return i=s.sent(),[2,(n.Ra=r,n.Ka=o,n.$a.Fa(n.Ka),i)]}}))}))}function di(t,e){var n=g(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),o=n.Qa.lc({yc:!0});return function(t,e,n,r){var o=n.batch,i=o.keys(),s=or.resolve();return i.forEach((function(t){s=s.next((function(){return r.Ar(e,t)})).next((function(e){var i=e,s=n.ar.get(t);f(null!==s),(!i||i.version.u(s)<0)&&(i=o.nr(t,i,n))&&r.Er(i,n.cr)}))})),s.next((function(){return t.Ra.No(e,o)}))}(n,t,e,o).next((function(){return o.apply(t)})).next((function(){return n.Ra.ko(t)})).next((function(){return n.Ka.Va(t,r)}))}))}function fi(t){var e=g(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Qc.Wo(t)}))}function gi(t,e){var n=g(t),r=e.oe,o=n.Ba;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var i=n.Qa.lc({yc:!0});o=n.Ba;var s=[];e.rn.forEach((function(e,i){var a=o.get(i);if(a){s.push(n.Qc.ic(t,e.dn,i).next((function(){return n.Qc.nc(t,e._n,i)})));var u=e.resumeToken;if(u.o()>0){var l=a.ae(u,r).ce(t.oo);o=o.Ie(i,l),function(t,e,n){return f(e.resumeToken.o()>0),0===t.resumeToken.o()||e.oe.Et()-t.oe.Et()>=3e8||n._n.size+n.fn.size+n.dn.size>0}(a,l,e)&&s.push(n.Qc.Yo(t,l))}}}));var a=nn();if(e.cn.forEach((function(r,o){e.an.has(r)&&s.push(n.persistence.Io.fc(t,r))})),s.push(vi(t,i,e.cn,r,void 0).next((function(t){a=t}))),!r.isEqual($.min())){var u=n.Qc.Wo(t).next((function(e){return n.Qc.Go(t,t.oo,r)}));s.push(u)}return or.hs(s).next((function(){return i.apply(t)})).next((function(){return n.Ka.pa(t,a)}))})).then((function(t){return n.Ba=o,t}))}function vi(t,e,n,r,o){var i=cn();return n.forEach((function(t){return i=i.add(t)})),e.getEntries(t,i).next((function(t){var i=nn();return n.forEach((function(n,s){var a=t.get(n),u=(null==o?void 0:o.get(n))||r;s instanceof It&&s.version.isEqual($.min())?(e.mr(n,u),i=i.Ie(n,s)):null==a||s.version.u(a.version)>0||0===s.version.u(a.version)&&a.hasPendingWrites?(e.Er(s,u),i=i.Ie(n,s)):l("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),i}))}function yi(t,e){var n=g(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ra.po(t,e)}))}function mi(t,e){var n=g(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Qc.ec(t,e).next((function(o){return o?(r=o,or.resolve(r)):n.Qc.Uo(t).next((function(o){return r=new ge(e,o,0,t.oo),n.Qc.zo(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Ba.get(t.targetId);return(null===r||t.oe.u(r.oe)>0)&&(n.Ba=n.Ba.Ie(t.targetId,t),n.qa.set(e,t.targetId)),t}))}function bi(t,e,n){return Object(s.b)(this,void 0,void 0,(function(){var r,o,i,a;return Object(s.d)(this,(function(s){switch(s.label){case 0:r=g(t),o=r.Ba.get(e),i=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",i,(function(t){return r.persistence.Io.removeTarget(t,o)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!lr(a=s.sent()))throw a;return l("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Ba=r.Ba.remove(e),r.qa.delete(o.target),[2]}}))}))}function wi(t,e,n){var r=g(t),o=$.min(),i=cn();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=g(t),o=r.qa.get(n);return void 0!==o?or.resolve(r.Ba.get(o)):r.Qc.ec(e,n)}(r,t,ae(e)).next((function(e){if(e)return o=e.lastLimboFreeSnapshotVersion,r.Qc.oc(t,e.targetId).next((function(t){i=t}))})).next((function(){return r.$a.Pc(t,e,n?o:$.min(),n?i:cn())})).next((function(t){return{documents:t,za:i}}))}))}function Ci(t,e){var n=g(t),r=g(n.Qc),o=n.Ba.get(e);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Zn(t,e).next((function(t){return t?t.target:null}))}))}function Ei(t){var e=g(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=g(t),o=nn(),i=wo(n),s=Jo(e),a=IDBKeyRange.lowerBound(i,!0);return s.Fs({index:oo.readTimeIndex,range:a},(function(t,e){var n=mo(r.fe,e);o=o.Ie(n.key,n),i=e.readTime})).next((function(){return{tr:o,readTime:Co(i)}}))}(e.Qa,t,e.Ua)})).then((function(t){var n=t.tr,r=t.readTime;return e.Ua=r,n}))}function _i(t){return Object(s.b)(this,void 0,void 0,(function(){var e;return Object(s.d)(this,(function(n){return[2,(e=g(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Jo(t),n=$.min();return e.Fs({index:oo.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Co(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ua=t}))]}))}))}function Oi(t,e,n,r){return Object(s.b)(this,void 0,void 0,(function(){var o,i,a,u,l,c,p,h,d,f;return Object(s.d)(this,(function(s){switch(s.label){case 0:for(o=g(t),i=cn(),a=nn(),u=un(),l=0,c=n;l<c.length;l++)p=c[l],h=e.Ha(p.metadata.name),p.document&&(i=i.add(h)),a=a.Ie(h,e.Ja(p)),u=u.Ie(h,e.Ya(p.metadata.readTime));return d=o.Qa.lc({yc:!0}),[4,mi(o,function(t){return ae(te(Z.xt("__bundle__/docs/"+t)))}(r))];case 1:return f=s.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return vi(t,d,a,$.min(),u).next((function(e){return d.apply(t),e})).next((function(e){return o.Qc.Zo(t,f.targetId).next((function(){return o.Qc.nc(t,i,f.targetId)})).next((function(){return o.Ka.pa(t,e)}))}))}))]}}))}))}function Ri(t,e,n){return void 0===n&&(n=cn()),Object(s.b)(this,void 0,void 0,(function(){var r,o;return Object(s.d)(this,(function(i){switch(i.label){case 0:return[4,mi(t,ae(To(e.bundledQuery)))];case 1:return r=i.sent(),[2,(o=g(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var i=Dn(e.readTime);if(r.oe.u(i)>=0)return o.Wc.lo(t,e);var s=r.ae(C.h,i);return o.Ba=o.Ba.Ie(s.targetId,s),o.Qc.Yo(t,s).next((function(){return o.Qc.Zo(t,r.targetId)})).next((function(){return o.Qc.nc(t,n,r.targetId)})).next((function(){return o.Wc.lo(t,e)}))}))]}}))}))}var Si=function(){function t(t){this.fe=t,this.Xa=new Map,this.Za=new Map}return t.prototype.ao=function(t,e){return or.resolve(this.Xa.get(e))},t.prototype.uo=function(t,e){var n;return this.Xa.set(e.id,{id:(n=e).id,version:n.version,createTime:Dn(n.createTime)}),or.resolve()},t.prototype.ho=function(t,e){return or.resolve(this.Za.get(e))},t.prototype.lo=function(t,e){return this.Za.set(e.name,function(t){return{name:t.name,query:To(t.bundledQuery),readTime:Dn(t.readTime)}}(e)),or.resolve()},t}(),Ti=function(){function t(){this.tu=new Ze(Pi.eu),this.nu=new Ze(Pi.su)}return t.prototype.bt=function(){return this.tu.bt()},t.prototype.sc=function(t,e){var n=new Pi(t,e);this.tu=this.tu.add(n),this.nu=this.nu.add(n)},t.prototype.iu=function(t,e){var n=this;t.forEach((function(t){return n.sc(t,e)}))},t.prototype.rc=function(t,e){this.ru(new Pi(t,e))},t.prototype.ou=function(t,e){var n=this;t.forEach((function(t){return n.rc(t,e)}))},t.prototype.cu=function(t){var e=this,n=new nt(new Z([])),r=new Pi(n,t),o=new Pi(n,t+1),i=[];return this.nu.Qe([r,o],(function(t){e.ru(t),i.push(t.key)})),i},t.prototype.au=function(){var t=this;this.tu.forEach((function(e){return t.ru(e)}))},t.prototype.ru=function(t){this.tu=this.tu.delete(t),this.nu=this.nu.delete(t)},t.prototype.uu=function(t){var e=new nt(new Z([])),n=new Pi(e,t),r=new Pi(e,t+1),o=cn();return this.nu.Qe([n,r],(function(t){o=o.add(t.key)})),o},t.prototype.Mo=function(t){var e=new Pi(t,0),n=this.tu.We(e);return null!==n&&t.isEqual(n.key)},t}(),Pi=function(){function t(t,e){this.key=t,this.hu=e}return t.eu=function(t,e){return nt.At(t.key,e.key)||m(t.hu,e.hu)},t.su=function(t,e){return m(t.hu,e.hu)||nt.At(t.key,e.key)},t}(),Ai=function(){function t(t,e){this.To=t,this.Io=e,this.Ra=[],this.lu=1,this._u=new Ze(Pi.eu)}return t.prototype.Ro=function(t){return or.resolve(0===this.Ra.length)},t.prototype.Po=function(t,e,n,r){var o=this.lu;this.lu++,this.Ra.length>0&&this.Ra[this.Ra.length-1];var i=new Pr(o,e,n,r);this.Ra.push(i);for(var s=0,a=r;s<a.length;s++){var u=a[s];this._u=this._u.add(new Pi(u.key,o)),this.To.fo(t,u.key.path.yt())}return or.resolve(i)},t.prototype.yo=function(t,e){return or.resolve(this.fu(e))},t.prototype.po=function(t,e){var n=e+1,r=this.du(n),o=r<0?0:r;return or.resolve(this.Ra.length>o?this.Ra[o]:null)},t.prototype.bo=function(){return or.resolve(0===this.Ra.length?-1:this.lu-1)},t.prototype.vo=function(t){return or.resolve(this.Ra.slice())},t.prototype.So=function(t,e){var n=this,r=new Pi(e,0),o=new Pi(e,Number.POSITIVE_INFINITY),i=[];return this._u.Qe([r,o],(function(t){var e=n.fu(t.hu);i.push(e)})),or.resolve(i)},t.prototype.Do=function(t,e){var n=this,r=new Ze(m);return e.forEach((function(t){var e=new Pi(t,0),o=new Pi(t,Number.POSITIVE_INFINITY);n._u.Qe([e,o],(function(t){r=r.add(t.hu)}))})),or.resolve(this.wu(r))},t.prototype.xo=function(t,e){var n=e.path,r=n.length+1,o=n;nt.qt(o)||(o=o.child(""));var i=new Pi(new nt(o),0),s=new Ze(m);return this._u.Ke((function(t){var e=t.key.path;return!!n.vt(e)&&(e.length===r&&(s=s.add(t.hu)),!0)}),i),or.resolve(this.wu(s))},t.prototype.wu=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.fu(t);null!==r&&n.push(r)})),n},t.prototype.No=function(t,e){var n=this;f(0===this.Eu(e.batchId,"removed")),this.Ra.shift();var r=this._u;return or.forEach(e.mutations,(function(o){var i=new Pi(o.key,e.batchId);return r=r.delete(i),n.Io.Oo(t,o.key)})).next((function(){n._u=r}))},t.prototype.Fo=function(t){},t.prototype.Mo=function(t,e){var n=new Pi(e,0),r=this._u.We(n);return or.resolve(e.isEqual(r&&r.key))},t.prototype.ko=function(t){return this.Ra.length,or.resolve()},t.prototype.Eu=function(t,e){return this.du(t)},t.prototype.du=function(t){return 0===this.Ra.length?0:t-this.Ra[0].batchId},t.prototype.fu=function(t){var e=this.du(t);return e<0||e>=this.Ra.length?null:this.Ra[e]},t}(),Ii=function(){function t(t,e){this.To=t,this.Tu=e,this.docs=new Xe(nt.At),this.size=0}return t.prototype.Er=function(t,e,n){var r=e.key,o=this.docs.get(r),i=o?o.size:0,s=this.Tu(e);return this.docs=this.docs.Ie(r,{Ir:e,size:s,readTime:n}),this.size+=s-i,this.To.fo(t,r.path.yt())},t.prototype.mr=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Ar=function(t,e){var n=this.docs.get(e);return or.resolve(n?n.Ir:null)},t.prototype.getEntries=function(t,e){var n=this,r=rn();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ie(t,e?e.Ir:null)})),or.resolve(r)},t.prototype.Pc=function(t,e,n){for(var r=sn(),o=new nt(e.path.child("")),i=this.docs.Ve(o);i.Ce();){var s=i.De(),a=s.key,u=s.value,l=u.Ir,c=u.readTime;if(!e.path.vt(a.path))break;c.u(n)<=0||l instanceof At&&he(e,l)&&(r=r.Ie(l.key,l))}return or.resolve(r)},t.prototype.Iu=function(t,e){return or.forEach(this.docs,(function(t){return e(t)}))},t.prototype.lc=function(t){return new Di(this)},t.prototype.dc=function(t){return or.resolve(this.size)},t}(),Di=function(t){function e(e){var n=this;return(n=t.call(this)||this).gc=e,n}return Object(s.c)(e,t),e.prototype.yr=function(t){var e=this,n=[];return this._r.forEach((function(r,o){o&&o.Ir?n.push(e.gc.Er(t,o.Ir,e.wr(r))):e.gc.mr(r)})),or.hs(n)},e.prototype.Rr=function(t,e){return this.gc.Ar(t,e)},e.prototype.Pr=function(t,e){return this.gc.getEntries(t,e)},e}(Dr),Ni=function(){function t(t){this.persistence=t,this.mu=new Ir((function(t){return kt(t)}),Lt),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.Au=0,this.Ru=new Ti,this.targetCount=0,this.Pu=Ho.Bo()}return t.prototype.Un=function(t,e){return this.mu.forEach((function(t,n){return e(n)})),or.resolve()},t.prototype.Wo=function(t){return or.resolve(this.lastRemoteSnapshotVersion)},t.prototype.jo=function(t){return or.resolve(this.Au)},t.prototype.Uo=function(t){return this.highestTargetId=this.Pu.next(),or.resolve(this.highestTargetId)},t.prototype.Go=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Au&&(this.Au=e),or.resolve()},t.prototype.Ho=function(t){this.mu.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Pu=new Ho(e),this.highestTargetId=e),t.sequenceNumber>this.Au&&(this.Au=t.sequenceNumber)},t.prototype.zo=function(t,e){return this.Ho(e),this.targetCount+=1,or.resolve()},t.prototype.Yo=function(t,e){return this.Ho(e),or.resolve()},t.prototype.Xo=function(t,e){return this.mu.delete(e.target),this.Ru.cu(e.targetId),this.targetCount-=1,or.resolve()},t.prototype.Br=function(t,e,n){var r=this,o=0,i=[];return this.mu.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.mu.delete(s),i.push(r.Zo(t,a.targetId)),o++)})),or.hs(i).next((function(){return o}))},t.prototype.tc=function(t){return or.resolve(this.targetCount)},t.prototype.ec=function(t,e){var n=this.mu.get(e)||null;return or.resolve(n)},t.prototype.nc=function(t,e,n){return this.Ru.iu(e,n),or.resolve()},t.prototype.ic=function(t,e,n){this.Ru.ou(e,n);var r=this.persistence.Io,o=[];return r&&e.forEach((function(e){o.push(r.Oo(t,e))})),or.hs(o)},t.prototype.Zo=function(t,e){return this.Ru.cu(e),or.resolve()},t.prototype.oc=function(t,e){var n=this.Ru.uu(e);return or.resolve(n)},t.prototype.Mo=function(t,e){return or.resolve(this.Ru.Mo(e))},t}(),xi=function(){function t(t,e){var n=this;this.yu={},this.Fc=new Rr(0),this.Oc=!1,this.Oc=!0,this.Io=t(this),this.Qc=new Ni(this),this.To=new Do,this.Kc=function(t,e){return new Ii(t,(function(t){return n.Io.gu(t)}))}(this.To),this.fe=new yo(e),this.Wc=new Si(this.fe)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$=function(){return this.Oc=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Nr",{get:function(){return this.Oc},enumerable:!1,configurable:!0}),t.prototype.Xc=function(){},t.prototype.Zc=function(){},t.prototype.Ia=function(){return this.To},t.prototype.Ta=function(t){var e=this.yu[t.I()];return e||(e=new Ai(this.To,this.Io),this.yu[t.I()]=e),e},t.prototype.ac=function(){return this.Qc},t.prototype._c=function(){return this.Kc},t.prototype.ma=function(){return this.Wc},t.prototype.runTransaction=function(t,e,n){var r=this;l("MemoryPersistence","Starting transaction:",t);var o=new ki(this.Fc.next());return this.Io.Vu(),n(o).next((function(t){return r.Io.pu(o).next((function(){return t}))})).cs().then((function(t){return o.ki(),t}))},t.prototype.bu=function(t,e){return or.ls(Object.values(this.yu).map((function(n){return function(){return n.Mo(t,e)}})))},t}(),ki=function(t){function e(e){var n=this;return(n=t.call(this)||this).oo=e,n}return Object(s.c)(e,t),e}(Er),Li=function(){function t(t){this.persistence=t,this.vu=new Ti,this.Su=null}return t.Du=function(e){return new t(e)},Object.defineProperty(t.prototype,"Cu",{get:function(){if(this.Su)return this.Su;throw d()},enumerable:!1,configurable:!0}),t.prototype.sc=function(t,e,n){return this.vu.sc(n,e),this.Cu.delete(n.toString()),or.resolve()},t.prototype.rc=function(t,e,n){return this.vu.rc(n,e),this.Cu.add(n.toString()),or.resolve()},t.prototype.Oo=function(t,e){return this.Cu.add(e.toString()),or.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.vu.cu(e.targetId).forEach((function(t){return n.Cu.add(t.toString())}));var r=this.persistence.ac();return r.oc(t,e.targetId).next((function(t){t.forEach((function(t){return n.Cu.add(t.toString())}))})).next((function(){return r.Xo(t,e)}))},t.prototype.Vu=function(){this.Su=new Set},t.prototype.pu=function(t){var e=this,n=this.persistence._c().lc();return or.forEach(this.Cu,(function(r){var o=nt.Lt(r);return e.xu(t,o).next((function(t){t||n.mr(o)}))})).next((function(){return e.Su=null,n.apply(t)}))},t.prototype.fc=function(t,e){var n=this;return this.xu(t,e).next((function(t){t?n.Cu.delete(e.toString()):n.Cu.add(e.toString())}))},t.prototype.gu=function(t){return 0},t.prototype.xu=function(t,e){var n=this;return or.ls([function(){return or.resolve(n.vu.Mo(e))},function(){return n.persistence.ac().Mo(t,e)},function(){return n.persistence.bu(t,e)}])},t}();function Fi(t,e){return"firestore_clients_"+t+"_"+e}function Mi(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.T()&&(r+="_"+e.uid),r}function ji(t,e){return"firestore_targets_"+t+"_"+e}var Vi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Nu=function(e,n,r){var o=JSON.parse(r),i="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error),s=void 0;return i&&o.error&&(i="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(s=new _(o.error.code,o.error.message)),i?new t(e,n,o.state,s):(c("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Gi=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Nu=function(e,n){var r=JSON.parse(n),o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),i=void 0;return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(i=new _(r.error.code,r.error.message)),o?new t(e,r.state,i):(c("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Wi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Nu=function(e,n){for(var r=JSON.parse(n),o="object"==typeof r&&r.activeTargetIds instanceof Array,i=hn(),s=0;o&&s<r.activeTargetIds.length;++s)o=W(r.activeTargetIds[s]),i=i.add(r.activeTargetIds[s]);return o?new t(e,i):(c("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Hi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Nu=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(c("SharedClientState","Failed to parse online state: "+e),null)},t}(),Bi=function(){function t(){this.activeTargetIds=hn()}return t.prototype.Ou=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ku=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fu=function(){var t={activeTargetIds:this.activeTargetIds.Dt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ui=function(){function t(t,e,n,r,o){this.window=t,this.js=e,this.persistenceKey=n,this.Mu=r,this.Lu=null,this.$u=null,this.Hi=null,this.Bu=this.qu.bind(this),this.Uu=new Xe(m),this.Nr=!1,this.Qu=[];var i=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ku=Fi(this.persistenceKey,this.Mu),this.Wu=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Uu=this.Uu.Ie(this.Mu,new Bi),this.ju=new RegExp("^firestore_clients_"+i+"_([^_]*)$"),this.Gu=new RegExp("^firestore_mutations_"+i+"_(\\d+)(?:_(.*))?$"),this.zu=new RegExp("^firestore_targets_"+i+"_(\\d+)$"),this.Hu=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ju=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Bu)}return t.G=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(s.b)(this,void 0,void 0,(function(){var t,e,n,r,o,i,a,u,l,c,p,h=this;return Object(s.d)(this,(function(s){switch(s.label){case 0:return[4,this.Lu.Ea()];case 1:for(t=s.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Mu&&(o=this.getItem(Fi(this.persistenceKey,r)))&&(i=Wi.Nu(r,o))&&(this.Uu=this.Uu.Ie(i.clientId,i));for(this.Yu(),(a=this.storage.getItem(this.Hu))&&(u=this.Xu(a))&&this.Zu(u),l=0,c=this.Qu;l<c.length;l++)p=c[l],this.qu(p);return this.Qu=[],this.window.addEventListener("unload",(function(){return h.$()})),this.Nr=!0,[2]}}))}))},t.prototype.Xi=function(t){this.setItem(this.Wu,JSON.stringify(t))},t.prototype.th=function(){return this.eh(this.Uu)},t.prototype.nh=function(t){var e=!1;return this.Uu.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.sh=function(t){this.ih(t,"pending")},t.prototype.rh=function(t,e,n){this.ih(t,e,n),this.oh(t)},t.prototype.ah=function(t){var e="not-current";if(this.nh(t)){var n=this.storage.getItem(ji(this.persistenceKey,t));if(n){var r=Gi.Nu(t,n);r&&(e=r.state)}}return this.uh.Ou(t),this.Yu(),e},t.prototype.hh=function(t){this.uh.ku(t),this.Yu()},t.prototype.lh=function(t){return this.uh.activeTargetIds.has(t)},t.prototype._h=function(t){this.removeItem(ji(this.persistenceKey,t))},t.prototype.fh=function(t,e,n){this.dh(t,e,n)},t.prototype.wh=function(t,e,n){var r=this;e.forEach((function(t){r.oh(t)})),this.currentUser=t,n.forEach((function(t){r.sh(t)}))},t.prototype.Eh=function(t){this.Th(t)},t.prototype.Ih=function(){this.mh()},t.prototype.$=function(){this.Nr&&(this.window.removeEventListener("storage",this.Bu),this.removeItem(this.Ku),this.Nr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return l("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){l("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){l("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.qu=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(l("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ku)return void c("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.ea((function(){return Object(s.b)(e,void 0,void 0,(function(){var t,e,r,o,i,a;return Object(s.d)(this,(function(s){if(this.Nr){if(null!==n.key)if(this.ju.test(n.key)){if(null==n.newValue)return t=this.Ah(n.key),[2,this.Rh(t,null)];if(e=this.Ph(n.key,n.newValue))return[2,this.Rh(e.clientId,e)]}else if(this.Gu.test(n.key)){if(null!==n.newValue&&(r=this.yh(n.key,n.newValue)))return[2,this.gh(r)]}else if(this.zu.test(n.key)){if(null!==n.newValue&&(o=this.Vh(n.key,n.newValue)))return[2,this.ph(o)]}else if(n.key===this.Hu){if(null!==n.newValue&&(i=this.Xu(n.newValue)))return[2,this.Zu(i)]}else if(n.key===this.Wu)(a=function(t){var e=Rr.Zi;if(null!=t)try{var n=JSON.parse(t);f("number"==typeof n),e=n}catch(t){c("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Rr.Zi&&this.Hi(a);else if(n.key===this.Ju)return[2,this.Lu.bh()]}else this.Qu.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"uh",{get:function(){return this.Uu.get(this.Mu)},enumerable:!1,configurable:!0}),t.prototype.Yu=function(){this.setItem(this.Ku,this.uh.Fu())},t.prototype.ih=function(t,e,n){var r=new Vi(this.currentUser,t,e,n),o=Mi(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Fu())},t.prototype.oh=function(t){var e=Mi(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Th=function(t){var e={clientId:this.Mu,onlineState:t};this.storage.setItem(this.Hu,JSON.stringify(e))},t.prototype.dh=function(t,e,n){var r=ji(this.persistenceKey,t),o=new Gi(t,e,n);this.setItem(r,o.Fu())},t.prototype.mh=function(){this.setItem(this.Ju,"value-not-used")},t.prototype.Ah=function(t){var e=this.ju.exec(t);return e?e[1]:null},t.prototype.Ph=function(t,e){var n=this.Ah(t);return Wi.Nu(n,e)},t.prototype.yh=function(t,e){var n=this.Gu.exec(t),r=Number(n[1]),o=void 0!==n[2]?n[2]:null;return Vi.Nu(new A(o),r,e)},t.prototype.Vh=function(t,e){var n=this.zu.exec(t),r=Number(n[1]);return Gi.Nu(r,e)},t.prototype.Xu=function(t){return Hi.Nu(t)},t.prototype.gh=function(t){return Object(s.b)(this,void 0,void 0,(function(){return Object(s.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.Lu.Sh(t.batchId,t.state,t.error)]:(l("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.ph=function(t){return this.Lu.Dh(t.targetId,t.state,t.error)},t.prototype.Rh=function(t,e){var n=this,r=e?this.Uu.Ie(t,e):this.Uu.remove(t),o=this.eh(this.Uu),i=this.eh(r),s=[],a=[];return i.forEach((function(t){o.has(t)||s.push(t)})),o.forEach((function(t){i.has(t)||a.push(t)})),this.Lu.Ch(s,a).then((function(){n.Uu=r}))},t.prototype.Zu=function(t){this.Uu.get(t.clientId)&&this.$u(t.onlineState)},t.prototype.eh=function(t){var e=hn();return t.forEach((function(t,n){e=e.je(n.activeTargetIds)})),e},t}(),zi=function(){function t(){this.xh=new Bi,this.Nh={},this.$u=null,this.Hi=null}return t.prototype.sh=function(t){},t.prototype.rh=function(t,e,n){},t.prototype.ah=function(t){return this.xh.Ou(t),this.Nh[t]||"not-current"},t.prototype.fh=function(t,e,n){this.Nh[t]=e},t.prototype.hh=function(t){this.xh.ku(t)},t.prototype.lh=function(t){return this.xh.activeTargetIds.has(t)},t.prototype._h=function(t){delete this.Nh[t]},t.prototype.th=function(){return this.xh.activeTargetIds},t.prototype.nh=function(t){return this.xh.activeTargetIds.has(t)},t.prototype.start=function(){return this.xh=new Bi,Promise.resolve()},t.prototype.wh=function(t,e,n){},t.prototype.Eh=function(t){},t.prototype.$=function(){},t.prototype.Xi=function(t){},t.prototype.Ih=function(){},t}();function qi(){return"undefined"!=typeof window?window:null}function Ki(){return"undefined"!=typeof document?document:null}var Yi=function(){function t(t,e){this.ks=t,this.$u=e,this.state="Unknown",this.Fh=0,this.Oh=null,this.kh=!0}return t.prototype.Mh=function(){var t=this;0===this.Fh&&(this.Lh("Unknown"),this.Oh=this.ks.ni("online_state_timeout",1e4,(function(){return t.Oh=null,t.$h("Backend didn't respond within 10 seconds."),t.Lh("Offline"),Promise.resolve()})))},t.prototype.Bh=function(t){"Online"===this.state?this.Lh("Unknown"):(this.Fh++,this.Fh>=1&&(this.qh(),this.$h("Connection failed 1 times. Most recent error: "+t.toString()),this.Lh("Offline")))},t.prototype.set=function(t){this.qh(),this.Fh=0,"Online"===t&&(this.kh=!1),this.Lh(t)},t.prototype.Lh=function(t){t!==this.state&&(this.state=t,this.$u(t))},t.prototype.$h=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.kh?(c(e),this.kh=!1):l("OnlineStateTracker",e)},t.prototype.qh=function(){null!==this.Oh&&(this.Oh.cancel(),this.Oh=null)},t}(),Qi=function(t,e,n,r,o){var i=this;this.Uh=t,this.Qh=e,this.ks=n,this.Kh={},this.Wh=[],this.jh=new Map,this.Gh=new Set,this.zh=[],this.Hh=o,this.Hh.L((function(t){n.Ws((function(){return Object(s.b)(i,void 0,void 0,(function(){return Object(s.d)(this,(function(t){switch(t.label){case 0:return os(this)?(l("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(s.b)(this,void 0,void 0,(function(){var e;return Object(s.d)(this,(function(n){switch(n.label){case 0:return(e=g(t)).Gh.add(4),[4,$i(e)];case 1:return n.sent(),e.Jh.set("Unknown"),e.Gh.delete(4),[4,Xi(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Jh=new Yi(n,r)};function Xi(t){return Object(s.b)(this,void 0,void 0,(function(){var e,n;return Object(s.d)(this,(function(r){switch(r.label){case 0:if(!os(t))return[3,4];e=0,n=t.zh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function $i(t){return Object(s.b)(this,void 0,void 0,(function(){var e,n;return Object(s.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.zh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Ji(t,e){var n=g(t);n.jh.has(e.targetId)||(n.jh.set(e.targetId,e),rs(n)?ns(n):bs(n).li()&&ts(n,e))}function Zi(t,e){var n=g(t),r=bs(n);n.jh.delete(e),r.li()&&es(n,e),0===n.jh.size&&(r.li()?r.di():os(n)&&n.Jh.set("Unknown"))}function ts(t,e){t.Yh.Dn(e.targetId),bs(t).gi(e)}function es(t,e){t.Yh.Dn(e),bs(t).Vi(e)}function ns(t){t.Yh=new En({Xn:function(e){return t.Kh.Xn(e)},Zn:function(e){return t.jh.get(e)||null}}),bs(t).start(),t.Jh.Mh()}function rs(t){return os(t)&&!bs(t).hi()&&t.jh.size>0}function os(t){return 0===g(t).Gh.size}function is(t){t.Yh=void 0}function ss(t){return Object(s.b)(this,void 0,void 0,(function(){return Object(s.d)(this,(function(e){return t.jh.forEach((function(e,n){ts(t,e)})),[2]}))}))}function as(t,e){return Object(s.b)(this,void 0,void 0,(function(){return Object(s.d)(this,(function(n){return is(t),rs(t)?(t.Jh.Bh(e),ns(t)):t.Jh.set("Unknown"),[2]}))}))}function us(t,e,n){return Object(s.b)(this,void 0,void 0,(function(){var r,o,i;return Object(s.d)(this,(function(a){switch(a.label){case 0:if(t.Jh.set("Online"),!(e instanceof wn&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(s.b)(this,void 0,void 0,(function(){var n,r,o,i;return Object(s.d)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,o=e.targetIds,s.label=1;case 1:return r<o.length?(i=o[r],t.jh.has(i)?[4,t.Kh.Xh(i,n)]:[3,3]):[3,5];case 2:s.sent(),t.jh.delete(i),t.Yh.removeTarget(i),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),l("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,ls(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof mn?t.Yh.Ln(e):e instanceof bn?t.Yh.jn(e):t.Yh.qn(e),n.isEqual($.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,fi(t.Uh)];case 8:return o=a.sent(),n.u(o)>=0?[4,function(t,e){var n=t.Yh.Hn(e);return n.rn.forEach((function(n,r){if(n.resumeToken.o()>0){var o=t.jh.get(r);o&&t.jh.set(r,o.ae(n.resumeToken,e))}})),n.on.forEach((function(e){var n=t.jh.get(e);if(n){t.jh.set(e,n.ae(C.h,n.oe)),es(t,e);var r=new ge(n.target,e,1,n.sequenceNumber);ts(t,r)}})),t.Kh.Zh(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return l("RemoteStore","Failed to raise snapshot:",i=a.sent()),[4,ls(t,i)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function ls(t,e,n){return Object(s.b)(this,void 0,void 0,(function(){var r=this;return Object(s.d)(this,(function(o){switch(o.label){case 0:if(!lr(e))throw e;return t.Gh.add(1),[4,$i(t)];case 1:return o.sent(),t.Jh.set("Offline"),n||(n=function(){return fi(t.Uh)}),t.ks.ea((function(){return Object(s.b)(r,void 0,void 0,(function(){return Object(s.d)(this,(function(e){switch(e.label){case 0:return l("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Gh.delete(1),[4,Xi(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function cs(t,e){return e().catch((function(n){return ls(t,n,e)}))}function ps(t){return Object(s.b)(this,void 0,void 0,(function(){var e,n,r,o,i;return Object(s.d)(this,(function(s){switch(s.label){case 0:e=g(t),n=ws(e),r=e.Wh.length>0?e.Wh[e.Wh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return os(t)&&t.Wh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,yi(e.Uh,r)];case 3:return null===(o=s.sent())?(0===e.Wh.length&&n.di(),[3,7]):(r=o.batchId,function(t,e){t.Wh.push(e);var n=ws(t);n.li()&&n.bi&&n.vi(e.mutations)}(e,o),[3,6]);case 4:return i=s.sent(),[4,ls(e,i)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return hs(e)&&ds(e),[2]}}))}))}function hs(t){return os(t)&&!ws(t).hi()&&t.Wh.length>0}function ds(t){ws(t).start()}function fs(t){return Object(s.b)(this,void 0,void 0,(function(){return Object(s.d)(this,(function(e){return ws(t).Ci(),[2]}))}))}function gs(t){return Object(s.b)(this,void 0,void 0,(function(){var e,n,r,o;return Object(s.d)(this,(function(i){for(e=ws(t),n=0,r=t.Wh;n<r.length;n++)o=r[n],e.vi(o.mutations);return[2]}))}))}function vs(t,e,n){return Object(s.b)(this,void 0,void 0,(function(){var r,o;return Object(s.d)(this,(function(i){switch(i.label){case 0:return r=t.Wh.shift(),o=Ar.from(r,e,n),[4,cs(t,(function(){return t.Kh.tl(o)}))];case 1:return i.sent(),[4,ps(t)];case 2:return i.sent(),[2]}}))}))}function ys(t,e){return Object(s.b)(this,void 0,void 0,(function(){return Object(s.d)(this,(function(n){switch(n.label){case 0:return e&&ws(t).bi?[4,function(t,e){return Object(s.b)(this,void 0,void 0,(function(){var n,r;return Object(s.d)(this,(function(o){switch(o.label){case 0:return z(r=e.code)&&r!==E.ABORTED?(n=t.Wh.shift(),ws(t).fi(),[4,cs(t,(function(){return t.Kh.el(n.batchId,e)}))]):[3,3];case 1:return o.sent(),[4,ps(t)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return hs(t)&&ds(t),[2]}}))}))}function ms(t,e){return Object(s.b)(this,void 0,void 0,(function(){var n;return Object(s.d)(this,(function(r){switch(r.label){case 0:return n=g(t),e?(n.Gh.delete(2),[4,Xi(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Gh.add(2),[4,$i(n)]);case 3:r.sent(),n.Jh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function bs(t){var e=this;return t.nl||(t.nl=function(t,e,n){var r=g(t);return r.Ni(),new mr(e,r.ri,r.credentials,r.fe,n)}(t.Qh,t.ks,{Y:ss.bind(null,t),Z:as.bind(null,t),yi:us.bind(null,t)}),t.zh.push((function(n){return Object(s.b)(e,void 0,void 0,(function(){return Object(s.d)(this,(function(e){switch(e.label){case 0:return n?(t.nl.fi(),rs(t)?ns(t):t.Jh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.nl.stop()];case 2:e.sent(),is(t),e.label=3;case 3:return[2]}}))}))}))),t.nl}function ws(t){var e=this;return t.sl||(t.sl=function(t,e,n){var r=g(t);return r.Ni(),new br(e,r.ri,r.credentials,r.fe,n)}(t.Qh,t.ks,{Y:fs.bind(null,t),Z:ys.bind(null,t),Di:gs.bind(null,t),Si:vs.bind(null,t)}),t.zh.push((function(n){return Object(s.b)(e,void 0,void 0,(function(){return Object(s.d)(this,(function(e){switch(e.label){case 0:return n?(t.sl.fi(),[4,ps(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.sl.stop()];case 3:e.sent(),t.Wh.length>0&&(l("RemoteStore","Stopping write stream with "+t.Wh.length+" pending writes"),t.Wh=[]),e.label=4;case 4:return[2]}}))}))}))),t.sl}var Cs=function(){this.il=void 0,this.listeners=[]},Es=function(){this.queries=new Ir((function(t){return ce(t)}),le),this.onlineState="Unknown",this.rl=new Set};function _s(t,e){return Object(s.b)(this,void 0,void 0,(function(){var n,r,o,i,a,u,l;return Object(s.d)(this,(function(s){switch(s.label){case 0:if(n=g(t),r=e.query,o=!1,(i=n.queries.get(r))||(o=!0,i=new Cs),!o)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),a=i,[4,n.ol(r)];case 2:return a.il=s.sent(),[3,4];case 3:return u=s.sent(),l=gr(u,"Initialization of query '"+pe(e.query)+"' failed"),[2,void e.onError(l)];case 4:return n.queries.set(r,i),i.listeners.push(e),e.cl(n.onlineState),i.il&&e.al(i.il)&&Ts(n),[2]}}))}))}function Os(t,e){return Object(s.b)(this,void 0,void 0,(function(){var n,r,o,i,a;return Object(s.d)(this,(function(s){return n=g(t),r=e.query,o=!1,(i=n.queries.get(r))&&(a=i.listeners.indexOf(e))>=0&&(i.listeners.splice(a,1),o=0===i.listeners.length),o?[2,(n.queries.delete(r),n.ul(r))]:[2]}))}))}function Rs(t,e){for(var n=g(t),r=!1,o=0,i=e;o<i.length;o++){var s=i[o],a=s.query,u=n.queries.get(a);if(u){for(var l=0,c=u.listeners;l<c.length;l++)c[l].al(s)&&(r=!0);u.il=s}}r&&Ts(n)}function Ss(t,e,n){var r=g(t),o=r.queries.get(e);if(o)for(var i=0,s=o.listeners;i<s.length;i++)s[i].onError(n);r.queries.delete(e)}function Ts(t){t.rl.forEach((function(t){t.next()}))}var Ps=function(){function t(t,e,n){this.query=t,this.hl=e,this.ll=!1,this._l=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.al=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var o=r[n];3!==o.type&&e.push(o)}t=new gn(t.query,t.docs,t.Ze,e,t.tn,t.fromCache,t.en,!0)}var i=!1;return this.ll?this.fl(t)&&(this.hl.next(t),i=!0):this.dl(t,this.onlineState)&&(this.wl(t),i=!0),this._l=t,i},t.prototype.onError=function(t){this.hl.error(t)},t.prototype.cl=function(t){this.onlineState=t;var e=!1;return this._l&&!this.ll&&this.dl(this._l,t)&&(this.wl(this._l),e=!0),e},t.prototype.dl=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.El&&n||t.docs.bt()&&"Offline"!==e)},t.prototype.fl=function(t){if(t.docChanges.length>0)return!0;var e=this._l&&this._l.hasPendingWrites!==t.hasPendingWrites;return!(!t.en&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.wl=function(t){t=gn.sn(t.query,t.docs,t.tn,t.fromCache),this.ll=!0,this.hl.next(t)},t}(),As=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.Tl=function(){return"metadata"in this.payload},t}(),Is=function(){function t(t){this.fe=t}return t.prototype.Ha=function(t){return Ln(this.fe,t)},t.prototype.Ja=function(t){return t.metadata.exists?Wn(this.fe,t.document,!1):new It(this.Ha(t.metadata.name),this.Ya(t.metadata.readTime))},t.prototype.Ya=function(t){return Dn(t)},t}(),Ds=function(){function t(t,e,n){this.Il=t,this.Uh=e,this.fe=n,this.queries=[],this.documents=[],this.progress=Ns(t)}return t.prototype.ml=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.Al=function(t){for(var e=new Map,n=new Is(this.fe),r=0,o=t;r<o.length;r++){var i=o[r];if(i.metadata.queries)for(var s=n.Ha(i.metadata.name),a=0,u=i.metadata.queries;a<u.length;a++){var l=u[a],c=(e.get(l)||cn()).add(s);e.set(l,c)}}return e},t.prototype.complete=function(){return Object(s.b)(this,void 0,void 0,(function(){var t,e,n,r,o;return Object(s.d)(this,(function(i){switch(i.label){case 0:return[4,Oi(this.Uh,new Is(this.fe),this.documents,this.Il.id)];case 1:t=i.sent(),e=this.Al(this.documents),n=0,r=this.queries,i.label=2;case 2:return n<r.length?(o=r[n],[4,Ri(this.Uh,o,e.get(o.name))]):[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Tr(Object.assign({},this.progress),t))]}}))}))},t}();function Ns(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var xs=function(t){this.key=t},ks=function(t){this.key=t},Ls=function(){function t(t,e){this.query=t,this.Rl=e,this.Pl=null,this.ln=!1,this.yl=cn(),this.tn=cn(),this.gl=de(t),this.Vl=new dn(this.gl)}return Object.defineProperty(t.prototype,"pl",{get:function(){return this.Rl},enumerable:!1,configurable:!0}),t.prototype.bl=function(t,e){var n=this,r=e?e.vl:new fn,o=e?e.Vl:this.Vl,i=e?e.tn:this.tn,s=o,a=!1,u=ee(this.query)&&o.size===this.query.limit?o.last():null,l=ne(this.query)&&o.size===this.query.limit?o.first():null;if(t.Pe((function(t,e){var c=o.get(t),p=e instanceof At?e:null;p&&(p=he(n.query,p)?p:null);var h=!!c&&n.tn.has(c.key),d=!!p&&(p.Jt||n.tn.has(p.key)&&p.hasCommittedMutations),f=!1;c&&p?c.data().isEqual(p.data())?h!==d&&(r.track({type:3,doc:p}),f=!0):n.Sl(c,p)||(r.track({type:2,doc:p}),f=!0,(u&&n.gl(p,u)>0||l&&n.gl(p,l)<0)&&(a=!0)):!c&&p?(r.track({type:0,doc:p}),f=!0):c&&!p&&(r.track({type:1,doc:c}),f=!0,(u||l)&&(a=!0)),f&&(p?(s=s.add(p),i=d?i.add(t):i.delete(t)):(s=s.delete(t),i=i.delete(t)))})),ee(this.query)||ne(this.query))for(;s.size>this.query.limit;){var c=ee(this.query)?s.last():s.first();s=s.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{Vl:s,vl:r,La:a,tn:i}},t.prototype.Sl=function(t,e){return t.Jt&&e.hasCommittedMutations&&!e.Jt},t.prototype.yr=function(t,e,n){var r=this,o=this.Vl;this.Vl=t.Vl,this.tn=t.tn;var i=t.vl.Xe();i.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return d()}};return n(t)-n(e)}(t.type,e.type)||r.gl(t.doc,e.doc)})),this.Dl(n);var s=e?this.Cl():[],a=0===this.yl.size&&this.ln?1:0,u=a!==this.Pl;return this.Pl=a,0!==i.length||u?{snapshot:new gn(this.query,t.Vl,o,i,t.tn,0===a,u,!1),xl:s}:{xl:s}},t.prototype.cl=function(t){return this.ln&&"Offline"===t?(this.ln=!1,this.yr({Vl:this.Vl,vl:new fn,tn:this.tn,La:!1},!1)):{xl:[]}},t.prototype.Nl=function(t){return!this.Rl.has(t)&&!!this.Vl.has(t)&&!this.Vl.get(t).Jt},t.prototype.Dl=function(t){var e=this;t&&(t._n.forEach((function(t){return e.Rl=e.Rl.add(t)})),t.fn.forEach((function(t){})),t.dn.forEach((function(t){return e.Rl=e.Rl.delete(t)})),this.ln=t.ln)},t.prototype.Cl=function(){var t=this;if(!this.ln)return[];var e=this.yl;this.yl=cn(),this.Vl.forEach((function(e){t.Nl(e.key)&&(t.yl=t.yl.add(e.key))}));var n=[];return e.forEach((function(e){t.yl.has(e)||n.push(new ks(e))})),this.yl.forEach((function(t){e.has(t)||n.push(new xs(t))})),n},t.prototype.Fl=function(t){this.Rl=t.za,this.yl=cn();var e=this.bl(t.documents);return this.yr(e,!0)},t.prototype.Ol=function(){return gn.sn(this.query,this.Vl,this.tn,0===this.Pl)},t}(),Fs=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ms=function(t){this.key=t,this.kl=!1},js=function(){function t(t,e,n,r,o,i){this.Uh=t,this.Ml=e,this.Ll=n,this.$l=r,this.currentUser=o,this.Bl=i,this.ql={},this.Ul=new Ir((function(t){return ce(t)}),le),this.Ql=new Map,this.Kl=[],this.Wl=new Xe(nt.At),this.jl=new Map,this.Gl=new Ti,this.zl={},this.Hl=new Map,this.Jl=Ho.qo(),this.onlineState="Unknown",this.Yl=void 0}return Object.defineProperty(t.prototype,"Xl",{get:function(){return!0===this.Yl},enumerable:!1,configurable:!0}),t}();function Vs(t,e){return Object(s.b)(this,void 0,void 0,(function(){var n,r,o,i,a,u;return Object(s.d)(this,(function(s){switch(s.label){case 0:return n=fa(t),(i=n.Ul.get(e))?(r=i.targetId,n.$l.ah(r),o=i.view.Ol(),[3,4]):[3,1];case 1:return[4,mi(n.Uh,ae(e))];case 2:return a=s.sent(),u=n.$l.ah(a.targetId),r=a.targetId,[4,Gs(n,e,r,"current"===u)];case 3:o=s.sent(),n.Xl&&Ji(n.Ml,a),s.label=4;case 4:return[2,o]}}))}))}function Gs(t,e,n,r){return Object(s.b)(this,void 0,void 0,(function(){var o,i,a,u,l,c;return Object(s.d)(this,(function(p){switch(p.label){case 0:return t.Zl=function(e,n,r){return function(t,e,n,r){return Object(s.b)(this,void 0,void 0,(function(){var o,i,a;return Object(s.d)(this,(function(s){switch(s.label){case 0:return(o=e.view.bl(n)).La?[4,wi(t.Uh,e.query,!1).then((function(t){var n=t.documents;return e.view.bl(n,o)}))]:[3,2];case 1:o=s.sent(),s.label=2;case 2:return i=r&&r.rn.get(e.targetId),a=e.view.yr(o,t.Xl,i),[2,(Zs(t,e.targetId,a.xl),a.snapshot)]}}))}))}(t,e,n,r)},[4,wi(t.Uh,e,!0)];case 1:return o=p.sent(),i=new Ls(e,o.za),a=i.bl(o.documents),u=yn.hn(n,r&&"Offline"!==t.onlineState),l=i.yr(a,t.Xl,u),Zs(t,n,l.xl),c=new Fs(e,n,i),[2,(t.Ul.set(e,c),t.Ql.has(n)?t.Ql.get(n).push(e):t.Ql.set(n,[e]),l.snapshot)]}}))}))}function Ws(t,e){return Object(s.b)(this,void 0,void 0,(function(){var n,r,o;return Object(s.d)(this,(function(i){switch(i.label){case 0:return n=g(t),r=n.Ul.get(e),(o=n.Ql.get(r.targetId)).length>1?[2,(n.Ql.set(r.targetId,o.filter((function(t){return!le(t,e)}))),void n.Ul.delete(e))]:n.Xl?(n.$l.hh(r.targetId),n.$l.nh(r.targetId)?[3,2]:[4,bi(n.Uh,r.targetId,!1).then((function(){n.$l._h(r.targetId),Zi(n.Ml,r.targetId),$s(n,r.targetId)})).catch(Sr)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return $s(n,r.targetId),[4,bi(n.Uh,r.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))}function Hs(t,e,n){return Object(s.b)(this,void 0,void 0,(function(){var r,o,i,a;return Object(s.d)(this,(function(s){switch(s.label){case 0:r=ga(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=g(t),o=X.now(),i=e.reduce((function(t,e){return t.add(e.key)}),cn());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ka.Va(t,i).next((function(i){n=i;for(var s=[],a=0,u=e;a<u.length;a++){var l=u[a],c=je(l,n.get(l.key));null!=c&&s.push(new He(l.key,c,Tt(c.proto.mapValue),xe.exists(!0)))}return r.Ra.Po(t,o,s,e)}))})).then((function(t){var e=t.rr(n);return{batchId:t.batchId,_r:e}}))}(r.Uh,e)];case 2:return o=s.sent(),r.$l.sh(o.batchId),function(t,e,n){var r=t.zl[t.currentUser.I()];r||(r=new Xe(m)),r=r.Ie(e,n),t.zl[t.currentUser.I()]=r}(r,o.batchId,n),[4,na(r,o._r)];case 3:return s.sent(),[4,ps(r.Ml)];case 4:return s.sent(),[3,6];case 5:return i=s.sent(),a=gr(i,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Bs(t,e){return Object(s.b)(this,void 0,void 0,(function(){var n,r;return Object(s.d)(this,(function(o){switch(o.label){case 0:n=g(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,gi(n.Uh,e)];case 2:return r=o.sent(),e.rn.forEach((function(t,e){var r=n.jl.get(e);r&&(f(t._n.size+t.fn.size+t.dn.size<=1),t._n.size>0?r.kl=!0:t.fn.size>0?f(r.kl):t.dn.size>0&&(f(r.kl),r.kl=!1))})),[4,na(n,r,e)];case 3:return o.sent(),[3,6];case 4:return[4,Sr(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Us(t,e,n){var r=g(t);if(r.Xl&&0===n||!r.Xl&&1===n){var o=[];r.Ul.forEach((function(t,n){var r=n.view.cl(e);r.snapshot&&o.push(r.snapshot)})),function(t,e){var n=g(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var o=0,i=n.listeners;o<i.length;o++)i[o].cl(e)&&(r=!0)})),r&&Ts(n)}(r.Ll,e),o.length&&r.ql.yi(o),r.onlineState=e,r.Xl&&r.$l.Eh(e)}}function zs(t,e,n){return Object(s.b)(this,void 0,void 0,(function(){var r,o,i,a,u,l;return Object(s.d)(this,(function(s){switch(s.label){case 0:return(r=g(t)).$l.fh(e,"rejected",n),o=r.jl.get(e),(i=o&&o.key)?(a=(a=new Xe(nt.At)).Ie(i,new It(i,$.min())),u=cn().add(i),l=new vn($.min(),new Map,new Ze(m),a,u),[4,Bs(r,l)]):[3,2];case 1:return s.sent(),r.Wl=r.Wl.remove(i),r.jl.delete(e),ea(r),[3,4];case 2:return[4,bi(r.Uh,e,!1).then((function(){return $s(r,e,n)})).catch(Sr)];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))}function qs(t,e){return Object(s.b)(this,void 0,void 0,(function(){var n,r,o;return Object(s.d)(this,(function(i){switch(i.label){case 0:n=g(t),r=e.batch.batchId,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,di(n.Uh,e)];case 2:return o=i.sent(),Xs(n,r,null),Qs(n,r),n.$l.rh(r,"acknowledged"),[4,na(n,o)];case 3:return i.sent(),[3,6];case 4:return[4,Sr(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Ks(t,e,n){return Object(s.b)(this,void 0,void 0,(function(){var r,o;return Object(s.d)(this,(function(i){switch(i.label){case 0:r=g(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,function(t,e){var n=g(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ra.yo(t,e).next((function(e){return f(null!==e),r=e.keys(),n.Ra.No(t,e)})).next((function(){return n.Ra.ko(t)})).next((function(){return n.Ka.Va(t,r)}))}))}(r.Uh,e)];case 2:return o=i.sent(),Xs(r,e,n),Qs(r,e),r.$l.rh(e,"rejected",n),[4,na(r,o)];case 3:return i.sent(),[3,6];case 4:return[4,Sr(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Ys(t,e){return Object(s.b)(this,void 0,void 0,(function(){var n,r,o,i,a;return Object(s.d)(this,(function(s){switch(s.label){case 0:os((n=g(t)).Ml)||l("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=g(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ra.bo(t)}))}(n.Uh)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((o=n.Hl.get(r)||[]).push(e),n.Hl.set(r,o),[3,4]);case 3:return i=s.sent(),a=gr(i,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function Qs(t,e){(t.Hl.get(e)||[]).forEach((function(t){t.resolve()})),t.Hl.delete(e)}function Xs(t,e,n){var r=g(t),o=r.zl[r.currentUser.I()];if(o){var i=o.get(e);i&&(n?i.reject(n):i.resolve(),o=o.remove(e)),r.zl[r.currentUser.I()]=o}}function $s(t,e,n){void 0===n&&(n=null),t.$l.hh(e);for(var r=0,o=t.Ql.get(e);r<o.length;r++){var i=o[r];t.Ul.delete(i),n&&t.ql.t_(i,n)}t.Ql.delete(e),t.Xl&&t.Gl.cu(e).forEach((function(e){t.Gl.Mo(e)||Js(t,e)}))}function Js(t,e){var n=t.Wl.get(e);null!==n&&(Zi(t.Ml,n),t.Wl=t.Wl.remove(e),t.jl.delete(n),ea(t))}function Zs(t,e,n){for(var r=0,o=n;r<o.length;r++){var i=o[r];i instanceof xs?(t.Gl.sc(i.key,e),ta(t,i)):i instanceof ks?(l("SyncEngine","Document no longer in limbo: "+i.key),t.Gl.rc(i.key,e),t.Gl.Mo(i.key)||Js(t,i.key)):d()}}function ta(t,e){var n=e.key;t.Wl.get(n)||(l("SyncEngine","New document in limbo: "+n),t.Kl.push(n),ea(t))}function ea(t){for(;t.Kl.length>0&&t.Wl.size<t.Bl;){var e=t.Kl.shift(),n=t.Jl.next();t.jl.set(n,new Ms(e)),t.Wl=t.Wl.Ie(e,n),Ji(t.Ml,new ge(ae(te(e.path)),n,2,Rr.Zi))}}function na(t,e,n){return Object(s.b)(this,void 0,void 0,(function(){var r,o,i,a;return Object(s.d)(this,(function(u){switch(u.label){case 0:return r=g(t),o=[],i=[],a=[],r.Ul.bt()?[3,3]:(r.Ul.forEach((function(t,s){a.push(r.Zl(s,e,n).then((function(t){if(t){r.Xl&&r.$l.fh(s.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=ui.Na(s.targetId,t);i.push(e)}})))})),[4,Promise.all(a)]);case 1:return u.sent(),r.ql.yi(o),[4,function(t,e){return Object(s.b)(this,void 0,void 0,(function(){var n,r,o,i,a,u,c,p,h;return Object(s.d)(this,(function(s){switch(s.label){case 0:n=g(t),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return or.forEach(e,(function(e){return or.forEach(e.Ca,(function(r){return n.persistence.Io.sc(t,e.targetId,r)})).next((function(){return or.forEach(e.xa,(function(r){return n.persistence.Io.rc(t,e.targetId,r)}))}))}))}))];case 2:return s.sent(),[3,4];case 3:if(!lr(r=s.sent()))throw r;return l("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(o=0,i=e;o<i.length;o++)a=i[o],u=a.targetId,a.fromCache||(c=n.Ba.get(u),p=c.oe,h=c.ue(p),n.Ba=n.Ba.Ie(u,h));return[2]}}))}))}(r.Uh,i)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function ra(t,e){return Object(s.b)(this,void 0,void 0,(function(){var n,r;return Object(s.d)(this,(function(o){switch(o.label){case 0:return(n=g(t)).currentUser.isEqual(e)?[3,3]:(l("SyncEngine","User change. New user:",e.I()),[4,hi(n.Uh,e)]);case 1:return r=o.sent(),n.currentUser=e,function(t,e){t.Hl.forEach((function(t){t.forEach((function(t){t.reject(new _(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Hl.clear()}(n),n.$l.wh(e,r.ja,r.Ga),[4,na(n,r.Wa)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}function oa(t,e){var n=g(t),r=n.jl.get(e);if(r&&r.kl)return cn().add(r.key);var o=cn(),i=n.Ql.get(e);if(!i)return o;for(var s=0,a=i;s<a.length;s++){var u=a[s],l=n.Ul.get(u);o=o.je(l.view.pl)}return o}function ia(t,e){return Object(s.b)(this,void 0,void 0,(function(){var n,r,o;return Object(s.d)(this,(function(i){switch(i.label){case 0:return[4,wi((n=g(t)).Uh,e.query,!0)];case 1:return r=i.sent(),o=e.view.Fl(r),[2,(n.Xl&&Zs(n,e.targetId,o.xl),o)]}}))}))}function sa(t){return Object(s.b)(this,void 0,void 0,(function(){var e;return Object(s.d)(this,(function(n){return[2,Ei((e=g(t)).Uh).then((function(t){return na(e,t)}))]}))}))}function aa(t,e,n,r){return Object(s.b)(this,void 0,void 0,(function(){var o,i;return Object(s.d)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=g(t),r=g(n.Ra);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Vo(t,e).next((function(e){return e?n.Ka.Va(t,e):or.resolve(null)}))}))}((o=g(t)).Uh,e)];case 1:return null===(i=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,ps(o.Ml)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Xs(o,e,r||null),Qs(o,e),function(t,e){g(g(t).Ra).Fo(e)}(o.Uh,e)):d(),s.label=4;case 4:return[4,na(o,i)];case 5:return s.sent(),[3,7];case 6:l("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function ua(t,e){return Object(s.b)(this,void 0,void 0,(function(){var n,r,o,i,a,u,l,c;return Object(s.d)(this,(function(s){switch(s.label){case 0:return fa(n=g(t)),ga(n),!0!==e||!0===n.Yl?[3,3]:(r=n.$l.th(),[4,la(n,r.Dt())]);case 1:return o=s.sent(),n.Yl=!0,[4,ms(n.Ml,!0)];case 2:for(s.sent(),i=0,a=o;i<a.length;i++)u=a[i],Ji(n.Ml,u);return[3,7];case 3:return!1!==e||!1===n.Yl?[3,7]:(l=[],c=Promise.resolve(),n.Ql.forEach((function(t,e){n.$l.lh(e)?l.push(e):c=c.then((function(){return $s(n,e),bi(n.Uh,e,!0)})),Zi(n.Ml,e)})),[4,c]);case 4:return s.sent(),[4,la(n,l)];case 5:return s.sent(),function(t){var e=g(t);e.jl.forEach((function(t,n){Zi(e.Ml,n)})),e.Gl.au(),e.jl=new Map,e.Wl=new Xe(nt.At)}(n),n.Yl=!1,[4,ms(n.Ml,!1)];case 6:s.sent(),s.label=7;case 7:return[2]}}))}))}function la(t,e,n){return Object(s.b)(this,void 0,void 0,(function(){var n,r,o,i,a,u,l,c,p,h,d,f,v,y;return Object(s.d)(this,(function(s){switch(s.label){case 0:n=g(t),r=[],o=[],i=0,a=e,s.label=1;case 1:return i<a.length?(u=a[i],l=void 0,(c=n.Ql.get(u))&&0!==c.length?[4,mi(n.Uh,ae(c[0]))]:[3,7]):[3,13];case 2:l=s.sent(),p=0,h=c,s.label=3;case 3:return p<h.length?(d=h[p],f=n.Ul.get(d),[4,ia(n,f)]):[3,6];case 4:(v=s.sent()).snapshot&&o.push(v.snapshot),s.label=5;case 5:return p++,[3,3];case 6:return[3,11];case 7:return[4,Ci(n.Uh,u)];case 8:return y=s.sent(),[4,mi(n.Uh,y)];case 9:return l=s.sent(),[4,Gs(n,ca(y),u,!1)];case 10:s.sent(),s.label=11;case 11:r.push(l),s.label=12;case 12:return i++,[3,1];case 13:return[2,(n.ql.yi(o),r)]}}))}))}function ca(t){return Zt(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function pa(t){var e=g(t);return g(g(e.Uh).persistence).Ea()}function ha(t,e,n,r){return Object(s.b)(this,void 0,void 0,(function(){var o,i,a;return Object(s.d)(this,(function(s){switch(s.label){case 0:return(o=g(t)).Yl?(l("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Ql.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ei(o.Uh)];case 3:return i=s.sent(),a=vn.un(e,"current"===n),[4,na(o,i,a)];case 4:return s.sent(),[3,8];case 5:return[4,bi(o.Uh,e,!0)];case 6:return s.sent(),$s(o,e,r),[3,8];case 7:d(),s.label=8;case 8:return[2]}}))}))}function da(t,e,n){return Object(s.b)(this,void 0,void 0,(function(){var r,o,i,a,u,c,p,h,d,f;return Object(s.d)(this,(function(g){switch(g.label){case 0:if(!(r=fa(t)).Yl)return[3,10];o=0,i=e,g.label=1;case 1:return o<i.length?(a=i[o],r.Ql.has(a)?(l("SyncEngine","Adding an already active target "+a),[3,5]):[4,Ci(r.Uh,a)]):[3,6];case 2:return u=g.sent(),[4,mi(r.Uh,u)];case 3:return c=g.sent(),[4,Gs(r,ca(u),c.targetId,!1)];case 4:g.sent(),Ji(r.Ml,c),g.label=5;case 5:return o++,[3,1];case 6:p=function(t){return Object(s.d)(this,(function(e){switch(e.label){case 0:return r.Ql.has(t)?[4,bi(r.Uh,t,!1).then((function(){Zi(r.Ml,t),$s(r,t)})).catch(Sr)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,d=n,g.label=7;case 7:return h<d.length?(f=d[h],[5,p(f)]):[3,10];case 8:g.sent(),g.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function fa(t){var e=g(t);return e.Ml.Kh.Zh=Bs.bind(null,e),e.Ml.Kh.Xn=oa.bind(null,e),e.Ml.Kh.Xh=zs.bind(null,e),e.ql.yi=Rs.bind(null,e.Ll),e.ql.t_=Ss.bind(null,e.Ll),e}function ga(t){var e=g(t);return e.Ml.Kh.tl=qs.bind(null,e),e.Ml.Kh.el=Ks.bind(null,e),e}function va(t,e,n){var r=g(t);(function(t,e,n){return Object(s.b)(this,void 0,void 0,(function(){var r,o,i,a,u,l;return Object(s.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=s.sent(),[4,function(t,e){var n=g(t),r=Dn(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(t){return n.Wc.ao(t,e.id)})).then((function(t){return!!t&&t.createTime.u(r)>=0}))}(t.Uh,r)];case 2:return s.sent()?[4,e.close()]:[3,4];case 3:return[2,(s.sent(),void n.e_(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n.n_(Ns(r)),o=new Ds(r,t.Uh,e.fe),[4,e.s_()];case 5:i=s.sent(),s.label=6;case 6:return i?[4,o.ml(i)]:[3,10];case 7:return(a=s.sent())&&n.n_(a),[4,e.s_()];case 8:i=s.sent(),s.label=9;case 9:return[3,6];case 10:return[4,o.complete()];case 11:return u=s.sent(),[4,na(t,u.tr,void 0)];case 12:return s.sent(),[4,function(t,e){var n=g(t);return n.persistence.runTransaction("Save bundle","readwrite",(function(t){return n.Wc.uo(t,e)}))}(t.Uh,r)];case 13:return s.sent(),n.e_(u.progress),[3,15];case 14:return p("SyncEngine","Loading bundle failed with "+(l=s.sent())),n.i_(l),[3,15];case 15:return[2]}}))}))})(r,e,n).then((function(){r.$l.Ih()}))}var ya=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(s.b)(this,void 0,void 0,(function(){return Object(s.d)(this,(function(e){switch(e.label){case 0:return this.fe=rr(t.rt.O),this.$l=this.r_(t),this.persistence=this.o_(t),[4,this.persistence.start()];case 1:return e.sent(),this.c_=this.a_(t),this.Uh=this.u_(t),[2]}}))}))},t.prototype.a_=function(t){return null},t.prototype.u_=function(t){return pi(this.persistence,new li,t.h_,this.fe)},t.prototype.o_=function(t){return new xi(Li.Du,this.fe)},t.prototype.r_=function(t){return new zi},t.prototype.terminate=function(){return Object(s.b)(this,void 0,void 0,(function(){return Object(s.d)(this,(function(t){switch(t.label){case 0:return this.c_&&this.c_.stop(),[4,this.$l.$()];case 1:return t.sent(),[4,this.persistence.$()];case 2:return t.sent(),[2]}}))}))},t}(),ma=function(t){function e(e,n,r){var o=this;return(o=t.call(this)||this).l_=e,o.cacheSizeBytes=n,o.forceOwnership=r,o.synchronizeTabs=!1,o}return Object(s.c)(e,t),e.prototype.initialize=function(e){return Object(s.b)(this,void 0,void 0,(function(){return Object(s.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,_i(this.Uh)];case 2:return n.sent(),[4,this.l_.initialize(this,e)];case 3:return n.sent(),[4,ga(this.l_.Lu)];case 4:return n.sent(),[4,ps(this.l_.Ml)];case 5:return n.sent(),[2]}}))}))},e.prototype.u_=function(t){return pi(this.persistence,new li,t.h_,this.fe)},e.prototype.a_=function(t){var e=this.persistence.Io.vr;return new kr(e,t.ks)},e.prototype.o_=function(t){var e=si(t.rt.O,t.rt.persistenceKey),n=void 0!==this.cacheSizeBytes?Or.Ki(this.cacheSizeBytes):Or.Gi;return new ri(this.synchronizeTabs,e,t.clientId,n,t.ks,qi(),Ki(),this.fe,this.$l,!!this.forceOwnership)},e.prototype.r_=function(t){return new zi},e}(ya),ba=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).l_=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(s.c)(e,t),e.prototype.initialize=function(e){return Object(s.b)(this,void 0,void 0,(function(){var n,r=this;return Object(s.d)(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.l_.Lu,this.$l instanceof Ui?(this.$l.Lu={Sh:aa.bind(null,n),Dh:ha.bind(null,n),Ch:da.bind(null,n),Ea:pa.bind(null,n),bh:sa.bind(null,n)},[4,this.$l.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.Yc((function(t){return Object(s.b)(r,void 0,void 0,(function(){return Object(s.d)(this,(function(e){switch(e.label){case 0:return[4,ua(this.l_.Lu,t)];case 1:return e.sent(),this.c_&&(t&&!this.c_.Nr?this.c_.start(this.Uh):t||this.c_.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},e.prototype.r_=function(t){var e=qi();if(!Ui.G(e))throw new _(E.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=si(t.rt.O,t.rt.persistenceKey);return new Ui(e,t.ks,n,t.clientId,t.h_)},e}(ma),wa=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(s.b)(this,void 0,void 0,(function(){var n=this;return Object(s.d)(this,(function(r){switch(r.label){case 0:return this.Uh?[3,2]:(this.Uh=t.Uh,this.$l=t.$l,this.Qh=this.__(e),this.Ml=this.f_(e),this.Ll=this.d_(e),this.Lu=this.w_(e,!t.synchronizeTabs),this.$l.$u=function(t){return Us(n.Lu,t,1)},this.Ml.Kh.E_=ra.bind(null,this.Lu),[4,ms(this.Ml,this.Lu.Xl)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.d_=function(t){return new Es},t.prototype.__=function(t){var e,n=rr(t.rt.O),r=(e=t.rt,new Q(e));return function(t,e,n){return new wr(t,e,n)}(t.credentials,r,n)},t.prototype.f_=function(t){var e,n,r,o,i,s=this;return e=this.Uh,n=this.Qh,r=t.ks,o=function(t){return Us(s.Lu,t,0)},i=j.G()?new j:new M,new Qi(e,n,r,o,i)},t.prototype.w_=function(t,e){return function(t,e,n,r,o,i,s){var a=new js(t,e,n,r,o,i);return s&&(a.Yl=!0),a}(this.Uh,this.Ml,this.Ll,this.$l,t.h_,t.Bl,e)},t.prototype.terminate=function(){return function(t){return Object(s.b)(this,void 0,void 0,(function(){var e;return Object(s.d)(this,(function(n){switch(n.label){case 0:return e=g(t),l("RemoteStore","RemoteStore shutting down."),e.Gh.add(5),[4,$i(e)];case 1:return n.sent(),e.Hh.$(),e.Jh.set("Unknown"),[2]}}))}))}(this.Ml)},t}();function Ca(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return Object(s.b)(this,void 0,void 0,(function(){var r;return Object(s.d)(this,(function(o){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]}))}))},cancel:function(){return Object(s.b)(this,void 0,void 0,(function(){return Object(s.d)(this,(function(t){return[2]}))}))},releaseLock:function(){}}}var Ea=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.T_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.T_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.I_=function(){this.muted=!0},t.prototype.T_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),_a=function(){function t(t,e){var n=this;this.m_=t,this.fe=e,this.metadata=new Y,this.buffer=new Uint8Array,this.A_=new TextDecoder("utf-8"),this.R_().then((function(t){t&&t.Tl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}return t.prototype.close=function(){return this.m_.cancel()},t.prototype.getMetadata=function(){return Object(s.b)(this,void 0,void 0,(function(){return Object(s.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.s_=function(){return Object(s.b)(this,void 0,void 0,(function(){return Object(s.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.R_())]}}))}))},t.prototype.R_=function(){return Object(s.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(s.d)(this,(function(o){switch(o.label){case 0:return[4,this.P_()];case 1:return null===(t=o.sent())?[2,null]:(e=this.A_.decode(t),n=Number(e),isNaN(n)&&this.y_("length string ("+e+") is not valid number"),[4,this.g_(n)]);case 2:return r=o.sent(),[2,new As(JSON.parse(r),t.length+n)]}}))}))},t.prototype.V_=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.P_=function(){return Object(s.b)(this,void 0,void 0,(function(){var t,e;return Object(s.d)(this,(function(n){switch(n.label){case 0:return this.V_()<0?[4,this.p_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.V_())<0&&this.y_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.g_=function(t){return Object(s.b)(this,void 0,void 0,(function(){var e;return Object(s.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.p_()]:[3,3];case 1:n.sent()&&this.y_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.A_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.y_=function(t){throw this.m_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.p_=function(){return Object(s.b)(this,void 0,void 0,(function(){var t,e;return Object(s.d)(this,(function(n){switch(n.label){case 0:return[4,this.m_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))},t}(),Oa=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new _(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.b_=new et(t)}return t.prototype.isEqual=function(t){return this.b_.isEqual(t.b_)},t}(),Ra=function(t){this._methodName=t},Sa=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.Vt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.Ct()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Pa(this.firestore,this.v_,this.S_.path.yt())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Ta=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Pa=function(t){function e(e,n,r){var o=this;return(o=t.call(this,e,n,te(r))||this).firestore=e,o.D_=r,o.type="collection",o}return Object(s.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.Vt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.Ct()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.yt();return t.bt()?null:new Sa(this.firestore,null,new nt(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Ta);function Aa(t,e){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(t instanceof R&&(t=t._),Fr("collection","path",e),t instanceof qr)return Gr(n=Z.xt.apply(Z,Object(s.h)([e],r))),new Pa(t,null,n);if(!(t instanceof Sa||t instanceof Pa))throw new _(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Gr(n=Z.xt.apply(Z,Object(s.h)([t.path],r)).child(Z.xt(e))),new Pa(t.firestore,null,n)}function Ia(t,e){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(t instanceof R&&(t=t._),1===arguments.length&&(e=y.t()),Fr("doc","path",e),t instanceof qr)return Vr(n=Z.xt.apply(Z,Object(s.h)([e],r))),new Sa(t,null,new nt(n));if(!(t instanceof Sa||t instanceof Pa))throw new _(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Vr(n=t.D_.child(Z.xt.apply(Z,Object(s.h)([e],r)))),new Sa(t.firestore,t instanceof Pa?t.v_:null,new nt(n))}function Da(t,e){return t instanceof R&&(t=t._),e instanceof R&&(e=e._),(t instanceof Sa||t instanceof Pa)&&(e instanceof Sa||e instanceof Pa)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Na(t,e){return t instanceof R&&(t=t._),e instanceof R&&(e=e._),t instanceof Ta&&e instanceof Ta&&t.firestore===e.firestore&&le(t.C_,e.C_)&&t.v_===e.v_}var xa=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new _(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.dt=function(t){return m(this.x_,t.x_)||m(this.N_,t.N_)},t}(),ka=/^__.*__$/,La=function(){function t(t,e,n){this.data=t,this.Te=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Te?new He(t,this.data,this.Te,e,this.fieldTransforms):new We(t,this.data,e,this.fieldTransforms)},t}(),Fa=function(){function t(t,e,n){this.data=t,this.Te=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new He(t,this.data,this.Te,e,this.fieldTransforms)},t}();function Ma(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw d()}}var ja=function(){function t(t,e,n,r,o,i){this.settings=t,this.O=e,this.fe=n,this.ignoreUndefinedProperties=r,void 0===o&&this.O_(),this.fieldTransforms=o||[],this.Te=i||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.O,this.fe,this.ignoreUndefinedProperties,this.fieldTransforms,this.Te)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return ou(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Te.find((function(e){return t.vt(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.vt(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Ma(this.k_)&&ka.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Va=function(){function t(t,e,n){this.O=t,this.ignoreUndefinedProperties=e,this.fe=n||rr(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new ja({k_:t,methodName:e,j_:n,path:et.Nt(),B_:!1,W_:r},this.O,this.fe,this.ignoreUndefinedProperties)},t}();function Ga(t){var e=t.so(),n=rr(t.zr);return new Va(t.zr,!!e.ignoreUndefinedProperties,n)}function Wa(t,e,n,r,o,i){void 0===i&&(i={});var s=t.G_(i.merge||i.mergeFields?2:0,e,n,o);tu("Data must be an object, but it was:",s,r);var a,u,l=Ja(r,s);if(i.merge)a=new st(s.Te),u=s.fieldTransforms;else if(i.mergeFields){for(var c=[],p=0,h=i.mergeFields;p<h.length;p++){var d=eu(e,h[p],n);if(!s.contains(d))throw new _(E.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");iu(c,d)||c.push(d)}a=new st(c),u=s.fieldTransforms.filter((function(t){return a.Qt(t.field)}))}else a=null,u=s.fieldTransforms;return new La(new Rt(l),a,u)}var Ha=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Te.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ra);function Ba(t,e,n){return new ja({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.O,e.fe,e.ignoreUndefinedProperties)}var Ua=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype.z_=function(t){return new De(t.path,new _e)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ra),za=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(s.c)(e,t),e.prototype.z_=function(t){var e=Ba(this,t,!0),n=this.H_.map((function(t){return $a(t,e)})),r=new Oe(n);return new De(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ra),qa=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(s.c)(e,t),e.prototype.z_=function(t){var e=Ba(this,t,!0),n=this.H_.map((function(t){return $a(t,e)})),r=new Se(n);return new De(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ra),Ka=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(s.c)(e,t),e.prototype.z_=function(t){var e=new Pe(t.fe,me(t.fe,this.J_));return new De(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Ra);function Ya(t,e,n,r){var o=t.G_(1,e,n);tu("Data must be an object, but it was:",o,r);var i=[],s=new St;ot(r,(function(t,r){var a=ru(e,t,n);r instanceof R&&(r=r._);var u=o.U_(a);if(r instanceof Ha)i.push(a);else{var l=$a(r,u);null!=l&&(i.push(a),s.set(a,l))}}));var a=new st(i);return new Fa(s.Gt(),a,o.fieldTransforms)}function Qa(t,e,n,r,o,i){var s=t.G_(1,e,n),a=[eu(e,r,n)],u=[o];if(i.length%2!=0)throw new _(E.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<i.length;l+=2)a.push(eu(e,i[l])),u.push(i[l+1]);for(var c=[],p=new St,h=a.length-1;h>=0;--h)if(!iu(c,a[h])){var d=a[h],f=u[h];f instanceof R&&(f=f._);var g=s.U_(d);if(f instanceof Ha)c.push(d);else{var v=$a(f,g);null!=v&&(c.push(d),p.set(d,v))}}var y=new st(c);return new Fa(p.Gt(),y,s.fieldTransforms)}function Xa(t,e,n,r){return void 0===r&&(r=!1),$a(n,t.G_(r?4:3,e))}function $a(t,e){if(t instanceof R&&(t=t._),Za(t))return tu("Unsupported field value:",e,t),Ja(t,e);if(t instanceof Ra)return function(t,e){if(!Ma(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Te.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,o=0,i=t;o<i.length;o++){var s=$a(i[o],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof R&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return me(e.fe,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=X.fromDate(t);return{timestampValue:Pn(e.fe,n)}}if(t instanceof X)return n=new X(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Pn(e.fe,n)};if(t instanceof xa)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof O)return{bytesValue:An(e.fe,t.l)};if(t instanceof Sa){n=e.O;var r=t.firestore.zr;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Nn(t.firestore.zr||e.O,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Wr(t))}(t,e)}function Ja(t,e){var n={};return it(t)?e.path&&e.path.length>0&&e.Te.push(e.path):ot(t,(function(t,r){var o=$a(r,e.L_(t));null!=o&&(n[t]=o)})),{mapValue:{fields:n}}}function Za(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof X||t instanceof xa||t instanceof O||t instanceof Sa||t instanceof Ra)}function tu(t,e,n){if(!Za(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Wr(n);throw"an object"===r?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function eu(t,e,n){if(e instanceof R&&(e=e._),e instanceof Oa)return e.b_;if("string"==typeof e)return ru(t,e);throw ou("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var nu=new RegExp("[~\\*/\\[\\]]");function ru(t,e,n){if(e.search(nu)>=0)throw ou("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Oa.bind.apply(Oa,Object(s.h)([void 0],e.split("."))))).b_}catch(r){throw ou("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ou(t,e,n,r,o){var i=r&&!r.bt(),s=void 0!==o,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(i||s)&&(u+=" (found",i&&(u+=" in field "+r),s&&(u+=" in document "+o),u+=")"),new _(E.INVALID_ARGUMENT,(a+=". ")+t+u)}function iu(t,e){return t.some((function(t){return t.isEqual(e)}))}var su=function(){function t(t){this.Qh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(s.b)(this,void 0,void 0,(function(){var e,n=this;return Object(s.d)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new _(E.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(s.b)(this,void 0,void 0,(function(){var n,r,o,i,a,u;return Object(s.d)(this,(function(s){switch(s.label){case 0:return n=g(t),r=jn(n.fe)+"/documents",o={documents:e.map((function(t){return kn(n.fe,t)}))},[4,n._t("BatchGetDocuments",r,o)];case 1:return i=s.sent(),a=new Map,i.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){f(!!e.found),e.found.name,e.found.updateTime;var n=Ln(t,e.found.name),r=Dn(e.found.updateTime),o=new Rt({mapValue:{fields:e.found.fields}});return new At(n,r,o,{})}(t,e):"missing"in e?function(t,e){f(!!e.missing),f(!!e.readTime);var n=Ln(t,e.missing),r=Dn(e.readTime);return new It(n,r)}(t,e):d()}(n.fe,t);a.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=a.get(t.toString());f(!!e),u.push(e)})),u)]}}))}))}(this.Qh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof It||t instanceof At?n.sf(t):d()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.Ee(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Ke(t,this.Ee(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(s.b)(this,void 0,void 0,(function(){var t,e=this;return Object(s.d)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=nt.Lt(n);e.mutations.push(new Ye(r,e.Ee(r)))})),[4,function(t,e){return Object(s.b)(this,void 0,void 0,(function(){var n,r,o;return Object(s.d)(this,(function(i){switch(i.label){case 0:return n=g(t),r=jn(n.fe)+"/documents",o={writes:e.map((function(t){return Hn(n.fe,t)}))},[4,n.at("Commit",r,o)];case 1:return i.sent(),[2]}}))}))}(this.Qh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof At)e=t.version;else{if(!(t instanceof It))throw d();e=$.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new _(E.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Ee=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?xe.updateTime(e):xe.de()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual($.min()))throw new _(E.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xe.updateTime(e)}return xe.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),au=function(){function t(t,e,n,r){this.ks=t,this.Qh=e,this.updateFunction=n,this.Bs=r,this.cf=5,this.ui=new vr(this.ks,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.ui.ti((function(){return Object(s.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(s.d)(this,(function(r){return t=new su(this.Qh),(e=this.uf(t))&&e.then((function(e){n.ks.Ws((function(){return t.commit().then((function(){n.Bs.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!V(e)&&e.catch&&e.then?e:(this.Bs.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Bs.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.ks.Ws((function(){return e.af(),Promise.resolve()}))):this.Bs.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!z(e)}return!1},t}(),uu=function(){function t(t,e,n){var r=this;this.credentials=t,this.ks=e,this.rt=n,this.user=A.UNAUTHENTICATED,this.clientId=y.t(),this._f=function(){},this.S=new Y,this.credentials.V((function(t){l("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r._f(t)),r.S.resolve()}))}return t.prototype.getConfiguration=function(){return Object(s.b)(this,void 0,void 0,(function(){return Object(s.d)(this,(function(t){switch(t.label){case 0:return[4,this.S.promise];case 1:return[2,(t.sent(),{ks:this.ks,rt:this.rt,clientId:this.clientId,credentials:this.credentials,h_:this.user,Bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.S.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.ks.wf)throw new _(E.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.ks.Ef();var e=new Y;return this.ks.Tf((function(){return Object(s.b)(t,void 0,void 0,(function(){var t,n;return Object(s.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.p(),e.resolve(),[3,6];case 5:return t=r.sent(),n=gr(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function lu(t,e){return Object(s.b)(this,void 0,void 0,(function(){var n,r=this;return Object(s.d)(this,(function(o){switch(o.label){case 0:return t.ks.Af(),l("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),t.ff((function(n){return t.ks.ea((function(){return Object(s.b)(r,void 0,void 0,(function(){return Object(s.d)(this,(function(t){switch(t.label){case 0:return[4,hi(e.Uh,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.Xc((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function cu(t,e){return Object(s.b)(this,void 0,void 0,(function(){var n,r;return Object(s.d)(this,(function(o){switch(o.label){case 0:return t.ks.Af(),[4,pu(t)];case 1:return n=o.sent(),l("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=o.sent(),[4,e.initialize(n,r)];case 3:return o.sent(),t.ff((function(n){return t.ks.ea((function(){return function(t,e){return Object(s.b)(this,void 0,void 0,(function(){var n,r;return Object(s.d)(this,(function(o){switch(o.label){case 0:return(n=g(t)).ks.Af(),l("RemoteStore","RemoteStore received new credentials"),r=os(n),n.Gh.add(3),[4,$i(n)];case 1:return o.sent(),r&&n.Jh.set("Unknown"),[4,n.Kh.E_(e)];case 2:return o.sent(),n.Gh.delete(3),[4,Xi(n)];case 3:return o.sent(),[2]}}))}))}(e.Ml,n)}))})),t.If=e,[2]}}))}))}function pu(t){return Object(s.b)(this,void 0,void 0,(function(){return Object(s.d)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(l("FirestoreClient","Using default OfflineComponentProvider"),[4,lu(t,new ya)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function hu(t){return Object(s.b)(this,void 0,void 0,(function(){return Object(s.d)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(l("FirestoreClient","Using default OnlineComponentProvider"),[4,cu(t,new wa)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function du(t){return pu(t).then((function(t){return t.persistence}))}function fu(t){return pu(t).then((function(t){return t.Uh}))}function gu(t){return hu(t).then((function(t){return t.Ml}))}function vu(t){return hu(t).then((function(t){return t.Lu}))}function yu(t){return Object(s.b)(this,void 0,void 0,(function(){var e,n;return Object(s.d)(this,(function(r){switch(r.label){case 0:return[4,hu(t)];case 1:return e=r.sent(),[2,((n=e.Ll).ol=Vs.bind(null,e.Lu),n.ul=Ws.bind(null,e.Lu),n)]}}))}))}function mu(t,e,n){var r=this;void 0===n&&(n={});var o=new Y;return t.ks.Ws((function(){return Object(s.b)(r,void 0,void 0,(function(){var r;return Object(s.d)(this,(function(i){switch(i.label){case 0:return r=function(t,e,n,r,o){var i=new Ea({next:function(i){e.Ws((function(){return Os(t,s)}));var a=i.docs.has(n);!a&&i.fromCache?o.reject(new _(E.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&i.fromCache&&r&&"server"===r.source?o.reject(new _(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(i)},error:function(t){return o.reject(t)}}),s=new Ps(te(n.path),i,{includeMetadataChanges:!0,El:!0});return _s(t,s)},[4,yu(t)];case 1:return[2,r.apply(void 0,[i.sent(),t.ks,e,n,o])]}}))}))})),o.promise}function bu(t,e,n){var r=this;void 0===n&&(n={});var o=new Y;return t.ks.Ws((function(){return Object(s.b)(r,void 0,void 0,(function(){var r;return Object(s.d)(this,(function(i){switch(i.label){case 0:return r=function(t,e,n,r,o){var i=new Ea({next:function(n){e.Ws((function(){return Os(t,s)})),n.fromCache&&"server"===r.source?o.reject(new _(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(n)},error:function(t){return o.reject(t)}}),s=new Ps(n,i,{includeMetadataChanges:!0,El:!0});return _s(t,s)},[4,yu(t)];case 1:return[2,r.apply(void 0,[i.sent(),t.ks,e,n,o])]}}))}))})),o.promise}var wu=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.ui=new vr(this,"async_queue_retry"),this.vf=function(){var e=Ki();e&&l("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ui.si()};var e=Ki();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ws=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Ki();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.ea=function(t){var e=this;this.Ws((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object(s.b)(this,void 0,void 0,(function(){var t,e=this;return Object(s.d)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.ui.reset(),[3,4];case 3:if(!lr(t=n.sent()))throw t;return l("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.ui.ti((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,c("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.ni=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var o=fr.qs(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(o),o},t.prototype.Sf=function(){this.Vf&&d()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(s.b)(this,void 0,void 0,(function(){var t;return Object(s.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].Ms===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.Ls-e.Ls}));for(var n=0,r=e.gf;n<r.length;n++){var o=r[n];if(o.Ks(),"all"!==t&&o.Ms===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Cu=-1,Eu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new wu,r.Wr="name"in e?e.name:"[DEFAULT]",r}return Object(s.c)(e,t),e.prototype.io=function(){return this.Lf||Ou(this),this.Lf.terminate()},e}(qr);function _u(t){return t.Lf||Ou(t),t.Lf.df(),t.Lf}function Ou(t){var e=t.so(),n=function(t,e,n){return new L(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.zr,t.Wr,e);t.Lf=new uu(t.Hr,t.Mf,n)}function Ru(t,e,n){var r=this,o=new Y;return t.ks.enqueue((function(){return Object(s.b)(r,void 0,void 0,(function(){var r;return Object(s.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,lu(t,n)];case 1:return i.sent(),[4,cu(t,e)];case 2:return i.sent(),o.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===E.FAILED_PRECONDITION||t.code===E.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=i.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),o.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return o.promise}))}function Su(t){if(t.Yr||t.Xr)throw new _(E.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Tu=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),dt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return lt(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(ct(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw d()}},t.prototype.jf=function(t,e){var n=this,r={};return ot(t.fields||{},(function(t,o){r[t]=n.$f(o,e)})),r},t.prototype.Kf=function(t){return new xa(lt(t.latitude),lt(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return pt(n)?t(n):n}(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(ht(t));default:return null}},t.prototype.Bf=function(t){var e=ut(t);return new X(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Z.xt(t);f(nr(n));var r=new F(n.get(1),n.get(3)),o=new nt(n.Pt(5));return r.isEqual(e)||c("Document "+o+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),o},t}(),Pu=function(){function t(t,e,n,r,o){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=o}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.Vt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Sa(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Au(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.Yt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Iu("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Au=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Pu);function Iu(t,e){return"string"==typeof e?ru(t,e):e instanceof R?e._.b_:e.b_}function Du(t){if(ne(t)&&0===t.ne.length)throw new _(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nu=function(){};function xu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,o=e;r<o.length;r++){var i=o[r];t=i.Yf(t)}return t}var ku=function(t){function e(e,n,r){var o=this;return(o=t.call(this)||this).Xf=e,o.Zf=n,o.td=r,o.type="where",o}return Object(s.c)(e,t),e.prototype.Yf=function(t){var e=Ga(t.firestore),n=function(t,e,n,r,o,i,s){var a;if(o.Ot()){if("array-contains"===i||"array-contains-any"===i)throw new _(E.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){Wu(s,i);for(var u=[],l=0,c=s;l<c.length;l++){var p=c[l];u.push(Gu(r,t,p))}a={arrayValue:{values:u}}}else a=Gu(r,t,s)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Wu(s,i),a=Xa(n,"where",s,"in"===i||"not-in"===i);var h=Mt.create(o,i,a);return function(t,e){if(e.ee()){var n=oe(t);if(null!==n&&!n.isEqual(e.field))throw new _(E.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=re(t);null!==r&&Hu(t,e.field,r)}var o=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var o=r[n];if(e.indexOf(o.op)>=0)return o.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==o)throw o===e.op?new _(E.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new _(E.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+o.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.zr,this.Xf,this.Zf,this.td);return new Ta(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Jt(t.path,t.collectionGroup,t.ne.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Nu),Lu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(s.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new _(E.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new _(E.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Yt(e,n);return function(t,e){if(null===re(t)){var n=oe(t);null!==n&&Hu(t,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new Ta(t.firestore,t.v_,function(t,e){var n=t.ne.concat([e]);return new Jt(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Nu),Fu=function(t){function e(e,n,r){var o=this;return(o=t.call(this)||this).type=e,o.nd=n,o.sd=r,o}return Object(s.c)(e,t),e.prototype.Yf=function(t){return new Ta(t.firestore,t.v_,ue(t.C_,this.nd,this.sd))},e}(Nu),Mu=function(t){function e(e,n,r){var o=this;return(o=t.call(this)||this).type=e,o.rd=n,o.od=r,o}return Object(s.c)(e,t),e.prototype.Yf=function(t){var e=Vu(t,this.type,this.rd,this.od);return new Ta(t.firestore,t.v_,function(t,e){return new Jt(t.path,t.collectionGroup,t.ne.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Nu),ju=function(t){function e(e,n,r){var o=this;return(o=t.call(this)||this).type=e,o.rd=n,o.od=r,o}return Object(s.c)(e,t),e.prototype.Yf=function(t){var e=Vu(t,this.type,this.rd,this.od);return new Ta(t.firestore,t.v_,function(t,e){return new Jt(t.path,t.collectionGroup,t.ne.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Nu);function Vu(t,e,n,r){if(n[0]instanceof R&&(n[0]=n[0]._),n[0]instanceof Pu)return function(t,e,n,r,o){if(!r)throw new _(E.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var i=[],s=0,a=se(t);s<a.length;s++){var u=a[s];if(u.field.Ot())i.push(bt(e,r.key));else{var l=r.field(u.field);if(pt(l))throw new _(E.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=u.field.Ct();throw new _(E.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}i.push(l)}}return new qt(i,o)}(t.C_,t.firestore.zr,e,n[0].Jf,r);var o=Ga(t.firestore);return function(t,e,n,r,o,i){var s=t.ne;if(o.length>s.length)throw new _(E.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<o.length;u++){var l=o[u];if(s[u].field.Ot()){if("string"!=typeof l)throw new _(E.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!ie(t)&&-1!==l.indexOf("/"))throw new _(E.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var c=t.path.child(Z.xt(l));if(!nt.qt(c))throw new _(E.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var p=new nt(c);a.push(bt(e,p))}else{var h=Xa(n,r,l);a.push(h)}}return new qt(a,i)}(t.C_,t.firestore.zr,o,e,n,r)}function Gu(t,e,n){if(n instanceof R&&(n=n._),"string"==typeof n){if(""===n)throw new _(E.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ie(e)&&-1!==n.indexOf("/"))throw new _(E.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Z.xt(n));if(!nt.qt(r))throw new _(E.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return bt(t,new nt(r))}if(n instanceof Sa)return bt(t,n.S_);throw new _(E.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Wr(n)+".")}function Wu(t,e){if(!Array.isArray(t)||0===t.length)throw new _(E.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new _(E.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Hu(t,e,n){if(!n.isEqual(e))throw new _(E.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Bu(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Uu=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(s.c)(e,t),e.prototype.Uf=function(t){return new O(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.zr);return new Sa(this.firestore,null,e)},e}(Tu);function zu(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,o=["next","error","complete"];r<o.length;r++){var i=o[r];if(i in n&&"function"==typeof n[i])return!0}return!1}(t)}var qu=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ku=function(t){function e(e,n,r,o,i,s){var a=this;return(a=t.call(this,e,n,r,o,s)||this).zf=e,a.ad=e,a.metadata=i,a}return Object(s.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Yu(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.Yt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Iu("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(Pu),Yu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Ku),Qu=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new qu(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new Yu(n.zf,n.Hf,r.key,r,new qu(n.ud.tn.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.nn)throw new _(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.Ze.bt()){var n=0;return t.ud.docChanges.map((function(e){var r=new Yu(t.zf,t.Hf,e.doc.key,e.doc,new qu(t.ud.tn.has(e.doc.key),t.ud.fromCache),t.query.v_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t.ud.Ze;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Yu(t.zf,t.Hf,e.doc.key,e.doc,new qu(t.ud.tn.has(e.doc.key),t.ud.fromCache),t.query.v_),o=-1,i=-1;return 0!==e.type&&(o=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(i=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Xu(e.type),doc:n,oldIndex:o,newIndex:i}}))}(this,e),this.ld=e),this.hd},t}();function Xu(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return d()}}function $u(t,e){return t instanceof Ku&&e instanceof Ku?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Qu&&e instanceof Qu&&t.zf===e.zf&&Na(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var Ju=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(s.c)(e,t),e.prototype.Uf=function(t){return new O(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.zr);return new Sa(this.firestore,null,e)},e}(Tu);function Zu(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];t=Hr(t,Sa);var i=Hr(t.firestore,Eu),s=Ga(i);return e instanceof R&&(e=e._),el(i,[("string"==typeof e||e instanceof Oa?Qa(s,"updateDoc",t.S_,e,n,r):Ya(s,"updateDoc",t.S_,e)).F_(t.S_,xe.exists(!0))])}function tl(t){for(var e,n,r,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];t instanceof R&&(t=t._);var a={includeMetadataChanges:!1},u=0;"object"!=typeof o[u]||zu(o[u])||(a=o[u],u++);var l,c,p,h={includeMetadataChanges:a.includeMetadataChanges};if(zu(o[u])){var d=o[u];o[u]=null===(e=d.next)||void 0===e?void 0:e.bind(d),o[u+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),o[u+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Sa)c=Hr(t.firestore,Eu),p=te(t.S_.path),l={next:function(e){o[u]&&o[u](nl(c,t,e))},error:o[u+1],complete:o[u+2]};else{var f=Hr(t,Ta);c=Hr(f.firestore,Eu),p=f.C_;var g=new Ju(c);l={next:function(t){o[u]&&o[u](new Qu(c,g,f,t))},error:o[u+1],complete:o[u+2]},Du(t.C_)}return function(t,e,n,r){var o=this,i=new Ea(r),a=new Ps(e,i,n);return t.ks.Ws((function(){return Object(s.b)(o,void 0,void 0,(function(){var e;return Object(s.d)(this,(function(n){switch(n.label){case 0:return e=_s,[4,yu(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){i.I_(),t.ks.Ws((function(){return Object(s.b)(o,void 0,void 0,(function(){var e;return Object(s.d)(this,(function(n){switch(n.label){case 0:return e=Os,[4,yu(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(_u(c),p,h,l)}function el(t,e){return function(t,e){var n=this,r=new Y;return t.ks.Ws((function(){return Object(s.b)(n,void 0,void 0,(function(){var n;return Object(s.d)(this,(function(o){switch(o.label){case 0:return n=Hs,[4,vu(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,r])]}}))}))})),r.promise}(_u(t),e)}function nl(t,e,n){var r=n.docs.get(e.S_),o=new Ju(t);return new Ku(t,o,e.S_,r,new qu(n.hasPendingWrites,n.fromCache),e.v_)}var rl=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=Ga(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=ol(t,this.zf),o=Bu(r.v_,e,n),i=Wa(this.wd,"WriteBatch.set",r.S_,o,null!==r.v_,n);return this.fd.push(i.F_(r.S_,xe.de())),this},t.prototype.update=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];this.Ed();var i,s=ol(t,this.zf);return e instanceof R&&(e=e._),i="string"==typeof e||e instanceof Oa?Qa(this.wd,"WriteBatch.update",s.S_,e,n,r):Ya(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(i.F_(s.S_,xe.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=ol(t,this.zf);return this.fd=this.fd.concat(new Ke(e.S_,xe.de())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new _(E.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function ol(t,e){if(t instanceof R&&(t=t._),t.firestore!==e)throw new _(E.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var il=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(s.c)(e,t),e.prototype.get=function(e){var n=this,r=ol(e,this.zf),o=new Ju(this.zf);return t.prototype.get.call(this,e).then((function(t){return new Ku(n.zf,o,r.S_,t.Jf,new qu(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=Ga(t)}return t.prototype.get=function(t){var e=this,n=ol(t,this.zf),r=new Uu(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return d();var o=t[0];if(o instanceof It)return new Pu(e.zf,r,n.S_,null,n.v_);if(o instanceof At)return new Pu(e.zf,r,o.key,o,n.v_);throw d()}))},t.prototype.set=function(t,e,n){var r=ol(t,this.zf),o=Bu(r.v_,e,n),i=Wa(this.wd,"Transaction.set",r.S_,o,null!==r.v_,n);return this.Td.set(r.S_,i),this},t.prototype.update=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var i,s=ol(t,this.zf);return e instanceof R&&(e=e._),i="string"==typeof e||e instanceof Oa?Qa(this.wd,"Transaction.update",s.S_,e,n,r):Ya(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,i),this},t.prototype.delete=function(t){var e=ol(t,this.zf);return this.Td.delete(e.S_),this},t}()),sl=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Su(t=Hr(t,Eu));var n=_u(t),r=t.so(),o=new wa;return Ru(n,o,new ma(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Su(t=Hr(t,Eu));var e=_u(t),n=t.so(),r=new wa;return Ru(e,r,new ba(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.Yr&&!t.Xr)throw new _(E.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Y;return t.Mf.Tf((function(){return Object(s.b)(e,void 0,void 0,(function(){var e;return Object(s.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(s.b)(this,void 0,void 0,(function(){var e;return Object(s.d)(this,(function(n){switch(n.label){case 0:return sr.G()?(e=t+"main",[4,sr.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(si(t.zr,t.Wr))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),al=function(t){function e(e,n,r){var o=this;return(o=t.call(this,n)||this).Id=r,o.INTERNAL={delete:function(){return o.terminate()}},e instanceof F||(o.md=e),o}return Object(s.c)(e,t),Object.defineProperty(e.prototype,"zr",{get:function(){return this._.zr},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.no()),t)).merge,this._.eo(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.no().host&&p("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.ks.enqueue((function(){return Object(s.b)(e,void 0,void 0,(function(){var e,n;return Object(s.d)(this,(function(r){switch(r.label){case 0:return[4,du(t)];case 1:return e=r.sent(),[4,gu(t)];case 2:return n=r.sent(),[2,(e.Zc(!0),function(t){var e=g(t);return e.Gh.delete(0),Xi(e)}(n))]}}))}))}))}(_u(Hr(this._,Eu)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.ks.enqueue((function(){return Object(s.b)(e,void 0,void 0,(function(){var e,n;return Object(s.d)(this,(function(r){switch(r.label){case 0:return[4,du(t)];case 1:return e=r.sent(),[4,gu(t)];case 2:return n=r.sent(),[2,(e.Zc(!1),function(t){return Object(s.b)(this,void 0,void 0,(function(){var e;return Object(s.d)(this,(function(n){switch(n.label){case 0:return(e=g(t)).Gh.add(0),[4,$i(e)];case 1:return n.sent(),e.Jh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(_u(Hr(this._,Eu)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&jr("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Y;return t.ks.Ws((function(){return Object(s.b)(e,void 0,void 0,(function(){var e;return Object(s.d)(this,(function(r){switch(r.label){case 0:return e=Ys,[4,vu(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(_u(Hr(this._,Eu)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Ea(e);return t.ks.Ws((function(){return Object(s.b)(n,void 0,void 0,(function(){var e;return Object(s.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){g(t).rl.add(e),e.next()},[4,yu(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.I_(),t.ks.Ws((function(){return Object(s.b)(n,void 0,void 0,(function(){var e;return Object(s.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){g(t).rl.delete(e)},[4,yu(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(_u(t=Hr(t,Eu)),zu(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new _(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Cl(this,Aa(this._,t))}catch(t){throw dl(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new hl(this,Ia(this._,t))}catch(t){throw dl(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new ml(this,function(t,e){if(t=Hr(t,qr),Fr("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _(E.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ta(t,null,function(t){return new Jt(Z.Nt(),t)}(e))}(this._,t))}catch(t){throw dl(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Y;return t.ks.Ws((function(){return Object(s.b)(n,void 0,void 0,(function(){var n;return Object(s.d)(this,(function(o){switch(o.label){case 0:return[4,function(t){return hu(t).then((function(t){return t.Qh}))}(t)];case 1:return n=o.sent(),new au(t.ks,n,e,r).run(),[2]}}))}))})),r.promise}(_u(t),(function(n){return e(new il(t,n))}))}(this._,(function(n){return t(new cl(e,n))}))},e.prototype.batch=function(){var t=this;return _u(this._),new pl(new rl(this._,(function(e){return el(t._,e)})))},e.prototype.loadBundle=function(t){throw new _(E.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new _(E.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(R),ul=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(s.c)(e,t),e.prototype.Uf=function(t){return new P(new O(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.zr);return hl.Ad(e,this.firestore,null)},e}(Tu);function ll(t){var e;e=t,a.setLogLevel(e)}var cl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(s.c)(e,t),e.prototype.get=function(t){var e=this,n=El(t);return this._.get(n).then((function(t){return new vl(e.zf,t)}))},e.prototype.set=function(t,e,n){var r=El(t);return n?(Mr("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var a=El(t);return 2===arguments.length?this._.update(a,e):(r=this._).update.apply(r,Object(s.h)([a,e,n],o)),this},e.prototype.delete=function(t){var e=El(t);return this._.delete(e),this},e}(R),pl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype.set=function(t,e,n){var r=El(t);return n?(Mr("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var a=El(t);return 2===arguments.length?this._.update(a,e):(r=this._).update.apply(r,Object(s.h)([a,e,n],o)),this},e.prototype.delete=function(t){var e=El(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(R),hl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new ul(e),r}return Object(s.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new _(E.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.Ct()+" has "+t.length);return new e(n,new Sa(n._,r,new nt(t)))},e.Ad=function(t,n,r){return new e(n,new Sa(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Cl(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Cl(this.firestore,Aa(this._,t))}catch(t){throw dl(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof R&&(t=t._),t instanceof Sa&&Da(this._,t)},e.prototype.set=function(t,e){e=Mr("DocumentReference.set",e);try{return function(t,e,n){t=Hr(t,Sa);var r=Hr(t.firestore,Eu),o=Bu(t.v_,e,n);return el(r,[Wa(Ga(r),"setDoc",t.S_,o,null!==t.v_,n).F_(t.S_,xe.de())])}(this._,t,e)}catch(t){throw dl(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Zu(this._,t):Zu.apply(void 0,Object(s.h)([this._,t,e],n))}catch(t){throw dl(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return el(Hr((t=this._).firestore,Eu),[new Ke(t.S_,xe.de())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=fl(e),o=gl(e,(function(e){return new vl(t.firestore,new Ku(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return tl(this._,r,o)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Hr(t,Sa);var e=Hr(t.firestore,Eu),n=_u(e),r=new Ju(e);return function(t,e){var n=this,r=new Y;return t.ks.Ws((function(){return Object(s.b)(n,void 0,void 0,(function(){var n;return Object(s.d)(this,(function(o){switch(o.label){case 0:return n=function(t,e,n){return Object(s.b)(this,void 0,void 0,(function(){var r,o;return Object(s.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t,e){var n=g(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ka.Pa(t,e)}))}(t,e)];case 1:return(o=i.sent())instanceof At?n.resolve(o):o instanceof It?n.resolve(null):n.reject(new _(E.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=i.sent(),o=gr(r,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))},[4,fu(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new Ku(e,r,t.S_,n,new qu(n instanceof At&&n.Jt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Hr(t,Sa);var e=Hr(t.firestore,Eu);return mu(_u(e),t.S_,{source:"server"}).then((function(n){return nl(e,t,n)}))}(this._):function(t){t=Hr(t,Sa);var e=Hr(t.firestore,Eu);return mu(_u(e),t.S_).then((function(n){return nl(e,t,n)}))}(this._)).then((function(t){return new vl(e.firestore,new Ku(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(R);function dl(t,e,n){return t.message=t.message.replace(e,n),t}function fl(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!zu(r))return r}return{}}function gl(t,e){var n,r,o;return{next:function(t){o.next&&o.next(e(t))},error:null===(n=(o=zu(t[0])?t[0]:zu(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}var vl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(s.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new hl(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return $u(this._,t._)},e}(R),yl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(vl),ml=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new ul(e),r}return Object(s.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,xu(this._,function(t,e,n){var r=e,o=Iu("where",t);return new ku(o,r,n)}(t,n,r)))}catch(t){throw dl(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,xu(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Iu("orderBy",t);return new Lu(r,n)}(t,n)))}catch(t){throw dl(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,xu(this._,function(t){return Br("limit",t),new Fu("limit",t,"F")}(t)))}catch(t){throw dl(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,xu(this._,function(t){return Br("limitToLast",t),new Fu("limitToLast",t,"L")}(t)))}catch(t){throw dl(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xu(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mu("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw dl(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xu(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mu("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw dl(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xu(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ju("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw dl(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xu(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ju("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw dl(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Na(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Hr(t,Ta);var e=Hr(t.firestore,Eu),n=_u(e),r=new Ju(e);return function(t,e){var n=this,r=new Y;return t.ks.Ws((function(){return Object(s.b)(n,void 0,void 0,(function(){var n;return Object(s.d)(this,(function(o){switch(o.label){case 0:return n=function(t,e,n){return Object(s.b)(this,void 0,void 0,(function(){var r,o,i,a,u;return Object(s.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,wi(t,e,!0)];case 1:return u=s.sent(),r=new Ls(e,u.za),o=r.bl(u.documents),i=r.yr(o,!1),n.resolve(i.snapshot),[3,3];case 2:return a=s.sent(),u=gr(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,fu(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new Qu(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Hr(t,Ta);var e=Hr(t.firestore,Eu),n=_u(e),r=new Ju(e);return bu(n,t.C_,{source:"server"}).then((function(n){return new Qu(e,r,t,n)}))}(this._):function(t){t=Hr(t,Ta);var e=Hr(t.firestore,Eu),n=_u(e),r=new Ju(e);return Du(t.C_),bu(n,t.C_).then((function(n){return new Qu(e,r,t,n)}))}(this._)).then((function(t){return new wl(e.firestore,new Qu(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=fl(e),o=gl(e,(function(e){return new wl(t.firestore,new Qu(t.firestore._,t.Hf,t._,e.ud))}));return tl(this._,r,o)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(R),bl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(s.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new yl(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(R),wl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(s.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new ml(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new yl(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new bl(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new yl(n.zf,r))}))},e.prototype.isEqual=function(t){return $u(this._,t._)},e}(R),Cl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(s.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new hl(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new hl(this.firestore,void 0===t?Ia(this._):Ia(this._,t))}catch(t){throw dl(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Hr(t.firestore,Eu),r=Ia(t),o=Bu(t.v_,e);return el(n,[Wa(Ga(t.firestore),"addDoc",r.S_,o,null!==t.v_,{}).F_(r.S_,xe.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new hl(e.firestore,t)}))},e.prototype.isEqual=function(t){return Da(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(ml);function El(t){return t instanceof R&&(t=t._),Hr(t,Sa)}var _l=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Oa.bind.apply(Oa,Object(s.h)([void 0],e))))||this}return Object(s.c)(e,t),e.documentId=function(){return new e(et.kt().Ct())},e.prototype.isEqual=function(t){return t instanceof R&&(t=t._),t instanceof Oa&&this._.b_.isEqual(t.b_)},e}(R),Ol=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.serverTimestamp=function(){var t=new Ua("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Ha("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new za("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qa("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Ka("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(R),Rl=function(){function t(){this.Pd={},this.yd=new Y,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.e_=function(t){this.n_(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.i_=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.n_=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)},t}();function Sl(t,e){var n=new Rl;return function(t,e,n,r){var o=this,i=function(t,e){return function(t,e){return new _a(t,e)}(function(t,e){if(t instanceof Uint8Array)return Ca(t,e);if(t instanceof ArrayBuffer)return Ca(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,rr(e));t.ks.Ws((function(){return Object(s.b)(o,void 0,void 0,(function(){var e;return Object(s.d)(this,(function(n){switch(n.label){case 0:return e=va,[4,vu(t)];case 1:return e.apply(void 0,[n.sent(),i,r]),[2]}}))}))}))}(_u(t._),t.zr,e,n),n}function Tl(t,e){return function(t,e){var n=this;return t.ks.enqueue((function(){return Object(s.b)(n,void 0,void 0,(function(){var n;return Object(s.d)(this,(function(r){switch(r.label){case 0:return n=function(t,e){var n=g(t);return n.persistence.runTransaction("Get named query","readonly",(function(t){return n.Wc.ho(t,e)}))},[4,fu(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}}))}))}))}(_u(t._),e).then((function(e){return e?new ml(t,new Ta(t._,null,e.query)):null}))}}).call(this,n(50))},function(t,e,n){"use strict";function r(t){var e,n,o="";if("string"===typeof t||"number"===typeof t)o+=t;else if("object"===typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=r(t[e]))&&(o&&(o+=" "),o+=n);else for(e in t)t[e]&&(o&&(o+=" "),o+=e);return o}e.a=function(){for(var t,e,n=0,o="";n<arguments.length;)(t=arguments[n++])&&(e=r(t))&&(o&&(o+=" "),o+=e);return o}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return nr})),n.d(e,"b",(function(){return or})),n.d(e,"c",(function(){return rr})),n.d(e,"d",(function(){return ir})),n.d(e,"e",(function(){return sr})),n.d(e,"f",(function(){return ar})),n.d(e,"g",(function(){return tr})),n.d(e,"h",(function(){return er}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function o(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var i,s="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},a=a||{},u=s||self;function l(){}function c(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var h="closure_uid_"+(1e9*Math.random()>>>0),d=0;function f(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function v(t,e,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:g).apply(null,arguments)}function y(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function m(){return Date.now()}function b(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return e.prototype[n].apply(t,o)}}function w(){this.j=this.j,this.i=this.i}w.prototype.j=!1,w.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,h)&&t[h]||(t[h]=++d)})(this)},w.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var C=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},E=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,o="string"===typeof t?t.split(""):t,i=0;i<r;i++)i in o&&e.call(n,o[i],i,t)};function _(t){return Array.prototype.concat.apply([],arguments)}function O(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function R(t){return/^[\s\xa0]*$/.test(t)}var S,T=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function P(t,e){return-1!=t.indexOf(e)}function A(t,e){return t<e?-1:t>e?1:0}t:{var I=u.navigator;if(I){var D=I.userAgent;if(D){S=D;break t}}S=""}function N(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function x(t){var e={};for(var n in t)e[n]=t[n];return e}var k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(t,e){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])t[n]=r[n];for(var i=0;i<k.length;i++)n=k[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function F(t){return F[" "](t),t}F[" "]=l;var M,j=P(S,"Opera"),V=P(S,"Trident")||P(S,"MSIE"),G=P(S,"Edge"),W=G||V,H=P(S,"Gecko")&&!(P(S.toLowerCase(),"webkit")&&!P(S,"Edge"))&&!(P(S,"Trident")||P(S,"MSIE"))&&!P(S,"Edge"),B=P(S.toLowerCase(),"webkit")&&!P(S,"Edge");function U(){var t=u.document;return t?t.documentMode:void 0}t:{var z="",q=function(){var t=S;return H?/rv:([^\);]+)(\)|;)/.exec(t):G?/Edge\/([\d\.]+)/.exec(t):V?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):B?/WebKit\/(\S+)/.exec(t):j?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(q&&(z=q?q[1]:""),V){var K=U();if(null!=K&&K>parseFloat(z)){M=String(K);break t}}M=z}var Y,Q={};function X(t){return function(t,e){var n=Q;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=T(String(M)).split("."),r=T(String(t)).split("."),o=Math.max(n.length,r.length),i=0;0==e&&i<o;i++){var s=n[i]||"",a=r[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=A(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||A(0==s[2].length,0==a[2].length)||A(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(u.document&&V){var $=U();Y=$||(parseInt(M,10)||void 0)}else Y=void 0;var J=Y,Z=!V||9<=Number(J),tt=V&&!X("9"),et=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",l,e),u.removeEventListener("test",l,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function rt(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(H){t:{try{F(e.nodeName);var o=!0;break t}catch(i){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:ot[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nt.prototype.b=function(){this.defaultPrevented=!0},b(rt,nt);var ot={2:"touch",3:"pen",4:"mouse"};rt.prototype.b=function(){rt.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,tt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var it="closure_listenable_"+(1e6*Math.random()|0),st=0;function at(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=o,this.key=++st,this.Y=this.Z=!1}function ut(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function lt(t){this.src=t,this.a={},this.b=0}function ct(t,e){var n=e.type;if(n in t.a){var r,o=t.a[n],i=C(o,e);(r=0<=i)&&Array.prototype.splice.call(o,i,1),r&&(ut(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function pt(t,e,n,r){for(var o=0;o<t.length;++o){var i=t[o];if(!i.Y&&i.listener==e&&i.capture==!!n&&i.ca==r)return o}return-1}lt.prototype.add=function(t,e,n,r,o){var i=t.toString();(t=this.a[i])||(t=this.a[i]=[],this.b++);var s=pt(t,e,r,o);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new at(e,this.src,i,!!r,o)).Z=n,t.push(e)),e};var ht="closure_lm_"+(1e6*Math.random()|0),dt={};function ft(t,e,n,r,o){if(r&&r.once)return function t(e,n,r,o,i){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,o,i);return null}return r=Et(r),e&&e[it]?e.wa(n,r,p(o)?!!o.capture:!!o,i):gt(e,n,r,!0,o,i)}(t,e,n,r,o);if(Array.isArray(e)){for(var i=0;i<e.length;i++)ft(t,e[i],n,r,o);return null}return n=Et(n),t&&t[it]?t.va(e,n,p(r)?!!r.capture:!!r,o):gt(t,e,n,!1,r,o)}function gt(t,e,n,r,o,i){if(!e)throw Error("Invalid event type");var s=p(o)?!!o.capture:!!o;if(s&&!Z)return null;var a=wt(t);if(a||(t[ht]=a=new lt(t)),(n=a.add(e,n,r,s,i)).proxy)return n;if(r=function(){var t=bt,e=Z?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)et||(o=s),void 0===o&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(yt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function vt(t){if("number"!==typeof t&&t&&!t.Y){var e=t.src;if(e&&e[it])ct(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wt(e))?(ct(n,t),0==n.b&&(n.src=null,e[ht]=null)):ut(t)}}}function yt(t){return t in dt?dt[t]:dt[t]="on"+t}function mt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&vt(t),n.call(r,e)}function bt(t,e){if(t.Y)return!0;if(!Z){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return mt(t,e=new rt(e,this))}return mt(t,new rt(e,this))}function wt(t){return(t=t[ht])instanceof lt?t:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(t){return"function"===typeof t?t:(t[Ct]||(t[Ct]=function(e){return t.handleEvent(e)}),t[Ct])}function _t(){w.call(this),this.c=new lt(this),this.J=this,this.C=null}function Ot(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"===typeof e)e=new nt(e,t);else if(e instanceof nt)e.target=e.target||t;else{var o=e;L(e=new nt(r,t),o)}if(o=!0,n)for(var i=n.length-1;0<=i;i--){var s=e.a=n[i];o=Rt(s,r,!0,e)&&o}if(o=Rt(s=e.a=t,r,!0,e)&&o,o=Rt(s,r,!1,e)&&o,n)for(i=0;i<n.length;i++)o=Rt(s=e.a=n[i],r,!1,e)&&o}function Rt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var o=!0,i=0;i<e.length;++i){var s=e[i];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&ct(t.c,s),o=!1!==a.call(u,r)&&o}}return o&&!r.defaultPrevented}b(_t,w),_t.prototype[it]=!0,(i=_t.prototype).addEventListener=function(t,e,n,r){ft(this,t,e,n,r)},i.removeEventListener=function(t,e,n,r){!function t(e,n,r,o,i){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,o,i);else o=p(o)?!!o.capture:!!o,r=Et(r),e&&e[it]?(e=e.c,(n=String(n).toString())in e.a&&(-1<(r=pt(s=e.a[n],r,o,i))&&(ut(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--)))):e&&(e=wt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=pt(n,r,o,i)),(r=-1<e?n[e]:null)&&vt(r))}(this,t,e,n,r)},i.G=function(){if(_t.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ut(n[r]);delete e.a[t],e.b--}}this.C=null},i.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},i.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var St=u.JSON.stringify;function Tt(){this.b=this.a=null}var Pt,At=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Dt}),(function(t){t.reset()}));function It(){var t=Lt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Dt(){this.next=this.b=this.a=null}function Nt(t){u.setTimeout((function(){throw t}),0)}function xt(t,e){Pt||function(){var t=u.Promise.resolve(void 0);Pt=function(){t.then(Ft)}}(),kt||(Pt(),kt=!0),Lt.add(t,e)}Tt.prototype.add=function(t,e){var n=At.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Dt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Dt.prototype.reset=function(){this.next=this.b=this.a=null};var kt=!1,Lt=new Tt;function Ft(){for(var t;t=It();){try{t.a.call(t.b)}catch(n){Nt(n)}var e=At;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}kt=!1}function Mt(t,e){_t.call(this),this.b=t||1,this.a=e||u,this.f=v(this.Za,this),this.g=m()}function jt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Vt(t,e,n){if("function"===typeof t)n&&(t=v(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=v(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Gt(t){t.a=Vt((function(){t.a=null,t.c&&(t.c=!1,Gt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}b(Mt,_t),(i=Mt.prototype).aa=!1,i.M=null,i.Za=function(){if(this.aa){var t=m()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ot(this,"tick"),this.aa&&(jt(this),this.start()))}},i.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=m())},i.G=function(){Mt.X.G.call(this),jt(this),delete this.a};var Wt=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Gt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(w);function Ht(t){w.call(this),this.b=t,this.a={}}b(Ht,w);var Bt=[];function Ut(t,e,n,r){Array.isArray(n)||(n&&(Bt[0]=n.toString()),n=Bt);for(var o=0;o<n.length;o++){var i=ft(e,n[o],r||t.handleEvent,!1,t.b||t);if(!i)break;t.a[i.key]=i}}function zt(t){N(t.a,(function(t,e){this.a.hasOwnProperty(e)&&vt(t)}),t),t.a={}}function qt(){this.a=!0}function Kt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var i=o[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<o.length;s++)o[s]=""}}}return St(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Ht.prototype.G=function(){Ht.X.G.call(this),zt(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qt.prototype.info=function(){};var Yt={},Qt=null;function Xt(){return Qt=Qt||new _t}function $t(t){nt.call(this,Yt.Fa,t)}function Jt(t){var e=Xt();Ot(e,new $t(e,t))}function Zt(t,e){nt.call(this,Yt.STAT_EVENT,t),this.stat=e}function te(t){var e=Xt();Ot(e,new Zt(e,t))}function ee(t){nt.call(this,Yt.Ga,t)}function ne(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){t()}),e)}Yt.Fa="serverreachability",b($t,nt),Yt.STAT_EVENT="statevent",b(Zt,nt),Yt.Ga="timingevent",b(ee,nt);var re={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},oe={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function ie(){}function se(t){var e;return(e=t.a)||(e=t.a={}),e}function ae(){}ie.prototype.a=null;var ue,le={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ce(){nt.call(this,"d")}function pe(){nt.call(this,"c")}function he(){}function de(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Ht(this),this.P=fe,t=W?125:void 0,this.R=new Mt(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}b(ce,nt),b(pe,nt),b(he,ie),ue=new he;var fe=45e3,ge={},ve={};function ye(t,e,n){t.H=1,t.i=Ve(xe(e)),t.j=n,t.I=!0,me(t,null)}function me(t,e){t.u=m(),Ce(t),t.l=xe(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Je(n.b,"t",r),t.D=0,t.a=Kn(t.g,t.g.C?e:null),0<t.O&&(t.F=new Wt(v(t.Ca,t,t.a),t.O)),Ut(t.J,t.a,"readystatechange",t.Xa),e=t.B?x(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Jt(1),function(t,e,n,r,o,i){t.info((function(){if(t.a)if(i)for(var s="",a=i.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var p=c.split("_");s=2<=p.length&&"type"==p[1]?s+(c+"=")+l+"&":s+(c+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function be(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var o=we(t,n);if(o==ve){4==e&&(t.h=4,te(14),r=!1),Kt(t.c,t.f,null,"[Incomplete Response]");break}if(o==ge){t.h=4,te(15),Kt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Kt(t.c,t.f,o,null),Se(t,o)}4==e&&0==n.length&&(t.h=1,te(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vn(e),e.F=!0,te(11))):(Kt(t.c,t.f,n,"[Invalid Chunked Response]"),Re(t),Oe(t))}function we(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ve:(n=Number(e.substring(n,r)),isNaN(n)?ge:(r+=1)+n>e.length?ve:(e=e.substr(r,n),t.D=r+n,e))}function Ce(t){t.T=m()+t.P,Ee(t,t.P)}function Ee(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ne(v(t.Va,t),e)}function _e(t){t.o&&(u.clearTimeout(t.o),t.o=null)}function Oe(t){0==t.g.v||t.A||Hn(t.g,t)}function Re(t){_e(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,jt(t.R),zt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Se(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||sn(n.b,t)))if(n.I=t.N,!t.C&&sn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(y){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Wn(n),In(n)}jn(n),te(18)}}else n.oa=o[1],0<n.oa-n.P&&37500>o[2]&&n.H&&0==n.o&&!n.m&&(n.m=ne(v(n.Sa,n),6e3));if(1>=on(n.b)&&n.ea){try{n.ea()}catch(y){}n.ea=void 0}}else Un(n,11)}else if((t.C||n.a==t)&&Wn(n),!R(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(o=e[r],n.P=o[0],o=o[1],2==n.v)if("c"==o[0]){n.J=o[1],n.ga=o[2];var i=o[3];null!=i&&(n.ha=i,n.c.info("VER="+n.ha));var s=o[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=o[5];if(null!=a&&"number"===typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var l=t.a;if(l){var c=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var p=u.b;!p.a&&(P(c,"spdy")||P(c,"quic")||P(c,"h2"))&&(p.f=p.g,p.a=new Set,p.b&&(an(p,p.b),p.b=null))}if(u.A){var h=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(u.na=h,je(u.B,u.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=m()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=qn(u,u.C?u.ga:null,u.fa),d.C){un(u.b,d);var f=d,g=u.D;g&&f.setTimeout(g),f.o&&(_e(f),Ce(f)),u.a=d}else Mn(u);0<n.g.length&&xn(n)}else"stop"!=o[0]&&"close"!=o[0]||Un(n,7);else 3==n.v&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Un(n,7):An(n):"noop"!=o[0]&&n.f&&n.f.sa(o),n.o=0);Jt(4)}catch(y){}}function Te(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(c(t)||"string"===typeof t)E(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(c(t)||"string"===typeof t){n=[];for(var r=t.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,t)n[r++]=o;o=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"===typeof t)return t.split("");if(c(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var i=0;i<o;i++)e.call(void 0,r[i],n&&n[i],t)}}function Pe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Pe)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ae(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ie(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var o={};for(n=e=0;e<t.a.length;)Ie(o,r=t.a[e])||(t.a[n++]=r,o[r]=1),e++;t.a.length=n}}function Ie(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(i=de.prototype).setTimeout=function(t){this.P=t},i.Xa=function(t){t=t.target;var e=this.F;e&&3==Rn(t)?e.f():this.Ca(t)},i.Ca=function(t){try{if(t==this.a)t:{var e=Rn(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!W&&!this.a.$())){this.A||4!=e||7==n||Jt(8==n||0>=r?3:2),_e(this);var o=this.a.W();this.N=o;var i=this.a.$();if(this.b=200==o,function(t,e,n,r,o,i,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+n+"\n"+i+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,o),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,te(12),Re(this),Oe(this);break t}Kt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Se(this,u)}this.I?(be(this,e,i),W&&this.b&&3==e&&(Ut(this.J,this.R,"tick",this.Wa),this.R.start())):(Kt(this.c,this.f,i,null),Se(this,i)),4==e&&Re(this),this.b&&!this.A&&(4==e?Hn(this.g,this):(this.b=!1,Ce(this)))}else 400==o&&0<i.indexOf("Unknown SID")?(this.h=3,te(12)):(this.h=0,te(13)),Re(this),Oe(this)}}}catch(l){}},i.Wa=function(){if(this.a){var t=Rn(this.a),e=this.a.$();this.D<e.length&&(_e(this),be(this,t,e),this.b&&4!=t&&Ce(this))}},i.cancel=function(){this.A=!0,Re(this)},i.Va=function(){this.o=null;var t=m();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Jt(3),te(17)),Re(this),this.h=2,Oe(this)):Ee(this,this.T-t)},(i=Pe.prototype).K=function(){Ae(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},i.L=function(){return Ae(this),this.a.concat()},i.get=function(t,e){return Ie(this.b,t)?this.b[t]:e},i.set=function(t,e){Ie(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},i.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);t.call(e,i,o,this)}};var De=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ne(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ne){this.a=void 0!==e?e:t.a,ke(this,t.f),this.j=t.j,Le(this,t.c),Fe(this,t.h),this.g=t.g,e=t.b;var n=new Ye;n.c=e.c,e.a&&(n.a=new Pe(e.a),n.b=e.b),Me(this,n),this.i=t.i}else t&&(n=String(t).match(De))?(this.a=!!e,ke(this,n[1]||"",!0),this.j=Ge(n[2]||""),Le(this,n[3]||"",!0),Fe(this,n[4]),this.g=Ge(n[5]||"",!0),Me(this,n[6]||"",!0),this.i=Ge(n[7]||"")):(this.a=!!e,this.b=new Ye(null,this.a))}function xe(t){return new Ne(t)}function ke(t,e,n){t.f=n?Ge(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Le(t,e,n){t.c=n?Ge(e,!0):e}function Fe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Me(t,e,n){e instanceof Ye?(t.b=e,function(t,e){e&&!t.f&&(Qe(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xe(this,e),Je(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=We(e,qe)),t.b=new Ye(e,t.a))}function je(t,e,n){t.b.set(e,n)}function Ve(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^m()).toString(36)),t}function Ge(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function We(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,He),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function He(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ne.prototype.toString=function(){var t=[],e=this.f;e&&t.push(We(e,Be,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(We(e,Be,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(We(n,"/"==n.charAt(0)?ze:Ue,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",We(n,Ke)),t.join("")};var Be=/[#\/\?@]/g,Ue=/[#\?:]/g,ze=/[#\?]/g,qe=/[#\?@]/g,Ke=/#/g;function Ye(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qe(t){t.a||(t.a=new Pe,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var i=t[n].substring(0,r);o=t[n].substring(r+1)}else i=t[n];e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xe(t,e){Qe(t),e=Ze(t,e),Ie(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ie((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ae(t)))}function $e(t,e){return Qe(t),e=Ze(t,e),Ie(t.a.b,e)}function Je(t,e,n){Xe(t,e),0<n.length&&(t.c=null,t.a.set(Ze(t,e),O(n)),t.b+=n.length)}function Ze(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(i=Ye.prototype).add=function(t,e){Qe(this),this.c=null,t=Ze(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},i.forEach=function(t,e){Qe(this),this.a.forEach((function(n,r){E(n,(function(n){t.call(e,n,r,this)}),this)}),this)},i.L=function(){Qe(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var o=t[r],i=0;i<o.length;i++)n.push(e[r]);return n},i.K=function(t){Qe(this);var e=[];if("string"===typeof t)$e(this,t)&&(e=_(e,this.a.get(Ze(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=_(e,t[n])}return e},i.set=function(t,e){return Qe(this),this.c=null,$e(this,t=Ze(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},i.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],o=encodeURIComponent(String(r));r=this.K(r);for(var i=0;i<r.length;i++){var s=o;""!==r[i]&&(s+="="+encodeURIComponent(String(r[i]))),t.push(s)}}return this.c=t.join("&")};var tn=function(t,e){this.b=t,this.a=e};function en(t){this.g=t||nn,u.PerformanceNavigationTiming?t=0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var nn=10;function rn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function on(t){return t.b?1:t.a?t.a.size:0}function sn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function an(t,e){t.a?t.a.add(e):t.b=e}function un(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ln(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=o(t.a.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.s)}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return O(t.c)}function cn(){}function pn(){this.a=new cn}function hn(t,e,n){var r=n||"";try{Te(t,(function(t,n){var o=t;p(t)&&(o=St(t)),e.push(r+n+"="+encodeURIComponent(o))}))}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function dn(t,e,n,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(i){}}en.prototype.cancel=function(){var t,e;if(this.c=ln(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=o(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},cn.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},cn.prototype.parse=function(t){return u.JSON.parse(t,void 0)};var fn=u.JSON.parse;function gn(t){_t.call(this),this.headers=new Pe,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=vn,this.D=this.F=!1}b(gn,_t);var vn="",yn=/^https?$/i,mn=["POST","PUT"];function bn(t){return"content-type"==t.toLowerCase()}function wn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Cn(t),_n(t)}function Cn(t){t.u||(t.u=!0,Ot(t,"complete"),Ot(t,"error"))}function En(t){if(t.b&&"undefined"!=typeof a&&(!t.s[1]||4!=Rn(t)||2!=t.W()))if(t.l&&4==Rn(t))Vt(t.za,0,t);else if(Ot(t,"readystatechange"),4==Rn(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var o;if(o=0===n){var i=String(t.B).match(De)[1]||null;if(!i&&u.self&&u.self.location){var s=u.self.location.protocol;i=s.substr(0,s.length-1)}o=!yn.test(i?i.toLowerCase():"")}e=o}if(e)Ot(t,"complete"),Ot(t,"success");else{t.h=6;try{var l=2<Rn(t)?t.a.statusText:""}catch(n){l=""}t.f=l+" ["+t.W()+"]",Cn(t)}}finally{_n(t)}}}function _n(t,e){if(t.a){On(t);var n=t.a,r=t.s[0]?l:null;t.a=null,t.s=null,e||Ot(t,"ready");try{n.onreadystatechange=r}catch(o){}}}function On(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(u.clearTimeout(t.m),t.m=null)}function Rn(t){return t.a?t.a.readyState:0}function Sn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return N(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):je(t,e,n))}function Tn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Pn(t){this.pa=0,this.g=[],this.c=new qt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Tn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Tn("baseRetryDelayMs",5e3,t),this.Ra=Tn("retryDelaySeedMs",1e4,t),this.Ma=Tn("forwardChannelMaxRetries",2,t),this.ma=Tn("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new en(t&&t.concurrentRequestLimit),this.ka=new pn,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function An(t){if(Dn(t),3==t.v){var e=t.R++,n=xe(t.B);je(n,"SID",t.J),je(n,"RID",e),je(n,"TYPE","terminate"),Ln(t,n),(e=new de(t,t.c,e,void 0)).H=2,e.i=Ve(xe(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.i.toString(),"")),!n&&u.Image&&((new Image).src=e.i,n=!0),n||(e.a=Kn(e.g,null),e.a.ba(e.i)),e.u=m(),Ce(e)}zn(t)}function In(t){t.a&&(Vn(t),t.a.cancel(),t.a=null)}function Dn(t){In(t),t.j&&(u.clearTimeout(t.j),t.j=null),Wn(t),t.b.cancel(),t.h&&("number"===typeof t.h&&u.clearTimeout(t.h),t.h=null)}function Nn(t,e){t.g.push(new tn(t.Oa++,e)),3==t.v&&xn(t)}function xn(t){rn(t.b)||t.h||(t.h=!0,xt(t.Ba,t),t.u=0)}function kn(t,e){var n;n=e?e.f:t.R++;var r=xe(t.B);je(r,"SID",t.J),je(r,"RID",n),je(r,"AID",t.P),Ln(t,r),t.i&&t.l&&Sn(r,t.i,t.l),n=new de(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Fn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),an(t.b,n),ye(n,r,e)}function Ln(t,e){t.f&&Te({},(function(t,n){je(e,n,t)}))}function Fn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?v(t.f.Ja,t.f,t):null;t:for(var o=t.g,i=-1;;){var s=["count="+n];-1==i?0<n?(i=o[0].b,s.push("ofs="+i)):i=0:s.push("ofs="+i);for(var a=!0,u=0;u<n;u++){var l=o[u].b,c=o[u].a;if(0>(l-=i))i=Math.max(0,o[u].b-100),a=!1;else try{hn(c,s,"req"+l+"_")}catch(p){r&&r(c)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Mn(t){t.a||t.j||(t.T=1,xt(t.Aa,t),t.o=0)}function jn(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=ne(v(t.Aa,t),Bn(t,t.o)),t.o++,!0)}function Vn(t){null!=t.s&&(u.clearTimeout(t.s),t.s=null)}function Gn(t){t.a=new de(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=xe(t.la);je(e,"RID","rpc"),je(e,"SID",t.J),je(e,"CI",t.H?"0":"1"),je(e,"AID",t.P),Ln(t,e),je(e,"TYPE","xmlhttp"),t.i&&t.l&&Sn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ve(xe(e)),n.j=null,n.I=!0,me(n,t)}function Wn(t){null!=t.m&&(u.clearTimeout(t.m),t.m=null)}function Hn(t,e){var n=null;if(t.a==e){Wn(t),Vn(t),t.a=null;var r=2}else{if(!sn(t.b,e))return;n=e.s,un(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=m()-e.u;var o=t.u;Ot(r=Xt(),new ee(r,n,e,o)),xn(t)}else Mn(t);else if(3==(o=e.h)||0==o&&0<t.I||!(1==r&&function(t,e){return!(on(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=e.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.La?0:t.Ma))&&(t.h=ne(v(t.Ba,t,e),Bn(t,t.u)),t.u++,!0))}(t,e)||2==r&&jn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),o){case 1:Un(t,5);break;case 4:Un(t,10);break;case 3:Un(t,6);break;default:Un(t,2)}}function Bn(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Un(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=v(t.Ya,t);n||(n=new Ne("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||ke(n,"https"),Ve(n)),function(t,e){var n=new qt;if(u.Image){var r=new Image;r.onload=y(dn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=y(dn,n,r,"TestLoadImage: error",!1,e),r.onabort=y(dn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=y(dn,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else te(2);t.v=0,t.f&&t.f.ra(e),zn(t),Dn(t)}function zn(t){t.v=0,t.I=-1,t.f&&(0==ln(t.b).length&&0==t.g.length||(t.b.c.length=0,O(t.g),t.g.length=0),t.f.qa())}function qn(t,e,n){var r=function(t){return t instanceof Ne?xe(t):new Ne(t,void 0)}(n);if(""!=r.c)e&&Le(r,e+"."+r.c),Fe(r,r.h);else{var o=u.location;r=function(t,e,n,r){var o=new Ne(null,void 0);return t&&ke(o,t),e&&Le(o,e),n&&Fe(o,n),r&&(o.g=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,n)}return t.V&&N(t.V,(function(t,e){je(r,e,t)})),e=t.A,n=t.na,e&&n&&je(r,e,n),je(r,"VER",t.ha),Ln(t,r),r}function Kn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gn(t.Na)).F=t.C,e}function Yn(){}function Qn(){if(V&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function Xn(t,e){_t.call(this),this.a=new Pn(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!R(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!R(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Zn(this)}function $n(t){ce.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Jn(){pe.call(this),this.status=1}function Zn(t){this.a=t}(i=gn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?se(this.H):se(ue),this.a.onreadystatechange=v(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(i){return void wn(this,i)}t=n||"";var o=new Pe(this.headers);r&&Te(r,(function(t,e){o.set(e,t)})),r=function(t){t:{for(var e=bn,n=t.length,r="string"===typeof t?t.split(""):t,o=0;o<n;o++)if(o in r&&e.call(void 0,r[o],o,t)){e=o;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(o.L()),n=u.FormData&&t instanceof u.FormData,!(0<=C(mn,e))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{On(this),0<this.o&&((this.D=function(t){return V&&X(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=v(this.xa,this)):this.m=Vt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(i){wn(this,i)}},i.xa=function(){"undefined"!=typeof a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ot(this,"timeout"),this.abort(8))},i.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ot(this,"complete"),Ot(this,"abort"),_n(this))},i.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),_n(this,!0)),gn.X.G.call(this)},i.za=function(){this.j||(this.A||this.l||this.g?En(this):this.Ua())},i.Ua=function(){En(this)},i.W=function(){try{return 2<Rn(this)?this.a.status:-1}catch(t){return-1}},i.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},i.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),fn(e)}},i.ua=function(){return this.h},i.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},(i=Pn.prototype).ha=8,i.v=1,i.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new de(this,this.c,t,void 0),r=this.l;if(this.O&&(r?L(r=x(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var o=e=0;o<this.g.length;o++){var i=this.g[o];if(void 0===(i="__data__"in i.a&&"string"===typeof(i=i.a.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=o;break t}if(4096===e||o===this.g.length-1){e=o+1;break t}}e=1e3}else e=1e3;e=Fn(this,n,e),je(o=xe(this.B),"RID",t),je(o,"CVER",22),this.A&&je(o,"X-HTTP-Session-Id",this.A),Ln(this,o),this.i&&r&&Sn(o,this.i,r),an(this.b,n),this.Ia&&je(o,"TYPE","init"),this.da?(je(o,"$req",e),je(o,"SID","null"),n.U=!0,ye(n,o,null)):ye(n,o,e),this.v=2}}else 3==this.v&&(t?kn(this,t):0==this.g.length||rn(this.b)||kn(this))},i.Aa=function(){if(this.j=null,Gn(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ne(v(this.Ta,this),t)}},i.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,te(10),In(this),Gn(this))},i.Sa=function(){null!=this.m&&(this.m=null,In(this),jn(this),te(19))},i.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),te(2)):(this.c.info("Failed to ping google.com"),te(1))},(i=Yn.prototype).ta=function(){},i.sa=function(){},i.ra=function(){},i.qa=function(){},i.Ja=function(){},Qn.prototype.a=function(t,e){return new Xn(t,e)},b(Xn,_t),Xn.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;te(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=qn(t,null,t.fa),xn(t)},Xn.prototype.close=function(){An(this.a)},Xn.prototype.h=function(t){if("string"===typeof t){var e={};e.__data__=t,Nn(this.a,e)}else this.l?((e={}).__data__=St(t),Nn(this.a,e)):Nn(this.a,t)},Xn.prototype.G=function(){this.a.f=null,delete this.f,An(this.a),delete this.a,Xn.X.G.call(this)},b($n,ce),b(Jn,pe),b(Zn,Yn),Zn.prototype.ta=function(){Ot(this.a,"a")},Zn.prototype.sa=function(t){Ot(this.a,new $n(t))},Zn.prototype.ra=function(t){Ot(this.a,new Jn(t))},Zn.prototype.qa=function(){Ot(this.a,"b")},Qn.prototype.createWebChannel=Qn.prototype.a,Xn.prototype.send=Xn.prototype.h,Xn.prototype.open=Xn.prototype.g,Xn.prototype.close=Xn.prototype.close,re.NO_ERROR=0,re.TIMEOUT=8,re.HTTP_ERROR=6,oe.COMPLETE="complete",ae.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",_t.prototype.listen=_t.prototype.va,gn.prototype.listenOnce=gn.prototype.wa,gn.prototype.getLastError=gn.prototype.Qa,gn.prototype.getLastErrorCode=gn.prototype.ua,gn.prototype.getStatus=gn.prototype.W,gn.prototype.getResponseJson=gn.prototype.Pa,gn.prototype.getResponseText=gn.prototype.$,gn.prototype.send=gn.prototype.ba;var tr=function(){return new Qn},er=function(){return Xt()},nr=re,rr=oe,or=Yt,ir={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},sr=ae,ar=gn}).call(this,n(34))},function(t,e,n){t.exports=n(119)()},function(t,e,n){"use strict";var r=n(3),o=n(5),i=n(1),s=n.n(i),a=(n(12),n(37)),u=n.n(a),l=n(138);function c(t){var e=t.theme,n=t.name,r=t.props;if(!e||!e.props||!e.props[n])return r;var o,i=e.props[n];for(o in i)void 0===r[o]&&(r[o]=i[o]);return r}var p=n(168),h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var i=e.defaultTheme,a=e.withTheme,h=void 0!==a&&a,d=e.name,f=Object(o.a)(e,["defaultTheme","withTheme","name"]);var g=d,v=Object(l.a)(t,Object(r.a)({defaultTheme:i,Component:n,name:d||n.displayName,classNamePrefix:g},f)),y=s.a.forwardRef((function(t,e){t.classes;var a,u=t.innerRef,l=Object(o.a)(t,["classes","innerRef"]),f=v(Object(r.a)({},n.defaultProps,t)),g=l;return("string"===typeof d||h)&&(a=Object(p.a)()||i,d&&(g=c({theme:a,name:d,props:l})),h&&!g.theme&&(g.theme=a)),s.a.createElement(n,Object(r.a)({ref:u||e,classes:f},g))}));return u()(y,n),y}},d=n(22);e.a=function(t,e){return h(t,Object(r.a)({defaultTheme:d.a},e))}},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},,function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return p}));var r=n(102);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)}function i(t){if(t.type)return t;if("#"===t.charAt(0))return i(function(t){t=t.substr(1);var e=new RegExp(".{1,".concat(t.length>=6?2:1,"}"),"g"),n=t.match(e);return n&&1===n[0].length&&(n=n.map((function(t){return t+t}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(t,e){return e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3})).join(", "),")"):""}(t));var e=t.indexOf("("),n=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Object(r.a)(3,t));var o=t.substring(e+1,t.length-1).split(",");return{type:n,values:o=o.map((function(t){return parseFloat(t)}))}}function s(t){var e=t.type,n=t.values;return-1!==e.indexOf("rgb")?n=n.map((function(t,e){return e<3?parseInt(t,10):t})):-1!==e.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(e,"(").concat(n.join(", "),")")}function a(t,e){var n=u(t),r=u(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function u(t){var e="hsl"===(t=i(t)).type?i(function(t){var e=(t=i(t)).values,n=e[0],r=e[1]/100,o=e[2]/100,a=r*Math.min(o,1-o),u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+n/30)%12;return o-a*Math.max(Math.min(e-3,9-e,1),-1)},l="rgb",c=[Math.round(255*u(0)),Math.round(255*u(8)),Math.round(255*u(4))];return"hsla"===t.type&&(l+="a",c.push(e[3])),s({type:l,values:c})}(t)).values:t.values;return e=e.map((function(t){return(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function l(t,e){return t=i(t),e=o(e),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),t.values[3]=e,s(t)}function c(t,e){if(t=i(t),e=o(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb"))for(var n=0;n<3;n+=1)t.values[n]*=1-e;return s(t)}function p(t,e){if(t=i(t),e=o(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(var n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;return s(t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(102);function o(t){if("string"!==typeof t)throw new Error(Object(r.a)(7));return t.charAt(0).toUpperCase()+t.slice(1)}},function(t,e,n){"use strict";var r=n(137);e.a=function(t,e){return e?Object(r.a)(t,e,{clone:!1}):t}},function(t,e,n){"use strict";var r=n(1),o=r.createContext();e.a=o},function(t,e,n){"use strict";var r=n(24),o=n(5),i=n(137),s=n(3),a=["xs","sm","md","lg","xl"];function u(t){var e=t.values,n=void 0===e?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,r=t.unit,i=void 0===r?"px":r,u=t.step,l=void 0===u?5:u,c=Object(o.a)(t,["values","unit","step"]);function p(t){var e="number"===typeof n[t]?n[t]:t;return"@media (min-width:".concat(e).concat(i,")")}function h(t,e){var r=a.indexOf(e);return r===a.length-1?p(t):"@media (min-width:".concat("number"===typeof n[t]?n[t]:t).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[a[r+1]]?n[a[r+1]]:e)-l/100).concat(i,")")}return Object(s.a)({keys:a,values:n,up:p,down:function(t){var e=a.indexOf(t)+1,r=n[a[e]];return e===a.length?p("xs"):"@media (max-width:".concat(("number"===typeof r&&e>0?r:t)-l/100).concat(i,")")},between:h,only:function(t){return h(t,t)},width:function(t){return n[t]}},c)}function l(t,e,n){var o;return Object(s.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(s.a)({paddingLeft:e(2),paddingRight:e(2)},n,Object(r.a)({},t.up("sm"),Object(s.a)({paddingLeft:e(3),paddingRight:e(3)},n[t.up("sm")])))},toolbar:(o={minHeight:56},Object(r.a)(o,"".concat(t.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(o,t.up("sm"),{minHeight:64}),o)},n)}var c=n(102),p={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},d={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},f={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},g={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},y={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},m={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=n(18),w={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:p.white,default:h[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},C={text:{primary:p.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:h[800],default:"#303030"},action:{active:p.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function E(t,e,n,r){var o=r.light||r,i=r.dark||1.5*r;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:"light"===e?t.light=Object(b.d)(t.main,o):"dark"===e&&(t.dark=Object(b.a)(t.main,i)))}function _(t){var e=t.primary,n=void 0===e?{light:d[300],main:d[500],dark:d[700]}:e,r=t.secondary,a=void 0===r?{light:f.A200,main:f.A400,dark:f.A700}:r,u=t.error,l=void 0===u?{light:g[300],main:g[500],dark:g[700]}:u,_=t.warning,O=void 0===_?{light:v[300],main:v[500],dark:v[700]}:_,R=t.info,S=void 0===R?{light:y[300],main:y[500],dark:y[700]}:R,T=t.success,P=void 0===T?{light:m[300],main:m[500],dark:m[700]}:T,A=t.type,I=void 0===A?"light":A,D=t.contrastThreshold,N=void 0===D?3:D,x=t.tonalOffset,k=void 0===x?.2:x,L=Object(o.a)(t,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function F(t){return Object(b.c)(t,C.text.primary)>=N?C.text.primary:w.text.primary}var M=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(t=Object(s.a)({},t)).main&&t[e]&&(t.main=t[e]),!t.main)throw new Error(Object(c.a)(4,e));if("string"!==typeof t.main)throw new Error(Object(c.a)(5,JSON.stringify(t.main)));return E(t,"light",n,k),E(t,"dark",r,k),t.contrastText||(t.contrastText=F(t.main)),t},j={dark:C,light:w};return Object(i.a)(Object(s.a)({common:p,type:I,primary:M(n),secondary:M(a,"A400","A200","A700"),error:M(l),warning:M(O),info:M(S),success:M(P),grey:h,contrastThreshold:N,getContrastText:F,augmentColor:M,tonalOffset:k},j[I]),L)}function O(t){return Math.round(1e5*t)/1e5}var R={textTransform:"uppercase"};function S(t,e){var n="function"===typeof e?e(t):e,r=n.fontFamily,a=void 0===r?'"Roboto", "Helvetica", "Arial", sans-serif':r,u=n.fontSize,l=void 0===u?14:u,c=n.fontWeightLight,p=void 0===c?300:c,h=n.fontWeightRegular,d=void 0===h?400:h,f=n.fontWeightMedium,g=void 0===f?500:f,v=n.fontWeightBold,y=void 0===v?700:v,m=n.htmlFontSize,b=void 0===m?16:m,w=n.allVariants,C=n.pxToRem,E=Object(o.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var _=l/14,S=C||function(t){return"".concat(t/b*_,"rem")},T=function(t,e,n,r,o){return Object(s.a)({fontFamily:a,fontWeight:t,fontSize:S(e),lineHeight:n},'"Roboto", "Helvetica", "Arial", sans-serif'===a?{letterSpacing:"".concat(O(r/e),"em")}:{},o,w)},P={h1:T(p,96,1.167,-1.5),h2:T(p,60,1.2,-.5),h3:T(d,48,1.167,0),h4:T(d,34,1.235,.25),h5:T(d,24,1.334,0),h6:T(g,20,1.6,.15),subtitle1:T(d,16,1.75,.15),subtitle2:T(g,14,1.57,.1),body1:T(d,16,1.5,.15),body2:T(d,14,1.43,.15),button:T(g,14,1.75,.4,R),caption:T(d,12,1.66,.4),overline:T(d,12,2.66,1,R)};return Object(i.a)(Object(s.a)({htmlFontSize:b,pxToRem:S,round:O,fontFamily:a,fontSize:l,fontWeightLight:p,fontWeightRegular:d,fontWeightMedium:g,fontWeightBold:y},P),E,{clone:!1})}function T(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var P=["none",T(0,2,1,-1,0,1,1,0,0,1,3,0),T(0,3,1,-2,0,2,2,0,0,1,5,0),T(0,3,3,-2,0,3,4,0,0,1,8,0),T(0,2,4,-1,0,4,5,0,0,1,10,0),T(0,3,5,-1,0,5,8,0,0,1,14,0),T(0,3,5,-1,0,6,10,0,0,1,18,0),T(0,4,5,-2,0,7,10,1,0,2,16,1),T(0,5,5,-3,0,8,10,1,0,3,14,2),T(0,5,6,-3,0,9,12,1,0,3,16,2),T(0,6,6,-3,0,10,14,1,0,4,18,3),T(0,6,7,-4,0,11,15,1,0,4,20,3),T(0,7,8,-4,0,12,17,2,0,5,22,4),T(0,7,8,-4,0,13,19,2,0,5,24,4),T(0,7,9,-4,0,14,21,2,0,5,26,4),T(0,8,9,-5,0,15,22,2,0,6,28,5),T(0,8,10,-5,0,16,24,2,0,6,30,5),T(0,8,11,-5,0,17,26,2,0,6,32,5),T(0,9,11,-5,0,18,28,2,0,7,34,6),T(0,9,12,-6,0,19,29,2,0,7,36,6),T(0,10,13,-6,0,20,31,3,0,8,38,7),T(0,10,13,-6,0,21,33,3,0,8,40,7),T(0,10,14,-6,0,22,35,3,0,8,42,7),T(0,11,14,-7,0,23,36,3,0,9,44,8),T(0,11,15,-7,0,24,38,3,0,9,46,8)],A={borderRadius:4},I=n(169);function D(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;var e=Object(I.a)({spacing:t}),n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0===n.length?e(1):1===n.length?e(n[0]):n.map((function(t){if("string"===typeof t)return t;var n=e(t);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return t}}),n.mui=!0,n}var N={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},x={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function k(t){return"".concat(Math.round(t),"ms")}var L={easing:N,duration:x,create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.duration,r=void 0===n?x.standard:n,i=e.easing,s=void 0===i?N.easeInOut:i,a=e.delay,u=void 0===a?0:a;Object(o.a)(e,["duration","easing","delay"]);return(Array.isArray(t)?t:[t]).map((function(t){return"".concat(t," ").concat("string"===typeof r?r:k(r)," ").concat(s," ").concat("string"===typeof u?u:k(u))})).join(",")},getAutoHeightDuration:function(t){if(!t)return 0;var e=t/36;return Math.round(10*(4+15*Math.pow(e,.25)+e/5))}},F={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var M=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.breakpoints,n=void 0===e?{}:e,r=t.mixins,s=void 0===r?{}:r,a=t.palette,c=void 0===a?{}:a,p=t.spacing,h=t.typography,d=void 0===h?{}:h,f=Object(o.a)(t,["breakpoints","mixins","palette","spacing","typography"]),g=_(c),v=u(n),y=D(p),m=Object(i.a)({breakpoints:v,direction:"ltr",mixins:l(v,y,s),overrides:{},palette:g,props:{},shadows:P,typography:S(g,d),spacing:y,shape:A,transitions:L,zIndex:F},f),b=arguments.length,w=new Array(b>1?b-1:0),C=1;C<b;C++)w[C-1]=arguments[C];return m=w.reduce((function(t,e){return Object(i.a)(t,e)}),m)}();e.a=M},function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var o,i=new Promise((function(i,s){n(o=t[e].apply(t,r)).then(i,s)}));return i.request=o,i}function o(t,e,n){var o=r(t,e,n);return o.then((function(t){if(t)return new c(t,o.request)}))}function i(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function s(t,e,n,o){o.forEach((function(o){o in n.prototype&&(t.prototype[o]=function(){return r(this[e],o,arguments)})}))}function a(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function u(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return o(this[e],r,arguments)})}))}function l(t){this._index=t}function c(t,e){this._cursor=t,this._request=e}function p(t){this._store=t}function h(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function d(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new h(n)}function f(t){this._db=t}i(l,"_index",["name","keyPath","multiEntry","unique"]),s(l,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(l,"_index",IDBIndex,["openCursor","openKeyCursor"]),i(c,"_cursor",["direction","key","primaryKey","value"]),s(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(c.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new c(t,e._request)}))}))})})),p.prototype.createIndex=function(){return new l(this._store.createIndex.apply(this._store,arguments))},p.prototype.index=function(){return new l(this._store.index.apply(this._store,arguments))},i(p,"_store",["name","keyPath","indexNames","autoIncrement"]),s(p,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(p,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(p,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new p(this._tx.objectStore.apply(this._tx,arguments))},i(h,"_tx",["objectStoreNames","mode"]),a(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new p(this._db.createObjectStore.apply(this._db,arguments))},i(d,"_db",["name","version","objectStoreNames"]),a(d,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},i(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[p,l].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],o=this._store||this._index,i=o[t].apply(o,n.slice(0,-1));i.onsuccess=function(){r(i.result)}})}))})),[l,p].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(o){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():o(r)):o(r)}))}))})})),t.openDb=function(t,e,n){var o=r(indexedDB,"open",[t,e]),i=o.request;return i&&(i.onupgradeneeded=function(t){n&&n(new d(i.result,t.oldVersion,i.transaction))}),o.then((function(t){return new f(t)}))},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){var r=n(133);function o(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}t.exports=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var a=i?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,e&&e.set(t,n),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(44)},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}}(),t.exports=n(109)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(32);var o=n(91),i=n(35);function s(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||Object(o.a)(t)||Object(i.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){"function"===typeof t?t(e):t&&(t.current=e)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(25),o=n(26);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n(1)),s=(0,r(n(27)).default)(i.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");e.default=s},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(32);function o(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n(29),n(3);var r=n(30),o=(n(12),n(20),{xs:0,sm:600,md:960,lg:1280,xl:1920}),i={keys:["xs","sm","md","lg","xl"],up:function(t){return"@media (min-width:".concat(o[t],"px)")}};function s(t,e,n){if(Array.isArray(e)){var o=t.theme.breakpoints||i;return e.reduce((function(t,r,i){return t[o.up(o.keys[i])]=n(e[i]),t}),{})}if("object"===Object(r.a)(e)){var s=t.theme.breakpoints||i;return Object.keys(e).reduce((function(t,r){return t[s.up(r)]=n(e[r]),t}),{})}return n(e)}},function(t,e,n){"use strict";var r=n(131),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function u(t){return r.isMemo(t)?s:a[t.$$typeof]||o}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var l=Object.defineProperty,c=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(f){var o=d(n);o&&o!==f&&t(e,o,r)}var s=c(n);p&&(s=s.concat(p(n)));for(var a=u(e),g=u(n),v=0;v<s.length;++v){var y=s[v];if(!i[y]&&(!r||!r[y])&&(!g||!g[y])&&(!a||!a[y])){var m=h(n,y);try{l(e,y,m)}catch(b){}}}}return e}},function(t,e,n){"use strict";var r=n(1),o=r.createContext();e.a=o},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(92);var o=n(35),i=n(93);function s(t,e){return Object(r.a)(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}(t,e)||Object(o.a)(t,e)||Object(i.a)()}},function(t,e,n){"use strict";n.d(e,"a",(function(){return Zo})),n.d(e,"b",(function(){return Ko}));var r=n(0);var o=0,i="undefined"!==typeof window&&void 0!==window.requestAnimationFrame?function(t){return window.requestAnimationFrame(t)}:function(t){var e=Date.now(),n=Math.max(0,16.7-(e-o));o=e+n,setTimeout((function(){return t(o)}),n)},s=1/60*1e3,a=!0,u=!1,l=!1,c={delta:0,timestamp:0},p=["read","update","preRender","render","postRender"],h=function(t){return u=t},d=p.reduce((function(t,e){return t[e]=function(t){var e=[],n=[],r=0,o=!1,i=0,s=new WeakSet,a=new WeakSet,u={cancel:function(t){var e=n.indexOf(t);s.add(t),-1!==e&&n.splice(e,1)},process:function(l){var c,p;if(o=!0,e=(c=[n,e])[0],(n=c[1]).length=0,r=e.length)for(i=0;i<r;i++)(p=e[i])(l),!0!==a.has(p)||s.has(p)||(u.schedule(p),t(!0));o=!1},schedule:function(t,i,u){void 0===i&&(i=!1),void 0===u&&(u=!1);var l=u&&o,c=l?e:n;s.delete(t),i&&a.add(t),-1===c.indexOf(t)&&(c.push(t),l&&(r=e.length))}};return u}(h),t}),{}),f=p.reduce((function(t,e){var n=d[e];return t[e]=function(t,e,r){return void 0===e&&(e=!1),void 0===r&&(r=!1),u||m(),n.schedule(t,e,r),t},t}),{}),g=p.reduce((function(t,e){return t[e]=d[e].cancel,t}),{}),v=function(t){return d[t].process(c)},y=function t(e){u=!1,c.delta=a?s:Math.max(Math.min(e-c.timestamp,40),1),a||(s=c.delta),c.timestamp=e,l=!0,p.forEach(v),l=!1,u&&(a=!1,i(t))},m=function(){u=!0,a=!0,l||i(y)},b=function(){return c},w=f,C=function(t,e){return function(n){return Math.max(Math.min(n,e),t)}},E=function(t){return t%1?Number(t.toFixed(5)):t},_=/(-)?(\d[\d\.]*)/g,O=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,R=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i,S={test:function(t){return"number"===typeof t},parse:parseFloat,transform:function(t){return t}},T=Object(r.a)(Object(r.a)({},S),{transform:C(0,1)}),P=Object(r.a)(Object(r.a)({},S),{default:1}),A=function(t){return{test:function(e){return"string"===typeof e&&e.endsWith(t)&&1===e.split(" ").length},parse:parseFloat,transform:function(e){return""+e+t}}},I=A("deg"),D=A("%"),N=A("px"),x=A("vh"),k=A("vw"),L=Object(r.a)(Object(r.a)({},D),{parse:function(t){return D.parse(t)/100},transform:function(t){return D.transform(100*t)}}),F=C(0,255),M=function(t){return void 0!==t.red},j=function(t){return void 0!==t.hue};var V=function(t){return function(e){if("string"!==typeof e)return e;for(var n={},r=function(t){return t.substring(t.indexOf("(")+1,t.lastIndexOf(")"))}(e).replace(/(,|\/)/g," ").split(/ \s*/),o=0;o<4;o++)n[t[o]]=void 0!==r[o]?parseFloat(r[o]):1;return n}},G=Object(r.a)(Object(r.a)({},S),{transform:function(t){return Math.round(F(t))}});function W(t,e){return t.startsWith(e)&&R.test(t)}var H={test:function(t){return"string"===typeof t?W(t,"rgb"):M(t)},parse:V(["red","green","blue","alpha"]),transform:function(t){var e=t.red,n=t.green,r=t.blue,o=t.alpha,i=void 0===o?1:o;return function(t){var e=t.red,n=t.green,r=t.blue,o=t.alpha;return"rgba("+e+", "+n+", "+r+", "+(void 0===o?1:o)+")"}({red:G.transform(e),green:G.transform(n),blue:G.transform(r),alpha:E(T.transform(i))})}},B={test:function(t){return"string"===typeof t?W(t,"hsl"):j(t)},parse:V(["hue","saturation","lightness","alpha"]),transform:function(t){var e=t.hue,n=t.saturation,r=t.lightness,o=t.alpha,i=void 0===o?1:o;return function(t){var e=t.hue,n=t.saturation,r=t.lightness,o=t.alpha;return"hsla("+e+", "+n+", "+r+", "+(void 0===o?1:o)+")"}({hue:Math.round(e),saturation:D.transform(E(n)),lightness:D.transform(E(r)),alpha:E(T.transform(i))})}},U=Object(r.a)(Object(r.a)({},H),{test:function(t){return"string"===typeof t&&W(t,"#")},parse:function(t){var e="",n="",r="";return t.length>4?(e=t.substr(1,2),n=t.substr(3,2),r=t.substr(5,2)):(e=t.substr(1,1),n=t.substr(2,1),r=t.substr(3,1),e+=e,n+=n,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:1}}}),z={test:function(t){return"string"===typeof t&&R.test(t)||M(t)||j(t)},parse:function(t){return H.test(t)?H.parse(t):B.test(t)?B.parse(t):U.test(t)?U.parse(t):t},transform:function(t){return M(t)?H.transform(t):j(t)?B.transform(t):t}},q=function(t){return"number"===typeof t?0:t},K={test:function(t){if("string"!==typeof t||!isNaN(t))return!1;var e=0,n=t.match(_),r=t.match(O);return n&&(e+=n.length),r&&(e+=r.length),e>0},parse:function(t){var e=t,n=[],r=e.match(O);r&&(e=e.replace(O,"${c}"),n.push.apply(n,r.map(z.parse)));var o=e.match(_);return o&&n.push.apply(n,o.map(S.parse)),n},createTransformer:function(t){var e=t,n=0,r=t.match(O),o=r?r.length:0;if(r)for(var i=0;i<o;i++)e=e.replace(r[i],"${c}"),n++;var s=e.match(_),a=s?s.length:0;if(s)for(i=0;i<a;i++)e=e.replace(s[i],"${n}"),n++;return function(t){for(var r=e,i=0;i<n;i++)r=r.replace(i<o?"${c}":"${n}",i<o?z.transform(t[i]):E(t[i]));return r}},getAnimatableNone:function(t){var e=K.parse(t);return K.createTransformer(t)(e.map(q))}},Y=function(t,e,n){return Math.min(Math.max(n,t),e)};function Q(t){var e,n,r=t.duration,o=void 0===r?800:r,i=t.bounce,s=void 0===i?.25:i,a=t.velocity,u=void 0===a?0:a,l=t.mass,c=void 0===l?1:l,p=1-s;p=Y(.05,1,p),o=Y(.01,10,o/1e3),p<1?(e=function(t){var e=t*p,n=e*o;return.001-(e-u)/X(t,p)*Math.exp(-n)},n=function(t){var n=t*p*o,r=n*u+u,i=Math.pow(p,2)*Math.pow(t,2)*o,s=Math.exp(-n),a=X(Math.pow(t,2),p);return(.001-e(t)>0?-1:1)*((r-i)*s)/a}):(e=function(t){return Math.exp(-t*o)*((t-u)*o+1)-.001},n=function(t){return Math.exp(-t*o)*(o*o*(u-t))});var h=function(t,e,n){for(var r=n,o=1;o<12;o++)r-=t(r)/e(r);return r}(e,n,5/o);if(isNaN(h))return{stiffness:100,damping:10};var d=Math.pow(h,2)*c;return{stiffness:d,damping:2*p*Math.sqrt(c*d)}}function X(t,e){return t*Math.sqrt(1-e*e)}var $=["duration","bounce"],J=["stiffness","damping","mass"];function Z(t,e){return e.some((function(e){return void 0!==t[e]}))}function tt(t){var e=t.from,n=void 0===e?0:e,o=t.to,i=void 0===o?1:o,s=t.restSpeed,a=void 0===s?2:s,u=t.restDelta,l=Object(r.f)(t,["from","to","restSpeed","restDelta"]),c={done:!1,value:n},p=function(t){var e=Object(r.a)({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!Z(t,J)&&Z(t,$)){var n=Q(t);(e=Object(r.a)(Object(r.a)(Object(r.a)({},e),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return e}(l),h=p.stiffness,d=p.damping,f=p.mass,g=p.velocity,v=p.isResolvedFromDuration,y=et,m=et;function b(){var t=g?-g/1e3:0,e=i-n,r=d/(2*Math.sqrt(h*f)),o=Math.sqrt(h/f)/1e3;if(null!==u&&void 0!==u||(u=Math.abs(i-n)<=1?.01:.4),r<1){var s=X(o,r);y=function(n){var a=Math.exp(-r*o*n);return i-a*((t+r*o*e)/s*Math.sin(s*n)+e*Math.cos(s*n))},m=function(n){var i=Math.exp(-r*o*n);return r*o*i*(Math.sin(s*n)*(t+r*o*e)/s+e*Math.cos(s*n))-i*(Math.cos(s*n)*(t+r*o*e)-s*e*Math.sin(s*n))}}else if(1===r)y=function(n){return i-Math.exp(-o*n)*(e+(t+o*e)*n)};else{var a=o*Math.sqrt(r*r-1);y=function(n){var s=Math.exp(-r*o*n),u=Math.min(a*n,300);return i-s*((t+r*o*e)*Math.sinh(u)+a*e*Math.cosh(u))/a}}}return b(),{next:function(t){var e=y(t);if(v)c.done=t>=l.duration;else{var n=1e3*m(t),r=Math.abs(n)<=a,o=Math.abs(i-e)<=u;c.done=r&&o}return c.value=c.done?i:e,c},flipTarget:function(){var t;g=-g,n=(t=[i,n])[0],i=t[1],b()}}}tt.needsInterpolation=function(t,e){return"string"===typeof t||"string"===typeof e};var et=function(t){return 0},nt=function(t,e,n){var r=e-t;return 0===r?1:(n-t)/r},rt=function(t,e,n){return-n*t+n*e+t},ot=function(t,e,n){var r=t*t,o=e*e;return Math.sqrt(Math.max(0,n*(o-r)+r))},it=[U,H,B],st=function(t){return it.find((function(e){return e.test(t)}))},at=function(t){return"'"+t+"' is not an animatable color. Use the equivalent color code instead."},ut=function(t,e){var n=st(t),o=st(e);at(t),at(e),n.transform,o.transform;var i=n.parse(t),s=o.parse(e),a=Object(r.a)({},i),u=n===B?rt:ot;return function(t){for(var e in a)"alpha"!==e&&(a[e]=u(i[e],s[e],t));return a.alpha=rt(i.alpha,s.alpha,t),n.transform(a)}},lt=function(t){return"number"===typeof t},ct=function(t,e){return function(n){return e(t(n))}},pt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce(ct)};function ht(t,e){return lt(t)?function(n){return rt(t,e,n)}:z.test(t)?ut(t,e):vt(t,e)}var dt=function(t,e){var n=Object(r.h)(t),o=n.length,i=t.map((function(t,n){return ht(t,e[n])}));return function(t){for(var e=0;e<o;e++)n[e]=i[e](t);return n}},ft=function(t,e){var n=Object(r.a)(Object(r.a)({},t),e),o={};for(var i in n)void 0!==t[i]&&void 0!==e[i]&&(o[i]=ht(t[i],e[i]));return function(t){for(var e in o)n[e]=o[e](t);return n}};function gt(t){for(var e=K.parse(t),n=e.length,r=0,o=0,i=0,s=0;s<n;s++)r||"number"===typeof e[s]?r++:void 0!==e[s].hue?i++:o++;return{parsed:e,numNumbers:r,numRGB:o,numHSL:i}}var vt=function(t,e){var n=K.createTransformer(e),r=gt(t),o=gt(e);return r.numHSL===o.numHSL&&r.numRGB===o.numRGB&&(r.numNumbers,o.numNumbers),pt(dt(r.parsed,o.parsed),n)},yt=function(t,e){return function(n){return rt(t,e,n)}};function mt(t,e,n){for(var r,o=[],i=n||("number"===typeof(r=t[0])?yt:"string"===typeof r?z.test(r)?ut:vt:Array.isArray(r)?dt:"object"===typeof r?ft:void 0),s=t.length-1,a=0;a<s;a++){var u=i(t[a],t[a+1]);if(e){var l=Array.isArray(e)?e[a]:e;u=pt(l,u)}o.push(u)}return o}function bt(t,e,n){var r=void 0===n?{}:n,o=r.clamp,i=void 0===o||o,s=r.ease,a=r.mixer,u=t.length;e.length,!s||!Array.isArray(s)||s.length,t[0]>t[u-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());var l=mt(e,s,a),c=2===u?function(t,e){var n=t[0],r=t[1],o=e[0];return function(t){return o(nt(n,r,t))}}(t,l):function(t,e){var n=t.length,r=n-1;return function(o){var i=0,s=!1;if(o<=t[0]?s=!0:o>=t[r]&&(i=r-1,s=!0),!s){for(var a=1;a<n&&!(t[a]>o||a===r);a++);i=a-1}var u=nt(t[i],t[i+1],o);return e[i](u)}}(t,l);return i?function(e){return c(Y(t[0],t[u-1],e))}:c}var wt=function(t){return function(e){return 1-t(1-e)}},Ct=function(t){return function(e){return e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2}},Et=function(t){return function(e){return e*e*((t+1)*e-t)}},_t=function(t){var e=Et(t);return function(t){return(t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))}},Ot=function(t){return t},Rt=function(t){return function(e){return Math.pow(e,t)}}(2),St=wt(Rt),Tt=Ct(Rt),Pt=function(t){return 1-Math.sin(Math.acos(t))},At=wt(Pt),It=Ct(At),Dt=Et(1.525),Nt=wt(Dt),xt=Ct(Dt),kt=_t(1.525),Lt=function(t){if(1===t||0===t)return t;var e=t*t;return t<4/11?7.5625*e:t<8/11?9.075*e-9.9*t+3.4:t<.9?4356/361*e-35442/1805*t+16061/1805:10.8*t*t-20.52*t+10.72},Ft=wt(Lt);function Mt(t,e){return t.map((function(){return e||Tt})).splice(0,t.length-1)}function jt(t){var e=t.from,n=void 0===e?0:e,r=t.to,o=void 0===r?1:r,i=t.ease,s=t.offset,a=t.duration,u=void 0===a?300:a,l={done:!1,value:n},c=Array.isArray(o)?o:[n,o],p=function(t,e){return t.map((function(t){return t*e}))}(null!==s&&void 0!==s?s:function(t){var e=t.length;return t.map((function(t,n){return 0!==n?n/(e-1):0}))}(c),u);function h(){return bt(p,c,{ease:Array.isArray(i)?i:Mt(c,i)})}var d=h();return{next:function(t){return l.value=d(t),l.done=t>=u,l},flipTarget:function(){c.reverse(),d=h()}}}var Vt={keyframes:jt,spring:tt,decay:function(t){var e=t.velocity,n=void 0===e?0:e,r=t.from,o=void 0===r?0:r,i=t.power,s=void 0===i?.8:i,a=t.timeConstant,u=void 0===a?350:a,l=t.restDelta,c=void 0===l?.5:l,p=t.modifyTarget,h={done:!1,value:o},d=s*n,f=o+d,g=void 0===p?f:p(f);return g!==f&&(d=g-o),{next:function(t){var e=-d*Math.exp(-t/u);return h.done=!(e>c||e<-c),h.value=h.done?g:g+e,h},flipTarget:function(){}}}};function Gt(t,e,n){return void 0===n&&(n=0),t-e-n}var Wt=function(t){var e=function(e){var n=e.delta;return t(n)};return{start:function(){return w.update(e,!0,!0)},stop:function(){return g.update(e)}}};function Ht(t){var e,n,o,i,s,a=t.from,u=t.autoplay,l=void 0===u||u,c=t.driver,p=void 0===c?Wt:c,h=t.elapsed,d=void 0===h?0:h,f=t.repeat,g=void 0===f?0:f,v=t.repeatType,y=void 0===v?"loop":v,m=t.repeatDelay,b=void 0===m?0:m,w=t.onPlay,C=t.onStop,E=t.onComplete,_=t.onRepeat,O=t.onUpdate,R=Object(r.f)(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),S=R.to,T=0,P=R.duration,A=!1,I=!0,D=function(t){if(Array.isArray(t.to))return jt;if(Vt[t.type])return Vt[t.type];var e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?jt:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?tt:jt}(R);(null===(n=(e=D).needsInterpolation)||void 0===n?void 0:n.call(e,a,S))&&(s=bt([0,100],[a,S],{clamp:!1}),a=0,S=100);var N=D(Object(r.a)(Object(r.a)({},R),{from:a,to:S}));function x(){T++,"reverse"===y?d=function(t,e,n,r){return void 0===n&&(n=0),void 0===r&&(r=!0),r?Gt(e+-t,e,n):e-(t-e)+n}(d,P,b,I=T%2===0):(d=Gt(d,P,b),"mirror"===y&&N.flipTarget()),A=!1,_&&_()}function k(t){if(I||(t=-t),d+=t,!A){var e=N.next(Math.max(0,d));i=e.value,s&&(i=s(i)),A=I?e.done:d<=0}null===O||void 0===O||O(i),A&&(0===T&&(null!==P&&void 0!==P||(P=d)),T<g?function(t,e,n,r){return r?t>=e+n:t<=-n}(d,P,b,I)&&x():(o.stop(),E&&E()))}return l&&(null===w||void 0===w||w(),(o=p(k)).start()),{stop:function(){null===C||void 0===C||C(),o.stop()}}}function Bt(t,e){return e?t*(1e3/e):0}var Ut=function(t){return t},zt=function(t){return void 0===t&&(t=Ut),function(e,n,r){var o=n-r,i=-(0-e+1)*(0-t(Math.abs(o)));return o<=0?n+i:n-i}},qt=(Math.sqrt,function(t){return t.hasOwnProperty("x")&&t.hasOwnProperty("y")}),Kt=function(t){return qt(t)&&t.hasOwnProperty("z")},Yt=function(t,e){return Math.abs(t-e)};function Qt(t,e){if(lt(t)&&lt(e))return Yt(t,e);if(qt(t)&&qt(e)){var n=Yt(t.x,e.x),r=Yt(t.y,e.y),o=Kt(t)&&Kt(e)?Yt(t.z,e.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(o,2))}}var Xt=function(t,e){return 1-3*e+3*t},$t=function(t,e){return 3*e-6*t},Jt=function(t){return 3*t},Zt=function(t,e,n){return((Xt(e,n)*t+$t(e,n))*t+Jt(e))*t},te=function(t,e,n){return 3*Xt(e,n)*t*t+2*$t(e,n)*t+Jt(e)};function ee(t,e,n,r){if(t===e&&n===r)return Ot;for(var o=new Float32Array(11),i=0;i<11;++i)o[i]=Zt(.1*i,t,n);function s(e){for(var r=0,i=1;10!==i&&o[i]<=e;++i)r+=.1;--i;var s=r+.1*((e-o[i])/(o[i+1]-o[i])),a=te(s,t,n);return a>=.001?function(t,e,n,r){for(var o=0;o<8;++o){var i=te(e,n,r);if(0===i)return e;e-=(Zt(e,n,r)-t)/i}return e}(e,s,t,n):0===a?s:function(t,e,n,r,o){var i,s,a=0;do{(i=Zt(s=e+(n-e)/2,r,o)-t)>0?n=s:e=s}while(Math.abs(i)>1e-7&&++a<10);return s}(e,r,r+.1,t,n)}return function(t){return 0===t||1===t?t:Zt(s(t),e,r)}}var ne=n(1),re=n.n(ne),oe=function(t){return"object"===typeof t&&t.hasOwnProperty("current")},ie=function(){function t(){this.subscriptions=new Set}return t.prototype.add=function(t){var e=this;return this.subscriptions.add(t),function(){e.subscriptions.delete(t)}},t.prototype.notify=function(t,e,n){var o,i;if(this.subscriptions.size)try{for(var s=Object(r.i)(this.subscriptions),a=s.next();!a.done;a=s.next()){(0,a.value)(t,e,n)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}},t.prototype.clear=function(){this.subscriptions.clear()},t}(),se=function(){function t(t){var e,n=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new ie,this.renderSubscribers=new ie,this.canTrackVelocity=!1,this.updateAndNotify=function(t,e){void 0===e&&(e=!0),n.prev=n.current,n.current=t,n.prev!==n.current&&n.updateSubscribers.notify(n.current),e&&n.renderSubscribers.notify(n.current);var r=b(),o=r.delta,i=r.timestamp;n.lastUpdated!==i&&(n.timeDelta=o,n.lastUpdated=i,w.postRender(n.scheduleVelocityCheck))},this.scheduleVelocityCheck=function(){return w.postRender(n.velocityCheck)},this.velocityCheck=function(t){t.timestamp!==n.lastUpdated&&(n.prev=n.current)},this.set(t,!1),this.canTrackVelocity=(e=this.current,!isNaN(parseFloat(e)))}return t.prototype.onChange=function(t){return this.updateSubscribers.add(t)},t.prototype.clearListeners=function(){this.updateSubscribers.clear()},t.prototype.onRenderRequest=function(t){return t(this.get()),this.renderSubscribers.add(t)},t.prototype.attach=function(t){this.passiveEffect=t},t.prototype.set=function(t,e){void 0===e&&(e=!0),e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)},t.prototype.get=function(){return this.current},t.prototype.getPrevious=function(){return this.prev},t.prototype.getVelocity=function(){return this.canTrackVelocity?Bt(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},t.prototype.start=function(t){var e=this;return this.stop(),new Promise((function(n){e.stopAnimation=t(n)})).then((function(){return e.clearAnimation()}))},t.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},t.prototype.isAnimating=function(){return!!this.stopAnimation},t.prototype.clearAnimation=function(){this.stopAnimation=null},t.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},t}();function ae(t){return new se(t)}var ue=function(){function t(t,e){var n=this;this.children=new Set,this.latest={},this.values=new Map,this.valueSubscriptions=new Map,this.config={},this.update=function(){return n.config.onUpdate(n.latest)},this.triggerRender=function(){return n.render()},this.ref=function(t){t?n.mount(t):n.unmount(),n.externalRef&&("function"===typeof n.externalRef?n.externalRef(t):oe(n.externalRef)&&(n.externalRef.current=t))},this.parent=t,this.rootParent=t?t.rootParent:this,this.treePath=t?Object(r.g)(t.treePath,[t]):[],this.depth=t?t.depth+1:0,this.externalRef=e}return t.prototype.subscribe=function(t){var e=this;return this.children.add(t),function(){return e.children.delete(t)}},t.prototype.hasValue=function(t){return this.values.has(t)},t.prototype.addValue=function(t,e){this.hasValue(t)&&this.removeValue(t),this.values.set(t,e),this.setSingleStaticValue(t,e.get()),this.subscribeToValue(t,e)},t.prototype.removeValue=function(t){var e;null===(e=this.valueSubscriptions.get(t))||void 0===e||e(),this.valueSubscriptions.delete(t),this.values.delete(t),delete this.latest[t]},t.prototype.getValue=function(t,e){var n=this.values.get(t);return void 0===n&&void 0!==e&&(n=new se(e),this.addValue(t,n)),n},t.prototype.forEachValue=function(t){this.values.forEach(t)},t.prototype.getInstance=function(){return this.element},t.prototype.updateConfig=function(t){void 0===t&&(t={}),this.config=Object(r.a)({},t)},t.prototype.setSingleStaticValue=function(t,e){this.latest[t]=e},t.prototype.setStaticValues=function(t,e){if("string"===typeof t)this.setSingleStaticValue(t,e);else for(var n in t)this.setSingleStaticValue(n,t[n])},t.prototype.scheduleRender=function(){w.render(this.triggerRender,!1,!0)},t.prototype.scheduleUpdateLayoutDelta=function(){w.preRender(this.rootParent.updateLayoutDelta,!1,!0)},t.prototype.subscribeToValue=function(t,e){var n=this,r=e.onChange((function(e){n.setSingleStaticValue(t,e),n.element&&n.config.onUpdate&&w.update(n.update,!1,!0)})),o=e.onRenderRequest((function(){n.element&&n.scheduleRender()}));this.valueSubscriptions.set(t,(function(){r(),o()}))},t.prototype.mount=function(t){this.parent&&(this.removeFromParent=this.parent.subscribe(this)),this.element=this.current=t},t.prototype.unmount=function(){var t=this;this.forEachValue((function(e,n){return t.removeValue(n)})),g.update(this.update),g.render(this.render),this.removeFromParent&&this.removeFromParent()},t}();function le(t){return t}function ce(t){var e=t.top;return{x:{min:t.left,max:t.right},y:{min:e,max:t.bottom}}}function pe(t){return{x:Object(r.a)({},t.x),y:Object(r.a)({},t.y)}}var he={translate:0,scale:1,origin:0,originPoint:0};function de(){return{x:Object(r.a)({},he),y:Object(r.a)({},he)}}var fe=Object(r.a)(Object(r.a)({},S),{transform:Math.round}),ge={color:z,backgroundColor:z,outlineColor:z,fill:z,stroke:z,borderColor:z,borderTopColor:z,borderRightColor:z,borderBottomColor:z,borderLeftColor:z,borderWidth:N,borderTopWidth:N,borderRightWidth:N,borderBottomWidth:N,borderLeftWidth:N,borderRadius:N,radius:N,borderTopLeftRadius:N,borderTopRightRadius:N,borderBottomRightRadius:N,borderBottomLeftRadius:N,width:N,maxWidth:N,height:N,maxHeight:N,size:N,top:N,right:N,bottom:N,left:N,padding:N,paddingTop:N,paddingRight:N,paddingBottom:N,paddingLeft:N,margin:N,marginTop:N,marginRight:N,marginBottom:N,marginLeft:N,rotate:I,rotateX:I,rotateY:I,rotateZ:I,scale:P,scaleX:P,scaleY:P,scaleZ:P,skew:I,skewX:I,skewY:I,distance:N,translateX:N,translateY:N,translateZ:N,x:N,y:N,z:N,perspective:N,transformPerspective:N,opacity:T,originX:L,originY:L,originZ:N,zIndex:fe,fillOpacity:T,strokeOpacity:T,numOctaves:fe},ve=[S,N,D,I,k,x,{test:function(t){return"auto"===t},parse:function(t){return t}}],ye=function(t){return function(e){return e.test(t)}},me=function(t){return ve.find(ye(t))},be=Object(r.g)(ve,[z,K]),we=function(t){return be.find(ye(t))},Ce=function(t){return ge[t]},Ee=function(t,e){return e&&"number"===typeof t?e.transform(t):t},_e=["","X","Y","Z"],Oe=new Set,Re=["transformPerspective","x","y","z"];function Se(t,e){return Re.indexOf(t)-Re.indexOf(e)}["perspective","translate","scale","rotate","skew"].forEach((function(t){var e=new Set(["rotate","skew"]).has(t);_e.forEach((function(n){var r=t+n;Re.push(r),e&&Oe.add(r)}))}));var Te=new Set(Re);function Pe(t){return Te.has(t)}var Ae=new Set(["originX","originY","originZ"]);function Ie(t){return Ae.has(t)}var De={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Ne(t,e){var n=t.x,r=t.y;return"translate3d("+n.translate/e.x+"px, "+r.translate/e.y+"px, 0) scale("+n.scale+", "+r.scale+")"}var xe=Ne(de(),{x:1,y:1});function ke(t){return t.startsWith("--")}function Le(t){return"string"===typeof t&&t.startsWith("var(--")}var Fe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Me(t,e,n){void 0===n&&(n=1);var o=Object(r.e)(function(t){var e=Fe.exec(t);if(!e)return[,];var n=Object(r.e)(e,3);return[n[1],n[2]]}(t),2),i=o[0],s=o[1];if(i){var a=window.getComputedStyle(e).getPropertyValue(i);return a||(Le(s)?Me(s,e,n+1):s)}}function je(t,e){return t/(e.max-e.min)*100}var Ve={process:function(t,e){if("string"===typeof t){if(!N.test(t))return t;t=parseFloat(t)}return je(t,e.x)+"% "+je(t,e.y)+"%"}},Ge={borderRadius:Object(r.a)(Object(r.a)({},Ve),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomLeftRadius:Ve,borderBottomRightRadius:Ve,boxShadow:{process:function(t,e,n,r){var o=t,i=t.includes("var("),s=[];i&&(t=t.replace(Fe,(function(t){return s.push(t),"_$css"})));var a=K.parse(t);if(a.length>5)return o;var u=K.createTransformer(t),l="number"!==typeof a[0]?1:0,c=n.x.scale*r.x,p=n.y.scale*r.y;a[0+l]/=c,a[1+l]/=p;var h=rt(c,p,.5);"number"===typeof a[2+l]&&(a[2+l]/=h),"number"===typeof a[3+l]&&(a[3+l]/=h);var d=u(a);if(i){var f=0;d=d.replace("_$css",(function(){var t=s[f];return f++,t}))}return d}}};function We(t,e,n,r,o,i,s,a,u,l,c,p){var h=s.enableHardwareAcceleration,d=s.transformTemplate,f=s.allowTransformNone;i.length=0;var g=!1,v=!1,y=!0;for(var m in t){var b=t[m],w=Ce(m),C=Ee(b,w);if(Pe(m)){if(g=!0,r[m]=C,i.push(m),!y)continue;b!==(void 0!==w.default?w.default:0)&&(y=!1)}else if(Ie(m))o[m]=C,v=!0;else if("transform"!==m||"function"!==typeof b){var E=ke(m)?n:e;if(a&&Ge[m]){var _=Ge[m].process(b,p,u,c),O=Ge[m].applyTo;if(O)for(var R=O.length,S=0;S<R;S++)E[O[S]]=_;else E[m]=_}else E[m]=C}}a?(e.transform=Ne(l,c),e.transform===xe&&(e.transform=""),g&&(e.transform+=" "+function(t,e){var n="";e.sort(Se);for(var r=e.length,o=0;o<r;o++){var i=e[o];Oe.has(i)&&(n+=i+"("+t[i]+") ")}return n}(r,i),e.transform=e.transform.trim()),d&&(e.transform=d(r,e.transform)),e.transformOrigin=function(t){var e=t.x,n=t.y;return 100*e.origin+"% "+100*n.origin+"% 0"}(l)):(g&&(e.transform=function(t,e,n,r,o,i){void 0===o&&(o=!0),void 0===i&&(i=!0);var s="";e.sort(Se);for(var a=!1,u=e.length,l=0;l<u;l++){var c=e[l];s+=(De[c]||c)+"("+t[c]+") ","z"===c&&(a=!0)}return!a&&o?s+="translateZ(0)":s=s.trim(),n?s=n(t,r?"":s):i&&r&&(s="none"),s}(r,i,d,y,h,f)),v&&(e.transformOrigin=function(t){var e=t.originX,n=void 0===e?"50%":e,r=t.originY,o=void 0===r?"50%":r,i=t.originZ;return n+" "+o+" "+(void 0===i?0:i)}(o)))}function He(t,e){t.min=e.min,t.max=e.max}function Be(t,e,n){return n+e*(t-n)}function Ue(t,e,n,r,o){return void 0!==o&&(t=Be(t,o,r)),Be(t,n,r)+e}function ze(t,e,n,r,o){void 0===e&&(e=0),void 0===n&&(n=1),t.min=Ue(t.min,e,n,r,o),t.max=Ue(t.max,e,n,r,o)}function qe(t,e){var n=e.x,r=e.y;ze(t.x,n.translate,n.scale,n.originPoint),ze(t.y,r.translate,r.scale,r.originPoint)}function Ke(t,e,n,o){var i=Object(r.e)(o,3),s=i[0],a=i[1],u=i[2];t.min=e.min,t.max=e.max;var l=void 0!==n[u]?n[u]:.5,c=rt(e.min,e.max,l);ze(t,n[s],n[a],c,n.scale)}var Ye=["x","scaleX","originX"],Qe=["y","scaleY","originY"];function Xe(t,e,n,r,o){return t=Be(t-=e,1/n,r),void 0!==o&&(t=Be(t,1/o,r)),t}function $e(t,e,n){var o=Object(r.e)(n,3),i=o[0],s=o[1],a=o[2];!function(t,e,n,r,o){void 0===e&&(e=0),void 0===n&&(n=1),void 0===r&&(r=.5);var i=rt(t.min,t.max,r)-e;t.min=Xe(t.min,e,n,i,o),t.max=Xe(t.max,e,n,i,o)}(t,e[i],e[s],e[a],e.scale)}function Je(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=.01),Qt(t,e)<n}function Ze(t){return t.max-t.min}function tn(t,e){var n=.5,r=Ze(t),o=Ze(e);return o>r?n=nt(e.min,e.max-r,t.min):r>o&&(n=nt(t.min,t.max-o,e.min)),Y(0,1,n)}function en(t,e,n,r){t.origin=void 0===r?tn(e,n):r,t.originPoint=rt(e.min,e.max,t.origin),t.scale=Ze(n)/Ze(e),Je(t.scale,1,1e-4)&&(t.scale=1),t.translate=rt(n.min,n.max,t.origin)-t.originPoint,Je(t.translate)&&(t.translate=0)}function nn(t,e,n,r){en(t.x,e.x,n.x,r),en(t.y,e.y,n.y,r)}function rn(t){return[t("x"),t("y")]}var on=function(t){return 1e3*t},sn={linear:Ot,easeIn:Rt,easeInOut:Tt,easeOut:St,circIn:Pt,circInOut:It,circOut:At,backIn:Dt,backInOut:xt,backOut:Nt,anticipate:kt,bounceIn:Ft,bounceInOut:function(t){return t<.5?.5*(1-Lt(1-2*t)):.5*Lt(2*t-1)+.5},bounceOut:Lt},an=function(t){if(Array.isArray(t)){t.length;var e=Object(r.e)(t,4);return ee(e[0],e[1],e[2],e[3])}return"string"===typeof t?sn[t]:t},un=function(t,e){return"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!K.test(e)||e.startsWith("url(")))},ln=function(t){return Array.isArray(t)},cn=function(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}},pn=function(t){return{type:"spring",stiffness:550,damping:0===t?100:30,restDelta:.01,restSpeed:10}},hn=function(){return{type:"keyframes",ease:"linear",duration:.3}},dn=function(t){return{type:"keyframes",duration:.8,values:t}},fn={x:cn,y:cn,z:cn,rotate:cn,rotateX:cn,rotateY:cn,rotateZ:cn,scaleX:pn,scaleY:pn,scale:pn,opacity:hn,backgroundColor:hn,color:hn,default:pn};function gn(t){var e=t.yoyo,n=t.loop,o=t.flip,i=t.ease,s=t.times,a=Object(r.f)(t,["yoyo","loop","flip","ease","times"]),u=Object(r.a)({},a);return s&&(u.offset=s),a.duration&&(u.duration=on(a.duration)),a.repeatDelay&&(u.repeatDelay=on(a.repeatDelay)),i&&(u.ease=function(t){return Array.isArray(t)&&"number"!==typeof t[0]}(i)?i.map(an):an(i)),"tween"===a.type&&(u.type="keyframes"),e?u.repeatType="reverse":n?u.repeatType="loop":o&&(u.repeatType="mirror"),u.repeat=n||e||o||a.repeat,"spring"!==a.type&&(u.type="keyframes"),u}function vn(t,e,n){var o;return Array.isArray(e.to)&&(null!==(o=t.duration)&&void 0!==o||(t.duration=.8)),function(t){Array.isArray(t.to)&&null===t.to[0]&&(t.to=Object(r.g)(t.to),t.to[0]=t.from)}(e),function(t){t.when,t.delay,t.delayChildren,t.staggerChildren,t.staggerDirection,t.repeat,t.repeatType,t.repeatDelay,t.from;var e=Object(r.f)(t,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(e).length}(t)||(t=Object(r.a)(Object(r.a)({},t),function(t,e){var n;return n=ln(e)?dn:fn[t]||fn.default,Object(r.a)({to:e},n(e))}(n,e.to))),Object(r.a)(Object(r.a)({},e),gn(t))}function yn(t,e,n,o,i){var s,a=o[t]||o.default||o,u=null!==(s=a.from)&&void 0!==s?s:e.get(),l=un(t,n);"none"===u&&l&&"string"===typeof n&&(u=K.getAnimatableNone(n));var c=un(t,u);return c&&l&&!1!==a.type?function(){var o={from:u,to:n,velocity:e.getVelocity(),onComplete:i,onUpdate:function(t){return e.set(t)}};return"inertia"===a.type||"decay"===a.type?function(t){var e,n=t.from,o=void 0===n?0:n,i=t.velocity,s=void 0===i?0:i,a=t.min,u=t.max,l=t.power,c=void 0===l?.8:l,p=t.timeConstant,h=void 0===p?750:p,d=t.bounceStiffness,f=void 0===d?500:d,g=t.bounceDamping,v=void 0===g?10:g,y=t.restDelta,m=void 0===y?1:y,w=t.modifyTarget,C=t.driver,E=t.onUpdate,_=t.onComplete;function O(t){return void 0!==a&&t<a||void 0!==u&&t>u}function R(t){return void 0===a?u:void 0===u||Math.abs(a-t)<Math.abs(u-t)?a:u}function S(t){null===e||void 0===e||e.stop(),e=Ht(Object(r.a)(Object(r.a)({},t),{driver:C,onUpdate:function(e){var n;null===E||void 0===E||E(e),null===(n=t.onUpdate)||void 0===n||n.call(t,e)},onComplete:_}))}function T(t){S(Object(r.a)({type:"spring",stiffness:f,damping:v,restDelta:m},t))}if(O(o))T({from:o,velocity:s,to:R(o)});else{var P=c*s+o;"undefined"!==typeof w&&(P=w(P));var A,I,D=R(P),N=D===a?-1:1;S({type:"decay",from:o,velocity:s,timeConstant:h,power:c,restDelta:m,modifyTarget:w,onUpdate:O(P)?function(t){A=I,I=t,s=Bt(t-A,b().delta),(1===N&&t>D||-1===N&&t<D)&&T({from:t,to:D,velocity:s})}:void 0})}return{stop:function(){return null===e||void 0===e?void 0:e.stop()}}}(Object(r.a)(Object(r.a)({},o),a)):Ht(vn(a,o,t))}:function(){return e.set(n),i(),{stop:function(){}}}}function mn(t,e,n,r){return void 0===r&&(r={}),e.start((function(o){var i,s,a=yn(t,e,n,r,o),u=function(t,e){var n,r,o,i,s;return null!==(s=null!==(i=null!==(r=null===(n=t[e])||void 0===n?void 0:n.delay)&&void 0!==r?r:null===(o=t.default)||void 0===o?void 0:o.delay)&&void 0!==i?i:t.delay)&&void 0!==s?s:0}(r,t),l=function(){return s=a()};return u?i=setTimeout(l,on(u)):l(),function(){clearTimeout(i),null===s||void 0===s||s.stop()}}))}function bn(t,e){return ce(function(t,e){var n=t.top,r=t.left,o=t.bottom,i=t.right;void 0===e&&(e=le);var s=e({x:r,y:n}),a=e({x:i,y:o});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}(t.getBoundingClientRect(),e))}var wn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultConfig={enableHardwareAcceleration:!0,allowTransformNone:!0},e.style={},e.reactStyle={},e.vars={},e.transform={},e.transformOrigin={},e.transformKeys=[],e.config=e.defaultConfig,e.isLayoutProjectionEnabled=!1,e.layoutUpdateListeners=new ie,e.layoutMeasureListeners=new ie,e.viewportBoxUpdateListeners=new ie,e.hasViewportBoxUpdated=!1,e.targetBoxFinal={x:{min:0,max:1},y:{min:0,max:1}},e.treeScale={x:1,y:1},e.prevTreeScale={x:1,y:1},e.delta=de(),e.deltaFinal=de(),e.deltaTransform=xe,e.stopLayoutAxisAnimation={x:function(){},y:function(){}},e.isTargetBoxLocked=!1,e.axisProgress={x:ae(0),y:ae(0)},e.updateLayoutDelta=function(){e.isLayoutProjectionEnabled&&e.box&&e.updateLayoutDeltas(),e.children.forEach(Cn)},e}return Object(r.c)(e,t),e.prototype.removeValue=function(e){t.prototype.removeValue.call(this,e),delete this.vars[e],delete this.style[e]},e.prototype.clean=function(){this.style={},this.vars={},this.transform={}},e.prototype.updateConfig=function(t){void 0===t&&(t={}),this.config=Object(r.a)(Object(r.a)({},this.defaultConfig),t)},e.prototype.read=function(t){return this.getComputedStyle()[t]||0},e.prototype.addValue=function(e,n){t.prototype.addValue.call(this,e,n),e.startsWith("rotate")&&(this.layoutOrigin=.5)},e.prototype.readNativeValue=function(t){if(Pe(t)){var e=Ce(t);return e&&e.default||0}return this.read(t)},e.prototype.enableLayoutProjection=function(){this.isLayoutProjectionEnabled=!0},e.prototype.hide=function(){!1!==this.isVisible&&(this.isVisible=!1,this.scheduleRender())},e.prototype.show=function(){!0!==this.isVisible&&(this.isVisible=!0,this.scheduleRender())},e.prototype.onLayoutUpdate=function(t){return this.layoutUpdateListeners.add(t)},e.prototype.onLayoutMeasure=function(t){return this.layoutMeasureListeners.add(t)},e.prototype.onViewportBoxUpdate=function(t){return this.viewportBoxUpdateListeners.add(t)},e.prototype.layoutReady=function(t){this.layoutUpdateListeners.notify(this.box,this.prevViewportBox||this.box,t)},e.prototype.getBoundingBox=function(){var t=this.config.transformPagePoint;return bn(this.element,t)},e.prototype.getBoundingBoxWithoutTransforms=function(){var t,e,n=this.getBoundingBox();return t=n,e=this.latest,$e(t.x,e,Ye),$e(t.y,e,Qe),n},e.prototype.getComputedStyle=function(){return window.getComputedStyle(this.element)},e.prototype.snapshotBoundingBox=function(){this.prevViewportBox=this.getBoundingBoxWithoutTransforms(),this.rebaseTargetBox(!1,this.prevViewportBox)},e.prototype.rebaseTargetBox=function(t,e){var n=this;void 0===t&&(t=!1),void 0===e&&(e=this.box);var r=this.axisProgress,o=r.x,i=r.y,s=this.box&&!this.isTargetBoxLocked&&!o.isAnimating()&&!i.isAnimating();(t||s)&&rn((function(t){var r=e[t],o=r.min,i=r.max;n.setAxisTarget(t,o,i)}))},e.prototype.measureLayout=function(){var t=this;this.box=this.getBoundingBox(),this.boxCorrected=pe(this.box),this.targetBox||(this.targetBox=pe(this.box)),this.layoutMeasureListeners.notify(this.box,this.prevViewportBox||this.box),w.update((function(){return t.rebaseTargetBox()}))},e.prototype.lockTargetBox=function(){this.isTargetBoxLocked=!0},e.prototype.unlockTargetBox=function(){this.stopLayoutAnimation(),this.isTargetBoxLocked=!1},e.prototype.resetTransform=function(){var t=this.config.transformTemplate;this.element.style.transform=t?t({},""):"none",this.scheduleRender()},e.prototype.setAxisTarget=function(t,e,n){var r=this.targetBox[t];r.min=e,r.max=n,this.hasViewportBoxUpdated=!0,this.rootParent.scheduleUpdateLayoutDelta()},e.prototype.startLayoutAxisAnimation=function(t,e){var n=this,r=this.axisProgress[t],o=this.targetBox[t],i=o.min,s=o.max-i;return r.clearListeners(),r.set(i),r.set(i),r.onChange((function(e){return n.setAxisTarget(t,e,e+s)})),mn(t,r,0,e)},e.prototype.stopLayoutAnimation=function(){var t=this;rn((function(e){return t.axisProgress[e].stop()}))},e.prototype.updateLayoutDeltas=function(){var t,e,n,r,o;t=this.boxCorrected,e=this.box,He(t.x,e.x),He(t.y,e.y),this.parent&&(this.prevTreeScale.x=this.treeScale.x,this.prevTreeScale.y=this.treeScale.y,n=this.treeScale,r=this.parent.treeScale,o=this.parent.delta,n.x=r.x*o.x.scale,n.y=r.y*o.y.scale),function(t,e){for(var n=e.length,r=0;r<n;r++)qe(t,e[r].delta)}(this.boxCorrected,this.treePath),nn(this.delta,this.boxCorrected,this.targetBox,this.layoutOrigin),this.hasViewportBoxUpdated&&this.viewportBoxUpdateListeners.notify(this.targetBox,this.delta),this.hasViewportBoxUpdated=!1;var i=Ne(this.delta,this.treeScale);i===this.deltaTransform&&this.prevTreeScale.x===this.treeScale.x&&this.prevTreeScale.y===this.treeScale.y||this.scheduleRender(),this.deltaTransform=i},e.prototype.updateTransformDeltas=function(){var t,e,n;this.isLayoutProjectionEnabled&&this.box&&(t=this.targetBoxFinal,e=this.targetBox,n=this.latest,Ke(t.x,e.x,n,Ye),Ke(t.y,e.y,n,Qe),nn(this.deltaFinal,this.boxCorrected,this.targetBoxFinal,this.layoutOrigin))},e.prototype.build=function(){this.updateTransformDeltas(),void 0!==this.isVisible&&(this.style.visibility=this.isVisible?"visible":"hidden"),We(this.latest,this.style,this.vars,this.transform,this.transformOrigin,this.transformKeys,this.config,this.isLayoutProjectionEnabled&&!!this.box,this.delta,this.deltaFinal,this.treeScale,this.targetBoxFinal)},e.prototype.render=function(){for(var t in this.build(),Object.assign(this.element.style,this.style),this.vars)this.element.style.setProperty(t,this.vars[t])},e}(ue),Cn=function(t){return t.updateLayoutDelta()};function En(t){var e=Object(ne.useRef)(null);return null===e.current&&(e.current=t()),e.current}function _n(t,e,n){return"string"===typeof t?t:N.transform(e+n*t)}var On=function(t,e){return N.transform(t*e)},Rn={offset:"stroke-dashoffset",array:"stroke-dasharray"},Sn={offset:"strokeDashoffset",array:"strokeDasharray"};var Tn={x:0,y:0,width:0,height:0};function Pn(t,e,n,o,i,s,a,u,l,c,p,h,d,f,g){var v=t.attrX,y=t.attrY,m=t.originX,b=t.originY,w=t.pathLength,C=t.pathSpacing,E=void 0===C?1:C,_=t.pathOffset,O=void 0===_?0:_;return We(Object(r.f)(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),o,n,i,s,a,u,p,h,d,f,g),o.transform&&(e.transform=o.transform,delete o.transform),(void 0!==m||void 0!==b||e.transform)&&(e.transformOrigin=function(t,e,n){return _n(e,t.x,t.width)+" "+_n(n,t.y,t.height)}(l||Tn,void 0!==m?m:.5,void 0!==b?b:.5)),void 0!==v&&(o.x=v),void 0!==y&&(o.y=y),void 0!==c&&void 0!==w&&function(t,e,n,r,o,i){void 0===r&&(r=1),void 0===o&&(o=0),void 0===i&&(i=!0);var s=i?Rn:Sn;t[s.offset]=On(-o,e);var a=On(n,e),u=On(r,e);t[s.array]=a+" "+u}(o,c,w,E,O,!1),o}var An=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox"]),In=/([a-z])([A-Z])/g,Dn=function(t){return t.replace(In,"$1-$2").toLowerCase()},Nn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.attrs={},e.defaultConfig={enableHardwareAcceleration:!1},e.config=e.defaultConfig,e}return Object(r.c)(e,t),e.prototype.mount=function(e){t.prototype.mount.call(this,e),this.measure()},e.prototype.measure=function(){try{this.dimensions="function"===typeof this.element.getBBox?this.element.getBBox():this.element.getBoundingClientRect()}catch(t){this.dimensions={x:0,y:0,width:0,height:0}}"path"===this.element.tagName&&(this.totalPathLength=this.element.getTotalLength())},e.prototype.clean=function(){t.prototype.clean.call(this),this.attrs={}},e.prototype.read=function(t){return t=An.has(t)?t:Dn(t),this.element.getAttribute(t)},e.prototype.build=function(){this.updateTransformDeltas(),Pn(this.latest,this.style,this.vars,this.attrs,this.transform,this.transformOrigin,this.transformKeys,this.config,this.dimensions,this.totalPathLength,this.isLayoutProjectionEnabled&&!!this.box,this.delta,this.deltaFinal,this.treeScale,this.targetBoxFinal)},e.prototype.render=function(){for(var e in t.prototype.render.call(this),this.attrs)this.element.setAttribute(An.has(e)?e:Dn(e),this.attrs[e])},e}(wn);var xn=new Set(["animate","circle","clipPath","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","metadata","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tspan","use","view"]);function kn(t){return"string"===typeof t&&xn.has(t)}var Ln=Object(ne.createContext)(null);function Fn(){var t=Object(ne.useContext)(Ln);if(null===t)return[!0,null];var e=t.isPresent,n=t.onExitComplete,r=t.register,o=Vn();Object(ne.useEffect)((function(){return r(o)}),[]);return!e&&n?[!1,function(){return null===n||void 0===n?void 0:n(o)}]:[!0]}var Mn=0,jn=function(){return Mn++},Vn=function(){return En(jn)},Gn=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","static","layout","layoutId","onLayoutAnimationComplete","onViewportBoxUpdate","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","whileHover","whileTap","onHoverEnd","onHoverStart"]);function Wn(t){return Gn.has(t)}var Hn=function(t){return!Wn(t)};try{var Bn=n(136).default;Hn=function(t){return t.startsWith("on")?!Wn(t):Bn(t)}}catch(ai){}var Un,zn=new Set(["width","height","top","left","right","bottom","x","y"]),qn=function(t){return zn.has(t)},Kn=function(t,e){t.set(e,!1),t.set(e)},Yn=function(t){return t===S||t===N};!function(t){t.width="width",t.height="height",t.left="left",t.right="right",t.top="top",t.bottom="bottom"}(Un||(Un={}));var Qn=function(t,e){return parseFloat(t.split(", ")[e])},Xn=function(t,e){return function(n,r){var o=r.transform;if("none"===o||!o)return 0;var i=o.match(/^matrix3d\((.+)\)$/);if(i)return Qn(i[1],e);var s=o.match(/^matrix\((.+)\)$/);return s?Qn(s[1],t):0}},$n=new Set(["x","y","z"]),Jn=Re.filter((function(t){return!$n.has(t)}));var Zn={width:function(t){var e=t.x;return e.max-e.min},height:function(t){var e=t.y;return e.max-e.min},top:function(t,e){var n=e.top;return parseFloat(n)},left:function(t,e){var n=e.left;return parseFloat(n)},bottom:function(t,e){var n=t.y,r=e.top;return parseFloat(r)+(n.max-n.min)},right:function(t,e){var n=t.x,r=e.left;return parseFloat(r)+(n.max-n.min)},x:Xn(4,13),y:Xn(5,14)},tr=function(t,e,n,o){void 0===n&&(n={}),void 0===o&&(o={}),e=Object(r.a)({},e),o=Object(r.a)({},o);var i=Object.keys(e).filter(qn),s=[],a=!1,u=[];if(i.forEach((function(r){var i=t.getValue(r);if(t.hasValue(r)){var l,c=n[r],p=e[r],h=me(c);if(ln(p))for(var d=p.length,f=null===p[0]?1:0;f<d;f++)l?me(p[f]):(l=me(p[f]))===h||Yn(h)&&Yn(l);else l=me(p);if(h!==l)if(Yn(h)&&Yn(l)){var g=i.get();"string"===typeof g&&i.set(parseFloat(g)),"string"===typeof p?e[r]=parseFloat(p):Array.isArray(p)&&l===N&&(e[r]=p.map(parseFloat))}else(null===h||void 0===h?void 0:h.transform)&&(null===l||void 0===l?void 0:l.transform)&&(0===c||0===p)?0===c?i.set(l.transform(c)):e[r]=h.transform(p):(a||(s=function(t){var e=[];return Jn.forEach((function(n){var r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),e.length&&t.render(),e}(t),a=!0),u.push(r),o[r]=void 0!==o[r]?o[r]:e[r],Kn(i,p))}})),u.length){var l=function(t,e,n){var r=e.getBoundingBox(),o=e.getComputedStyle(),i=o.display,s={top:o.top,left:o.left,bottom:o.bottom,right:o.right,transform:o.transform};"none"===i&&e.setStaticValues("display",t.display||"block"),e.render();var a=e.getBoundingBox();return n.forEach((function(n){var i=e.getValue(n);Kn(i,Zn[n](r,s)),t[n]=Zn[n](a,o)})),t}(e,t,u);return s.length&&s.forEach((function(e){var n=Object(r.e)(e,2),o=n[0],i=n[1];t.getValue(o).set(i)})),t.render(),{target:l,transitionEnd:o}}return{target:e,transitionEnd:o}};function er(t,e,n,r){return function(t){return Object.keys(t).some(qn)}(e)?tr(t,e,n,r):{target:e,transitionEnd:r}}var nr=function(){function t(){this.hasMounted=!1,this.pendingAnimations=[],this.componentControls=new Set}return t.prototype.setVariants=function(t){this.variants=t,this.componentControls.forEach((function(e){return e.setVariants(t)}))},t.prototype.setDefaultTransition=function(t){this.defaultTransition=t,this.componentControls.forEach((function(e){return e.setDefaultTransition(t)}))},t.prototype.subscribe=function(t){var e=this;return this.componentControls.add(t),this.variants&&t.setVariants(this.variants),this.defaultTransition&&t.setDefaultTransition(this.defaultTransition),function(){return e.componentControls.delete(t)}},t.prototype.start=function(t,e){var n=this;if(this.hasMounted){var r=[];return this.componentControls.forEach((function(n){var o=n.start(t,{transitionOverride:e});r.push(o)})),Promise.all(r)}return new Promise((function(r){n.pendingAnimations.push({animation:[t,e],resolve:r})}))},t.prototype.set=function(t){return this.hasMounted,this.componentControls.forEach((function(e){return e.apply(t)}))},t.prototype.stop=function(){this.componentControls.forEach((function(t){return t.stop()}))},t.prototype.mount=function(){var t=this;this.hasMounted=!0,this.pendingAnimations.forEach((function(e){var n=e.animation,o=e.resolve;return t.start.apply(t,Object(r.g)(n)).then(o)}))},t.prototype.unmount=function(){this.hasMounted=!1,this.stop()},t}(),rr=Object(ne.createContext)({static:!1}),or=function(t){return"string"===typeof t||Array.isArray(t)},ir=function(t){return t instanceof nr},sr=function(t,e,n,r,o){void 0===r&&(r=!1);var i,s=o.initial,a=o.animate,u=o.variants,l=o.whileTap,c=o.whileHover,p=o.layoutId,h=Object(ne.useContext)(Ln),d=null===h||void 0===h?void 0:h.id;n.isPresenceRoot=t.presenceId!==d,void 0!==(null===h||void 0===h?void 0:h.initial)&&(s=h.initial),!1!==s||ir(a)?"boolean"!==typeof s&&(i=s):i=a;var f=Object(ne.useRef)(!1),g=u||or(a)||or(l)||or(c)||ir(a),v=or(i)?i:t.initial,y=or(a)?a:t.animate,m=r?v:null,b=g&&or(y)?y:null,w=Object(ne.useMemo)((function(){return{controls:g?e:t.controls,initial:v,animate:y,visualElement:n,hasMounted:f,isReducedMotion:t.isReducedMotion,presenceId:d}}),[m,b,t.isReducedMotion,a,p,d]);return w.static=r,function(t,e){void 0===e&&(e=!1);var n=Object(ne.useRef)(!0);(!e||e&&n.current)&&t(),n.current=!1}((function(){var n=i||t.initial;n&&e.apply(n)}),!r),Object(ne.useEffect)((function(){f.current=!0}),[]),w};function ar(t){var e=t.animate,n=t.variants,r=t.inherit;return void 0===r?!!n&&!e:r}var ur=function(t){return t instanceof se};function lr(t,e){var n=e.layout,r=e.layoutId;return Pe(t)||Ie(t)||(n||void 0!==r)&&!!Ge[t]}function cr(t,e,n,r,o){for(var i in void 0===r&&(r=!1),r&&(t.reactStyle={}),n){var s=n[i],a=!1;if(ur(s))pr.has(i)||(t.addValue(i,s),a=!0);else if(lr(i,o)){if(t.hasValue(i)){if(s!==e[i]){if(ur(e[i]))t.addValue(i,ae(s));else t.getValue(i).set(s)}}else t.addValue(i,ae(s));a=!0}else r&&(t.reactStyle[i]=s);a&&(e[i]=s)}}var pr=new Set([]),hr=function(){return{}},dr=function(t){return ln(t)?t[t.length-1]||0:t},fr=function(){function t(t,e){var n=this,r=e.makeTargetAnimatable;this.props={},this.variants={},this.baseTarget={},this.overrides=[],this.resolvedOverrides=[],this.activeOverrides=new Set,this.isAnimating=new Set,this.hasValue=function(t){return!n.visualElement.hasValue(t)},this.visualElement=t,this.makeTargetAnimatable=r,this.visualElement.forEachValue((function(t,e){return n.baseTarget[e]=t.get()}))}return t.prototype.setProps=function(t){this.props=t},t.prototype.setVariants=function(t){t&&(this.variants=t)},t.prototype.setDefaultTransition=function(t){t&&(this.defaultTransition=t)},t.prototype.setValues=function(t,e){var n=void 0===e?{}:e,o=n.isActive,i=void 0===o?new Set:o,s=n.priority,a=this.resolveVariant(t),u=a.target,l=a.transitionEnd;for(var c in u=this.transformValues(Object(r.a)(Object(r.a)({},u),l))){if(i.has(c))return;if(i.add(c),u){var p=dr(u[c]);if(this.visualElement.hasValue(c)){var h=this.visualElement.getValue(c);h&&h.set(p)}else this.visualElement.addValue(c,ae(p));s||(this.baseTarget[c]=p)}}},t.prototype.transformValues=function(t){var e=this.props.transformValues;return e?e(t):t},t.prototype.checkForNewValues=function(t){var e=Object.keys(t).filter(this.hasValue),n=e.length;if(n)for(var r=0;r<n;r++){var o=e[r],i=t[o],s=null;if(Array.isArray(i)&&(s=i[0]),null===s){var a=this.visualElement.readNativeValue(o);s=void 0!==a?a:t[o]}"string"===typeof s&&/^\-?\d*\.?\d+$/.test(s)?s=parseFloat(s):!we(s)&&K.test(i)&&(s=K.getAnimatableNone(i)),this.visualElement.addValue(o,ae(s)),this.baseTarget[o]=s}},t.prototype.resolveVariant=function(t,e){var n=(void 0===e?{}:e).custom;if(!t)return{target:void 0,transition:void 0,transitionEnd:void 0};"function"===typeof t&&(t=t(null!==n&&void 0!==n?n:this.props.custom,function(t){var e={};return t.forEachValue((function(t,n){return e[n]=t.get()})),e}(this.visualElement),function(t){var e={};return t.forEachValue((function(t,n){return e[n]=t.getVelocity()})),e}(this.visualElement)));var o=t.transition;return{transition:void 0===o?this.defaultTransition:o,transitionEnd:t.transitionEnd,target:Object(r.f)(t,["transition","transitionEnd"])}},t.prototype.getHighestPriority=function(){return this.activeOverrides.size?Math.max.apply(Math,Object(r.g)(Array.from(this.activeOverrides))):0},t.prototype.setOverride=function(t,e){this.overrides[e]=t,this.children&&this.children.forEach((function(n){return n.setOverride(t,e)}))},t.prototype.startOverride=function(t){var e=this.overrides[t];if(e)return this.start(e,{priority:t})},t.prototype.clearOverride=function(t){var e=this;if(this.children&&this.children.forEach((function(e){return e.clearOverride(t)})),this.overrides[t]){this.activeOverrides.delete(t);var n=this.getHighestPriority();if(this.resetIsAnimating(),n)this.overrides[n]&&this.startOverride(n);var r=this.resolvedOverrides[t];if(r){var o={};for(var i in this.baseTarget)void 0!==r[i]&&(o[i]=this.baseTarget[i]);this.onStart(),this.animate(o).then((function(){return e.onComplete()}))}}},t.prototype.apply=function(t){return Array.isArray(t)?this.applyVariantLabels(t):"string"===typeof t?this.applyVariantLabels([t]):void this.setValues(t)},t.prototype.applyVariantLabels=function(t){var e=this,n=new Set;Object(r.g)(t).reverse().forEach((function(r){var o=e.resolveVariant(e.variants[r]),i=o.target,s=o.transitionEnd;i&&e.setValues(i,{isActive:n}),s&&e.setValues(s,{isActive:n}),e.children&&e.children.size&&e.children.forEach((function(e){return e.applyVariantLabels(t)}))}))},t.prototype.start=function(t,e){var n,r,o=this;return void 0===e&&(e={}),e.priority&&this.activeOverrides.add(e.priority),this.resetIsAnimating(e.priority),r=t,n=Array.isArray(r)?this.animateVariantLabels(t,e):"string"===typeof t?this.animateVariant(t,e):this.animate(t,e),this.onStart(),n.then((function(){return o.onComplete()}))},t.prototype.animate=function(t,e){var n=this;void 0===e&&(e={});var o=e.delay,i=void 0===o?0:o,s=e.priority,a=void 0===s?0:s,u=e.transitionOverride,l=Object(r.f)(e,["delay","priority","transitionOverride"]),c=this.resolveVariant(t,l),p=c.target,h=c.transition,d=c.transitionEnd;if(u&&(h=u),!p)return Promise.resolve();p=this.transformValues(p),d&&(d=this.transformValues(d)),this.checkForNewValues(p);var f=this.transformValues(function(t,e,n){var r,o,i={};for(var s in t)i[s]=null!==(r=gr(s,e))&&void 0!==r?r:null===(o=n.getValue(s))||void 0===o?void 0:o.get();return i}(p,h,this.visualElement));if(this.makeTargetAnimatable){var g=this.makeTargetAnimatable(this.visualElement,p,f,d);p=g.target,d=g.transitionEnd}a&&(this.resolvedOverrides[a]=p),this.checkForNewValues(p);var v=[];for(var y in p){var m=this.visualElement.getValue(y);if(m&&p&&void 0!==p[y]){var b=p[y];a||(this.baseTarget[y]=dr(b)),this.isAnimating.has(y)||(this.isAnimating.add(y),v.push(mn(y,m,b,Object(r.a)({delay:i},h))))}}var w=Promise.all(v);return d?w.then((function(){n.setValues(d,{priority:a})})):w},t.prototype.animateVariantLabels=function(t,e){var n=this,o=Object(r.g)(t).reverse().map((function(t){return n.animateVariant(t,e)}));return Promise.all(o)},t.prototype.animateVariant=function(t,e){var n=this,o=e&&e.priority||0,i=this.variants[t],s=i&&this.resolveVariant(i,e).transition||{},a=i?function(){return n.animate(i,e)}:function(){return Promise.resolve()},u=this.children?function(r){void 0===r&&(r=0);var i=s.delayChildren,a=void 0===i?0:i;return n.animateChildren(t,a+r,s.staggerChildren,s.staggerDirection,o,null===e||void 0===e?void 0:e.custom)}:function(){return Promise.resolve()},l=s.when;if(l){var c=Object(r.e)("beforeChildren"===l?[a,u]:[u,a],2),p=c[0],h=c[1];return p().then(h)}return Promise.all([a(),u(null===e||void 0===e?void 0:e.delay)])},t.prototype.animateChildren=function(t,e,n,r,o,i){if(void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===o&&(o=0),!this.children)return Promise.resolve();var s=[],a=(this.children.size-1)*n,u=1===r?function(t){return t*n}:function(t){return a-t*n};return Array.from(this.children).forEach((function(n,r){var a=n.animateVariant(t,{priority:o,delay:e+u(r),custom:i});s.push(a)})),Promise.all(s)},t.prototype.onStart=function(){var t=this.props.onAnimationStart;t&&t()},t.prototype.onComplete=function(){var t=this.props.onAnimationComplete;t&&t()},t.prototype.checkOverrideIsAnimating=function(t){for(var e=this.overrides.length,n=t+1;n<e;n++){var r=this.resolvedOverrides[n];if(r)for(var o in r)this.isAnimating.add(o)}},t.prototype.resetIsAnimating=function(t){void 0===t&&(t=0),this.isAnimating.clear(),t<this.getHighestPriority()&&this.checkOverrideIsAnimating(t),this.children&&this.children.forEach((function(e){return e.resetIsAnimating(t)}))},t.prototype.stop=function(){this.visualElement.forEachValue((function(t){return t.stop()}))},t.prototype.addChild=function(t){this.children||(this.children=new Set),this.children.add(t),this.overrides.forEach((function(e,n){e&&t.setOverride(e,n)}))},t.prototype.removeChild=function(t){this.children&&this.children.delete(t)},t.prototype.resetChildren=function(){this.children&&this.children.clear()},t}();function gr(t,e){if(e)return(e[t]||e.default||e).from}function vr(t,e,n,o){var i=e.variants,s=e.transition,a=Object(ne.useContext)(rr).controls,u=Object(ne.useContext)(Ln),l=En((function(){return new fr(t,n)}));return u&&!u.isPresent||(l.resetChildren(),l.setProps(e),l.setVariants(i),l.setDefaultTransition(s)),Object(ne.useEffect)((function(){o&&a&&a.addChild(l)})),Object(ne.useEffect)((function(){return function(){e.onAnimationComplete;var t=Object(r.f)(e,["onAnimationComplete"]);l.setProps(t),a&&a.removeChild(l)}}),[]),l}var yr,mr,br=Object(ne.createContext)({transformPagePoint:function(t){return t},features:[]});!function(t){t[t.Entering=0]="Entering",t[t.Present=1]="Present",t[t.Exiting=2]="Exiting"}(yr||(yr={})),function(t){t[t.Hide=0]="Hide",t[t.Show=1]="Show"}(mr||(mr={}));var wr={measureLayout:function(t){return t.measureLayout()},layoutReady:function(t){return t.layoutReady()}},Cr=function(t,e){return t.depth-e.depth};function Er(){var t=new Set;return{add:function(e){return t.add(e)},flush:function(e){var n=void 0===e?wr:e,r=n.measureLayout,o=n.layoutReady,i=Array.from(t).sort(Cr);i.forEach((function(t){return t.resetTransform()})),i.forEach(r),i.forEach(o),i.forEach((function(t){t.isPresent&&(t.presence=yr.Present)})),t.clear()}}}function _r(t){return!!t.forceUpdate}var Or=Object(ne.createContext)(Er()),Rr="undefined"!==typeof window?ne.useLayoutEffect:ne.useEffect;function Sr(t,e){var n=e.defaultFeatures,o=e.useVisualElement,i=e.render,s=e.animationControlsConfig;return Object(ne.forwardRef)((function(e,a){var u=Object(ne.useContext)(rr),l=ar(e),c=u.static||e.static||!1,p=o(t,e,u.visualElement,c,a);!function(t,e){var n=En(hr);for(var r in n){var o=lr(r,e),i=void 0!==e[r],s=e.style&&void 0!==e.style[r],a=i&&ur(e[r]),u=s&&ur(e.style[r]);(o&&!i&&!s||!o&&!a&&!u)&&(t.removeValue(r),delete n[r])}cr(t,n,e,!1,e),e.style&&cr(t,n,e.style,!0,e),e.transformValues&&(t.reactStyle=e.transformValues(t.reactStyle))}(p,e);var h=vr(p,e,s,l),d=sr(u,h,p,c,e),f=function(t,e,n,o,i,s,a,u){var l=Object(ne.useContext)(br);if(e||"undefined"===typeof window)return null;for(var c=Object(r.g)(t,l.features),p=c.length,h=[],d=0;d<p;d++){var f=c[d],g=f.shouldRender,v=f.key,y=f.getComponent;if(g(i,a)){var m=y(i);m&&h.push(Object(ne.createElement)(m,Object(r.a)({key:v},i,{localContext:s,parentContext:a,visualElement:n,controls:o,inherit:u})))}}return h}(n,c,p,h,e,d,u,l),g=i(t,e,p);return function(t){var e=Object(ne.useContext)(Or);Rr((function(){return function(){_r(e)&&e.remove(t)}}),[])}(p),Object(ne.createElement)(ne.Fragment,null,Object(ne.createElement)(rr.Provider,{value:d},g),f)}))}function Tr(t){var e=null;return function(){return null===e&&(e=t,function(){e=null})}}var Pr=Tr("dragHorizontal"),Ar=Tr("dragVertical");function Ir(t){var e=!1;if("y"===t)e=Ar();else if("x"===t)e=Pr();else{var n=Pr(),r=Ar();n&&r?e=function(){n(),r()}:(n&&n(),r&&r())}return e}function Dr(t,e,n,r){return t.addEventListener(e,n,r),function(){return t.removeEventListener(e,n,r)}}function Nr(t){return"undefined"!==typeof PointerEvent&&t instanceof PointerEvent?!("mouse"!==t.pointerType):t instanceof MouseEvent}function xr(t){return!!t.touches}var kr={pageX:0,pageY:0};function Lr(t,e){void 0===e&&(e="page");var n=t.touches[0]||t.changedTouches[0]||kr;return{x:n[e+"X"],y:n[e+"Y"]}}function Fr(t,e){return void 0===e&&(e="page"),{x:t[e+"X"],y:t[e+"Y"]}}function Mr(t,e){return void 0===e&&(e="page"),{point:xr(t)?Lr(t,e):Fr(t,e)}}function jr(t){return Mr(t,"client")}var Vr=function(t,e){void 0===e&&(e=!1);var n,r=function(e){return t(e,Mr(e))};return e?(n=r,function(t){var e=t instanceof MouseEvent;(!e||e&&0===t.button)&&n(t)}):r},Gr="undefined"!==typeof window,Wr={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Hr={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Br(t){return Gr&&null===window.onpointerdown?t:Gr&&null===window.ontouchstart?Hr[t]:Gr&&null===window.onmousedown?Wr[t]:t}function Ur(t,e,n,r){return Dr(t,Br(e),Vr(n,"pointerdown"===e),r)}function zr(t,e,n,r){return function(t,e,n,r){Object(ne.useEffect)((function(){var o=t.current;if(n&&o)return Dr(o,e,n,r)}),[t,e,n,r])}(t,Br(e),n&&Vr(n,"pointerdown"===e),r)}var qr=function(){function t(t,e,n){var o=this,i=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(o.lastMoveEvent&&o.lastMoveEventInfo){var t=Qr(o.lastMoveEventInfo,o.history),e=null!==o.startEvent,n=Qt(t.offset,{x:0,y:0})>=3;if(e||n){var i=t.point,s=b().timestamp;o.history.push(Object(r.a)(Object(r.a)({},i),{timestamp:s}));var a=o.handlers,u=a.onStart,l=a.onMove;e||(u&&u(o.lastMoveEvent,t),o.startEvent=o.lastMoveEvent),l&&l(o.lastMoveEvent,t)}}},this.handlePointerMove=function(t,e){o.lastMoveEvent=t,o.lastMoveEventInfo=Kr(e,o.transformPagePoint),Nr(t)&&0===t.buttons?o.handlePointerUp(t,e):w.update(o.updatePoint,!0)},this.handlePointerUp=function(t,e){o.end();var n=o.handlers.onEnd;if(n){var r=Qr(Kr(e,o.transformPagePoint),o.history);n&&n(t,r)}},!(xr(t)&&t.touches.length>1)){this.handlers=e,this.transformPagePoint=i;var s=Kr(Mr(t),this.transformPagePoint),a=s.point,u=b().timestamp;this.history=[Object(r.a)(Object(r.a)({},a),{timestamp:u})];var l=e.onSessionStart;l&&l(t,Qr(s,this.history)),this.removeListeners=pt(Ur(window,"pointermove",this.handlePointerMove),Ur(window,"pointerup",this.handlePointerUp),Ur(window,"pointercancel",this.handlePointerUp))}}return t.prototype.updateHandlers=function(t){this.handlers=t},t.prototype.end=function(){this.removeListeners&&this.removeListeners(),g.update(this.updatePoint)},t}();function Kr(t,e){return e?{point:e(t.point)}:t}function Yr(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Qr(t,e){var n=t.point;return{point:n,delta:Yr(n,$r(e)),offset:Yr(n,Xr(e)),velocity:Jr(e,.1)}}function Xr(t){return t[0]}function $r(t){return t[t.length-1]}function Jr(t,e){if(t.length<2)return{x:0,y:0};for(var n=t.length-1,r=null,o=$r(t);n>=0&&(r=t[n],!(o.timestamp-r.timestamp>on(e)));)n--;if(!r)return{x:0,y:0};var i=(o.timestamp-r.timestamp)/1e3;if(0===i)return{x:0,y:0};var s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Zr(t,e,n){var r=e.min,o=e.max;return void 0!==r&&t<r?t=n?rt(r,t,n):Math.max(t,r):void 0!==o&&t>o&&(t=n?rt(o,t,n):Math.min(t,o)),t}function to(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function eo(t,e){var n,o=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&(o=(n=Object(r.e)([i,o],2))[0],i=n[1]),{min:t.min+o,max:t.min+i}}var no,ro=new WeakMap,oo=function(){function t(t){var e=t.visualElement;this.isDragging=!1,this.currentDirection=null,this.constraints=!1,this.props={},this.hasMutatedConstraints=!1,this.cursorProgress={x:.5,y:.5},this.originPoint={},this.openGlobalLock=null,this.panSession=null,this.visualElement=e,this.visualElement.enableLayoutProjection(),ro.set(e,this)}return t.prototype.start=function(t,e){var n=this,r=void 0===e?{}:e,o=r.snapToCursor,i=void 0!==o&&o,s=r.cursorProgress;i&&this.snapToCursor(t);var a=this.props.transformPagePoint;this.panSession=new qr(t,{onSessionStart:function(){n.stopMotion()},onStart:function(t,e){var r,o,i=n.props,a=i.drag,u=i.dragPropagation;if(!a||u||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=Ir(a),n.openGlobalLock)){n.prepareBoundingBox(),n.visualElement.lockTargetBox(),n.resolveDragConstraints();var l=jr(t).point;rn((function(t){var e=n.visualElement.targetBox[t],r=e.min,o=e.max;n.cursorProgress[t]=s?s[t]:nt(r,o,l[t]);var i=n.getAxisMotionValue(t);i&&(n.originPoint[t]=i.get())})),n.isDragging=!0,n.currentDirection=null,null===(o=(r=n.props).onDragStart)||void 0===o||o.call(r,t,e)}},onMove:function(t,e){var r,o,i,s,a=n.props,u=a.dragPropagation,l=a.dragDirectionLock;if(u||n.openGlobalLock){var c=e.offset;if(l&&null===n.currentDirection)return n.currentDirection=function(t,e){void 0===e&&(e=10);var n=null;Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x");return n}(c),void(null!==n.currentDirection&&(null===(o=(r=n.props).onDirectionLock)||void 0===o||o.call(r,n.currentDirection)));n.updateAxis("x",t,c),n.updateAxis("y",t,c),null===(s=(i=n.props).onDrag)||void 0===s||s.call(i,t,e),no=t}},onEnd:function(t,e){return n.stop(t,e)}},{transformPagePoint:a})},t.prototype.prepareBoundingBox=function(){var t=this.visualElement.getInstance(),e=t.style.transform;this.visualElement.resetTransform(),this.visualElement.measureLayout(),t.style.transform=e,this.visualElement.rebaseTargetBox(!0,this.visualElement.getBoundingBoxWithoutTransforms())},t.prototype.resolveDragConstraints=function(){var t=this,e=this.props.dragConstraints;this.constraints=!!e&&(oe(e)?this.resolveRefConstraints(this.visualElement.box,e):function(t,e){var n=e.top,r=e.left,o=e.bottom,i=e.right;return{x:to(t.x,r,i),y:to(t.y,n,o)}}(this.visualElement.box,e)),this.constraints&&!this.hasMutatedConstraints&&rn((function(e){t.getAxisMotionValue(e)&&(t.constraints[e]=function(t,e){var n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(t.visualElement.box[e],t.constraints[e]))}))},t.prototype.resolveRefConstraints=function(t,e){var n=this.props,r=n.onMeasureDragConstraints,o=n.transformPagePoint,i=e.current;this.constraintsBox=bn(i,o);var s=function(t,e){return{x:eo(t.x,e.x),y:eo(t.y,e.y)}}(t,this.constraintsBox);if(r){var a=r(function(t){var e=t.x,n=t.y;return{top:n.min,bottom:n.max,left:e.min,right:e.max}}(s));this.hasMutatedConstraints=!!a,a&&(s=ce(a))}return s},t.prototype.cancelDrag=function(){this.isDragging=!1,this.panSession&&this.panSession.end(),this.panSession=null,!this.props.dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null)},t.prototype.stop=function(t,e){var n;this.visualElement.unlockTargetBox(),null===(n=this.panSession)||void 0===n||n.end(),this.panSession=null;var r=this.isDragging;if(this.cancelDrag(),r){var o=this.props,i=o.dragMomentum,s=o.dragElastic,a=o.onDragEnd;if(i||s){var u=e.velocity;this.animateDragEnd(u)}null===a||void 0===a||a(t,e)}},t.prototype.snapToCursor=function(t){var e=this;this.prepareBoundingBox(),rn((function(n){var r=e.getAxisMotionValue(n);if(r){var o=jr(t).point,i=e.visualElement.box,s=i[n].max-i[n].min,a=i[n].min+s/2,u=o[n]-a;e.originPoint[n]=o[n],r.set(u)}else e.cursorProgress[n]=.5,e.updateVisualElementAxis(n,t)}))},t.prototype.updateAxis=function(t,e,n){if(io(t,this.props.drag,this.currentDirection))return this.getAxisMotionValue(t)?this.updateAxisMotionValue(t,n):this.updateVisualElementAxis(t,e)},t.prototype.updateAxisMotionValue=function(t,e){var n=this.getAxisMotionValue(t);if(e&&n){var r=this.props.dragElastic,o=this.originPoint[t]+e[t],i=this.constraints?Zr(o,this.constraints[t],r):o;n.set(i)}},t.prototype.updateVisualElementAxis=function(t,e){var n,r=this.props.dragElastic,o=this.visualElement.box[t],i=o.max-o.min,s=this.cursorProgress[t],a=function(t,e,n,r,o){var i=t-e*n;return r?Zr(i,r,o):i}(jr(e).point[t],i,s,null===(n=this.constraints)||void 0===n?void 0:n[t],r);this.visualElement.setAxisTarget(t,a,a+i)},t.prototype.updateProps=function(t){var e=t.drag,n=void 0!==e&&e,o=t.dragDirectionLock,i=void 0!==o&&o,s=t.dragPropagation,a=void 0!==s&&s,u=t.dragConstraints,l=void 0!==u&&u,c=t.dragElastic,p=void 0===c?.35:c,h=t.dragMomentum,d=void 0===h||h,f=Object(r.f)(t,["drag","dragDirectionLock","dragPropagation","dragConstraints","dragElastic","dragMomentum"]);this.props=Object(r.a)({drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:p,dragMomentum:d},f)},t.prototype.getAxisMotionValue=function(t){var e=this.props,n=e.layout,r=e.layoutId,o="_drag"+t.toUpperCase();return this.props[o]?this.props[o]:n||void 0!==r?void 0:this.visualElement.getValue(t,0)},t.prototype.animateDragEnd=function(t){var e=this,n=this.props,o=n.drag,i=n.dragMomentum,s=n.dragElastic,a=n.dragTransition,u=rn((function(n){if(io(n,o,e.currentDirection)){var u=e.constraints?e.constraints[n]:{},l=s?200:1e6,c=s?40:1e7,p=Object(r.a)(Object(r.a)({type:"inertia",velocity:i?t[n]:0,bounceStiffness:l,bounceDamping:c,timeConstant:750,restDelta:1,restSpeed:10},a),u);return e.getAxisMotionValue(n)?e.startAxisValueAnimation(n,p):e.visualElement.startLayoutAxisAnimation(n,p)}}));return Promise.all(u).then((function(){var t,n;null===(n=(t=e.props).onDragTransitionEnd)||void 0===n||n.call(t)}))},t.prototype.stopMotion=function(){var t=this;rn((function(e){var n=t.getAxisMotionValue(e);n?n.stop():t.visualElement.stopLayoutAnimation()}))},t.prototype.startAxisValueAnimation=function(t,e){var n=this.getAxisMotionValue(t);if(n){var r=n.get();return n.set(r),n.set(r),mn(t,n,0,e)}},t.prototype.scalePoint=function(){var t=this,e=this.props,n=e.drag,r=e.dragConstraints;if(oe(r)&&this.constraintsBox){this.stopMotion();var o={x:0,y:0};rn((function(e){o[e]=tn(t.visualElement.targetBox[e],t.constraintsBox[e])})),this.prepareBoundingBox(),this.resolveDragConstraints(),rn((function(e){if(io(e,n,null)){var r=function(t,e,n){var r=t.max-t.min,o=rt(e.min,e.max-r,n);return{min:o,max:o+r}}(t.visualElement.targetBox[e],t.constraintsBox[e],o[e]),i=r.min,s=r.max;t.visualElement.setAxisTarget(e,i,s)}}))}},t.prototype.mount=function(t){var e=this,n=Ur(t.getInstance(),"pointerdown",(function(t){var n=e.props,r=n.drag,o=n.dragListener;r&&(void 0===o||o)&&e.start(t)})),r=Dr(window,"resize",(function(){e.scalePoint()})),o=t.onLayoutUpdate((function(){e.isDragging&&e.resolveDragConstraints()})),i=t.prevSnapshot;return(null===i||void 0===i?void 0:i.isDragging)&&this.start(no,{cursorProgress:i.cursorProgress}),function(){null===n||void 0===n||n(),null===r||void 0===r||r(),null===o||void 0===o||o(),e.cancelDrag()}},t}();function io(t,e,n){return(!0===e||e===t)&&(null===n||n===t)}var so=function(t){return function(e){return t(e),null}},ao=so((function(t){var e=t.visualElement;return function(t,e){var n=t.dragControls,o=Object(ne.useContext)(br).transformPagePoint,i=En((function(){return new oo({visualElement:e})}));i.updateProps(Object(r.a)(Object(r.a)({},t),{transformPagePoint:o})),Object(ne.useEffect)((function(){return n&&n.subscribe(i)}),[i]),Object(ne.useEffect)((function(){return i.mount(e)}),[])}(Object(r.f)(t,["visualElement"]),e)})),uo={key:"drag",shouldRender:function(t){return!!t.drag},getComponent:function(){return ao}};function lo(t){return Object(ne.useEffect)((function(){return function(){return t()}}),[])}var co=["whileHover","whileTap","whileDrag"],po=function(t){return co.indexOf(t)+1},ho=po("whileTap");var fo=po("whileHover"),go=function(t){return function(e,n){Nr(e)&&t(e,n)}};function vo(t,e){!function(t,e){var n=t.onPan,r=t.onPanStart,o=t.onPanEnd,i=t.onPanSessionStart,s=n||r||o||i,a=Object(ne.useRef)(null),u=Object(ne.useContext)(br).transformPagePoint,l={onSessionStart:i,onStart:r,onMove:n,onEnd:function(t,e){a.current=null,o&&o(t,e)}};Object(ne.useEffect)((function(){null!==a.current&&a.current.updateHandlers(l)})),zr(e,"pointerdown",s&&function(t){a.current=new qr(t,l,{transformPagePoint:u})}),lo((function(){return a.current&&a.current.end()}))}(t,e),function(t,e){var n=t.onTap,r=t.onTapStart,o=t.onTapCancel,i=t.whileTap,s=t.controls,a=n||r||o||i,u=Object(ne.useRef)(!1),l=Object(ne.useRef)(null);function c(){var t;null===(t=l.current)||void 0===t||t.call(l),l.current=null}i&&s&&s.setOverride(i,ho);var p=Object(ne.useRef)(null);p.current=function(t,r){var a=e.current;if(c(),u.current&&a){u.current=!1,s&&i&&s.clearOverride(ho);var l=Ir(!0);l&&(l(),!function t(e,n){return!!n&&(e===n||t(e,n.parentElement))}(a,t.target)?o&&o(t,r):n&&n(t,r))}},zr(e,"pointerdown",a?function(t,n){c(),l.current=pt(Ur(window,"pointerup",(function(t,e){var n;return null===(n=p.current)||void 0===n?void 0:n.call(p,t,e)})),Ur(window,"pointercancel",(function(t,e){var n;return null===(n=p.current)||void 0===n?void 0:n.call(p,t,e)}))),e.current&&!u.current&&(u.current=!0,r&&r(t,n),s&&i&&s.startOverride(ho))}:void 0),lo(c)}(t,e),function(t,e){var n=t.whileHover,r=t.onHoverStart,o=t.onHoverEnd,i=t.controls;n&&i&&i.setOverride(n,fo),zr(e,"pointerenter",go((function(t,e){r&&r(t,e),n&&i&&i.startOverride(fo)}))),zr(e,"pointerleave",go((function(t,e){o&&o(t,e),n&&i&&i.clearOverride(fo)})))}(t,e)}var yo,mo=["onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","whileTap","whileHover","onHoverStart","onHoverEnd"],bo=so((function(t){var e=t.visualElement;vo(Object(r.f)(t,["visualElement"]),e)})),wo={key:"gestures",shouldRender:function(t){return mo.some((function(e){return t.hasOwnProperty(e)}))},getComponent:function(){return bo}},Co=so((function(t){var e=t.animate,n=t.controls,o=t.exit,i=Object(r.e)(Fn(),2),s=i[0],a=i[1],u=Object(ne.useContext)(Ln),l=Object(ne.useRef)(!1),c=void 0!==(null===u||void 0===u?void 0:u.custom)?u.custom:t.custom;Object(ne.useEffect)((function(){s?!l.current||!e||"boolean"===typeof e||e instanceof nr||n.start(e):(!l.current&&o&&n.start(o,{custom:c}).then(a),l.current=!0),s&&(l.current=!1)}),[e,n,c,o,s,a,t])})),Eo={key:"exit",shouldRender:function(t){return!!t.exit&&!ar(t)},getComponent:function(){return Co}};!function(t){t.Target="Target",t.VariantLabel="VariantLabel",t.AnimationSubscription="AnimationSubscription"}(yo||(yo={}));function _o(t,e){void 0===e&&(e=!1);t.transition;var n=t.transitionEnd,o=Object(r.f)(t,["transition","transitionEnd"]);return e?Object(r.a)(Object(r.a)({},o),n):o}var Oo,Ro,So=function(t){var e,n=t instanceof se?t.get():t;return Array.from(new Set((e=n)?Array.isArray(e)?e:[e]:[]))};var To=((Oo={})[yo.Target]=so((function(t){return function(t,e,n,o){var i=Object(ne.useRef)(!0),s=Object(ne.useRef)(null);s.current||(s.current=_o(t,!0)),Object(ne.useEffect)((function(){var a,u,l={},c=_o(t),p=_o(t,!0);for(var h in c){var d=i.current&&(!n.hasValue(h)||n.getValue(h).get()!==p[h]),f=null!==p[h],g=(a=s.current[h],void 0!==(u=p[h])&&(Array.isArray(a)&&Array.isArray(u)?!function(t,e){if(null===e)return!1;var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}(u,a):a!==u));f&&(g||d)&&(l[h]=c[h])}i.current=!1,s.current=Object(r.a)(Object(r.a)({},s.current),p),Object.keys(l).length&&e.start(Object(r.a)(Object(r.a)({},l),{transition:t.transition||o,transitionEnd:t.transitionEnd}))}),[t])}(t.animate,t.controls,t.visualElement,t.transition)})),Oo[yo.VariantLabel]=so((function(t){var e=t.animate,n=t.inherit,r=void 0===n||n,o=t.controls;return function(t,e,n,r){var o=So(e),i=Object(ne.useContext)(rr),s=i.hasMounted&&i.hasMounted.current,a=Object(ne.useRef)(!1);Object(ne.useEffect)((function(){var e,u,l=!1;n?(l=!!s,o=So(i.animate)):l=a.current||(e=So(t),u=o,e.join(",")!==u.join(",")),l&&r.start(o),a.current=!0}),[o.join(",")])}(t.initial,e,r,o)})),Oo[yo.AnimationSubscription]=so((function(t){return function(t,e){var n=Object(ne.useMemo)((function(){return t.subscribe(e)}),[t]);Object(ne.useEffect)((function(){return function(){n&&n()}}),[n])}(t.animate,t.controls)})),Oo),Po=function(t){return t.animate instanceof nr},Ao=["initial","animate","whileTap","whileHover"],Io=((Ro={})[yo.Target]=function(t){return void 0!==t.animate&&(e=t.animate,!(Array.isArray(e)||"string"===typeof e))&&!Po(t);var e},Ro[yo.VariantLabel]=function(t){return void 0!==t.variants||Ao.some((function(e){return"string"===typeof t[e]}))},Ro[yo.AnimationSubscription]=Po,Ro),Do={key:"animation",shouldRender:function(){return!0},getComponent:function(t){var e=void 0;for(var n in yo)Io[n](t)&&(e=n);return e?To[e]:void 0}};var No=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frameTarget={x:{min:0,max:0},y:{min:0,max:0}},e.stopAxisAnimation={x:void 0,y:void 0},e.animate=function(t,n,o){void 0===o&&(o={});var i=o.originBox,s=o.targetBox,a=o.visibilityAction,u=o.shouldStackAnimate,l=Object(r.f)(o,["originBox","targetBox","visibilityAction","shouldStackAnimate"]),c=e.props,p=c.visualElement,h=c.layout;if(!1===u)return e.safeToRemove();var d=ko(n=i||n,t=s||t),f=rn((function(r){if("position"===h){var o=t[r].max-t[r].min;n[r].max=n[r].min+o}if(!p.isTargetBoxLocked)return void 0===a?d?e.animateAxis(r,t[r],n[r],l):p.setAxisTarget(r,t[r].min,t[r].max):void(a===mr.Hide?p.hide():p.show())}));return p.render(),Promise.all(f).then((function(){var t,n;null===(n=(t=e.props).onLayoutAnimationComplete)||void 0===n||n.call(t),p.isPresent?p.presence=yr.Present:e.safeToRemove()}))},e}return Object(r.c)(e,t),e.prototype.componentDidMount=function(){var t=this,e=this.props.visualElement;e.enableLayoutProjection(),this.unsubLayoutReady=e.onLayoutUpdate(this.animate),e.updateConfig(Object(r.a)(Object(r.a)({},e.config),{safeToRemove:function(){return t.safeToRemove()}}))},e.prototype.componentWillUnmount=function(){var t=this;this.unsubLayoutReady(),rn((function(e){var n,r;return null===(r=(n=t.stopAxisAnimation)[e])||void 0===r?void 0:r.call(n)}))},e.prototype.animateAxis=function(t,e,n,r){var o,i,s=void 0===r?{}:r,a=s.transition,u=s.crossfadeOpacity;null===(i=(o=this.stopAxisAnimation)[t])||void 0===i||i.call(o);var l,c=this.props.visualElement,p=this.frameTarget[t],h=c.axisProgress[t];h.clearListeners(),h.set(0),h.set(0),u&&(l=this.createCrossfadeAnimation(u),c.show());var d=function(){var r=h.get()/1e3;!function(t,e,n,r){t.min=rt(e.min,n.min,r),t.max=rt(e.max,n.max,r)}(p,n,e,r),c.setAxisTarget(t,p.min,p.max),null===l||void 0===l||l(r)};d(),c.updateLayoutDelta();var f=h.onChange(d),g=mn("x"===t?"layoutX":"layoutY",h,1e3,a||this.props.transition||Fo).then(f);return this.stopAxisAnimation[t]=function(){h.stop(),f()},g},e.prototype.createCrossfadeAnimation=function(t){var e=this.props.visualElement.getValue("opacity",0);return function(n){e.set(jo(rt(0,1,n))),t.set(Vo(rt(1,0,n)))}},e.prototype.safeToRemove=function(){var t,e;null===(e=(t=this.props).safeToRemove)||void 0===e||e.call(t)},e.prototype.render=function(){return null},e}(ne.Component);function xo(t){var e=Object(r.e)(Fn(),2)[1];return Object(ne.createElement)(No,Object(r.a)({},t,{safeToRemove:e}))}function ko(t,e){return Lo(t.x,e.x)||Lo(t.y,e.y)}function Lo(t,e){return t.min!==e.min||t.max!==e.max}var Fo={duration:.45,ease:[.4,0,.1,1]};function Mo(t,e,n){return function(r){return r<t?0:r>e?1:n(nt(t,e,r))}}var jo=Mo(0,.5,At),Vo=Mo(.5,.95,Ot),Go={key:"animate-layout",shouldRender:function(t){return!!t.layout||!!t.layoutId},getComponent:function(){return xo}},Wo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.syncLayout,n=t.visualElement;_r(e)&&e.register(n)},e.prototype.getSnapshotBeforeUpdate=function(){var t=this.props,e=t.syncLayout,n=t.visualElement;return _r(e)?e.syncUpdate():(n.snapshotBoundingBox(),e.add(n)),null},e.prototype.componentDidUpdate=function(){var t=this.props,e=t.syncLayout,n=t.visualElement;_r(e)||e.flush(),n.rebaseTargetBox()},e.prototype.render=function(){return null},e}(re.a.Component);function Ho(t){var e=Object(ne.useContext)(Or);return re.a.createElement(Wo,Object(r.a)({},t,{syncLayout:e}))}var Bo={key:"measure-layout",shouldRender:function(t){return!!t.drag||!!t.layout||!!t.layoutId},getComponent:function(){return Ho}},Uo=[Bo,Do,uo,wo,Eo,Go],zo={useVisualElement:function(t,e,n,o,i){var s=En((function(){return new(kn(t)?Nn:wn)(n,i)}));s.updateConfig(Object(r.a)(Object(r.a)(Object(r.a)({},s.config),{enableHardwareAcceleration:!o}),e)),s.layoutId=e.layoutId;var a=function(){var t=Object(ne.useContext)(Ln);return null===t||t.isPresent}();return s.isPresent=void 0!==e.isPresent?e.isPresent:a,Object(ne.useEffect)((function(){if(e.onViewportBoxUpdate)return s.onViewportBoxUpdate(e.onViewportBoxUpdate)}),[e.onViewportBoxUpdate]),s},render:function(t,e,n){var o="string"===typeof t?function(t){var e={};for(var n in t)Hn(n)&&(e[n]=t[n]);return e}(e):e;n.clean(),n.build();var i=kn(t)?function(t){return Object(r.a)(Object(r.a)({},t.attrs),{style:Object(r.a)({},t.reactStyle)})}(n):function(t,e){var n=e.drag,o={style:Object(r.a)(Object(r.a)(Object(r.a)({},t.reactStyle),t.style),t.vars)};return n&&(o.draggable=!1,o.style.userSelect="none",o.style.touchAction=!0===n?"none":"pan-"+("x"===n?"y":"x")),o}(n,e);return Object(ne.createElement)(t,Object(r.a)(Object(r.a)(Object(r.a)({},o),{ref:n.ref}),i))},animationControlsConfig:{makeTargetAnimatable:function(t,e,n,o){var i=function(t,e,n){var o,i=Object(r.f)(e,[]),s=t.getInstance();if(!(s instanceof HTMLElement))return{target:i,transitionEnd:n};for(var a in n&&(n=Object(r.a)({},n)),t.forEachValue((function(t){var e=t.get();if(Le(e)){var n=Me(e,s);n&&t.set(n)}})),i){var u=i[a];if(Le(u)){var l=Me(u,s);l&&(i[a]=l,n&&(null!==(o=n[a])&&void 0!==o||(n[a]=u)))}}return{target:i,transitionEnd:n}}(t,e,o);return er(t,e=i.target,n,o=i.transitionEnd)}}};function qo(t){var e=Object(r.a)(Object(r.a)({},zo),{defaultFeatures:t});var n=new Map;return new Proxy({custom:function(t){return Sr(t,e)}},{get:function(t,r){return"custom"===r?t.custom:(n.has(r)||n.set(r,Sr(r,e)),n.get(r))}})}var Ko=qo(Uo);var Yo=0;function Qo(){var t=Yo;return Yo++,t}var Xo=function(t){var e=t.children,n=t.initial,r=t.isPresent,o=t.onExitComplete,i=t.custom,s=t.presenceAffectsLayout,a=En($o),u=En(Qo),l=Object(ne.useMemo)((function(){return{id:u,initial:n,isPresent:r,custom:i,onExitComplete:function(t){a.set(t,!0);var e=!0;a.forEach((function(t){t||(e=!1)})),e&&(null===o||void 0===o||o())},register:function(t){return a.set(t,!1),function(){return a.delete(t)}}}}),s?void 0:[r]);return Object(ne.useMemo)((function(){a.forEach((function(t,e){return a.set(e,!1)}))}),[r]),Object(ne.createElement)(Ln.Provider,{value:l},e)};function $o(){return new Map}function Jo(t){return t.key||""}var Zo=function(t){var e=t.children,n=t.custom,o=t.initial,i=void 0===o||o,s=t.onExitComplete,a=t.exitBeforeEnter,u=t.presenceAffectsLayout,l=void 0===u||u,c=function(){var t=Object(ne.useRef)(!1),e=Object(r.e)(Object(ne.useState)(0),2),n=e[0],o=e[1];return lo((function(){return t.current=!0})),Object(ne.useCallback)((function(){!t.current&&o(n+1)}),[n])}(),p=Object(ne.useContext)(Or);_r(p)&&(c=p.forceUpdate);var h=Object(ne.useRef)(!0),d=function(t){var e=[];return ne.Children.forEach(t,(function(t){Object(ne.isValidElement)(t)&&e.push(t)})),e}(e),f=Object(ne.useRef)(d),g=Object(ne.useRef)(new Map).current,v=Object(ne.useRef)(new Set).current;if(function(t,e){t.forEach((function(t){var n=Jo(t);e.set(n,t)}))}(d,g),h.current)return h.current=!1,Object(ne.createElement)(ne.Fragment,null,d.map((function(t){return Object(ne.createElement)(Xo,{key:Jo(t),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:l},t)})));for(var y=Object(r.g)(d),m=f.current.map(Jo),b=d.map(Jo),w=m.length,C=0;C<w;C++){var E=m[C];-1===b.indexOf(E)?v.add(E):v.delete(E)}return a&&v.size&&(y=[]),v.forEach((function(t){if(-1===b.indexOf(t)){var e=g.get(t);if(e){var r=m.indexOf(t);y.splice(r,0,Object(ne.createElement)(Xo,{key:Jo(e),isPresent:!1,onExitComplete:function(){g.delete(t),v.delete(t);var e=f.current.findIndex((function(e){return e.key===t}));f.current.splice(e,1),v.size||(f.current=d,c(),s&&s())},custom:n,presenceAffectsLayout:l},e))}}})),y=y.map((function(t){var e=t.key;return v.has(e)?t:Object(ne.createElement)(Xo,{key:Jo(t),isPresent:!0,presenceAffectsLayout:l},t)})),f.current=y,Object(ne.createElement)(ne.Fragment,null,v.size?y:y.map((function(t){return Object(ne.cloneElement)(t)})))};function ti(t,e){return e&&t!==e.lead?{visibilityAction:mr.Hide}:e&&t.presence!==yr.Entering&&t===e.lead&&e.lead!==e.prevLead?{visibilityAction:mr.Show}:(t.presence===yr.Entering?n=null===e||void 0===e?void 0:e.getFollowOrigin():t.presence===yr.Exiting&&(r=null===e||void 0===e?void 0:e.getFollowTarget()),{originBox:n,targetBox:r});var n,r}function ei(t,e){var n,r,o,i={},s=e&&e.lead,a=null===s||void 0===s?void 0:s.presence;return e&&t===s?t.presence===yr.Entering?i.originBox=e.getFollowOrigin():t.presence===yr.Exiting&&(i.targetBox=e.getFollowTarget()):e&&t===e.follow&&(i.transition=e.getLeadTransition(),a===yr.Entering?i.targetBox=e.getLeadTarget():a===yr.Exiting&&(i.originBox=e.getLeadOrigin())),(null===(n=null===e||void 0===e?void 0:e.follow)||void 0===n?void 0:n.isPresenceRoot)||(null===s||void 0===s?void 0:s.isPresenceRoot)?(e&&t!==s?e&&t===e.follow?s&&a!==yr.Entering&&a===yr.Exiting&&(i.crossfadeOpacity=null===(o=null===e||void 0===e?void 0:e.lead)||void 0===o?void 0:o.getValue("opacity",1)):i.visibilityAction=mr.Hide:t.presence===yr.Entering&&(i.crossfadeOpacity=null===(r=null===e||void 0===e?void 0:e.follow)||void 0===r?void 0:r.getValue("opacity",0)),i):i}var ni=function(){function t(){this.order=[],this.hasChildren=!1}return t.prototype.add=function(t){var e;if(this.order.push(t),this.snapshot){t.prevSnapshot=this.snapshot,t.prevViewportBox=this.snapshot.boundingBox;var n=this.snapshot.latestMotionValues;for(var r in n)t.hasValue(r)?null===(e=t.getValue(r))||void 0===e||e.set(n[r]):t.addValue(r,ae(n[r]))}this.hasChildren=!0},t.prototype.remove=function(t){var e=this.order.findIndex((function(e){return t===e}));-1!==e&&this.order.splice(e,1)},t.prototype.updateLeadAndFollow=function(){this.prevLead=this.lead,this.prevFollow=this.follow;var t=Object(r.e)(function(t,e){for(var n=Object(r.e)(e,2),o=n[0],i=n[1],s=void 0,a=0,u=void 0,l=t.length,c=!1,p=l-1;p>=0;p--){var h=t[p];if(p===l-1&&(c=h.isPresent),c)s=h;else{var d=t[p-1];d&&d.isPresent&&(s=h)}if(s){a=p;break}}if(s||(s=t[0]),u=t[a-1],s)for(p=a-1;p>=0;p--){if((h=t[p]).isPresent){u=h;break}}return s!==o&&!c&&u===i&&t.find((function(t){return t===o}))&&(s=o),[s,u]}(this.order,[this.lead,this.follow]),2),e=t[0],n=t[1];this.lead=e,this.follow=n},t.prototype.updateSnapshot=function(){if(this.lead){var t={boundingBox:this.lead.prevViewportBox,latestMotionValues:{}};this.lead.forEachValue((function(e,n){var r=e.get();Pe(r)||(t.latestMotionValues[n]=r)}));var e=ro.get(this.lead);e&&e.isDragging&&(t.isDragging=!0,t.cursorProgress=e.cursorProgress),this.snapshot=t}},t.prototype.isLeadPresent=function(){var t;return this.lead&&(null===(t=this.lead)||void 0===t?void 0:t.presence)!==yr.Exiting},t.prototype.getFollowOrigin=function(){var t;return this.follow?this.follow.prevViewportBox:null===(t=this.snapshot)||void 0===t?void 0:t.boundingBox},t.prototype.getFollowTarget=function(){var t;return null===(t=this.follow)||void 0===t?void 0:t.box},t.prototype.getLeadOrigin=function(){var t;return null===(t=this.lead)||void 0===t?void 0:t.prevViewportBox},t.prototype.getLeadTarget=function(){var t;return null===(t=this.lead)||void 0===t?void 0:t.box},t.prototype.getLeadTransition=function(){var t;return null===(t=this.lead)||void 0===t?void 0:t.config.transition},t}();!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.children=new Set,e.stacks=new Map,e.hasMounted=!1,e.updateScheduled=!1,e.renderScheduled=!1,e.syncContext=Object(r.a)(Object(r.a)({},Er()),{syncUpdate:function(t){return e.scheduleUpdate(t)},forceUpdate:function(){e.syncContext=Object(r.a)({},e.syncContext),e.scheduleUpdate(!0)},register:function(t){return e.addChild(t)},remove:function(t){return e.removeChild(t)}}),e}Object(r.c)(e,t),e.prototype.componentDidMount=function(){this.hasMounted=!0,this.updateStacks()},e.prototype.componentDidUpdate=function(){this.startLayoutAnimation()},e.prototype.shouldComponentUpdate=function(){return this.renderScheduled=!0,!0},e.prototype.startLayoutAnimation=function(){var t=this;this.renderScheduled=this.updateScheduled=!1;var e=this.props.type;this.children.forEach((function(t){t.isPresent?t.presence!==yr.Entering&&(t.presence=t.presence===yr.Exiting?yr.Entering:yr.Present):t.presence=yr.Exiting})),this.updateStacks();var n="crossfade"===e?ei:ti,r={measureLayout:function(t){return t.measureLayout()},layoutReady:function(e){var r=e.layoutId;e.layoutReady(n(e,t.getStack(r)))}};this.children.forEach((function(e){return t.syncContext.add(e)})),this.syncContext.flush(r),this.stacks.forEach((function(t){return t.snapshot=void 0}))},e.prototype.updateStacks=function(){this.stacks.forEach((function(t){return t.updateLeadAndFollow()}))},e.prototype.scheduleUpdate=function(t){void 0===t&&(t=!1),!t&&this.updateScheduled||(this.updateScheduled=!0,this.children.forEach((function(t){return t.snapshotBoundingBox()})),this.stacks.forEach((function(t){return t.updateSnapshot()})),!t&&this.renderScheduled||(this.renderScheduled=!0,this.forceUpdate()))},e.prototype.addChild=function(t){this.children.add(t),this.addToStack(t),t.presence=this.hasMounted?yr.Entering:yr.Present},e.prototype.removeChild=function(t){this.scheduleUpdate(),this.children.delete(t),this.removeFromStack(t)},e.prototype.addToStack=function(t){var e=this.getStack(t.layoutId);null===e||void 0===e||e.add(t)},e.prototype.removeFromStack=function(t){var e=this.getStack(t.layoutId);null===e||void 0===e||e.remove(t)},e.prototype.getStack=function(t){if(void 0!==t)return!this.stacks.has(t)&&this.stacks.set(t,new ni),this.stacks.get(t)},e.prototype.render=function(){return Object(ne.createElement)(Or.Provider,{value:this.syncContext},this.props.children)}}(ne.Component);function ri(){return{scrollX:ae(0),scrollY:ae(0),scrollXProgress:ae(0),scrollYProgress:ae(0)}}ri();var oi=ae(null);if("undefined"!==typeof window)if(window.matchMedia){var ii=window.matchMedia("(prefers-reduced-motion)"),si=function(){return oi.set(ii.matches)};ii.addListener(si),si()}else oi.set(!1);!function(){function t(){this.componentControls=new Set}t.prototype.subscribe=function(t){var e=this;return this.componentControls.add(t),function(){return e.componentControls.delete(t)}},t.prototype.start=function(t,e){this.componentControls.forEach((function(n){n.start(t.nativeEvent||t,e)}))}}();!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.initialState={},e}Object(r.c)(e,t),e.prototype.updateLayoutDelta=function(){},e.prototype.build=function(){},e.prototype.clean=function(){},e.prototype.getBoundingBox=function(){return{x:{min:0,max:0},y:{min:0,max:0}}},e.prototype.readNativeValue=function(t){return this.initialState[t]||0},e.prototype.render=function(){this.build()}}(ue)},,function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function s(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}}()?Object.assign:function(t,e){for(var n,a,u=s(t),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))o.call(n,c)&&(u[c]=n[c]);if(r){a=r(n);for(var p=0;p<a.length;p++)i.call(n,a[p])&&(u[a[p]]=n[a[p]])}}return u}},function(t,e,n){"use strict";(function(t){function n(t){return null==t||""===t?null:t}function r(t,e){return void 0===e&&(e=!1),null!=t&&(e||""!==t)}function o(t){return!r(t)}function i(t){return!t||o(t)||0===t.length}function s(t){return r(t)&&t.toString?t.toString():null}function a(t){if(void 0!==t){if(null===t||""===t)return null;if("number"===typeof t)return isNaN(t)?void 0:t;var e=parseInt(t,10);return isNaN(e)?void 0:e}}function u(t){if(void 0!==t)return null!==t&&""!==t&&(!0===t||!1===t?t:/true/i.test(t))}function l(t,e,n){void 0===n&&(n=!1);var r=null==t,o=null==e;if(t&&t.toNumber&&(t=t.toNumber()),e&&e.toNumber&&(e=e.toNumber()),r&&o)return 0;if(r)return-1;if(o)return 1;function i(t,e){return t>e?1:t<e?-1:0}if("string"!==typeof t)return i(t,e);if(!n)return i(t,e);try{return t.localeCompare(e)}catch(s){return i(t,e)}}function c(t,e,n){if(null===t||void 0===t)return null;if(!Array.isArray(t))return c(p(t),e,n);for(var r=t,o=null,i=0;i<r.length;i++){var s=r[i];if("string"===typeof e){if(s[e]===n){o=s;break}}else if(e(s)){o=s;break}}return o}function p(t){if(t instanceof Set||t instanceof Map){var e=[];return t.forEach((function(t){return e.push(t)})),e}return Object.keys(t).map((function(e){return t[e]}))}Object.defineProperty(e,"__esModule",{value:!0});var h=Object.freeze({__proto__:null,makeNull:n,exists:r,missing:o,missingOrEmpty:i,toStringOrNull:s,attrToNumber:a,attrToBoolean:u,attrToString:function(t){if(null!=t&&""!==t)return t},referenceCompare:function(t,e){return null==t&&null==e||(null!=t||null==e)&&((null==t||null!=e)&&t===e)},jsonEquals:function(t,e){return(t?JSON.stringify(t):null)===(e?JSON.stringify(e):null)},defaultComparator:l,find:c,values:p}),d=function(){function t(){this.existingKeys={}}return t.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},t.prototype.getUniqueKey=function(t,e){t=s(t);for(var n=0;;){var r=void 0;if(t?(r=t,0!==n&&(r+="_"+n)):e?(r=e,0!==n&&(r+="_"+n)):r=""+n,!this.existingKeys[r])return this.existingKeys[r]=!0,r;n++}},t}();function f(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;n++){var o=t[n];if(r(o))return o}return null}function g(t){if(t&&t.length)return t[t.length-1]}function v(t,e,n){return null==t&&null==e||null!=t&&null!=e&&t.length===e.length&&R(t,(function(t,r){return n?n(t,e[r]):e[r]===t}))}function y(t){return t.sort((function(t,e){return t-e}))}function m(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function b(t,e){T(e,(function(e){return m(t,e)}))}function w(t,e,n){t.splice(n,0,e)}function C(t,e,n){b(t,e),T(e.slice().reverse(),(function(e){return w(t,e,n)}))}function E(t,e){return t.indexOf(e)>-1}function _(t,e){null!=e&&null!=t&&T(e,(function(e){return t.push(e)}))}function O(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function R(t,e){if(null==t)return!0;for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0}function S(t,e){if(null==t)return!1;for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1}function T(t,e){if(null!=t)for(var n=0;n<t.length;n++)e(t[n],n)}function P(t,e){if(null==t)return null;for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}function A(t,e){if(null==t)return null;for(var n=[],r=0;r<t.length;r++)e(t[r],r)&&n.push(t[r]);return n}var I=Object.freeze({__proto__:null,firstExistingValue:f,anyExists:function(t){return t&&null!=f(t)},existsAndNotEmpty:function(t){return null!=t&&t.length>0},last:g,areEqual:v,compareArrays:function(t,e){return v(t,e)},shallowCompare:function(t,e){return v(t,e)},sortNumerically:y,removeRepeatsFromArray:function(t,e){if(t)for(var n=t.length-2;n>=0;n--){var r=t[n]===e,o=t[n+1]===e;r&&o&&t.splice(n+1,1)}},removeFromArray:m,removeAllFromArray:b,insertIntoArray:w,insertArrayIntoArray:function(t,e,n){if(null!=t&&null!=e)for(var r=e.length-1;r>=0;r--){w(t,e[r],n)}},moveInArray:C,includes:E,flatten:function(t){return[].concat.apply([],t)},pushAll:_,toStrings:function(t){return P(t,s)},findIndex:O,every:R,some:S,forEach:T,forEachReverse:function(t,e){if(null!=t)for(var n=t.length-1;n>=0;n--)e(t[n],n)},map:P,filter:A,reduce:function(t,e,n){if(null==t||null==n)return null;for(var r=n,o=0;o<t.length;o++)r=e(r,t[o],o);return r},forEachSnapshotFirst:function(t,e){t&&t.slice(0).forEach(e)}});function D(t,e){null!=t&&(Array.isArray(t)?T(t,(function(t,n){return e(""+n,t)})):T(Object.keys(t),(function(n){return e(n,t[n])})))}function N(t){for(var e={},n=Object.keys(t),r=0;r<n.length;r++){var o=n[r],i=t[o];e[o]=i}return e}function x(t,e){if(t){var n=t,r={};return Object.keys(n).forEach((function(t){if(!(e&&e.indexOf(t)>=0)){var o=n[t],i="object"===typeof o&&o.constructor===Object;r[t]=i?x(o):o}})),r}}function k(t,e){return t[e]}function L(t,e,n){t[e]=n}function F(t,e,n,r){var o=k(t,n);void 0!==o&&L(e,n,r?r(o):o)}function M(t){var e={};return t.filter((function(t){return null!=t})).forEach((function(t){T(Object.keys(t),(function(t){return e[t]=null}))})),Object.keys(e)}function j(t,e,n,o){void 0===n&&(n=!0),void 0===o&&(o=!1),r(e)&&D(e,(function(e,r){var i=t[e];if(i!==r){if(o)if(null==i&&null!=r)"object"===typeof r&&r.constructor===Object&&(i={},t[e]=i);H(r)&&H(i)&&!Array.isArray(i)?j(i,r,n,o):(n||void 0!==r)&&(t[e]=r)}}))}function V(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return T(e,(function(e){return D(e,(function(e,n){return t[e]=n}))})),t}function G(t,e,n){if(null==t)return n;for(var r=e.split("."),o=t;r.length>1;)if(null==(o=o[r.shift()]))return n;var i=o[r[0]];return null!=i?i:n}function W(t,e,n){if(e&&t){if(!n)return t[e];for(var r=e.split("."),i=t,s=0;s<r.length;s++){if(o(i))return null;i=i[r[s]]}return i}}function H(t){return"object"===typeof t&&null!==t}var B=Object.freeze({__proto__:null,iterateObject:D,cloneObject:N,deepCloneObject:function(t){return JSON.parse(JSON.stringify(t))},deepCloneDefinition:x,getProperty:k,setProperty:L,copyPropertiesIfPresent:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];T(n,(function(n){return F(t,e,n)}))},copyPropertyIfPresent:F,getAllKeysInObjects:M,mergeDeep:j,assign:V,missingOrEmptyObject:function(t){return o(t)||0===Object.keys(t).length},get:G,set:function(t,e,n){if(null!=t){for(var r=e.split("."),o=t;r.length>1;)if(null==(o=o[r.shift()]))return;o[r[0]]=n}},deepFreeze:function t(e){return Object.freeze(e),T(p(e),(function(e){(H(e)||"function"===typeof e)&&t(e)})),e},getValueUsingField:W,removeAllReferences:function(t,e){Object.keys(t).forEach((function(e){"object"===typeof t[e]&&(t[e]=void 0)}));var n=Object.getPrototypeOf(t),r={};Object.keys(n).forEach((function(t){if("function"===typeof n[t]){r[t]={value:function(){console.warn("ag-Grid: "+e+" function "+t+"() cannot be called as the grid has been \ndestroyed. Please don't call grid API functions on destroyed grids - as a matter of fact you \nshouldn't be keeping the API reference, your application has a memory leak! Remove the API reference \nwhen the grid is destroyed.")},writable:!0}}})),Object.defineProperties(t,r)},isNonNullObject:H}),U=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,z=/([^\s,]+)/g,q={};function K(t,e){q[e]||(t(),q[e]=!0)}function Y(t){if(t.name)return t.name;var e=/function\s+([^\(]+)/.exec(t.toString());return e&&2===e.length?e[1].trim():null}function Q(t){return!!(t&&t.constructor&&t.call&&t.apply)}function X(t){J(t,400)}function $(t){J(t,0)}function J(t,e){void 0===e&&(e=0),t.length>0&&window.setTimeout((function(){return t.forEach((function(t){return t()}))}),e)}function Z(t,e,n){var r;return void 0===n&&(n=!1),function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var s=this,a=n&&!r;window.clearTimeout(r),r=window.setTimeout((function(){r=null,n||t.apply(s,o)}),e),a&&t.apply(s,o)}}function tt(t){t&&t()}var et=Object.freeze({__proto__:null,doOnce:K,getFunctionName:Y,getFunctionParameters:function(t){var e=t.toString().replace(U,"");return e.slice(e.indexOf("(")+1,e.indexOf(")")).match(z)||[]},isFunction:Q,executeInAWhile:X,executeNextVMTurn:$,executeAfter:J,debounce:Z,compose:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce((function(t,e){return e(t)}),e)}},callIfPresent:tt}),nt=function(){function t(t,e){if(this.beanWrappers={},this.destroyed=!1,t&&t.beanClasses){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}}return t.prototype.getBeanInstances=function(){return p(this.beanWrappers).map((function(t){return t.beanInstance}))},t.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},t.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),r(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},t.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),D(this.beanWrappers,(function(e,n){var r;n.bean.__agBeanMetaData&&n.bean.__agBeanMetaData.autowireMethods&&n.bean.__agBeanMetaData.autowireMethods.agConstructor&&(r=n.bean.__agBeanMetaData.autowireMethods.agConstructor);var o=t.getBeansForParameters(r,n.bean.name),i=function(t,e){var n=[null].concat(e);return new(t.bind.apply(t,n))}(n.bean,o);n.beanInstance=i}));var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+e)},t.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var n=void 0;return n=t.prototype.constructor?Y(t.prototype.constructor):""+t,void console.error("Context item "+n+" is not a bean")}var r={bean:t,beanInstance:null,beanName:e.beanName};this.beanWrappers[e.beanName]=r},t.prototype.autoWireBeans=function(t){var e=this;t.forEach((function(t){e.forEachMetaDataInHierarchy(t,(function(n,r){var o=n.agClassAttributes;o&&o.forEach((function(n){var o=e.lookupBeanInstance(r,n.beanName,n.optional);t[n.attributeName]=o}))}))}))},t.prototype.methodWireBeans=function(t){var e=this;t.forEach((function(t){e.forEachMetaDataInHierarchy(t,(function(n,r){D(n.autowireMethods,(function(n,o){if("agConstructor"!==n){var i=e.getBeansForParameters(o,r);t[n].apply(t,i)}}))}))}))},t.prototype.forEachMetaDataInHierarchy=function(t,e){for(var n=Object.getPrototypeOf(t);null!=n;){var r=n.constructor;if(r.hasOwnProperty("__agBeanMetaData"))e(r.__agBeanMetaData,this.getBeanName(r));n=Object.getPrototypeOf(n)}},t.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString();return e.substring(9,e.indexOf("("))},t.prototype.getBeansForParameters=function(t,e){var n=this,r=[];return t&&D(t,(function(t,o){var i=n.lookupBeanInstance(e,o);r[Number(t)]=i})),r},t.prototype.lookupBeanInstance=function(t,e,n){if(void 0===n&&(n=!1),"context"===e)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var r=this.beanWrappers[e];return r?r.beanInstance:(n||console.error("ag-Grid: unable to find bean reference "+e+" while initialising "+t),null)},t.prototype.callLifeCycleMethods=function(t,e){var n=this;t.forEach((function(t){return n.callLifeCycleMethodsOnBean(t,e)}))},t.prototype.callLifeCycleMethodsOnBean=function(t,e,n){var r={};this.forEachMetaDataInHierarchy(t,(function(t){var o=t[e];o&&o.forEach((function(t){t!=n&&(r[t]=!0)}))})),Object.keys(r).forEach((function(e){return t[e]()}))},t.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},t.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},t.prototype.destroyBean=function(t){t&&this.destroyBeans([t])},t.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach((function(t){e.callLifeCycleMethodsOnBean(t,"preDestroyMethods","destroy");var n=t;"function"===typeof n.destroy&&n.destroy()})),[]):[]},t}();function rt(t,e,n){var r=pt(t.constructor);r.preConstructMethods||(r.preConstructMethods=[]),r.preConstructMethods.push(e)}function ot(t,e,n){var r=pt(t.constructor);r.postConstructMethods||(r.postConstructMethods=[]),r.postConstructMethods.push(e)}function it(t,e,n){var r=pt(t.constructor);r.preDestroyMethods||(r.preDestroyMethods=[]),r.preDestroyMethods.push(e)}function st(t){return function(e){pt(e).beanName=t}}function at(t){return function(e,n,r){lt(e,t,!1,e,n,null)}}function ut(t){return function(e,n,r){lt(e,t,!0,e,n,null)}}function lt(t,e,n,r,o,i){if(null!==e)if("number"!==typeof i){var s=pt(t.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:o,beanName:e,optional:n})}else console.error("ag-Grid: Autowired should be on an attribute");else console.error("ag-Grid: Autowired name should not be null")}function ct(t){return function(e,n,r){var o,i="function"==typeof e?e:e.constructor;if("number"===typeof r){var s=void 0;n?(o=pt(i),s=n):(o=pt(i),s="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[s]||(o.autowireMethods[s]={}),o.autowireMethods[s][r]=t}}}function pt(t){return t.hasOwnProperty("__agBeanMetaData")||(t.__agBeanMetaData={}),t.__agBeanMetaData}var ht,dt=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ft=function(t,e){return function(n,r){e(n,r,t)}},gt=function(){function t(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return t.prototype.setBeans=function(t,e,n){if(void 0===n&&(n=null),this.logger=t.create("EventService"),n){var r=e.useAsyncEvents();this.addGlobalListener(n,r)}},t.prototype.getListeners=function(t,e){var n=e?this.allAsyncListeners:this.allSyncListeners,r=n.get(t);return r||(r=new Set,n.set(t,r)),r},t.prototype.addEventListener=function(t,e,n){void 0===n&&(n=!1),this.getListeners(t,n).add(e)},t.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=!1),this.getListeners(t,n).delete(e)},t.prototype.addGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},t.prototype.removeGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},t.prototype.dispatchEvent=function(t){this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0},t.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},t.prototype.dispatchToListeners=function(t,e){var n=this,r=t.type;this.getListeners(r,e).forEach((function(r){e?n.dispatchAsync((function(){return r(t)})):r(t)})),(e?this.globalAsyncListeners:this.globalSyncListeners).forEach((function(o){e?n.dispatchAsync((function(){return o(r,t)})):o(r,t)}))},t.prototype.dispatchAsync=function(t){this.asyncFunctionsQueue.push(t),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},t.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach((function(t){return t()}))},dt([ft(0,ct("loggerFactory")),ft(1,ct("gridOptionsWrapper")),ft(2,ct("globalEventListener"))],t.prototype,"setBeans",null),t=dt([st("eventService")],t)}(),vt=function(){function t(){}return t.STEP_EVERYTHING=0,t.STEP_FILTER=1,t.STEP_SORT=2,t.STEP_MAP=3,t.STEP_AGGREGATE=4,t.STEP_PIVOT=5,t.ROW_BUFFER_SIZE=10,t.LAYOUT_INTERVAL=500,t.BATCH_WAIT_MILLIS=50,t.EXPORT_TYPE_DRAG_COPY="dragCopy",t.EXPORT_TYPE_CLIPBOARD="clipboard",t.EXPORT_TYPE_EXCEL="excel",t.EXPORT_TYPE_CSV="csv",t.ROW_MODEL_TYPE_INFINITE="infinite",t.ROW_MODEL_TYPE_VIEWPORT="viewport",t.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",t.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",t.ALWAYS="always",t.ONLY_WHEN_GROUPING="onlyWhenGrouping",t.PINNED_TOP="top",t.PINNED_BOTTOM="bottom",t.DOM_LAYOUT_NORMAL="normal",t.DOM_LAYOUT_PRINT="print",t.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",t.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",t.SOURCE_PASTE="paste",t.PINNED_RIGHT="right",t.PINNED_LEFT="left",t.SORT_ASC="asc",t.SORT_DESC="desc",t}();(ht=e.ModuleNames||(e.ModuleNames={})).CommunityCoreModule="@ag-grid-community/core",ht.CommunityAllModules="@ag-grid-community/all",ht.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",ht.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",ht.CsvExportModule="@ag-grid-community/csv-export",ht.RowNodeCache="@ag-grid-community/row-node-cache",ht.EnterpriseCoreModule="@ag-grid-enterprise/core",ht.EnterpriseAllModules="@ag-grid-enterprise/all",ht.RowGroupingModule="@ag-grid-enterprise/row-grouping",ht.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",ht.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",ht.MenuModule="@ag-grid-enterprise/menu",ht.SetFilterModule="@ag-grid-enterprise/set-filter",ht.MultiFilterModule="@ag-grid-enterprise/multi-filter",ht.StatusBarModule="@ag-grid-enterprise/status-bar",ht.SideBarModule="@ag-grid-enterprise/side-bar",ht.RangeSelectionModule="@ag-grid-enterprise/range-selection",ht.MasterDetailModule="@ag-grid-enterprise/master-detail",ht.RichSelectModule="@ag-grid-enterprise/rich-select",ht.GridChartsModule="@ag-grid-enterprise/charts",ht.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",ht.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",ht.ExcelExportModule="@ag-grid-enterprise/excel-export",ht.ClipboardModule="@ag-grid-enterprise/clipboard",ht.DateTimeCellEditorModule="@ag-grid-enterprise/date-time-cell-editor",ht.AngularModule="@ag-grid-community/angular",ht.ReactModule="@ag-grid-community/react",ht.VueModule="@ag-grid-community/vue",ht.PolymerModule="@ag-grid-community/polymer";var yt=function(){function t(){}return t.register=function(e,n){void 0===n&&(n=!0),t.modulesMap[e.moduleName]=e,void 0===t.moduleBased?t.moduleBased=n:t.moduleBased!==n&&K((function(){console.warn("ag-Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid-packages-modules/ for more information.")}),"ModulePackageCheck")},t.registerModules=function(e,n){void 0===n&&(n=!0),e&&e.forEach((function(e){return t.register(e,n)}))},t.assertRegistered=function(t,e){if(this.isRegistered(t))return!0;var n="ag-Grid: unable to use "+e+" as module "+t+" is not present. Please see: https://www.ag-grid.com/javascript-grid-modules/";return K((function(){console.warn(n)}),e+t),!1},t.isRegistered=function(e){return!!t.modulesMap[e]},t.getRegisteredModules=function(){return p(t.modulesMap)},t.isPackageBased=function(){return!t.moduleBased},t.modulesMap={},t}(),mt=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},bt=function(){function t(t,e,n,r){this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new gt,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=n,this.primary=r,this.setState(t)}return t.prototype.setState=function(t){void 0!==t.sort?t.sort!==vt.SORT_ASC&&t.sort!==vt.SORT_DESC||(this.sort=t.sort):t.initialSort!==vt.SORT_ASC&&t.initialSort!==vt.SORT_DESC||(this.sort=t.initialSort);var e=a(t.sortIndex),n=a(t.initialSortIndex);void 0!==e?null!==e&&(this.sortIndex=e):null!==n&&(this.sortIndex=n);var r=u(t.hide),o=u(t.initialHide);this.visible=void 0!==r?!r:!o,void 0!==t.pinned?this.setPinned(t.pinned):this.setPinned(t.initialPinned);var i=a(t.flex),s=a(t.initialFlex);void 0!==i?this.flex=i:void 0!==s&&(this.flex=s)},t.prototype.setColDef=function(t,e){this.colDef=t,this.userProvidedColDef=e},t.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},t.prototype.setParent=function(t){this.parent=t},t.prototype.getParent=function(){return this.parent},t.prototype.setOriginalParent=function(t){this.originalParent=t},t.prototype.getOriginalParent=function(){return this.originalParent},t.prototype.initialise=function(){var t=this.gridOptionsWrapper.getMinColWidth(),e=this.gridOptionsWrapper.getMaxColWidth();this.colDef.minWidth?this.minWidth=this.colDef.minWidth:this.minWidth=t,this.colDef.maxWidth?this.maxWidth=this.colDef.maxWidth:this.maxWidth=e,this.resetActualWidth("gridInitializing");var n=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=r(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!n,this.tooltipFieldContainsDots=r(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!n,this.validate()},t.prototype.resetActualWidth=function(t){void 0===t&&(t="api");var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},t.prototype.isEmptyGroup=function(){return!1},t.prototype.isRowGroupDisplayed=function(t){if(o(this.colDef)||o(this.colDef.showRowGroup))return!1;var e=!0===this.colDef.showRowGroup,n=this.colDef.showRowGroup===t;return e||n},t.prototype.getUniqueId=function(){return this.getId()},t.prototype.isPrimary=function(){return this.primary},t.prototype.isFilterAllowed=function(){var t=!!this.colDef.filter||!!this.colDef.filterFramework;return this.primary&&t},t.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},t.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},t.prototype.validate=function(){var t=this.colDef;function n(t,e,n){K((function(){n?console.warn(t,n):K((function(){return console.warn(t)}),e)}),e)}if(!yt.isRegistered(e.ModuleNames.RowGroupingModule)){["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach((function(o){r(t[o])&&(yt.isPackageBased()?n("ag-Grid: "+o+" is only valid in ag-grid-enterprise, your column definition should not have "+o,"ColumnRowGroupingMissing"+o):n("ag-Grid: "+o+" is only valid with ag-Grid Enterprise Module "+e.ModuleNames.RowGroupingModule+" - your column definition should not have "+o,"ColumnRowGroupingMissing"+o))}))}if(yt.isRegistered(e.ModuleNames.RichSelectModule)||"agRichSelect"!==this.colDef.cellEditor&&"agRichSelectCellEditor"!==this.colDef.cellEditor||(yt.isPackageBased()?n("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):n("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-Grid Enterprise Module "+e.ModuleNames.RichSelectModule,"ColumnRichSelectMissing")),yt.isRegistered(e.ModuleNames.DateTimeCellEditorModule)||"agRichSelect"!==this.colDef.cellEditor&&"agDateTimeCellEditor"!==this.colDef.cellEditor||(yt.isPackageBased()?n("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnDateTimeMissing"):n("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-Grid Enterprise Module "+e.ModuleNames.DateTimeCellEditorModule,"ColumnDateTimeMissing")),this.gridOptionsWrapper.isTreeData()){["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach((function(e){r(t[e])&&n("ag-Grid: "+e+" is not possible when doing tree data, your column definition should not have "+e,"TreeDataCannotRowGroup")}))}r(this.colDef.width)&&"number"!==typeof this.colDef.width&&n("ag-Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef")},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.createIsColumnFuncParams=function(t){return{node:t,data:t.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},t.prototype.isSuppressNavigable=function(t){if("boolean"===typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"===typeof this.colDef.suppressNavigable){var e=this.createIsColumnFuncParams(t);return(0,this.colDef.suppressNavigable)(e)}return!1},t.prototype.isCellEditable=function(t){return!(t.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(t,this.colDef.editable)},t.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},t.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},t.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},t.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},t.prototype.isResizable=function(){return!0===this.colDef.resizable},t.prototype.isColumnFunc=function(t,e){return"boolean"===typeof e?e:"function"===typeof e&&e(this.createIsColumnFuncParams(t))},t.prototype.setMoving=function(e,n){void 0===n&&(n="api"),this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_MOVING_CHANGED,n))},t.prototype.createColumnEvent=function(t,e){return{api:this.gridApi,columnApi:this.columnApi,type:t,column:this,columns:[this],source:e}},t.prototype.isMoving=function(){return this.moving},t.prototype.getSort=function(){return this.sort},t.prototype.setSort=function(e,n){void 0===n&&(n="api"),this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_SORT_CHANGED,n)))},t.prototype.setMenuVisible=function(e,n){void 0===n&&(n="api"),this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_MENU_VISIBLE_CHANGED,n)))},t.prototype.isMenuVisible=function(){return this.menuVisible},t.prototype.isSortAscending=function(){return this.sort===vt.SORT_ASC},t.prototype.isSortDescending=function(){return this.sort===vt.SORT_DESC},t.prototype.isSortNone=function(){return o(this.sort)},t.prototype.isSorting=function(){return r(this.sort)},t.prototype.getSortIndex=function(){return this.sortIndex},t.prototype.setSortIndex=function(t){this.sortIndex=t},t.prototype.setAggFunc=function(t){this.aggFunc=t},t.prototype.getAggFunc=function(){return this.aggFunc},t.prototype.getLeft=function(){return this.left},t.prototype.getOldLeft=function(){return this.oldLeft},t.prototype.getRight=function(){return this.left+this.actualWidth},t.prototype.setLeft=function(e,n){void 0===n&&(n="api"),this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_LEFT_CHANGED,n)))},t.prototype.isFilterActive=function(){return this.filterActive},t.prototype.setFilterActive=function(e,n,r){void 0===n&&(n="api"),this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_FILTER_ACTIVE_CHANGED,n)));var o=this.createColumnEvent(t.EVENT_FILTER_CHANGED,n);r&&j(o,r),this.eventService.dispatchEvent(o)},t.prototype.setPinned=function(t){!0===t||t===vt.PINNED_LEFT?this.pinned=vt.PINNED_LEFT:t===vt.PINNED_RIGHT?this.pinned=vt.PINNED_RIGHT:this.pinned=null},t.prototype.setFirstRightPinned=function(e,n){void 0===n&&(n="api"),this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_FIRST_RIGHT_PINNED_CHANGED,n)))},t.prototype.setLastLeftPinned=function(e,n){void 0===n&&(n="api"),this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_LAST_LEFT_PINNED_CHANGED,n)))},t.prototype.isFirstRightPinned=function(){return this.firstRightPinned},t.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},t.prototype.isPinned=function(){return this.pinned===vt.PINNED_LEFT||this.pinned===vt.PINNED_RIGHT},t.prototype.isPinnedLeft=function(){return this.pinned===vt.PINNED_LEFT},t.prototype.isPinnedRight=function(){return this.pinned===vt.PINNED_RIGHT},t.prototype.getPinned=function(){return this.pinned},t.prototype.setVisible=function(e,n){void 0===n&&(n="api");var r=!0===e;this.visible!==r&&(this.visible=r,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_VISIBLE_CHANGED,n)))},t.prototype.isVisible=function(){return this.visible},t.prototype.getColDef=function(){return this.colDef},t.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},t.prototype.getColId=function(){return this.colId},t.prototype.getId=function(){return this.getColId()},t.prototype.getDefinition=function(){return this.colDef},t.prototype.getActualWidth=function(){return this.actualWidth},t.prototype.createBaseColDefParams=function(t){return{node:t,data:t.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},t.prototype.getColSpan=function(t){if(o(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.colSpan(e);return Math.max(n,1)},t.prototype.getRowSpan=function(t){if(o(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.rowSpan(e);return Math.max(n,1)},t.prototype.setActualWidth=function(t,e,n){void 0===e&&(e="api"),void 0===n&&(n=!1),null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&"flex"!==e&&"gridInitializing"!==e&&(this.flex=null),n||this.fireColumnWidthChangedEvent(e))},t.prototype.fireColumnWidthChangedEvent=function(e){this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_WIDTH_CHANGED,e))},t.prototype.isGreaterThanMax=function(t){return null!=this.maxWidth&&t>this.maxWidth},t.prototype.getMinWidth=function(){return this.minWidth},t.prototype.getMaxWidth=function(){return this.maxWidth},t.prototype.getFlex=function(){return this.flex||0},t.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t)},t.prototype.setMinimum=function(t){void 0===t&&(t="api"),this.setActualWidth(this.minWidth,t)},t.prototype.setRowGroupActive=function(e,n){void 0===n&&(n="api"),this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_ROW_GROUP_CHANGED,n)))},t.prototype.isRowGroupActive=function(){return this.rowGroupActive},t.prototype.setPivotActive=function(e,n){void 0===n&&(n="api"),this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_PIVOT_CHANGED,n)))},t.prototype.isPivotActive=function(){return this.pivotActive},t.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},t.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},t.prototype.setValueActive=function(e,n){void 0===n&&(n="api"),this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent(t.EVENT_VALUE_CHANGED,n)))},t.prototype.isValueActive=function(){return this.aggregationActive},t.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},t.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},t.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},t.prototype.getMenuTabs=function(t){var e=this.getColDef().menuTabs;return null==e&&(e=t),e},t.prototype.isLockPosition=function(){return console.warn("ag-Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},t.prototype.isLockVisible=function(){return console.warn("ag-Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},t.prototype.isLockPinned=function(){return console.warn("ag-Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},t.EVENT_MOVING_CHANGED="movingChanged",t.EVENT_LEFT_CHANGED="leftChanged",t.EVENT_WIDTH_CHANGED="widthChanged",t.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",t.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",t.EVENT_VISIBLE_CHANGED="visibleChanged",t.EVENT_FILTER_CHANGED="filterChanged",t.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",t.EVENT_SORT_CHANGED="sortChanged",t.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",t.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_PIVOT_CHANGED="columnPivotChanged",t.EVENT_VALUE_CHANGED="columnValueChanged",mt([at("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),mt([at("columnUtils")],t.prototype,"columnUtils",void 0),mt([at("columnApi")],t.prototype,"columnApi",void 0),mt([at("gridApi")],t.prototype,"gridApi",void 0),mt([at("context")],t.prototype,"context",void 0),mt([ot],t.prototype,"initialise",null),t}(),wt=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ct=function(){function t(t,e,n,r){this.displayedChildren=[],this.localEventService=new gt,this.groupId=e,this.instanceId=n,this.originalColumnGroup=t,this.pinned=r}return t.createUniqueId=function(t,e){return t+"_"+e},t.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},t.prototype.getParent=function(){return this.parent},t.prototype.setParent=function(t){this.parent=t},t.prototype.getUniqueId=function(){return t.createUniqueId(this.groupId,this.instanceId)},t.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},t.prototype.isMoving=function(){var t=this.getOriginalColumnGroup().getLeafColumns();return!(!t||0===t.length)&&t.every((function(t){return t.isMoving()}))},t.prototype.checkLeft=function(){if(this.displayedChildren.forEach((function(e){e instanceof t&&e.checkLeft()})),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var e=g(this.displayedChildren).getLeft();this.setLeft(e)}else{var n=this.displayedChildren[0].getLeft();this.setLeft(n)}else this.setLeft(null)},t.prototype.getLeft=function(){return this.left},t.prototype.getOldLeft=function(){return this.oldLeft},t.prototype.setLeft=function(e){this.oldLeft=e,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_LEFT_CHANGED)))},t.prototype.getPinned=function(){return this.pinned},t.prototype.createAgEvent=function(t){return{type:t}},t.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},t.prototype.getGroupId=function(){return this.groupId},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.isChildInThisGroupDeepSearch=function(e){var n=!1;return this.children.forEach((function(r){e===r&&(n=!0),r instanceof t&&r.isChildInThisGroupDeepSearch(e)&&(n=!0)})),n},t.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach((function(e){t+=e.getActualWidth()})),t},t.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach((function(e){e.isResizable()&&(t=!0)})),t},t.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach((function(e){t+=e.getMinWidth()})),t},t.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},t.prototype.getDisplayedChildren=function(){return this.displayedChildren},t.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},t.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},t.prototype.getDefinition=function(){return this.originalColumnGroup.getColGroupDef()},t.prototype.getColGroupDef=function(){return this.originalColumnGroup.getColGroupDef()},t.prototype.isPadding=function(){return this.originalColumnGroup.isPadding()},t.prototype.isExpandable=function(){return this.originalColumnGroup.isExpandable()},t.prototype.isExpanded=function(){return this.originalColumnGroup.isExpanded()},t.prototype.setExpanded=function(t){this.originalColumnGroup.setExpanded(t)},t.prototype.addDisplayedLeafColumns=function(e){this.displayedChildren.forEach((function(n){n instanceof bt?e.push(n):n instanceof t&&n.addDisplayedLeafColumns(e)}))},t.prototype.addLeafColumns=function(e){this.children.forEach((function(n){n instanceof bt?e.push(n):n instanceof t&&n.addLeafColumns(e)}))},t.prototype.getChildren=function(){return this.children},t.prototype.getColumnGroupShow=function(){return this.originalColumnGroup.getColumnGroupShow()},t.prototype.getOriginalColumnGroup=function(){return this.originalColumnGroup},t.prototype.getPaddingLevel=function(){var t=this.getParent();return this.isPadding()&&t&&t.isPadding()?1+t.getPaddingLevel():0},t.prototype.calculateDisplayedColumns=function(){var e=this;this.displayedChildren=[];var n=this;if(this.isPadding())for(;n.getParent()&&n.isPadding();)n=n.getParent();n.originalColumnGroup.isExpandable()?this.children.forEach((function(r){switch(r.getColumnGroupShow()){case t.HEADER_GROUP_SHOW_OPEN:n.originalColumnGroup.isExpanded()&&e.displayedChildren.push(r);break;case t.HEADER_GROUP_SHOW_CLOSED:n.originalColumnGroup.isExpanded()||e.displayedChildren.push(r);break;default:r instanceof t&&r.isPadding()&&!r.displayedChildren.length||e.displayedChildren.push(r)}})):this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_DISPLAYED_CHILDREN_CHANGED))},t.HEADER_GROUP_SHOW_OPEN="open",t.HEADER_GROUP_SHOW_CLOSED="closed",t.HEADER_GROUP_PADDING="padding",t.EVENT_LEFT_CHANGED="leftChanged",t.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",wt([at("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(),Et=function(){function t(t,e,n,r){this.localEventService=new gt,this.expandable=!1,this.colGroupDef=t,this.groupId=e,this.expanded=t&&!!t.openByDefault,this.padding=n,this.level=r}return t.prototype.setOriginalParent=function(t){this.originalParent=t},t.prototype.getOriginalParent=function(){return this.originalParent},t.prototype.getLevel=function(){return this.level},t.prototype.isVisible=function(){return!!this.children&&this.children.some((function(t){return t.isVisible()}))},t.prototype.isPadding=function(){return this.padding},t.prototype.setExpanded=function(e){this.expanded=void 0!==e&&e;var n={type:t.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(n)},t.prototype.isExpandable=function(){return this.expandable},t.prototype.isExpanded=function(){return this.expanded},t.prototype.getGroupId=function(){return this.groupId},t.prototype.getId=function(){return this.getGroupId()},t.prototype.setChildren=function(t){this.children=t},t.prototype.getChildren=function(){return this.children},t.prototype.getColGroupDef=function(){return this.colGroupDef},t.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},t.prototype.addLeafColumns=function(e){this.children&&this.children.forEach((function(n){n instanceof bt?e.push(n):n instanceof t&&n.addLeafColumns(e)}))},t.prototype.getColumnGroupShow=function(){return this.padding?Ct.HEADER_GROUP_PADDING:this.colGroupDef.columnGroupShow},t.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.getLeafColumns().forEach((function(e){return e.addEventListener(bt.EVENT_VISIBLE_CHANGED,t.onColumnVisibilityChanged.bind(t))}))},t.prototype.setExpandable=function(){if(!this.isPadding()){for(var e=!1,n=!1,r=!1,o=this.findChildren(),i=0,s=o.length;i<s;i++){var a=o[i];if(a.isVisible()){var u=a.getColumnGroupShow();if(u===Ct.HEADER_GROUP_SHOW_OPEN)e=!0,r=!0;else if(u===Ct.HEADER_GROUP_SHOW_CLOSED)n=!0,r=!0;else{if(e=!0,n=!0,u===Ct.HEADER_GROUP_PADDING)r=r||a.children.some((function(t){return void 0!==t.getColumnGroupShow()}))}}}var l=e&&n&&r;if(this.expandable!==l){this.expandable=l;var c={type:t.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(c)}}},t.prototype.findChildren=function(){var e=this.children,n=e[0];if(n&&(!n.isPadding||!n.isPadding()))return e;for(;1===e.length&&e[0]instanceof t;)e=e[0].children;return e},t.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},t.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},t.EVENT_EXPANDED_CHANGED="expandedChanged",t.EVENT_EXPANDABLE_CHANGED="expandableChanged",t}(),_t={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Ot=["touchstart","touchend","touchmove","touchcancel"],Rt=["mouseover","mouseout","mouseenter","mouseleave"],St={};function Tt(t){t.__ag_Grid_Stop_Propagation=!0}function Pt(t){return!0===t.__ag_Grid_Stop_Propagation}var At=function(){var t={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(e){if("boolean"===typeof St[e])return St[e];var n=document.createElement(t[e]||"div"),r=(e="on"+e)in n;return r||(n.setAttribute(e,"return;"),r="function"==typeof n[e]),n=null,St[e]=r}}();function It(t,e){for(var n=Dt(e);n;){var r=t.getDomData(n,"cellComp");if(r)return r;n=n.parentElement}return null}function Dt(t){var e=t;return e.target||e.srcElement}function Nt(t,e){return!(!e||!t)&&kt(e).indexOf(t)>=0}function xt(t){for(var e=[],n=Dt(t);n;)e.push(n),n=n.parentElement;return e}function kt(t){var e=t;return e.deepPath?e.deepPath():e.path?e.path:e.composedPath?e.composedPath():e.__agGridEventPath?e.__agGridEventPath:xt(t)}function Lt(t,e,n,r){var o=E(Ot,n)?{passive:!0}:void 0;E(Rt,n)?t&&t.addEventListenerOutsideAngular&&t.addEventListenerOutsideAngular(e,n,r,o):e.addEventListener(n,r,o)}var Ft=Object.freeze({__proto__:null,stopPropagationForAgGrid:Tt,isStopPropagationForAgGrid:Pt,isEventSupported:At,getCellCompForEvent:It,addChangeListener:function(t,e){t.addEventListener("changed",e),t.addEventListener("paste",e),t.addEventListener("input",e),t.addEventListener("keydown",e),t.addEventListener("keyup",e)},getTarget:Dt,isElementInEventPath:Nt,createEventPath:xt,addAgGridEventPath:function(t){t.__agGridEventPath=kt(t)},getEventPath:kt,addSafePassiveEventListener:Lt}),Mt=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},jt=function(){function t(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.getContext=function(){return t.context},this.isAlive=function(){return!t.destroyed}}return t.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},t.prototype.destroy=function(){this.destroyFunctions.forEach((function(t){return t()})),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:t.EVENT_DESTROYED})},t.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new gt),this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},t.prototype.dispatchEventAsync=function(t){var e=this;window.setTimeout((function(){return e.dispatchEvent(t)}),0)},t.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},t.prototype.addManagedListener=function(t,e,n){var r=this;if(!this.destroyed){t instanceof HTMLElement?Lt(this.getFrameworkOverrides(),t,e,n):t.addEventListener(e,n);var o=function o(){return t.removeEventListener(e,n),r.destroyFunctions=r.destroyFunctions.filter((function(t){return t!==o})),null};return this.destroyFunctions.push(o),o}},t.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},t.prototype.createManagedBean=function(t,e){var n=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),n},t.prototype.createBean=function(t,e,n){return(e||this.getContext()).createBean(t,n)},t.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},t.prototype.destroyBeans=function(t,e){var n=this;return t&&T(t,(function(t){return n.destroyBean(t,e)})),[]},t.EVENT_DESTROYED="destroyed",Mt([at("frameworkOverrides")],t.prototype,"frameworkOverrides",void 0),Mt([at("context")],t.prototype,"context",void 0),Mt([at("eventService")],t.prototype,"eventService",void 0),Mt([it],t.prototype,"destroy",null),t}(),Vt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gt=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Wt=function(t,e){return function(n,r){e(n,r,t)}},Ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vt(e,t),e.prototype.setBeans=function(t){this.logger=t.create("ColumnFactory")},e.prototype.createColumnTree=function(t,e,n){var r=new d;if(n){var o=n.map((function(t){return t.getId()}));r.addExistingKeys(o)}var i=n?n.slice():null,s=this.recursivelyCreateColumns(t,0,e,i,r,null),a=this.findMaxDept(s,0);this.logger.log("Number of levels for grouped columns is "+a);var u=this.balanceColumnTree(s,0,a,r);return this.columnUtils.depthFirstOriginalTreeSearch(null,u,(function(t,e){t instanceof Et&&t.setupExpandable(),t.setOriginalParent(e)})),{columnTree:u,treeDept:a}},e.prototype.createForAutoGroups=function(t,e){var n=this,r=[];return t.forEach((function(t){var o=n.createAutoGroupTreeItem(e,t);r.push(o)})),r},e.prototype.createAutoGroupTreeItem=function(t,e){for(var n=e,r=this.findDepth(t)-1;r>=0;r--){var o=new Et(null,"FAKE_PATH_"+e.getId()+"}_"+r,!0,r);this.context.createBean(o),o.setChildren([n]),n.setOriginalParent(o),n=o}return n},e.prototype.findDepth=function(t){for(var e=0,n=t;n&&n[0]&&n[0]instanceof Et;)e++,n=n[0].getChildren();return e},e.prototype.balanceColumnTree=function(t,e,n,r){for(var o=[],i=0;i<t.length;i++){var s=t[i];if(s instanceof Et){var a=s,u=this.balanceColumnTree(a.getChildren(),e+1,n,r);a.setChildren(u),o.push(a)}else{for(var l=void 0,c=void 0,p=n-1;p>=e;p--){var h=r.getUniqueKey(null,null),d=this.createMergedColGroupDef(null),f=new Et(d,h,!0,e);this.context.createBean(f),c&&c.setChildren([f]),c=f,l||(l=c)}if(l){if(o.push(l),t.some((function(t){return t instanceof Et}))){c.setChildren([s]);continue}c.setChildren(t);break}o.push(s)}}return o},e.prototype.findMaxDept=function(t,e){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(o instanceof Et){var i=o,s=this.findMaxDept(i.getChildren(),e+1);n<s&&(n=s)}}return n},e.prototype.recursivelyCreateColumns=function(t,e,n,r,o,i){var s=this,a=[];return t?(t.forEach((function(t){var u;u=s.isColumnGroup(t)?s.createColumnGroup(n,t,e,r,o,i):s.createColumn(n,t,r,o,i),a.push(u)})),a):a},e.prototype.createColumnGroup=function(t,e,n,r,o,i){var s=this.createMergedColGroupDef(e),a=o.getUniqueKey(s.groupId,null),u=new Et(s,a,!1,n);this.context.createBean(u);var l=this.recursivelyCreateColumns(s.children,n+1,t,r,o,u);return u.setChildren(l),u},e.prototype.createMergedColGroupDef=function(t){var e={};return V(e,this.gridOptionsWrapper.getDefaultColGroupDef()),V(e,t),this.checkForDeprecatedItems(e),e},e.prototype.createColumn=function(t,e,n,r,o){var i=this.mergeColDefs(e);this.checkForDeprecatedItems(i);var s=this.findExistingColumn(e,n);if(s)s.setColDef(i,e),this.applyColumnState(s,i);else{var a=r.getUniqueKey(i.colId,i.field);s=new bt(i,e,a,t),this.context.createBean(s)}return s},e.prototype.applyColumnState=function(t,e){var n=a(e.flex);if(void 0!==n&&t.setFlex(n),t.getFlex()<=0){var r=a(e.width);null!=r&&t.setActualWidth(r)}void 0!==e.sort&&(e.sort==vt.SORT_ASC||e.sort==vt.SORT_DESC?t.setSort(e.sort):t.setSort(void 0));var o=a(e.sortIndex);void 0!==o&&t.setSortIndex(o);var i=u(e.hide);void 0!==i&&t.setVisible(!i),void 0!==e.pinned&&t.setPinned(e.pinned)},e.prototype.findExistingColumn=function(t,e){var n=c(e,(function(e){var n=e.getUserProvidedColDef();if(!n)return!1;var r=null!=t.colId,o=null!=t.field;return r?e.getId()===t.colId:o?n.field===t.field:n===t}));return n&&m(e,n),n},e.prototype.mergeColDefs=function(t){var e={},n=this.gridOptionsWrapper.getDefaultColDef();if(j(e,n,!0,!0),t.type||n&&n.type){var r=t.type?t.type:n.type;this.assignColumnTypes(r,e)}return j(e,t,!0,!0),e},e.prototype.assignColumnTypes=function(t,e){var n;if(t instanceof Array){t.some((function(t){return"string"!==typeof t}))?console.warn("ag-grid: if colDef.type is supplied an array it should be of type 'string[]'"):n=t}else{if("string"!==typeof t)return void console.warn("ag-grid: colDef.type should be of type 'string' | 'string[]'");n=t.split(",")}var r=V({},_t);D(this.gridOptionsWrapper.getColumnTypes()||{},(function(t,e){t in r?console.warn("ag-Grid: the column type '"+t+"' is a default column type and cannot be overridden."):r[t]=e})),n.forEach((function(t){var n=r[t.trim()];n?j(e,n,!0,!0):console.warn("ag-grid: colDef.type '"+t+"' does not correspond to defined gridOptions.columnTypes")}))},e.prototype.checkForDeprecatedItems=function(t){if(t){var e=t;void 0!==e.group&&console.warn("ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==e.headerGroup&&console.warn("ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==e.headerGroupShow&&console.warn("ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==e.suppressRowGroup&&console.warn("ag-grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==e.suppressAggregation&&console.warn("ag-grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(e.suppressRowGroup||e.suppressAggregation)&&console.warn("ag-grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),e.displayName&&(console.warn("ag-grid: Found displayName "+e.displayName+", please use headerName instead, displayName is deprecated."),e.headerName=e.displayName)}},e.prototype.isColumnGroup=function(t){return void 0!==t.children},Gt([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Gt([at("columnUtils")],e.prototype,"columnUtils",void 0),Gt([Wt(0,ct("loggerFactory"))],e.prototype,"setBeans",null),e=Gt([st("columnFactory")],e)}(jt),Bt=function(){function t(){}return t.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",t.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",t.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",t.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",t.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",t.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",t.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",t.EVENT_COLUMN_MOVED="columnMoved",t.EVENT_COLUMN_VISIBLE="columnVisible",t.EVENT_COLUMN_PINNED="columnPinned",t.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",t.EVENT_COLUMN_RESIZED="columnResized",t.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",t.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",t.EVENT_ROW_GROUP_OPENED="rowGroupOpened",t.EVENT_ROW_DATA_CHANGED="rowDataChanged",t.EVENT_ROW_DATA_UPDATED="rowDataUpdated",t.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",t.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",t.EVENT_CHART_CREATED="chartCreated",t.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",t.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",t.EVENT_CHART_DESTROYED="chartDestroyed",t.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",t.EVENT_MODEL_UPDATED="modelUpdated",t.EVENT_PASTE_START="pasteStart",t.EVENT_PASTE_END="pasteEnd",t.EVENT_FILL_START="fillStart",t.EVENT_FILL_END="fillEnd",t.EVENT_CELL_CLICKED="cellClicked",t.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",t.EVENT_CELL_MOUSE_DOWN="cellMouseDown",t.EVENT_CELL_CONTEXT_MENU="cellContextMenu",t.EVENT_CELL_VALUE_CHANGED="cellValueChanged",t.EVENT_ROW_VALUE_CHANGED="rowValueChanged",t.EVENT_CELL_FOCUSED="cellFocused",t.EVENT_ROW_SELECTED="rowSelected",t.EVENT_SELECTION_CHANGED="selectionChanged",t.EVENT_CELL_KEY_DOWN="cellKeyDown",t.EVENT_CELL_KEY_PRESS="cellKeyPress",t.EVENT_CELL_MOUSE_OVER="cellMouseOver",t.EVENT_CELL_MOUSE_OUT="cellMouseOut",t.EVENT_FILTER_CHANGED="filterChanged",t.EVENT_FILTER_MODIFIED="filterModified",t.EVENT_FILTER_OPENED="filterOpened",t.EVENT_SORT_CHANGED="sortChanged",t.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",t.EVENT_ROW_CLICKED="rowClicked",t.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",t.EVENT_GRID_READY="gridReady",t.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",t.EVENT_VIEWPORT_CHANGED="viewportChanged",t.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",t.EVENT_FIRST_DATA_RENDERED="firstDataRendered",t.EVENT_DRAG_STARTED="dragStarted",t.EVENT_DRAG_STOPPED="dragStopped",t.EVENT_CHECKBOX_CHANGED="checkboxChanged",t.EVENT_ROW_EDITING_STARTED="rowEditingStarted",t.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",t.EVENT_CELL_EDITING_STARTED="cellEditingStarted",t.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",t.EVENT_BODY_SCROLL="bodyScroll",t.EVENT_ANIMATION_QUEUE_EMPTY="animationQueueEmpty",t.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",t.EVENT_PAGINATION_CHANGED="paginationChanged",t.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",t.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",t.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",t.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",t.EVENT_FLASH_CELLS="flashCells",t.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",t.EVENT_ROW_DRAG_ENTER="rowDragEnter",t.EVENT_ROW_DRAG_MOVE="rowDragMove",t.EVENT_ROW_DRAG_LEAVE="rowDragLeave",t.EVENT_ROW_DRAG_END="rowDragEnd",t.EVENT_POPUP_TO_FRONT="popupToFront",t.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",t.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",t.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",t.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",t.EVENT_KEYBOARD_FOCUS="keyboardFocus",t.EVENT_MOUSE_FOCUS="mouseFocus",t}(),Ut=function(){function t(){this.existingIds={}}return t.prototype.getInstanceIdForKey=function(t){var e,n=this.existingIds[t];return e="number"!==typeof n?0:n+1,this.existingIds[t]=e,e},t}(),zt=/[&<>"']/g,qt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Kt(t){return null===t||void 0===t?null:t.replace(/([A-Z])/g,(function(t){return"-"+t[0].toLowerCase()}))}function Yt(t){return null===t||void 0===t?null:t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))}function Qt(t){return null!=t&&t.replace?t.replace(zt,(function(t){return qt[t]})):t}function Xt(t){if(!t||null==t)return null;return t.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map((function(t){return t.substring(0,1).toUpperCase()+(t.length>1?t.substring(1,t.length):"")})).join(" ")}function $t(t,e){return t===e||null!=t&&t.slice(0,e.length)===e}var Jt=Object.freeze({__proto__:null,utf8_encode:function(t){var e=String.fromCharCode;function n(t,n){return e(t>>n&63|128)}function r(t){if(0==(4294967168&t))return e(t);var r="";return 0==(4294965248&t)?r=e(t>>6&31|192):0==(4294901760&t)?(!function(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}(t),r=e(t>>12&15|224),r+=n(t,6)):0==(4292870144&t)&&(r=e(t>>18&7|240),r+=n(t,12),r+=n(t,6)),r+=e(63&t|128)}for(var o=function(t){for(var e,n,r=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(n=t.charCodeAt(o++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--):r.push(e);return r}(t),i=o.length,s=-1,a="";++s<i;)a+=r(o[s]);return a},camelCaseToHyphen:Kt,hyphenToCamelCase:Yt,capitalise:function(t){return t[0].toUpperCase()+t.substr(1).toLowerCase()},escapeString:Qt,camelCaseToHumanText:Xt,startsWith:$t}),Zt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),te=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ee=function(t,e){return function(n,r){e(n,r,t)}},ne=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.secondaryColumnsPresent=!1,e.gridHeaderRowCount=0,e.displayedLeftColumns=[],e.displayedRightColumns=[],e.displayedCenterColumns=[],e.allDisplayedColumns=[],e.allDisplayedVirtualColumns=[],e.allDisplayedCenterVirtualColumns=[],e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e.colDefVersion=0,e.flexColsCalculatedAtLestOnce=!1,e}return Zt(e,t),e.prototype.init=function(){this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var t=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(t)&&(this.pivotMode=t),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",this.onAutoGroupColumnDefChanged.bind(this))},e.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},e.prototype.getColDefVersion=function(){return this.colDefVersion},e.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api");var n=!!this.columnDefs;this.colDefVersion++;var r=this.compareColumnStatesAndRaiseEvents(e);this.columnDefs=t,this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var o=this.primaryColumns,i=this.columnFactory.createColumnTree(t,!0,o);this.primaryColumnTree=i.columnTree,this.primaryHeaderRowCount=i.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.extractRowGroupColumns(e,o),this.extractPivotColumns(e,o),this.extractValueColumns(e,o),this.ready=!0,this.updateGridColumns(),n&&this.gridColsArePrimary&&this.gridOptionsWrapper.isApplyColumnDefOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(e),this.checkDisplayedVirtualColumns();var s={type:Bt.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:e};this.eventService.dispatchEvent(s);var a={type:Bt.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi};r(),this.eventService.dispatchEvent(a)},e.prototype.orderGridColumnsLikePrimary=function(){var t=this;this.gridColumns.sort((function(e,n){var r=t.primaryColumns.indexOf(e),o=t.primaryColumns.indexOf(n),i=r>=0,s=o>=0;return i&&s?r-o:i?1:s?-1:t.gridColumns.indexOf(e)-t.gridColumns.indexOf(n)}))},e.prototype.isAutoRowHeightActive=function(){return this.autoRowHeightColumns&&this.autoRowHeightColumns.length>0},e.prototype.getAllAutoRowHeightCols=function(){return this.autoRowHeightColumns},e.prototype.setVirtualViewportLeftAndRight=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},e.prototype.getDisplayedColumnsStartingAt=function(t){for(var e=t,n=[];null!=e;)n.push(e),e=this.getDisplayedColAfter(e);return n},e.prototype.checkDisplayedVirtualColumns=function(){if(null!=this.displayedCenterColumns){var t=this.allDisplayedVirtualColumns.map((function(t){return t.getId()})).join("#");if(this.updateVirtualSets(),t!==this.allDisplayedVirtualColumns.map((function(t){return t.getId()})).join("#")){var e={type:Bt.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)}}},e.prototype.setVirtualViewportPosition=function(t,e){(t!==this.scrollWidth||e!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=e,this.bodyWidthDirty=!0,this.setVirtualViewportLeftAndRight(),this.ready&&this.checkDisplayedVirtualColumns())},e.prototype.isPivotMode=function(){return this.pivotMode},e.prototype.isPivotSettingAllowed=function(t){return!t||!this.gridOptionsWrapper.isTreeData()||(console.warn("ag-Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},e.prototype.setPivotMode=function(t,e){if(void 0===e&&(e="api"),t!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)){this.pivotMode=t,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(e);var n={type:Bt.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(n)}},e.prototype.getSecondaryPivotColumn=function(t,e){if(!this.secondaryColumnsPresent||!this.secondaryColumns)return null;var n=this.getPrimaryColumn(e),r=null;return this.secondaryColumns.forEach((function(e){var o=e.getColDef().pivotKeys,i=e.getColDef().pivotValueColumn;v(o,t)&&i===n&&(r=e)})),r},e.prototype.setBeans=function(t){this.logger=t.create("ColumnController")},e.prototype.setFirstRightAndLastLeftPinned=function(t){var e,n;this.gridOptionsWrapper.isEnableRtl()?(e=this.displayedLeftColumns?this.displayedLeftColumns[0]:null,n=this.displayedRightColumns?g(this.displayedRightColumns):null):(e=this.displayedLeftColumns?g(this.displayedLeftColumns):null,n=this.displayedRightColumns?this.displayedRightColumns[0]:null),this.gridColumns.forEach((function(r){r.setLastLeftPinned(r===e,t),r.setFirstRightPinned(r===n,t)}))},e.prototype.autoSizeColumns=function(t,e,n){var r=this;void 0===n&&(n="api"),this.animationFrameService.flushAllFrames();var o=[],i=-1;for(null==e&&(e=this.gridOptionsWrapper.isSkipHeaderOnAutoSize());0!==i;)i=0,this.actionOnGridColumns(t,(function(t){if(o.indexOf(t)>=0)return!1;var s=r.autoWidthCalculator.getPreferredWidthForColumn(t,e);if(s>0){var a=r.normaliseColumnWidth(t,s);t.setActualWidth(a,n),o.push(t),i++}return!0}),n);this.fireColumnResizedEvent(o,!0,"autosizeColumns")},e.prototype.fireColumnResizedEvent=function(t,e,n,r){if(void 0===r&&(r=null),t&&t.length){var o={type:Bt.EVENT_COLUMN_RESIZED,columns:t,column:1===t.length?t[0]:null,flexColumns:r,finished:e,api:this.gridApi,columnApi:this.columnApi,source:n};this.eventService.dispatchEvent(o)}},e.prototype.autoSizeColumn=function(t,e,n){void 0===n&&(n="api"),t&&this.autoSizeColumns([t],e,n)},e.prototype.autoSizeAllColumns=function(t,e){void 0===e&&(e="api");var n=this.getAllDisplayedColumns();this.autoSizeColumns(n,t,e)},e.prototype.getColumnsFromTree=function(t){var e=[];return function t(n){for(var r=0;r<n.length;r++){var o=n[r];o instanceof bt?e.push(o):o instanceof Et&&t(o.getChildren())}}(t),e},e.prototype.getAllDisplayedColumnGroups=function(){return this.displayedLeftColumnTree&&this.displayedRightColumnTree&&this.displayedCentreColumnTree?this.displayedLeftColumnTree.concat(this.displayedCentreColumnTree).concat(this.displayedRightColumnTree):null},e.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},e.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},e.prototype.getLeftDisplayedColumnGroups=function(){return this.displayedLeftColumnTree},e.prototype.getRightDisplayedColumnGroups=function(){return this.displayedRightColumnTree},e.prototype.getCenterDisplayedColumnGroups=function(){return this.displayedCentreColumnTree},e.prototype.getDisplayedColumnGroups=function(t){switch(t){case vt.PINNED_LEFT:return this.getLeftDisplayedColumnGroups();case vt.PINNED_RIGHT:return this.getRightDisplayedColumnGroups();default:return this.getCenterDisplayedColumnGroups()}},e.prototype.isColumnDisplayed=function(t){return this.getAllDisplayedColumns().indexOf(t)>=0},e.prototype.getAllDisplayedColumns=function(){return this.allDisplayedColumns},e.prototype.getAllDisplayedVirtualColumns=function(){return this.allDisplayedVirtualColumns},e.prototype.getDisplayedLeftColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedLeftColumns):this.displayedLeftColumns},e.prototype.getDisplayedRightColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedRightColumns):this.displayedRightColumns},e.prototype.getDisplayedColumnsForRow=function(t,e,n,r){for(var o,i=[],s=null,a=function(a){var u,l=e[a],c=e.length-a,p=Math.min(l.getColSpan(t),c),h=[l];if(p>1){for(var d=p-1,f=1;f<=d;f++)h.push(e[a+f]);a+=d}if(n?(u=!1,h.forEach((function(t){n(t)&&(u=!0)}))):u=!0,u){if(0===i.length&&s)!!r&&r(l)&&i.push(s);i.push(l)}s=l,o=a},u=0;u<e.length;u++)a(u),u=o;return i},e.prototype.getAllDisplayedCenterVirtualColumnsForRow=function(t){var e=this;if(!this.colSpanActive)return this.allDisplayedCenterVirtualColumns;var n=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedCenterColumns,n,(function(t){return t.getLeft()>e.viewportLeft}))},e.prototype.getAriaColumnIndex=function(t){return this.getAllGridColumns().indexOf(t)+1},e.prototype.isColumnInViewport=function(t){var e=t.getLeft(),n=t.getLeft()+t.getActualWidth(),r=this.viewportLeft-200,o=this.viewportRight+200;return!(e<r&&n<r)&&!(e>o&&n>o)},e.prototype.getPinnedLeftContainerWidth=function(){return this.getWidthOfColsInList(this.displayedLeftColumns)},e.prototype.getPinnedRightContainerWidth=function(){return this.getWidthOfColsInList(this.displayedRightColumns)},e.prototype.updatePrimaryColumnList=function(t,e,n,r,o,s){var a=this;if(void 0===s&&(s="api"),t&&!i(t)){var u=!1;if(t.forEach((function(t){var o=a.getPrimaryColumn(t);if(o){if(n){if(e.indexOf(o)>=0)return;e.push(o)}else{if(e.indexOf(o)<0)return;m(e,o)}r(o),u=!0}})),u){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s);var l={type:o,columns:e,column:1===e.length?e[0]:null,api:this.gridApi,columnApi:this.columnApi,source:s};this.eventService.dispatchEvent(l)}}},e.prototype.setRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,Bt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),e)},e.prototype.setRowGroupActive=function(t,e,n){t!==e.isRowGroupActive()&&(e.setRowGroupActive(t,n),t||this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()||e.setVisible(!0,n))},e.prototype.addRowGroupColumn=function(t,e){void 0===e&&(e="api"),t&&this.addRowGroupColumns([t],e)},e.prototype.addRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),Bt.EVENT_COLUMN_ROW_GROUP_CHANGED,e)},e.prototype.removeRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),Bt.EVENT_COLUMN_ROW_GROUP_CHANGED,e)},e.prototype.removeRowGroupColumn=function(t,e){void 0===e&&(e="api"),t&&this.removeRowGroupColumns([t],e)},e.prototype.addPivotColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!0,(function(t){return t.setPivotActive(!0,e)}),Bt.EVENT_COLUMN_PIVOT_CHANGED,e)},e.prototype.setPivotColumns=function(t,e){void 0===e&&(e="api"),this.setPrimaryColumnList(t,this.pivotColumns,Bt.EVENT_COLUMN_PIVOT_CHANGED,(function(t,n){n.setPivotActive(t,e)}),e)},e.prototype.addPivotColumn=function(t,e){void 0===e&&(e="api"),this.addPivotColumns([t],e)},e.prototype.removePivotColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!1,(function(t){return t.setPivotActive(!1,e)}),Bt.EVENT_COLUMN_PIVOT_CHANGED,e)},e.prototype.removePivotColumn=function(t,e){void 0===e&&(e="api"),this.removePivotColumns([t],e)},e.prototype.setPrimaryColumnList=function(t,e,n,o,i){var s=this;e.length=0,r(t)&&t.forEach((function(t){var n=s.getPrimaryColumn(t);n&&e.push(n)})),this.primaryColumns.forEach((function(t){var n=e.indexOf(t)>=0;o(n,t)})),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(i);var a={type:n,columns:e,column:1===e.length?e[0]:null,api:this.gridApi,columnApi:this.columnApi,source:i};this.eventService.dispatchEvent(a)},e.prototype.setValueColumns=function(t,e){void 0===e&&(e="api"),this.setPrimaryColumnList(t,this.valueColumns,Bt.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),e)},e.prototype.setValueActive=function(t,e,n){if(t!==e.isValueActive()&&(e.setValueActive(t,n),t&&!e.getAggFunc())){var r=this.aggFuncService.getDefaultAggFunc(e);e.setAggFunc(r)}},e.prototype.addValueColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),Bt.EVENT_COLUMN_VALUE_CHANGED,e)},e.prototype.addValueColumn=function(t,e){void 0===e&&(e="api"),t&&this.addValueColumns([t],e)},e.prototype.removeValueColumn=function(t,e){void 0===e&&(e="api"),this.removeValueColumns([t],e)},e.prototype.removeValueColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),Bt.EVENT_COLUMN_VALUE_CHANGED,e)},e.prototype.normaliseColumnWidth=function(t,e){return e<t.getMinWidth()&&(e=t.getMinWidth()),t.isGreaterThanMax(e)&&(e=t.getMaxWidth()),e},e.prototype.getPrimaryOrGridColumn=function(t){return this.getPrimaryColumn(t)||this.getGridColumn(t)},e.prototype.setColumnWidths=function(t,e,n,r){var o=this;void 0===r&&(r="api");var i=[];t.forEach((function(t){var n=o.getPrimaryOrGridColumn(t.key);if(n&&(i.push({width:t.newWidth,ratios:[1],columns:[n]}),"shift"===o.gridOptionsWrapper.getColResizeDefault()&&(e=!e),e)){var r=o.getDisplayedColAfter(n);if(!r)return;var s=n.getActualWidth()-t.newWidth,a=r.getActualWidth()+s;i.push({width:a,ratios:[1],columns:[r]})}})),0!==i.length&&this.resizeColumnSets(i,n,r)},e.prototype.checkMinAndMaxWidthsForSet=function(t){var e=t.columns,n=t.width,r=0,o=0,i=!0;return e.forEach((function(t){r+=t.getMinWidth(),t.getMaxWidth()>0?o+=t.getMaxWidth():i=!1})),n>=r&&(!i||n<=o)},e.prototype.resizeColumnSets=function(t,e,n){if(!t||t.every(this.checkMinAndMaxWidthsForSet.bind(this))){var r=[],o=[];t.forEach((function(t){var e=t.width,i=t.columns,s=t.ratios,a={},u={};i.forEach((function(t){return o.push(t)}));for(var l=!0,c=0,p=function(){if(++c>1e3)return console.error("ag-Grid: infinite loop in resizeColumnSets"),"break";l=!1;var t=[],n=0,r=e;i.forEach((function(e,o){if(u[e.getId()])r-=a[e.getId()];else{t.push(e);var i=s[o];n+=i}}));var o=1/n;t.forEach((function(n,i){var c;i===t.length-1?c=r:(c=Math.round(s[i]*e*o),r-=c),c<n.getMinWidth()?(c=n.getMinWidth(),u[n.getId()]=!0,l=!0):n.getMaxWidth()>0&&c>n.getMaxWidth()&&(c=n.getMaxWidth(),u[n.getId()]=!0,l=!0),a[n.getId()]=c}))};l;){if("break"===p())break}i.forEach((function(t){var e=a[t.getId()];t.getActualWidth()!==e&&(t.setActualWidth(e,n),r.push(t))}))}));var i=r.length>0,s=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0});i&&(this.setLeftValues(n),this.updateBodyWidths(),this.checkDisplayedVirtualColumns());var a=o.concat(s);(i||e)&&this.fireColumnResizedEvent(a,e,n,s)}else if(e){var u=t&&t.length>0?t[0].columns:null;this.fireColumnResizedEvent(u,e,n)}},e.prototype.setColumnAggFunc=function(t,e,n){if(void 0===n&&(n="api"),t){var r=this.getPrimaryColumn(t);if(r){r.setAggFunc(e);var o={type:Bt.EVENT_COLUMN_VALUE_CHANGED,columns:[r],column:r,api:this.gridApi,columnApi:this.columnApi,source:n};this.eventService.dispatchEvent(o)}}},e.prototype.moveRowGroupColumn=function(t,e,n){void 0===n&&(n="api");var r=this.rowGroupColumns[t];this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(e,0,r);var o={type:Bt.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:n};this.eventService.dispatchEvent(o)},e.prototype.moveColumns=function(t,e,n){if(void 0===n&&(n="api"),this.columnAnimationService.start(),e>this.gridColumns.length-t.length)return console.warn("ag-Grid: tried to insert columns in invalid location, toIndex = "+e),void console.warn("ag-Grid: remember that you should not count the moving columns when calculating the new index");var r=this.getGridColumns(t);if(!!this.doesMovePassRules(r,e)){C(this.gridColumns,r,e),this.updateDisplayedColumns(n);var o={type:Bt.EVENT_COLUMN_MOVED,columns:r,column:1===r.length?r[0]:null,toIndex:e,api:this.gridApi,columnApi:this.columnApi,source:n};this.eventService.dispatchEvent(o),this.columnAnimationService.finish()}},e.prototype.doesMovePassRules=function(t,e){var n=this.gridColumns.slice();return C(n,t,e),!!this.doesMovePassMarryChildren(n)&&!!this.doesMovePassLockedPositions(n)},e.prototype.sortColumnsLikeGridColumns=function(t){var e=this;!t||t.length<=1||(t.filter((function(t){return e.gridColumns.indexOf(t)<0})).length>0||t.sort((function(t,n){return e.gridColumns.indexOf(t)-e.gridColumns.indexOf(n)})))},e.prototype.doesMovePassLockedPositions=function(t){var e=!1,n=!0;return t.forEach((function(t){t.getColDef().lockPosition?e&&(n=!1):e=!0})),n},e.prototype.doesMovePassMarryChildren=function(t){var e=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(n){if(n instanceof Et){var r=n;if(r.getColGroupDef()&&r.getColGroupDef().marryChildren){var o=[];r.getLeafColumns().forEach((function(e){var n=t.indexOf(e);o.push(n)})),Math.max.apply(Math,o)-Math.min.apply(Math,o)>r.getLeafColumns().length-1&&(e=!1)}}})),e},e.prototype.moveColumn=function(t,e,n){void 0===n&&(n="api"),this.moveColumns([t],e,n)},e.prototype.moveColumnByIndex=function(t,e,n){void 0===n&&(n="api");var r=this.gridColumns[t];this.moveColumn(r,e,n)},e.prototype.getColumnDefs=function(){var t=this,e=this.primaryColumns.slice();return this.gridColsArePrimary?e.sort((function(e,n){return t.gridColumns.indexOf(e)-t.gridColumns.indexOf(n)})):this.lastPrimaryOrder&&e.sort((function(e,n){return t.lastPrimaryOrder.indexOf(e)-t.lastPrimaryOrder.indexOf(n)})),this.columnDefFactory.buildColumnDefs(e,this.rowGroupColumns,this.pivotColumns)},e.prototype.getBodyContainerWidth=function(){return this.bodyWidth},e.prototype.getContainerWidth=function(t){switch(t){case vt.PINNED_LEFT:return this.leftWidth;case vt.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},e.prototype.updateBodyWidths=function(){var t=this.getWidthOfColsInList(this.displayedCenterColumns),e=this.getWidthOfColsInList(this.displayedLeftColumns),n=this.getWidthOfColsInList(this.displayedRightColumns);if(this.bodyWidthDirty=this.bodyWidth!==t,this.bodyWidth!==t||this.leftWidth!==e||this.rightWidth!==n){this.bodyWidth=t,this.leftWidth=e,this.rightWidth=n;var r={type:Bt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)}},e.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},e.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},e.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},e.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},e.prototype.getDisplayedCenterColumns=function(){return this.displayedCenterColumns},e.prototype.getDisplayedLeftColumns=function(){return this.displayedLeftColumns},e.prototype.getDisplayedRightColumns=function(){return this.displayedRightColumns},e.prototype.getDisplayedColumns=function(t){switch(t){case vt.PINNED_LEFT:return this.getDisplayedLeftColumns();case vt.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},e.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},e.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},e.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},e.prototype.getAllGridColumns=function(){return this.gridColumns},e.prototype.isEmpty=function(){return i(this.gridColumns)},e.prototype.isRowGroupEmpty=function(){return i(this.rowGroupColumns)},e.prototype.setColumnVisible=function(t,e,n){void 0===n&&(n="api"),this.setColumnsVisible([t],e,n)},e.prototype.setColumnsVisible=function(t,e,n){var r=this;void 0===n&&(n="api"),this.columnAnimationService.start(),this.actionOnGridColumns(t,(function(t){return t.isVisible()!==e&&(t.setVisible(e,n),!0)}),n,(function(){return{type:Bt.EVENT_COLUMN_VISIBLE,visible:e,column:null,columns:null,api:r.gridApi,columnApi:r.columnApi,source:n}})),this.columnAnimationService.finish()},e.prototype.setColumnPinned=function(t,e,n){void 0===n&&(n="api"),t&&this.setColumnsPinned([t],e,n)},e.prototype.setColumnsPinned=function(t,e,n){var r,o=this;(void 0===n&&(n="api"),"print"!==this.gridOptionsWrapper.getDomLayout())?(this.columnAnimationService.start(),r=!0===e||e===vt.PINNED_LEFT?vt.PINNED_LEFT:e===vt.PINNED_RIGHT?vt.PINNED_RIGHT:null,this.actionOnGridColumns(t,(function(t){return t.getPinned()!==r&&(t.setPinned(r),!0)}),n,(function(){return{type:Bt.EVENT_COLUMN_PINNED,pinned:r,column:null,columns:null,api:o.gridApi,columnApi:o.columnApi,source:n}})),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},e.prototype.actionOnGridColumns=function(t,e,n,o){var s=this;if(!i(t)){var a=[];if(t.forEach((function(t){var n=s.getGridColumn(t);n&&(!1!==e(n)&&a.push(n))})),a.length&&(this.updateDisplayedColumns(n),r(o)&&o)){var u=o();u.columns=a,u.column=1===a.length?a[0]:null,this.eventService.dispatchEvent(u)}}},e.prototype.getDisplayedColBefore=function(t){var e=this.getAllDisplayedColumns(),n=e.indexOf(t);return n>0?e[n-1]:null},e.prototype.getDisplayedColAfter=function(t){var e=this.getAllDisplayedColumns(),n=e.indexOf(t);return n<e.length-1?e[n+1]:null},e.prototype.getDisplayedGroupAfter=function(t){return this.getDisplayedGroupAtDirection(t,"After")},e.prototype.getDisplayedGroupBefore=function(t){return this.getDisplayedGroupAtDirection(t,"Before")},e.prototype.getDisplayedGroupAtDirection=function(t,e){for(var n=t.getOriginalColumnGroup().getLevel()+t.getPaddingLevel(),r=t.getDisplayedLeafColumns(),o="After"===e?g(r):r[0],i="getDisplayedCol"+e;;){var s=this[i](o);if(!s)return null;var a=this.getColumnGroupAtLevel(s,n);if(a!==t)return a}},e.prototype.getColumnGroupAtLevel=function(t,e){for(var n=t.getParent();;){if(n.getOriginalColumnGroup().getLevel()+n.getPaddingLevel()<=e)break;n=n.getParent()}return n},e.prototype.isPinningLeft=function(){return this.displayedLeftColumns.length>0},e.prototype.isPinningRight=function(){return this.displayedRightColumns.length>0},e.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var t=this.primaryColumns?this.primaryColumns.slice(0):[];return this.groupAutoColumns&&r(this.groupAutoColumns)&&this.groupAutoColumns.forEach((function(e){return t.push(e)})),this.secondaryColumnsPresent&&this.secondaryColumns&&this.secondaryColumns.forEach((function(e){return t.push(e)})),t},e.prototype.createStateItemFromColumn=function(t){var e=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,n=t.isPivotActive()?this.pivotColumns.indexOf(t):null,r=t.isValueActive()?t.getAggFunc():null,o=null!=t.getSort()?t.getSort():null,i=null!=t.getSortIndex()?t.getSortIndex():null,s=null!=t.getFlex()&&t.getFlex()>0?t.getFlex():null;return{colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:o,sortIndex:i,aggFunc:r,rowGroup:t.isRowGroupActive(),rowGroupIndex:e,pivot:t.isPivotActive(),pivotIndex:n,flex:s}},e.prototype.getColumnState=function(){if(o(this.primaryColumns)||!this.isAlive())return[];var t=this.primaryColumns.map(this.createStateItemFromColumn.bind(this)),e=(this.groupAutoColumns?this.groupAutoColumns.map(this.createStateItemFromColumn.bind(this)):[]).concat(t);return this.pivotMode||this.orderColumnStateList(e),e},e.prototype.orderColumnStateList=function(t){var e=this.gridColumns.map((function(t){return t.getColId()}));t.sort((function(t,n){return e.indexOf(t.colId)-e.indexOf(n.colId)}))},e.prototype.resetColumnState=function(t,e){void 0===e&&(e="api");var n=this.getColumnsFromTree(this.primaryColumnTree),r=[],i=1e3,s=1e3;n&&n.forEach((function(t){var e=t.getColDef(),n=null!=e.sort?e.sort:null,a=e.sortIndex,u=!!e.hide,l=e.pinned?e.pinned:null,c=e.width,p=null!=e.flex?e.flex:null,h=e.rowGroupIndex,d=e.rowGroup;null!=h||null!=d&&0!=d||(h=null,d=null);var f=e.pivotIndex,g=e.pivot;null!=f||null!=g&&0!=g||(f=null,g=null);var v=null!=e.aggFunc?e.aggFunc:null,y={colId:t.getColId(),sort:n,sortIndex:a,hide:u,pinned:l,width:c,flex:p,rowGroup:d,rowGroupIndex:h,pivot:g,pivotIndex:f,aggFunc:v};o(h)&&d&&(y.rowGroupIndex=i++),o(f)&&g&&(y.pivotIndex=s++),r.push(y)})),this.applyColumnState({state:r,applyOrder:!0},e)},e.prototype.applyColumnState=function(t,e){var n=this;if(void 0===e&&(e="api"),i(this.primaryColumns))return!1;if(!t||!t.state||t.state.forEach){this.columnAnimationService.start();var r=this.compareColumnStatesAndRaiseEvents(e);this.autoGroupsNeedBuilding=!0;var o=this.primaryColumns.slice(),s=!0,a={},u={},l=[],c=this.rowGroupColumns.slice(),p=this.pivotColumns.slice();t.state&&t.state.forEach((function(r){var i=vt.GROUP_AUTO_COLUMN_ID,c=r.colId;if($t(c,i))l.push(r);else{var p=n.getPrimaryColumn(c);p?(n.syncColumnWithStateItem(p,r,t.defaultState,a,u,!1,e),m(o,p)):s=!1}})),o.forEach((function(r){n.syncColumnWithStateItem(r,null,t.defaultState,a,u,!1,e)}));var h=function(t,e,n,r){var o=t[n.getId()],i=t[r.getId()],s=null!=o,a=null!=i;if(s&&a)return o-i;if(s)return-1;if(a)return 1;var u=e.indexOf(n),l=e.indexOf(r),c=u>=0,p=l>=0;return c&&p?u-l:c?-1:1};if(this.rowGroupColumns.sort(h.bind(this,a,c)),this.pivotColumns.sort(h.bind(this,u,p)),this.updateGridColumns(),l.forEach((function(r){var o=n.getAutoColumn(r.colId);n.syncColumnWithStateItem(o,r,t.defaultState,null,null,!0,e)})),this.gridColsArePrimary&&t.applyOrder&&t.state){var d=t.state.map((function(t){return t.colId}));this.gridColumns.sort((function(t,e){return d.indexOf(t.getId())-d.indexOf(e.getId())})),this.putFixedColumnsFirst()}this.updateDisplayedColumns(e);var f={type:Bt.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:e};return this.eventService.dispatchEvent(f),r(),this.columnAnimationService.finish(),s}console.warn("ag-Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.")},e.prototype.compareColumnStatesAndRaiseEvents=function(t){var e=this;if(!!!this.columnDefs)return function(){};var n={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},r=this.getColumnState(),o={};return r.forEach((function(t){o[t.colId]=t})),function(){if(!e.gridOptionsWrapper.isSuppressColumnStateEvents()){var i=function(n,r,o,i){if(!v(r.map(i).sort(),o.map(i).sort())){var s={type:n,columns:o,column:1===o.length?o[0]:null,api:e.gridApi,columnApi:e.columnApi,source:t};e.eventService.dispatchEvent(s)}},s=function(t){var n=[];return e.gridColumns.forEach((function(e){var r=o[e.getColId()];r&&t(r,e)&&n.push(e)})),n},a=function(t){return t.getColId()};i(Bt.EVENT_COLUMN_ROW_GROUP_CHANGED,n.rowGroupColumns,e.rowGroupColumns,a),i(Bt.EVENT_COLUMN_PIVOT_CHANGED,n.pivotColumns,e.pivotColumns,a),i(Bt.EVENT_COLUMN_VALUE_CHANGED,n.valueColumns,e.valueColumns,a);e.fireColumnResizedEvent(s((function(t,e){return t.width!=e.getActualWidth()})),!0,t);e.raiseColumnPinnedEvent(s((function(t,e){return t.pinned!=e.getPinned()})),t);e.raiseColumnVisibleEvent(s((function(t,e){return t.hide==e.isVisible()})),t);s((function(t,e){return t.sort!=e.getSort()||t.sortIndex!=e.getSortIndex()})).length>0&&e.sortController.dispatchSortChangedEvents(),e.raiseColumnMovedEvent(r,t)}}},e.prototype.raiseColumnPinnedEvent=function(t,e){if(t.length){var n={type:Bt.EVENT_COLUMN_PINNED,pinned:null,columns:t,column:null,api:this.gridApi,columnApi:this.columnApi,source:e};this.eventService.dispatchEvent(n)}},e.prototype.raiseColumnVisibleEvent=function(t,e){if(t.length){var n={type:Bt.EVENT_COLUMN_VISIBLE,visible:void 0,columns:t,column:null,api:this.gridApi,columnApi:this.columnApi,source:e};this.eventService.dispatchEvent(n)}},e.prototype.raiseColumnMovedEvent=function(t,e){var n=this,r=this.getColumnState(),o={};r.forEach((function(t){return o[t.colId]=t}));var i={};t.forEach((function(t){o[t.colId]&&(i[t.colId]=!0)}));var s=A(t,(function(t){return i[t.colId]})),a=A(r,(function(t){return i[t.colId]})),u=[];if(a.forEach((function(t,e){var r=s[e];r.colId!==t.colId&&u.push(n.getGridColumn(r.colId))})),u.length){var l={type:Bt.EVENT_COLUMN_MOVED,columns:u,column:null,toIndex:void 0,api:this.gridApi,columnApi:this.columnApi,source:e};this.eventService.dispatchEvent(l)}},e.prototype.syncColumnWithStateItem=function(t,e,n,o,i,s,a){if(t){var u=function(t,r){var o=e,i=n;return!o||void 0===o[t]&&void 0===o[r]?!i||void 0===i[t]&&void 0===i[r]?{value1:void 0,value2:void 0}:{value1:i[t],value2:i[r]}:{value1:o[t],value2:o[r]}},l=u("hide").value1;void 0!==l&&t.setVisible(!l,a);var c=u("pinned").value1;void 0!==c&&t.setPinned(c);var p=this.gridOptionsWrapper.getMinColWidth(),h=u("flex").value1;if(void 0!==h&&t.setFlex(h),t.getFlex()<=0){var d=u("width").value1;null!=d&&p&&d>=p&&t.setActualWidth(d,a)}var f=u("sort").value1;void 0!==f&&(f===vt.SORT_DESC||f===vt.SORT_ASC?t.setSort(f):t.setSort(void 0));var g=u("sortIndex").value1;if(void 0!==g&&t.setSortIndex(g),!s){var v=u("aggFunc").value1;void 0!==v&&("string"===typeof v?(t.setAggFunc(v),t.isValueActive()||(t.setValueActive(!0,a),this.valueColumns.push(t))):(r(v)&&console.warn("ag-Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.setAggFunc(null),t.isValueActive()&&(t.setValueActive(!1,a),m(this.valueColumns,t))));var y=u("rowGroup","rowGroupIndex"),b=y.value1,w=y.value2;void 0===b&&void 0===w||("number"===typeof w||b?(t.isRowGroupActive()||(t.setRowGroupActive(!0,a),this.rowGroupColumns.push(t)),"number"===typeof w&&(o[t.getId()]=w)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,a),m(this.rowGroupColumns,t)));var C=u("pivot","pivotIndex"),E=C.value1,_=C.value2;void 0===E&&void 0===_||("number"===typeof _||E?(t.isPivotActive()||(t.setPivotActive(!0,a),this.pivotColumns.push(t)),"number"===typeof _&&(i[t.getId()]=_)):t.isPivotActive()&&(t.setPivotActive(!1,a),m(this.pivotColumns,t)))}}},e.prototype.getGridColumns=function(t){return this.getColumns(t,this.getGridColumn.bind(this))},e.prototype.getColumns=function(t,e){var n=[];return t&&t.forEach((function(t){var r=e(t);r&&n.push(r)})),n},e.prototype.getColumnWithValidation=function(t){if(null==t)return null;var e=this.getGridColumn(t);return e||console.warn("ag-Grid: could not find column "+t),e},e.prototype.getPrimaryColumn=function(t){return this.getColumn(t,this.primaryColumns)},e.prototype.getGridColumn=function(t){return this.getColumn(t,this.gridColumns)},e.prototype.getColumn=function(t,e){if(!t)return null;for(var n=0;n<e.length;n++)if(this.columnsMatch(e[n],t))return e[n];return this.getAutoColumn(t)},e.prototype.getAutoColumn=function(t){var e=this;return this.groupAutoColumns&&r(this.groupAutoColumns)&&!o(this.groupAutoColumns)?c(this.groupAutoColumns,(function(n){return e.columnsMatch(n,t)})):null},e.prototype.columnsMatch=function(t,e){var n=t===e,r=t.getColDef()===e,o=t.getColId()==e;return n||r||o},e.prototype.getDisplayNameForColumn=function(t,e,n){if(void 0===n&&(n=!1),!t)return null;var r=this.getHeaderName(t.getColDef(),t,null,null,e);return n?this.wrapHeaderNameWithAggFunc(t,r):r},e.prototype.getDisplayNameForOriginalColumnGroup=function(t,e,n){var r=e?e.getColGroupDef():null;return r?this.getHeaderName(r,null,t,e,n):null},e.prototype.getDisplayNameForColumnGroup=function(t,e){return this.getDisplayNameForOriginalColumnGroup(t,t.getOriginalColumnGroup(),e)},e.prototype.getHeaderName=function(t,e,n,r,o){var i=t.headerValueGetter;if(i){var s={colDef:t,column:e,columnGroup:n,originalColumnGroup:r,location:o,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"===typeof i?i(s):"string"===typeof i?this.expressionService.evaluate(i,s):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=t.headerName?t.headerName:t.field?Xt(t.field):""},e.prototype.wrapHeaderNameWithAggFunc=function(t,e){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return e;var n,o=t.getColDef().pivotValueColumn,i=null;if(r(o))i=o?o.getAggFunc():null,n=!0;else{var s=t.isValueActive(),a=this.pivotMode||!this.isRowGroupEmpty();s&&a?(i=t.getAggFunc(),n=!0):n=!1}if(n){var u="string"===typeof i?i:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(u,u)+"("+e+")"}return e},e.prototype.getColumnGroup=function(t,e){if(!t)return null;if(t instanceof Ct)return t;var n=this.getAllDisplayedColumnGroups(),r="number"===typeof e,o=null;return this.columnUtils.depthFirstAllColumnTreeSearch(n,(function(n){if(n instanceof Ct){var i=n;(r?t===i.getGroupId()&&e===i.getInstanceId():t===i.getGroupId())&&(o=i)}})),o},e.prototype.isReady=function(){return this.ready},e.prototype.extractValueColumns=function(t,e){this.valueColumns=this.extractColumns(e,this.valueColumns,(function(e,n){return e.setValueActive(n,t)}),(function(){}),(function(){}),(function(t){var e=t.aggFunc;return null===e||""===e?null:void 0===e?void 0:""!=e}),(function(t){return null!=t.initialAggFunc&&""!=t.initialAggFunc})),this.valueColumns.forEach((function(t){var e=t.getColDef();null!=e.aggFunc&&""!=e.aggFunc?t.setAggFunc(e.aggFunc):t.getAggFunc()||t.setAggFunc(e.initialAggFunc)}))},e.prototype.extractRowGroupColumns=function(t,e){this.rowGroupColumns=this.extractColumns(e,this.rowGroupColumns,(function(e,n){return e.setRowGroupActive(n,t)}),(function(t){return t.rowGroupIndex}),(function(t){return t.initialRowGroupIndex}),(function(t){return t.rowGroup}),(function(t){return t.initialRowGroup}))},e.prototype.extractColumns=function(t,e,n,r,o,i,s){void 0===t&&(t=[]),void 0===e&&(e=[]);var l=[],c=[];this.primaryColumns.forEach((function(n){var p,h=t.indexOf(n)<0,d=n.getColDef(),f=u(i(d)),g=u(s(d)),v=a(r(d)),y=a(o(d));h?p=void 0!==f||void 0!==v?void 0!==f?f:v>=0:1==g||y>=0:p=void 0!==f?f:void 0!==v?null!==v&&v>=0:e.indexOf(n)>=0;p&&((h?null!=v||null!=y:null!=v)?l.push(n):c.push(n))}));var p=function(t){var e=r(t.getColDef()),n=o(t.getColDef());return null!=e?e:n};l.sort((function(t,e){var n=p(t),r=p(e);return n===r?0:n<r?-1:1}));var h=[].concat(l);return e.forEach((function(t){c.indexOf(t)>=0&&h.push(t)})),c.forEach((function(t){h.indexOf(t)<0&&h.push(t)})),e.forEach((function(t){h.indexOf(t)<0&&n(t,!1)})),h.forEach((function(t){e.indexOf(t)<0&&n(t,!0)})),h},e.prototype.extractPivotColumns=function(t,e){this.pivotColumns=this.extractColumns(e,this.pivotColumns,(function(e,n){return e.setPivotActive(n,t)}),(function(t){return t.pivotIndex}),(function(t){return t.initialPivotIndex}),(function(t){return t.pivot}),(function(t){return t.initialPivot}))},e.prototype.resetColumnGroupState=function(t){void 0===t&&(t="api");var e=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,(function(t){if(t instanceof Et){var n={groupId:t.getGroupId(),open:t.getColGroupDef().openByDefault};e.push(n)}})),this.setColumnGroupState(e,t)},e.prototype.getColumnGroupState=function(){var t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(e){if(e instanceof Et){var n=e;t.push({groupId:n.getGroupId(),open:n.isExpanded()})}})),t},e.prototype.setColumnGroupState=function(t,e){var n=this;void 0===e&&(e="api"),this.columnAnimationService.start();var r=[];t.forEach((function(t){var e=t.groupId,o=t.open,i=n.getOriginalColumnGroup(e);i&&i.isExpanded()!==o&&(n.logger.log("columnGroupOpened("+i.getGroupId()+","+o+")"),i.setExpanded(o),r.push(i))})),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e),r.forEach((function(t){var e={type:Bt.EVENT_COLUMN_GROUP_OPENED,columnGroup:t,api:n.gridApi,columnApi:n.columnApi};n.eventService.dispatchEvent(e)})),this.columnAnimationService.finish()},e.prototype.setColumnGroupOpened=function(t,e,n){var r;void 0===n&&(n="api"),r=t instanceof Et?t.getId():t,this.setColumnGroupState([{groupId:r,open:e}],n)},e.prototype.getOriginalColumnGroup=function(t){if(t instanceof Et)return t;"string"!==typeof t&&console.error("ag-Grid: group key must be a string");var e=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(n){if(n instanceof Et){var r=n;r.getId()===t&&(e=r)}})),e},e.prototype.calculateColumnsForDisplay=function(){var t=this;return this.pivotMode&&!this.secondaryColumnsPresent?this.gridColumns.filter((function(e){var n=t.groupAutoColumns&&E(t.groupAutoColumns,e),r=t.valueColumns&&E(t.valueColumns,e);return n||r})):this.gridColumns.filter((function(e){return t.groupAutoColumns&&E(t.groupAutoColumns,e)||e.isVisible()}))},e.prototype.checkColSpanActiveInCols=function(t){var e=!1;return t.forEach((function(t){r(t.getColDef().colSpan)&&(e=!0)})),e},e.prototype.calculateColumnsForGroupDisplay=function(){var t=this;this.groupDisplayColumns=[];var e=function(e){var n=e.getColDef();n&&r(n.showRowGroup)&&t.groupDisplayColumns.push(e)};this.gridColumns.forEach(e),this.groupAutoColumns&&this.groupAutoColumns.forEach(e)},e.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},e.prototype.updateDisplayedColumns=function(t){var e=this.calculateColumnsForDisplay();this.buildDisplayedTrees(e),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)},e.prototype.isSecondaryColumnsPresent=function(){return this.secondaryColumnsPresent},e.prototype.setSecondaryColumns=function(t,e){void 0===e&&(e="api");var n=t&&t.length>0;if(n||this.secondaryColumnsPresent){if(n){this.processSecondaryColumnDefinitions(t);var r=this.columnFactory.createColumnTree(t,!1);this.secondaryBalancedTree=r.columnTree,this.secondaryHeaderRowCount=r.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsPresent=!0}else this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsPresent=!1;this.updateGridColumns(),this.updateDisplayedColumns(e)}},e.prototype.processSecondaryColumnDefinitions=function(t){var e=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),n=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(e||n){t&&function t(o){o.forEach((function(o){if(r(o.children)){var i=o;n&&n(i),t(i.children)}else{e&&e(o)}}))}(t)}},e.prototype.updateGridColumns=function(){this.gridColsArePrimary&&(this.lastPrimaryOrder=this.gridColumns),this.secondaryColumns&&this.secondaryBalancedTree?(this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1):(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLikeLastPrimary()),this.addAutoGroupToGridColumns(),this.autoRowHeightColumns=this.gridColumns.filter((function(t){return t.getColDef().autoHeight})),this.putFixedColumnsFirst(),this.setupQuickFilterColumns(),this.clearDisplayedColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns);var t={type:Bt.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},e.prototype.orderGridColsLikeLastPrimary=function(){var t=this;if(!o(this.lastPrimaryOrder)){var e=!0;if(this.gridColumns.forEach((function(n){t.lastPrimaryOrder.indexOf(n)>=0&&(e=!1)})),!e){var n=this.lastPrimaryOrder.filter((function(e){return t.gridColumns.indexOf(e)>=0})),r=this.gridColumns.filter((function(t){return n.indexOf(t)<0})),i=n.slice();r.forEach((function(t){var e=t.getOriginalParent();if(e){for(var n=[];!n.length&&e;){e.getLeafColumns().forEach((function(t){var e=i.indexOf(t)>=0,r=n.indexOf(t)<0;e&&r&&n.push(t)})),e=e.getOriginalParent()}if(n.length){var r=n.map((function(t){return i.indexOf(t)})),o=Math.max.apply(Math,r);w(i,t,o+1)}else i.push(t)}else i.push(t)})),this.gridColumns=i}}},e.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},e.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=this.primaryColumns.concat(this.groupAutoColumns):this.columnsForQuickFilter=this.primaryColumns},e.prototype.putFixedColumnsFirst=function(){var t=this.gridColumns.filter((function(t){return t.getColDef().lockPosition})),e=this.gridColumns.filter((function(t){return!t.getColDef().lockPosition}));this.gridColumns=t.concat(e)},e.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!o(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=t.concat(this.gridBalancedTree)}},e.prototype.clearDisplayedColumns=function(){this.displayedLeftColumnTree=[],this.displayedRightColumnTree=[],this.displayedCentreColumnTree=[],this.displayedLeftHeaderRows={},this.displayedRightHeaderRows={},this.displayedCentreHeaderRows={},this.displayedLeftColumns=[],this.displayedRightColumns=[],this.displayedCenterColumns=[],this.allDisplayedColumns=[],this.allDisplayedVirtualColumns=[]},e.prototype.updateGroupsAndDisplayedColumns=function(t){this.updateOpenClosedVisibilityInColumnGroups(),this.updateDisplayedColumnsFromTrees(t),this.refreshFlexedColumns(),this.updateVirtualSets(),this.updateBodyWidths();var e={type:Bt.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},e.prototype.updateDisplayedColumnsFromTrees=function(t){this.addToDisplayedColumns(this.displayedLeftColumnTree,this.displayedLeftColumns),this.addToDisplayedColumns(this.displayedCentreColumnTree,this.displayedCenterColumns),this.addToDisplayedColumns(this.displayedRightColumnTree,this.displayedRightColumns),this.setupAllDisplayedColumns(),this.setLeftValues(t)},e.prototype.setupAllDisplayedColumns=function(){this.gridOptionsWrapper.isEnableRtl()?this.allDisplayedColumns=this.displayedRightColumns.concat(this.displayedCenterColumns).concat(this.displayedLeftColumns):this.allDisplayedColumns=this.displayedLeftColumns.concat(this.displayedCenterColumns).concat(this.displayedRightColumns)},e.prototype.setLeftValues=function(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()},e.prototype.setLeftValuesOfColumns=function(t){var e=this,n=this.primaryColumns.slice(0),r=this.gridOptionsWrapper.isEnableRtl();[this.displayedLeftColumns,this.displayedRightColumns,this.displayedCenterColumns].forEach((function(o){if(r){var i=e.getWidthOfColsInList(o);o.forEach((function(e){i-=e.getActualWidth(),e.setLeft(i,t)}))}else{var s=0;o.forEach((function(e){e.setLeft(s,t),s+=e.getActualWidth()}))}b(n,o)})),n.forEach((function(e){e.setLeft(null,t)}))},e.prototype.setLeftValuesOfGroups=function(){[this.displayedLeftColumnTree,this.displayedRightColumnTree,this.displayedCentreColumnTree].forEach((function(t){t.forEach((function(t){t instanceof Ct&&t.checkLeft()}))}))},e.prototype.addToDisplayedColumns=function(t,e){e.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,(function(t){t instanceof bt&&e.push(t)}))},e.prototype.updateDisplayedCenterVirtualColumns=function(){this.suppressColumnVirtualisation?this.allDisplayedCenterVirtualColumns=this.displayedCenterColumns:this.allDisplayedCenterVirtualColumns=this.filterOutColumnsWithinViewport(),this.allDisplayedVirtualColumns=this.allDisplayedCenterVirtualColumns.concat(this.displayedLeftColumns).concat(this.displayedRightColumns);var t={};return this.allDisplayedVirtualColumns.forEach((function(e){t[e.getId()]=!0})),t},e.prototype.getVirtualHeaderGroupRow=function(t,e){var n;switch(t){case vt.PINNED_LEFT:n=this.displayedLeftHeaderRows[e];break;case vt.PINNED_RIGHT:n=this.displayedRightHeaderRows[e];break;default:n=this.displayedCentreHeaderRows[e]}return o(n)&&(n=[]),n},e.prototype.updateDisplayedVirtualGroups=function(t){this.displayedLeftHeaderRows={},this.displayedRightHeaderRows={},this.displayedCentreHeaderRows={};var e=function e(n,r,o){for(var i=!1,s=0;s<n.length;s++){var a=n[s],u=void 0;if(a instanceof bt)u=!0===t[a.getId()];else u=e(a.getDisplayedChildren(),r,o+1);u&&(i=!0,r[o]||(r[o]=[]),r[o].push(a))}return i};e(this.displayedLeftColumnTree,this.displayedLeftHeaderRows,0),e(this.displayedRightColumnTree,this.displayedRightHeaderRows,0),e(this.displayedCentreColumnTree,this.displayedCentreHeaderRows,0)},e.prototype.updateVirtualSets=function(){var t=this.updateDisplayedCenterVirtualColumns();this.updateDisplayedVirtualGroups(t)},e.prototype.filterOutColumnsWithinViewport=function(){return this.displayedCenterColumns.filter(this.isColumnInViewport.bind(this))},e.prototype.refreshFlexedColumns=function(t){var e=this;void 0===t&&(t={});var n=t.source?t.source:"flex";if(null!=t.viewportWidth&&(this.flexViewportWidth=t.viewportWidth),this.flexViewportWidth){var r=-1;t.resizingCols&&t.resizingCols.forEach((function(t){var n=e.displayedCenterColumns.indexOf(t);r<n&&(r=n)}));var o=function(t){var n=e.displayedCenterColumns.indexOf(t)>r;return t.getFlex()&&n},i=this.displayedCenterColumns.filter((function(t){return!o(t)})),s=this.displayedCenterColumns.filter((function(t){return o(t)})),a=[];if(!s.length)return[];var u,l=[];t:for(;;){var c=s.reduce((function(t,e){return t+e.getFlex()}),0);u=this.flexViewportWidth-this.getWidthOfColsInList(i);for(var p=0;p<s.length;p++){var h=s[p],d=u*h.getFlex()/c,f=void 0;if(d<h.getMinWidth()?f=h.getMinWidth():null!=h.getMaxWidth()&&d>h.getMaxWidth()&&(f=h.getMaxWidth()),f){h.setActualWidth(f,n),m(s,h),a.push(h),i.push(h);continue t}l[p]=Math.round(d)}break}var g=u;return s.forEach((function(t,e){t.setActualWidth(Math.min(l[e],g),n),a.push(t),g-=l[e]})),t.skipSetLeft||this.setLeftValues(n),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.fireColumnResizedEvent(a,!0,n,s),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),s}},e.prototype.sizeColumnsToFit=function(t,e,n){void 0===e&&(e="sizeColumnsToFit");var r=this.getAllDisplayedColumns();if(!(t<=0)&&r.length){var o=[],i=[];r.forEach((function(t){!0===t.getColDef().suppressSizeToFit?i.push(t):o.push(t)}));var s=o.slice(0),a=!1,u=function(t){m(o,t),i.push(t)};for(o.forEach((function(t){return t.resetActualWidth(e)}));!a;){a=!0;var l=t-this.getWidthOfColsInList(i);if(l<=0)o.forEach((function(t){t.setMinimum(e)}));else for(var c=l/this.getWidthOfColsInList(o),p=l,h=o.length-1;h>=0;h--){var d=o[h],f=d.getMinWidth(),g=d.getMaxWidth(),v=Math.round(d.getActualWidth()*c);v<f?(v=d.getMinWidth(),u(d),a=!1):d.isGreaterThanMax(v)?(v=g,u(d),a=!1):0===h&&(v=p),d.setActualWidth(v,e,!0),p-=v}}s.forEach((function(t){t.fireColumnWidthChangedEvent(e)})),this.setLeftValues(e),this.updateBodyWidths(),n||this.fireColumnResizedEvent(s,!0,e)}},e.prototype.buildDisplayedTrees=function(t){var e=[],n=[],r=[];t.forEach((function(t){switch(t.getPinned()){case"left":e.push(t);break;case"right":n.push(t);break;default:r.push(t)}}));var o=new Ut;this.displayedLeftColumnTree=this.displayedGroupCreator.createDisplayedGroups(e,this.gridBalancedTree,o,vt.PINNED_LEFT,this.displayedLeftColumnTree),this.displayedRightColumnTree=this.displayedGroupCreator.createDisplayedGroups(n,this.gridBalancedTree,o,vt.PINNED_RIGHT,this.displayedRightColumnTree),this.displayedCentreColumnTree=this.displayedGroupCreator.createDisplayedGroups(r,this.gridBalancedTree,o,null,this.displayedCentreColumnTree)},e.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var t=this.getAllDisplayedColumnGroups();this.columnUtils.depthFirstAllColumnTreeSearch(t,(function(t){t instanceof Ct&&t.calculateDisplayedColumns()}))},e.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},e.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var t=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),e=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if((this.rowGroupColumns.length>0||this.usingTreeData)&&!e&&!t){var n=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);(!this.autoColsEqual(n,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=n)}else this.groupAutoColumns=null}},e.prototype.autoColsEqual=function(t,e){return v(t,e,(function(t,e){return t.getColId()===e.getColId()}))},e.prototype.getWidthOfColsInList=function(t){return t.reduce((function(t,e){return t+e.getActualWidth()}),0)},e.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},e.prototype.hasFloatingFilters=function(){var t=this.gridOptionsWrapper.getDefaultColDef();return null!=t&&!0===t.floatingFilter||null!=this.columnDefs&&this.columnDefs.some((function(t){return!0===t.floatingFilter}))},e.prototype.getFirstDisplayedColumn=function(){var t=this.gridOptionsWrapper.isEnableRtl(),e=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&e.reverse();for(var n=0;n<e.length;n++){var r=this[e[n]]();if(r.length)return t?g(r):r[0]}return null},te([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),te([at("expressionService")],e.prototype,"expressionService",void 0),te([at("columnFactory")],e.prototype,"columnFactory",void 0),te([at("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),te([at("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),te([at("columnUtils")],e.prototype,"columnUtils",void 0),te([at("columnAnimationService")],e.prototype,"columnAnimationService",void 0),te([at("autoGroupColService")],e.prototype,"autoGroupColService",void 0),te([ut("aggFuncService")],e.prototype,"aggFuncService",void 0),te([ut("valueCache")],e.prototype,"valueCache",void 0),te([ut("animationFrameService")],e.prototype,"animationFrameService",void 0),te([at("rowModel")],e.prototype,"rowModel",void 0),te([at("columnApi")],e.prototype,"columnApi",void 0),te([at("gridApi")],e.prototype,"gridApi",void 0),te([at("sortController")],e.prototype,"sortController",void 0),te([at("columnDefFactory")],e.prototype,"columnDefFactory",void 0),te([ot],e.prototype,"init",null),te([ee(0,ct("loggerFactory"))],e.prototype,"setBeans",null),e=te([st("columnController")],e)}(jt);function re(t,e){for(var n=""+t;n.length<e;)n="0"+n;return n}function oe(t,e){for(var n=[],r=t;r<=e;r++)n.push(r);return n}function ie(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function se(){return Number.MAX_SAFE_INTEGER||9007199254740991}function ae(t){return"string"===typeof t&&(t=parseInt(t,10)),"number"===typeof t?Math.floor(t):null}function ue(t){return"number"!==typeof t?"":t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}var le=Object.freeze({__proto__:null,padStart:re,createArrayOfNumbers:oe,isNumeric:ie,getMaxSafeInteger:se,cleanNumber:ae,decToHex:function(t,e){for(var n="",r=0;r<e;r++)n+=String.fromCharCode(255&t),t>>>=8;return n},formatNumberTwoDecimalPlacesAndCommas:function(t){return"number"!==typeof t?"":ue(Math.round(100*t)/100)},formatNumberCommas:ue,sum:function(t){return null==t?null:t.reduce((function(t,e){return t+e}),0)}}),ce=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pe=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},he=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ce(e,t),e.prototype.calculateColInitialWidth=function(t){var e,n=this.gridOptionsWrapper,r=null!=t.minWidth?t.minWidth:n.getMinColWidth(),o=null!=t.maxWidth?t.maxWidth:n.getMaxColWidth()||se(),i=a(t.width),s=a(t.initialWidth);return e=null!=i?i:null!=s?s:n.getColWidth(),Math.max(Math.min(e,o),r)},e.prototype.getOriginalPathForColumn=function(t,e){var n=[],r=!1;return function e(o,i){for(var s=0;s<o.length;s++){if(r)return;var a=o[s];if(a instanceof Et)e(a.getChildren(),i+1),n[i]=a;else a===t&&(r=!0)}}(e,0),r?n:null},e.prototype.depthFirstOriginalTreeSearch=function(t,e,n){var r=this;e&&e.forEach((function(e){e instanceof Et&&r.depthFirstOriginalTreeSearch(e,e.getChildren(),n),n(e,t)}))},e.prototype.depthFirstAllColumnTreeSearch=function(t,e){var n=this;t&&t.forEach((function(t){t instanceof Ct&&n.depthFirstAllColumnTreeSearch(t.getChildren(),e),e(t)}))},e.prototype.depthFirstDisplayedColumnTreeSearch=function(t,e){var n=this;t&&t.forEach((function(t){t instanceof Ct&&n.depthFirstDisplayedColumnTreeSearch(t.getDisplayedChildren(),e),e(t)}))},pe([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e=pe([st("columnUtils")],e)}(jt),de=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fe=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return de(e,t),e.prototype.createDisplayedGroups=function(t,e,n,r,o){var i,s,a=this,u=[],l=this.mapOldGroupsById(o);return t.forEach((function(t){for(var o=a.getOriginalPathForColumn(e,t),c=[],p=!s,h=0;h<o.length;h++)if(p||o[h]!==s[h]){var d=a.createColumnGroup(o[h],n,l,r);c[h]=d,0==h?u.push(d):c[h-1].addChild(d)}else c[h]=i[h];0===c.length?u.push(t):g(c).addChild(t);i=c,s=o})),this.setupParentsIntoColumns(u,null),u},e.prototype.createColumnGroup=function(t,e,n,o){var i=t.getGroupId(),s=e.getInstanceIdForKey(i),a=n[Ct.createUniqueId(i,s)];return a&&a.getOriginalColumnGroup()!==t&&(a=null),r(a)?a.reset():(a=new Ct(t,i,s,o),this.context.createBean(a)),a},e.prototype.mapOldGroupsById=function(t){var e={};return t&&function t(n){n.forEach((function(n){if(n instanceof Ct){var r=n;e[n.getUniqueId()]=r,t(r.getChildren())}}))}(t),e},e.prototype.setupParentsIntoColumns=function(t,e){var n=this;t.forEach((function(t){if(t.setParent(e),t instanceof Ct){var r=t;n.setupParentsIntoColumns(r.getChildren(),r)}}))},e.prototype.getOriginalPathForColumn=function(t,e){var n=[],r=!1;return function t(o,i){for(var s=0;s<o.length;s++){if(r)return;var a=o[s];if(a instanceof Et)t(a.getChildren(),i+1),n[i]=a;else a===e&&(r=!0)}}(t,0),r?n:(console.warn("could not get path"),null)},fe([at("columnUtils")],e.prototype,"columnUtils",void 0),e=fe([st("displayedGroupCreator")],e)}(jt),ve=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},ye=function(){function t(){}return t.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDeliminator","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection"],t.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","columnTypes","rowClassRules","detailGridOptions","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","reduxStore","statusBar","sideBar","chartThemeOverrides","customChartThemes"],t.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],t.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay"],t.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","enableMultiRowDragging","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","floatingFilter","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","enableOldSetFilterModel","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","reactNext","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight"],t.FUNCTION_PROPERTIES=["localeTextFunc","groupRowInnerRenderer","groupRowInnerRendererFramework","dateComponent","dateComponentFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getRowClassRules","traverseNode","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getRowNodeId","isFullWidthCell","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","getDetailRowData","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","defaultGroupSortComparator","isRowMaster","isRowSelectable","postSort","processHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","processChartOptions","getChartToolbarItems","fillOperation"],t.ALL_PROPERTIES=ve(t.ARRAY_PROPERTIES,t.OBJECT_PROPERTIES,t.STRING_PROPERTIES,t.NUMBER_PROPERTIES,t.FUNCTION_PROPERTIES,t.BOOLEAN_PROPERTIES),t.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],t}(),me=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},be=function(){function t(){}return t.getEventCallbacks=function(){return t.EVENT_CALLBACKS||(t.EVENT_CALLBACKS=t.EVENTS.map((function(e){return t.getCallbackForEvent(e)}))),t.EVENT_CALLBACKS},t.copyAttributesToGridOptions=function(e,n,r){"object"!==typeof e&&(e={});var o=e,i=function(t){return"undefined"!==typeof n[t]};return me(t.ARRAY_PROPERTIES,t.STRING_PROPERTIES,t.OBJECT_PROPERTIES,t.FUNCTION_PROPERTIES,t.getEventCallbacks()).filter(i).forEach((function(t){return o[t]=n[t]})),t.BOOLEAN_PROPERTIES.filter(i).forEach((function(e){return o[e]=t.toBoolean(n[e])})),t.NUMBER_PROPERTIES.filter(i).forEach((function(e){return o[e]=t.toNumber(n[e])})),e},t.getCallbackForEvent=function(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substr(1)},t.processOnChange=function(e,n,r,o){if(e){var i=n,s=function(t){return e[t]};me(t.ARRAY_PROPERTIES,t.OBJECT_PROPERTIES,t.STRING_PROPERTIES,t.getEventCallbacks()).filter(s).forEach((function(t){return i[t]=e[t].currentValue})),t.BOOLEAN_PROPERTIES.filter(s).forEach((function(n){return i[n]=t.toBoolean(e[n].currentValue)})),t.NUMBER_PROPERTIES.filter(s).forEach((function(n){return i[n]=t.toNumber(e[n].currentValue)})),e.enableCellTextSelection&&r.setEnableCellTextSelection(t.toBoolean(e.enableCellTextSelection.currentValue)),e.quickFilterText&&r.setQuickFilter(e.quickFilterText.currentValue),e.rowData&&r.setRowData(e.rowData.currentValue),e.pinnedTopRowData&&r.setPinnedTopRowData(e.pinnedTopRowData.currentValue),e.pinnedBottomRowData&&r.setPinnedBottomRowData(e.pinnedBottomRowData.currentValue),e.autoGroupColumnDef&&r.setAutoGroupColumnDef(e.autoGroupColumnDef.currentValue,"gridOptionsChanged"),e.columnDefs&&r.setColumnDefs(e.columnDefs.currentValue,"gridOptionsChanged"),e.datasource&&r.setDatasource(e.datasource.currentValue),e.headerHeight&&r.setHeaderHeight(t.toNumber(e.headerHeight.currentValue)),e.paginationPageSize&&r.paginationSetPageSize(t.toNumber(e.paginationPageSize.currentValue)),e.pivotMode&&o.setPivotMode(t.toBoolean(e.pivotMode.currentValue)),e.groupRemoveSingleChildren&&r.setGroupRemoveSingleChildren(t.toBoolean(e.groupRemoveSingleChildren.currentValue)),e.suppressRowDrag&&r.setSuppressRowDrag(t.toBoolean(e.suppressRowDrag.currentValue)),e.suppressMoveWhenRowDragging&&r.setSuppressMoveWhenRowDragging(t.toBoolean(e.suppressMoveWhenRowDragging.currentValue)),e.suppressRowClickSelection&&r.setSuppressRowClickSelection(t.toBoolean(e.suppressRowClickSelection.currentValue)),e.suppressClipboardPaste&&r.setSuppressClipboardPaste(t.toBoolean(e.suppressClipboardPaste.currentValue)),e.sideBar&&r.setSideBar(e.sideBar.currentValue);var a={type:Bt.EVENT_COMPONENT_STATE_CHANGED,api:n.api,columnApi:n.columnApi};D(e,(function(t,e){a[t]=e})),r.dispatchEvent(a)}},t.toBoolean=function(t){return"boolean"===typeof t?t:"string"===typeof t&&("TRUE"===t.toUpperCase()||""==t)},t.toNumber=function(t){return"number"===typeof t?t:"string"===typeof t?Number(t):void 0},t.EVENTS=[],t.STRING_PROPERTIES=ye.STRING_PROPERTIES,t.OBJECT_PROPERTIES=ye.OBJECT_PROPERTIES,t.ARRAY_PROPERTIES=ye.ARRAY_PROPERTIES,t.NUMBER_PROPERTIES=ye.NUMBER_PROPERTIES,t.BOOLEAN_PROPERTIES=ye.BOOLEAN_PROPERTIES,t.FUNCTION_PROPERTIES=ye.FUNCTION_PROPERTIES,t.ALL_PROPERTIES=ye.ALL_PROPERTIES,t}();be.EVENTS=p(Bt);var we=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},Ce=function(){function t(){}return t.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","template","templateUrl","filter","initialAggFunc","aggFunc","cellRenderer","cellEditor","pinned","initialPinned","chartDataType"],t.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRendererParams","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],t.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],t.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],t.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter"],t.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","cellRenderer","cellRendererFramework","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],t.ALL_PROPERTIES=we(t.ARRAY_PROPERTIES,t.OBJECT_PROPERTIES,t.STRING_PROPERTIES,t.NUMBER_PROPERTIES,t.FUNCTION_PROPERTIES,t.BOOLEAN_PROPERTIES),t.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],t}(),Ee=function(){function t(t,e,n,r){void 0===r&&(r=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,r||0))}return t.fromString=function(e){if(e.indexOf("#")>=0)return t.fromHexString(e);var n=t.nameToHex[e];if(n)return t.fromHexString(n);if(e.indexOf("rgb")>=0)return t.fromRgbaString(e);throw new Error("Invalid color string: '"+e+"'")},t.fromHexString=function(e){var n=e.match(t.hexRe);if(n)return new t((r=parseInt(n[1],16))/255,(o=parseInt(n[2],16))/255,(i=parseInt(n[3],16))/255,(s=void 0!==n[4]?parseInt(n[4],16):255)/255);if(n=e.match(t.shortHexRe)){var r=parseInt(n[1],16),o=parseInt(n[2],16),i=parseInt(n[3],16),s=void 0!==n[4]?parseInt(n[4],16):15;return new t((r+=16*r)/255,(o+=16*o)/255,(i+=16*i)/255,(s+=16*s)/255)}throw new Error("Malformed hexadecimal color string: '"+e+"'")},t.fromRgbaString=function(e){var n=e.match(t.rgbRe);if(n)return new t(+n[1]/255,+n[2]/255,+n[3]/255);if(n=e.match(t.rgbaRe))return new t(+n[1]/255,+n[2]/255,+n[3]/255,+n[4]);throw new Error("Malformed rgb/rgba color string: '"+e+"'")},t.fromArray=function(e){if(4===e.length)return new t(e[0],e[1],e[2],e[3]);if(3===e.length)return new t(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},t.fromHSB=function(e,n,r,o){void 0===o&&(o=1);var i=t.HSBtoRGB(e,n,r);return new t(i[0],i[1],i[2],o)},t.padHex=function(t){return 1===t.length?"0"+t:t},t.prototype.toHexString=function(){var e="#"+t.padHex(Math.round(255*this.r).toString(16))+t.padHex(Math.round(255*this.g).toString(16))+t.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(e+=t.padHex(Math.round(255*this.a).toString(16))),e},t.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*n)/n),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},t.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},t.prototype.toHSB=function(){return t.RGBtoHSB(this.r,this.g,this.b)},t.RGBtoHSB=function(t,e,n){var r=Math.min(t,e,n),o=Math.max(t,e,n),i=NaN;if(r!==o){var s=o-r,a=(o-t)/s,u=(o-e)/s,l=(o-n)/s;i=t===o?l-u:e===o?2+a-l:4+u-a,(i/=6)<0&&(i+=1)}return[360*i,0!==o?(o-r)/o:0,o]},t.HSBtoRGB=function(t,e,n){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var r=0,o=0,i=0;if(0===e)r=o=i=n;else{var s=6*(t-Math.floor(t)),a=s-Math.floor(s),u=n*(1-e),l=n*(1-e*a),c=n*(1-e*(1-a));switch(s>>0){case 0:r=n,o=c,i=u;break;case 1:r=l,o=n,i=u;break;case 2:r=u,o=n,i=c;break;case 3:r=u,o=l,i=n;break;case 4:r=c,o=u,i=n;break;case 5:r=n,o=u,i=l}}return[r,o,i]},t.prototype.derive=function(e,n,r,o){var i=t.RGBtoHSB(this.r,this.g,this.b),s=i[2];0==s&&r>1&&(s=.05);var a=((i[0]+e)%360+360)%360,u=Math.max(Math.min(i[1]*n,1),0);s=Math.max(Math.min(s*r,1),0);var l=Math.max(Math.min(this.a*o,1),0),c=t.HSBtoRGB(a,u,s);return c.push(l),t.fromArray(c)},t.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},t.prototype.darker=function(){return this.derive(0,1,.7,1)},t.hexRe=/\s*#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?\s*$/,t.shortHexRe=/\s*#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?\s*$/,t.rgbRe=/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)\s*/,t.rgbaRe=/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)\s*/,t.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),t}();function _e(t,e){void 0===e&&(e=",");for(var n,r,o,i=[],s=function(t){return"\r"===t||"\n"===t},a=!1,u=function(u,l,c){var p=t[c-1],h=t[c],d=t[c+1],f=function(){i[u]||(i[u]=[]),i[u][l]||(i[u][l]="")};if(f(),'"'===h){if(a)return'"'===d?(i[u][l]+='"',c++):a=!1,n=u,r=l,o=c,"continue";if(void 0===p||p===e||s(p))return a=!0,n=u,r=l,o=c,"continue"}if(!a){if(h===e)return l++,f(),n=u,r=l,o=c,"continue";if(s(h))return l=0,u++,f(),"\r"===h&&"\n"===d&&c++,n=u,r=l,o=c,"continue"}i[u][l]+=h,n=u,r=l,o=c},l=0,c=0,p=0;p<t.length;p++)u(l,c,p),l=n,c=r,p=o;return i}var Oe,Re,Se,Te,Pe,Ae,Ie=Object.freeze({__proto__:null,stringToArray:_e});function De(){return void 0===Re&&(Re=!!document.documentMode),Re}function Ne(){return void 0===Se&&(Se=!De()&&!!window.StyleMedia),Se}function xe(){if(void 0===Oe){var t=window;Oe=Object.prototype.toString.call(t.HTMLElement).indexOf("Constructor")>0||(e=t.safari&&t.safari.pushNotification)&&"[object SafariRemoteNotification]"===e.toString()}var e;return Oe}function ke(){if(void 0===Te){var t=window;Te=!!t.chrome&&(!!t.chrome.webstore||!!t.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Te}function Le(){if(void 0===Pe){var t=window;Pe="undefined"!==typeof t.InstallTrigger}return Pe}function Fe(){return void 0===Ae&&(Ae=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),Ae}function Me(t){if(!t)return null;var e=t.tabIndex,n=t.getAttribute("tabIndex");if(De()&&0===e&&null===n){return!0==={a:!0,body:!0,button:!0,frame:!0,iframe:!0,img:!0,input:!0,isindex:!0,object:!0,select:!0,textarea:!0}[t.nodeName.toLowerCase()]?"0":null}return-1!==e||null!==n&&(""!==n||Le())?e.toString():null}function je(){if(!document.body)return-1;var t=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){var r=2*t;if(n.style.height=r+"px",r>e||n.clientHeight!==r)break;t=r}return document.body.removeChild(n),t}function Ve(){var t=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",t.appendChild(e);var n=e.offsetWidth-e.clientWidth;return 0===n&&0===e.clientWidth?null:(e.parentNode&&e.parentNode.removeChild(e),n)}function Ge(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function We(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var He,Be=Object.freeze({__proto__:null,isBrowserIE:De,isBrowserEdge:Ne,isBrowserSafari:xe,isBrowserChrome:ke,isBrowserFirefox:Le,isIOSUserAgent:Fe,getTabIndex:Me,getMaxDivHeight:je,getScrollbarWidth:Ve,hasOverflowScrolling:function(){var t=["webkit","moz","o","ms"],e=document.createElement("div"),n=!1;document.getElementsByTagName("body")[0].appendChild(e),e.setAttribute("style",t.map((function(t){return"-"+t+"-overflow-scrolling: touch"})).concat("overflow-scrolling: touch").join(";"));var r=window.getComputedStyle(e);if("touch"===r.overflowScrolling&&(n=!0),!n)for(var o=0,i=t;o<i.length;o++)if("touch"===r[i[o]+"OverflowScrolling"]){n=!0;break}return e.parentNode&&e.parentNode.removeChild(e),n},getBodyWidth:Ge,getBodyHeight:We});function Ue(t,e){if(t&&e&&0!==e.length){if(!(e.indexOf(" ")>=0)){if(t.classList)t.classList.add(e);else if(t.className&&t.className.length>0){var n=t.className.split(" ");n.indexOf(e)<0&&(n.push(e),t.setAttribute("class",n.join(" ")))}else t.setAttribute("class",e);return t}e.split(" ").forEach((function(e){return Ue(t,e)}))}}function ze(t,e){if(t&&e&&0!==e.length)if(e.indexOf(" ")>=0)e.split(" ").forEach((function(e){return ze(t,e)}));else if(t.classList)t.classList.remove(e);else if(t.className&&t.className.length>0){var n=t.className.split(" ").filter((function(t){return t!==e})).join(" ");t.setAttribute("class",n)}}function qe(t,e,n){n?Ue(t,e):ze(t,e)}function Ke(t,e){if(t.classList)return t.classList.contains(e);if(t.className){var n=t.className===e,r=t.className.indexOf(" "+e+" ")>=0,o=0===t.className.indexOf(e+" "),i=t.className.lastIndexOf(" "+e)===t.className.length-e.length-1;return n||r||o||i}return!1}function Ye(t,e){qe(t,"ag-hidden",!e)}function Qe(t,e){qe(t,"ag-invisible",!e)}function Xe(t,e){var n=e?function(t){return t.setAttribute("disabled","")}:function(t){return t.removeAttribute("disabled")};n(t),In(t.querySelectorAll("input"),(function(t){return n(t)}))}function $e(t,e,n){for(var r=0;t;){if(Ke(t,e))return!0;if(t=t.parentElement,n&&++r>n)break}return!1}function Je(t){var e=window.getComputedStyle(t),n=e.height,r=e.width,o=e.paddingTop,i=e.paddingRight,s=e.paddingBottom,a=e.paddingLeft,u=e.marginTop,l=e.marginRight,c=e.marginBottom,p=e.marginLeft,h=e.boxSizing;return{height:parseFloat(n),width:parseFloat(r),paddingTop:parseFloat(o),paddingRight:parseFloat(i),paddingBottom:parseFloat(s),paddingLeft:parseFloat(a),marginTop:parseFloat(u),marginRight:parseFloat(l),marginBottom:parseFloat(c),marginLeft:parseFloat(p),boxSizing:h}}function Ze(t){var e=Je(t);return"border-box"===e.boxSizing?e.height-e.paddingTop-e.paddingBottom:e.height}function tn(t){var e=Je(t);return"border-box"===e.boxSizing?e.width-e.paddingLeft-e.paddingRight:e.width}function en(t){var e=Je(t),n=e.marginBottom+e.marginTop;return Math.ceil(t.offsetHeight+n)}function nn(t){var e=Je(t),n=e.marginLeft+e.marginRight;return Math.ceil(t.offsetWidth+n)}function rn(){if("boolean"===typeof He)return He;var t=document.createElement("div");return t.style.direction="rtl",t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="0px",t.style.overflow="hidden",t.dir="rtl",t.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(t),t.scrollLeft=1,He=0===t.scrollLeft,document.body.removeChild(t),He}function on(t,e){var n=t.scrollLeft;return e&&(n=Math.abs(n),ke()&&!rn()&&(n=t.scrollWidth-t.clientWidth-n)),n}function sn(t,e,n){n&&(rn()?e*=-1:(xe()||ke())&&(e=t.scrollWidth-t.clientWidth-e)),t.scrollLeft=e}function an(t){for(;t&&t.firstChild;)t.removeChild(t.firstChild)}function un(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ln(t){return null!==t.offsetParent}function cn(t){var e=document.createElement("div");return e.innerHTML=(t||"").trim(),e.firstChild}function pn(t,e){t.lastChild?t.insertAdjacentHTML("afterbegin",e):t.innerHTML=e}function hn(t){return t&&t.clientHeight?t.clientHeight:0}function dn(t){return t&&t.clientWidth?t.clientWidth:0}function fn(t,e,n){n&&n.nextSibling===e||(n?n.nextSibling?t.insertBefore(e,n.nextSibling):t.appendChild(e):t.firstChild&&t.firstChild!==e&&t.insertAdjacentElement("afterbegin",e))}function gn(t,e){for(var n=0;n<e.length;n++){var r=e[n],o=t.children[n];o!==r&&t.insertBefore(r,o)}}function vn(t,e,n){var r;return n?(n.insertAdjacentHTML("afterend",e),r=n.nextSibling):(t.firstChild?t.insertAdjacentHTML("afterbegin",e):t.innerHTML=e,r=t.firstChild),r}function yn(t,e){e&&Object.keys(e).forEach((function(n){var r=Yt(n);r&&(t.style[r]=e[n])}))}function mn(t){return t.clientWidth<t.scrollWidth}function bn(t){return t.clientHeight<t.scrollHeight}function wn(t,e){"flex"===e?(t.style.width=null,t.style.minWidth=null,t.style.maxWidth=null,t.style.flex="1 1 auto"):Cn(t,e)}function Cn(t,e){e=_n(e),t.style.width=e.toString(),t.style.maxWidth=e.toString(),t.style.minWidth=e.toString()}function En(t,e){e=_n(e),t.style.height=e.toString(),t.style.maxHeight=e.toString(),t.style.minHeight=e.toString()}function _n(t){return"number"===typeof t?t+"px":t}function On(t){return"function"===typeof Node?t instanceof Node:t&&"object"===typeof t&&"number"===typeof t.nodeType&&"string"===typeof t.nodeName}function Rn(t){return"function"===typeof HTMLElement?t instanceof HTMLElement:t&&H(t)&&1===t.nodeType&&"string"===typeof t.nodeName}function Sn(t){return On(t)||Rn(t)}function Tn(t){if(null==t)return[];var e=[];return In(t,(function(t){return e.push(t)})),e}function Pn(t,e){if(t)for(var n=0;n<t.length;n++){var r=t[n];e(r.name,r.value)}}function An(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n.toString())}function In(t,e){if(null!=t)for(var n=0;n<t.length;n++)e(t[n])}var Dn=Object.freeze({__proto__:null,addCssClass:Ue,removeCssClass:ze,addOrRemoveCssClass:qe,radioCssClass:function(t,e,n){for(var r=t.parentElement.firstChild;r;)e&&qe(r,e,r===t),n&&qe(r,n,r!==t),r=r.nextSibling},containsClass:Ke,setDisplayed:Ye,setVisible:Qe,setDisabled:Xe,isElementChildOfClass:$e,getElementSize:Je,getInnerHeight:Ze,getInnerWidth:tn,getAbsoluteHeight:en,getAbsoluteWidth:nn,isRtlNegativeScroll:rn,getScrollLeft:on,setScrollLeft:sn,clearElement:an,removeElement:function(t,e){un(t.querySelector(e))},removeFromParent:un,isVisible:ln,loadTemplate:cn,appendHtml:pn,getElementAttribute:function(t,e){return t.attributes&&t.attributes[e]?t.attributes[e].value:null},offsetHeight:hn,offsetWidth:dn,ensureDomOrder:fn,setDomChildOrder:gn,insertTemplateWithDomOrder:vn,prependDC:function(t,e){r(t.firstChild)?t.insertBefore(e,t.firstChild):t.appendChild(e)},addStylesToElement:yn,isHorizontalScrollShowing:mn,isVerticalScrollShowing:bn,setElementWidth:wn,setFixedWidth:Cn,setElementHeight:function(t,e){"flex"===e?(t.style.height=null,t.style.minHeight=null,t.style.maxHeight=null,t.style.flex="1 1 auto"):En(t,e)},setFixedHeight:En,formatSize:_n,isNode:On,isElement:Rn,isNodeOrElement:Sn,copyNodeList:Tn,iterateNamedNodeMap:Pn,setCheckboxState:function(t,e){"boolean"===typeof e?(t.checked=e,t.indeterminate=!1):t.indeterminate=!0},addOrRemoveAttribute:An,nodeListForEach:In});function Nn(t){if(!t)return"";var e=[];return D(t,(function(t,n){var r=Kt(t);e.push(r+": "+n+";")})),e.join(" ")}function xn(t,e){t.then((function(t){var n=t.getGui();null!=n&&("object"===typeof n?e.appendChild(n):e.innerHTML=n)}))}var kn=Object.freeze({__proto__:null,getNameOfClass:function(t){var e=t.toString(),n=/function (.{1,})\(/.exec(e);return n&&n.length>1?n[1]:""},findLineByLeastSquares:function(t){var e=t.length,n=0;if(e<=1)return t;for(var r=0;r<t.length;r++){var o=t[r];Math.floor(o)!==o&&(n=Math.max(n,o.toString().split(".")[1].length))}for(var i=0,s=0,a=0,u=0,l=0,c=0;c<e;c++)i+=c,s+=l=t[c],u+=c*c,a+=c*l;var p=(e*a-i*s)/(e*u-i*i),h=s/e-p*i/e,d=[];for(c=0;c<=e;c++)d.push(parseFloat((c*p+h).toFixed(n)));return d},cssStyleObjectToMarkup:Nn,message:function(t){var e=document.createElement("div"),n=document.querySelector("#__ag__message");if(e.innerHTML=t,!n){n=cn('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(n)}n.insertBefore(e,n.children[0])},bindCellRendererToHtmlElement:xn});function Ln(t,e,n){t.setAttribute(Mn(e),n.toString())}function Fn(t,e){t.removeAttribute(Mn(e))}function Mn(t){return"aria-"+t}function jn(t){return t.isSortAscending()?"ascending":t.isSortDescending()?"descending":"none"}function Vn(t){return parseInt(t.getAttribute("aria-posinset"),10)}function Gn(t,e){Ln(t,"label",e)}function Wn(t,e){Ln(t,"labelledby",e)}function Hn(t,e){Ln(t,"describedby",e)}function Bn(t,e){Ln(t,"disabled",e)}function Un(t,e){Ln(t,"expanded",e)}function zn(t){Fn(t,"expanded")}function qn(t,e){Ln(t,"setsize",e)}function Kn(t,e){Ln(t,"posinset",e)}function Yn(t,e){Ln(t,"multiselectable",e)}function Qn(t,e){Ln(t,"rowcount",e)}function Xn(t,e){Ln(t,"rowindex",e)}function $n(t,e){Ln(t,"colcount",e)}function Jn(t,e){Ln(t,"colindex",e)}function Zn(t,e){Ln(t,"colspan",e)}function tr(t,e){Ln(t,"sort",e)}function er(t){Fn(t,"sort")}function nr(t,e){e?Ln(t,"selected",e):Fn(t,"selected")}function rr(t,e){Ln(t,"checked",void 0===e?"mixed":e)}var or=Object.freeze({__proto__:null,getAriaSortState:jn,getAriaLevel:function(t){return parseInt(t.getAttribute("aria-level"),10)},getAriaPosInSet:Vn,setAriaLabel:Gn,setAriaLabelledBy:Wn,setAriaDescribedBy:Hn,setAriaLevel:function(t,e){Ln(t,"level",e)},setAriaDisabled:Bn,setAriaExpanded:Un,removeAriaExpanded:zn,setAriaSetSize:qn,setAriaPosInSet:Kn,setAriaMultiSelectable:Yn,setAriaRowCount:Qn,setAriaRowIndex:Xn,setAriaColCount:$n,setAriaColIndex:Jn,setAriaColSpan:Zn,setAriaSort:tr,removeAriaSort:er,setAriaSelected:nr,setAriaChecked:rr});function ir(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n="-"),!t)return null;var r=[t.getFullYear(),t.getMonth()+1,t.getDate()].map((function(t){return re(t,2)})).join(n);return e&&(r+=" "+[t.getHours(),t.getMinutes(),t.getSeconds()].map((function(t){return re(t,2)})).join(":")),r}function sr(t){if(!t)return null;var e=t.split(" "),n=e[0],r=e[1];if(!n)return null;var o=n.split("-").map((function(t){return parseInt(t,10)}));if(3!==o.filter((function(t){return!isNaN(t)})).length)return null;var i=o[0],s=o[1],a=o[2],u=new Date(i,s-1,a);if(u.getFullYear()!==i||u.getMonth()!==s-1||u.getDate()!==a)return null;if(!r||"00:00:00"===r)return u;var l=r.split(":").map((function(t){return parseInt(t,10)})),c=l[0],p=l[1],h=l[2];return c>=0&&c<24&&u.setHours(c),p>=0&&p<60&&u.setMinutes(p),h>=0&&h<60&&u.setSeconds(h),u}var ar=Object.freeze({__proto__:null,serialiseDate:ir,parseDateTimeFromString:sr});function ur(t,e,n){var r={},o=t.filter((function(t){return!e.some((function(e){return e===t}))}));return o.length>0&&o.forEach((function(t){return r[t]=lr(t,n)})),r}function lr(t,e,n,r){var o=r?hr:pr,i=e.map((function(e){return{value:e,relevance:o(t.toLowerCase(),e.toLocaleLowerCase())}}));return i.sort((function(t,e){return e.relevance-t.relevance})),n&&(i=i.filter((function(t){return 0!==t.relevance}))),i.map((function(t){return t.value}))}function cr(t){var e,n,r,o=t.toLowerCase(),i=new Array(o.length-1);for(e=n=0,r=i.length;n<=r;e=n+=1)i[e]=o.slice(e,e+2);return i}function pr(t,e){if(0===t.length&&0===e.length)return 0;var n,r,o=cr(t),i=cr(e),s=o.length+i.length,a=0;for(n=0,r=o.length;n<r;n++){var u,l=o[n],c=void 0;for(c=0,u=i.length;c<u;c++){l===i[c]&&a++}}return a>0?2*a/s:0}function hr(t,e){for(var n=t.replace(/\s/g,""),r=e.replace(/\s/g,""),o=0,i=0,s=0;s<n.length;s++){var a=r.indexOf(n[s]);-1!==a&&(i=a,o+=100*(r.length-i)/r.length,o*=o)}return o}var dr=Object.freeze({__proto__:null,fuzzyCheckStrings:ur,fuzzySuggestions:lr,get_bigrams:cr,string_distances:pr,string_weighted_distances:hr}),fr={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function gr(t,e,n){var r=vr(t,e,n);if(r.className.indexOf("ag-icon")>-1)return r;var o=document.createElement("span");return o.appendChild(r),o}function vr(t,e,n,r){var o=null,i=n&&n.getColDef().icons;if(i&&(o=i[t]),e&&!o){var s=e.getIcons();s&&(o=s[t])}if(!o){var a=document.createElement("span"),u=fr[t];return u||(r?u=t:(console.warn("ag-Grid: Did not find icon "+t),u="")),a.setAttribute("class","ag-icon ag-icon-"+u),a.setAttribute("unselectable","on"),a.setAttribute("role","presentation"),a}var l=void 0;if("function"===typeof o)l=o();else{if("string"!==typeof o)throw new Error("icon from grid options needs to be a string or a function");l=o}return"string"===typeof l?cn(l):Sn(l)?l:void console.warn("ag-Grid: iconRenderer should return back a string or a dom object")}var yr=Object.freeze({__proto__:null,iconNameClassMap:fr,createIcon:gr,createIconNoSpan:vr});function mr(t,e){return(t.which||t.keyCode)===e}function br(t){if(t.altKey||t.ctrlKey||t.metaKey)return!1;var e=1===t.key.length,n=function(t){return(Ne()||De())&&"Del"===t.key&&46===t.charCode}(t);return e||n}function wr(t,e,n,r,o){var i=t.getSuppressKeyboardEventFunc(),s=r.getColDef().suppressKeyboardEvent;if(!i&&!s)return!1;var a={event:e,editing:o,column:r,api:t.getApi(),node:n,data:n.data,colDef:r.getColDef(),context:t.getContext(),columnApi:t.getColumnApi()};if(s&&s(a))return!0;return!!i&&i(a)}function Cr(t,e,n,o){var i=o.getDefinition(),s=i.suppressHeaderKeyboardEvent;return!!r(s)&&!!s({api:t.getApi(),columnApi:t.getColumnApi(),context:t.getContext(),colDef:i,column:o,headerRowIndex:n,event:e})}var Er=Object.freeze({__proto__:null,isKeyPressed:mr,isEventFromPrintableCharacter:br,isUserSuppressingKeyboardEvent:wr,isUserSuppressingHeaderKeyboardEvent:Cr});var _r=Object.freeze({__proto__:null,keys:function(t){var e=[];return t.forEach((function(t,n){return e.push(n)})),e}});function Or(t,e,n){if(0===n)return!1;var r=Math.abs(t.clientX-e.clientX),o=Math.abs(t.clientY-e.clientY);return Math.max(r,o)<=n}var Rr=Object.freeze({__proto__:null,normalizeWheel:function(t){var e=0,n=0,r=0,o=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=10*e,o=10*n,"deltaY"in t&&(o=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||o)&&t.deltaMode&&(1==t.deltaMode?(r*=40,o*=40):(r*=800,o*=800)),r&&!e&&(e=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:o}},isLeftClick:function(t){return"buttons"in t?1==t.buttons:1==(t.which||t.button)},areEventsNear:Or});var Sr=Object.freeze({__proto__:null,sortRowNodesByOrder:function(t,e){if(t){for(var n=function(t,n){var r=e[t.id],o=e[n.id],i=void 0!==r,s=void 0!==o;return i&&s?r-o:!i&&!s?t.__objectId-n.__objectId:i?1:-1},r=!1,o=0;o<t.length-1;o++)if(n(t[o],t[o+1])>0){r=!0;break}r&&t.sort(n)}},traverseNodesWithKey:function(t,e){var n=[];!function t(r){r.forEach((function(r){if(r.group||r.hasChildren()){n.push(r.key);var o=n.join("|");e(r,o),t(r.childrenAfterGroup),n.pop()}}))}(t)}});function Tr(t){var e=new Set;return t.forEach((function(t){return e.add(t)})),e}var Pr,Ar=Object.freeze({__proto__:null,convertToSet:Tr}),Ir=function(){return(Ir=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Dr=Ir(Ir(Ir(Ir(Ir(Ir(Ir(Ir(Ir(Ir(Ir(Ir(Ir(Ir(Ir(Ir(Ir(Ir(Ir(Ir({},kn),or),I),Be),Ie),ar),Dn),Ft),et),dr),h),yr),Er),_r),Rr),le),B),Sr),Ar),Jt),Nr=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=1),this.nextValue=t,this.step=e}return t.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},t.prototype.peek=function(){return this.nextValue},t.prototype.skip=function(t){this.nextValue+=t},t}();(Pr=e.PromiseStatus||(e.PromiseStatus={}))[Pr.IN_PROGRESS=0]="IN_PROGRESS",Pr[Pr.RESOLVED=1]="RESOLVED";var xr=function(){function t(t){var n=this;this.status=e.PromiseStatus.IN_PROGRESS,this.resolution=null,this.waiters=[],t((function(t){return n.onDone(t)}),(function(t){return n.onReject(t)}))}return t.all=function(e){return new t((function(t){var n=e.length,r=new Array(n);T(e,(function(e,o){e.then((function(e){r[o]=e,0===--n&&t(r)}))}))}))},t.resolve=function(e){return void 0===e&&(e=null),new t((function(t){return t(e)}))},t.prototype.then=function(n){var r=this;return new t((function(t){r.status===e.PromiseStatus.RESOLVED?t(n(r.resolution)):r.waiters.push((function(e){return t(n(e))}))}))},t.prototype.resolveNow=function(t,n){return this.status===e.PromiseStatus.RESOLVED?n(this.resolution):t},t.prototype.onDone=function(t){this.status=e.PromiseStatus.RESOLVED,this.resolution=t,T(this.waiters,(function(e){return e(t)}))},t.prototype.onReject=function(t){console.warn("TBI")},t}(),kr=function(){function t(){this.timestamp=(new Date).getTime()}return t.prototype.print=function(t){var e=(new Date).getTime()-this.timestamp;console.info(t+" = "+e),this.timestamp=(new Date).getTime()},t}(),Lr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fr=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Mr=new Nr,jr=function(t){function e(e){var n=t.call(this)||this;return n.annotatedGuiListeners=[],n.displayed=!0,n.visible=!0,n.compId=Mr.next(),n.cssClassStates={},e&&n.setTemplate(e),n}return Lr(e,t),e.prototype.getCompId=function(){return this.compId},e.prototype.createChildComponentsFromTags=function(t,e){var n=this;T(Tn(t.childNodes),(function(r){if(r instanceof HTMLElement){var o=n.createComponentFromElement(r,(function(t){n.copyAttributesFromNode(r,t.getGui())}),e);if(o){if(o.addItems&&r.children.length){n.createChildComponentsFromTags(r,e);var i=Array.prototype.slice.call(r.children);o.addItems(i)}n.swapComponentForNode(o,t,r)}else r.childNodes&&n.createChildComponentsFromTags(r,e)}}))},e.prototype.createComponentFromElement=function(t,e,n){var r=t.nodeName,o=n?n[t.getAttribute("ref")]:void 0,i=this.agStackComponentsRegistry.getComponentClass(r);if(i){var s=new i(o);return this.createBean(s,null,e),s}return null},e.prototype.copyAttributesFromNode=function(t,e){Pn(t.attributes,(function(t,n){return e.setAttribute(t,n)}))},e.prototype.swapComponentForNode=function(t,e,n){var r=t.getGui();e.replaceChild(r,n),e.insertBefore(document.createComment(n.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,n)},e.prototype.swapInComponentForQuerySelectors=function(t,e){var n=this;this.iterateOverQuerySelectors((function(r){n[r.attributeName]===e&&(n[r.attributeName]=t)}))},e.prototype.iterateOverQuerySelectors=function(t){for(var e=Object.getPrototypeOf(this);null!=e;){var n=e.__agComponentMetaData,r=Y(e.constructor);n&&n[r]&&n[r].querySelectors&&T(n[r].querySelectors,(function(e){return t(e)})),e=Object.getPrototypeOf(e)}},e.prototype.setTemplate=function(t,e){var n=cn(t);this.setTemplateFromElement(n,e)},e.prototype.setTemplateFromElement=function(t,e){this.eGui=t,this.eGui.__agComponent=this,this.addAnnotatedGuiEventListeners(),this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),e)},e.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},e.prototype.wireQuerySelectors=function(){var t=this;if(this.eGui){var e=this;this.iterateOverQuerySelectors((function(n){var r=t.eGui.querySelector(n.querySelector);r&&(e[n.attributeName]=r.__agComponent||r)}))}},e.prototype.addAnnotatedGuiEventListeners=function(){var t=this;if(this.removeAnnotatedGuiEventListeners(),this.eGui){var e=this.getAgComponentMetaData("guiListenerMethods");e&&(this.annotatedGuiListeners||(this.annotatedGuiListeners=[]),e.forEach((function(e){var n=t.getRefElement(e.ref);if(n){var r=t[e.methodName].bind(t);n.addEventListener(e.eventName,r),t.annotatedGuiListeners.push({eventName:e.eventName,listener:r,element:n})}})))}},e.prototype.addAnnotatedGridEventListeners=function(){var t=this,e=this.getAgComponentMetaData("gridListenerMethods");e&&e.forEach((function(e){var n=t[e.methodName].bind(t);t.addManagedListener(t.eventService,e.eventName,n)}))},e.prototype.getAgComponentMetaData=function(t){for(var e=[],n=Object.getPrototypeOf(this);null!=n;){var r=n.__agComponentMetaData,o=Y(n.constructor);r&&r[o]&&r[o][t]&&(e=e.concat(r[o][t])),n=Object.getPrototypeOf(n)}return e},e.prototype.removeAnnotatedGuiEventListeners=function(){this.annotatedGuiListeners&&(T(this.annotatedGuiListeners,(function(t){t.element.removeEventListener(t.eventName,t.listener)})),this.annotatedGuiListeners=[])},e.prototype.getGui=function(){return this.eGui},e.prototype.getFocusableElement=function(){return this.eGui},e.prototype.setParentComponent=function(t){this.parentComponent=t},e.prototype.getParentComponent=function(){return this.parentComponent},e.prototype.setGui=function(t){this.eGui=t},e.prototype.queryForHtmlElement=function(t){return this.eGui.querySelector(t)},e.prototype.queryForHtmlInputElement=function(t){return this.eGui.querySelector(t)},e.prototype.appendChild=function(t,e){if(e||(e=this.eGui),null!=t)if(Sn(t))e.appendChild(t);else{var n=t;e.appendChild(n.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,n))}},e.prototype.isDisplayed=function(){return this.displayed},e.prototype.setVisible=function(t){t!==this.visible&&(this.visible=t,Qe(this.eGui,t))},e.prototype.setDisplayed=function(t){if(t!==this.displayed){this.displayed=t,Ye(this.eGui,t);var n={type:e.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(n)}},e.prototype.destroy=function(){this.removeAnnotatedGuiEventListeners(),t.prototype.destroy.call(this)},e.prototype.addGuiEventListener=function(t,e){var n=this;this.eGui.addEventListener(t,e),this.addDestroyFunc((function(){return n.eGui.removeEventListener(t,e)}))},e.prototype.addCssClass=function(t){!0!==this.cssClassStates[t]&&(Ue(this.eGui,t),this.cssClassStates[t]=!0)},e.prototype.removeCssClass=function(t){!1!==this.cssClassStates[t]&&(ze(this.eGui,t),this.cssClassStates[t]=!1)},e.prototype.addOrRemoveCssClass=function(t,e){this.cssClassStates[t]!==e&&(qe(this.eGui,t,e),this.cssClassStates[t]=e)},e.prototype.getAttribute=function(t){var e=this.eGui;return e?e.getAttribute(t):null},e.prototype.getRefElement=function(t){return this.queryForHtmlElement('[ref="'+t+'"]')},e.EVENT_DISPLAYED_CHANGED="displayedChanged",Fr([at("agStackComponentsRegistry")],e.prototype,"agStackComponentsRegistry",void 0),Fr([rt],e.prototype,"createChildComponentsPreConstruct",null),Fr([ot],e.prototype,"addAnnotatedGridEventListeners",null),e}(jt),Vr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vr(e,t),e.prototype.isPopup=function(){return!0},e.prototype.setParentComponent=function(e){Ue(e.getGui(),"ag-has-popup"),t.prototype.setParentComponent.call(this,e)},e.prototype.destroy=function(){var e=this.parentComponent;e&&e.isAlive()&&ze(e.getGui(),"ag-has-popup"),t.prototype.destroy.call(this)},e}(jr);function Wr(t){return Hr.bind(this,"[ref="+t+"]")}function Hr(t,e,n,r){null!==t?"number"!==typeof r?zr(e,"querySelectors",{attributeName:n,querySelector:t}):console.error("ag-Grid: QuerySelector should be on an attribute"):console.error("ag-Grid: QuerySelector selector should not be null")}function Br(t,e,n){null!=t?zr(e,"gridListenerMethods",{methodName:n,eventName:t}):console.error("ag-Grid: GridListener eventName is missing")}function Ur(t,e,n,r){null!=e?zr(n,"guiListenerMethods",{methodName:r,eventName:e,ref:t}):console.error("ag-Grid: GuiListener eventName is missing")}function zr(t,e,n){var r=function(t,e){t.__agComponentMetaData||(t.__agComponentMetaData={});t.__agComponentMetaData[e]||(t.__agComponentMetaData[e]={});return t.__agComponentMetaData[e]}(t,Y(t.constructor));r[e]||(r[e]=[]),r[e].push(n)}var qr,Kr=function(){function t(){}return t.BACKSPACE=8,t.TAB=9,t.ENTER=13,t.SHIFT=16,t.ESCAPE=27,t.SPACE=32,t.LEFT=37,t.UP=38,t.RIGHT=39,t.DOWN=40,t.DELETE=46,t.A=65,t.C=67,t.V=86,t.D=68,t.Z=90,t.Y=89,t.F2=113,t.PAGE_UP=33,t.PAGE_DOWN=34,t.PAGE_HOME=36,t.PAGE_END=35,t}(),Yr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qr=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Xr=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return Yr(e,t),e.prototype.init=function(t){this.params=t;var e,n=this.eInput;t.cellStartedEdit?(this.focusAfterAttached=!0,t.keyPress===Kr.BACKSPACE||t.keyPress===Kr.DELETE?e="":t.charPress?e=t.charPress:(e=this.getStartValue(t),t.keyPress!==Kr.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,e=this.getStartValue(t)),r(e)&&n.setValue(e,!0),this.addManagedListener(n.getGui(),"keydown",(function(t){var e=t.keyCode;e!==Kr.PAGE_UP&&e!==Kr.PAGE_DOWN||t.preventDefault()}))},e.prototype.afterGuiAttached=function(){var t=this.eInput;if(t.setInputAriaLabel("Input Editor"),this.focusAfterAttached){xe()||t.getFocusableElement().focus();var e=t.getInputElement();if(this.highlightAllOnFocus)e.select();else{var n=t.getValue(),o=r(n)&&n.length||0;o&&e.setSelectionRange(o,o)}}},e.prototype.focusIn=function(){var t=this.eInput,e=t.getFocusableElement(),n=t.getInputElement();e.focus(),n.select()},e.prototype.focusOut=function(){var t=this.eInput.getInputElement();De()&&t.setSelectionRange(0,0)},e.prototype.getValue=function(){var t=this.eInput;return this.params.parseValue(t.getValue())},e.prototype.getStartValue=function(t){return t.useFormatter||t.column.getColDef().refData?t.formatValue(t.value):t.value},e.prototype.isPopup=function(){return!1},e.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',Qr([Wr("eInput")],e.prototype,"eInput",void 0),e}(Gr),$r=function(){function t(t,e,n,r){var o=this;this.alive=!0,this.context=t,e.newDateComponent(n).then((function(e){o.alive?(o.dateComp=e,r.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached(),o.tempValue&&e.setDate(o.tempValue)):t.destroyBean(e)}))}return t.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},t.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},t.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},t.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},t.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},t}(),Jr=function(){function t(){this.customFilterOptions={}}return t.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)},t.prototype.getFilterOptions=function(){return this.filterOptions},t.prototype.mapCustomOptions=function(){var t=this;this.filterOptions&&this.filterOptions.forEach((function(e){if("string"!==typeof e){R(["displayKey","displayName","test"],(function(t){return!!e[t]||(console.warn("ag-Grid: ignoring FilterOptionDef as it doesn't contain a '"+t+"'"),!1)}))&&(t.customFilterOptions[e.displayKey]=e)}}))},t.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];"string"===typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("ag-Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("ag-Grid: no filter options for filter")},t.prototype.getDefaultOption=function(){return this.defaultOption},t.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},t}(),Zr={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},to=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eo=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},no=function(t){function e(e,n){void 0===n&&(n=!1);var r=t.call(this,e)||this;return r.isFocusableContainer=n,r.skipTabGuardFocus=!1,r}return to(e,t),e.prototype.postConstruct=function(){var t=this,n=this.getFocusableElement();n&&(Ue(n,e.FOCUS_MANAGED_CLASS),this.isFocusableContainer&&(this.topTabGuard=this.createTabGuard("top"),this.bottomTabGuard=this.createTabGuard("bottom"),this.addTabGuards(),this.activateTabGuards(),this.forEachTabGuard((function(e){return t.addManagedListener(e,"focus",t.onFocus.bind(t))}))),this.addKeyDownListeners(n),this.addManagedListener(n,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(n,"focusout",this.onFocusOut.bind(this)))},e.prototype.focusInnerElement=function(t){void 0===t&&(t=!1);var e=this.focusController.findFocusableElements(this.getFocusableElement());this.isFocusableContainer&&this.tabGuardsAreActive()&&(e.splice(0,1),e.splice(e.length-1,1)),e.length&&e[t?e.length-1:0].focus()},e.prototype.onTabKeyDown=function(t){var e=this;if(!t.defaultPrevented){var n=this.tabGuardsAreActive();this.isFocusableContainer&&n&&this.deactivateTabGuards();var r=this.focusController.findNextFocusableElement(this.getFocusableElement(),!1,t.shiftKey);this.isFocusableContainer&&n&&setTimeout((function(){return e.activateTabGuards()}),0),r&&(r.focus(),t.preventDefault())}},e.prototype.onFocusIn=function(t){this.isFocusableContainer&&this.deactivateTabGuards()},e.prototype.onFocusOut=function(t){this.isFocusableContainer&&!this.getFocusableElement().contains(t.relatedTarget)&&this.activateTabGuards()},e.prototype.forceFocusOutOfContainer=function(t){if(void 0===t&&(t=!1),this.isFocusableContainer){this.activateTabGuards(),this.skipTabGuardFocus=!0;var e=t?this.topTabGuard:this.bottomTabGuard;e&&e.focus()}},e.prototype.appendChild=function(e,n){if(this.isFocusableContainer){Sn(e)||(e=e.getGui());var r=this.bottomTabGuard;r?r.insertAdjacentElement("beforebegin",e):t.prototype.appendChild.call(this,e,n)}else t.prototype.appendChild.call(this,e,n)},e.prototype.createTabGuard=function(t){var e=document.createElement("div");return e.classList.add("ag-tab-guard"),e.classList.add("ag-tab-guard-"+t),e.setAttribute("role","presentation"),e},e.prototype.addTabGuards=function(){var t=this.getFocusableElement();t.insertAdjacentElement("afterbegin",this.topTabGuard),t.insertAdjacentElement("beforeend",this.bottomTabGuard)},e.prototype.forEachTabGuard=function(t){this.topTabGuard&&t(this.topTabGuard),this.bottomTabGuard&&t(this.bottomTabGuard)},e.prototype.addKeyDownListeners=function(t){var e=this;this.addManagedListener(t,"keydown",(function(t){t.defaultPrevented||(t.keyCode===Kr.TAB?e.onTabKeyDown(t):e.handleKeyDown&&e.handleKeyDown(t))}))},e.prototype.onFocus=function(t){this.skipTabGuardFocus?this.skipTabGuardFocus=!1:this.focusInnerElement(t.target===this.bottomTabGuard)},e.prototype.activateTabGuards=function(){this.forEachTabGuard((function(t){return t.setAttribute("tabIndex","0")}))},e.prototype.deactivateTabGuards=function(){this.forEachTabGuard((function(t){return t.removeAttribute("tabIndex")}))},e.prototype.tabGuardsAreActive=function(){return!!this.topTabGuard&&this.topTabGuard.hasAttribute("tabIndex")},e.prototype.clearGui=function(){var t=this.tabGuardsAreActive();an(this.getFocusableElement()),this.isFocusableContainer&&(this.addTabGuards(),t&&this.activateTabGuards())},e.FOCUS_MANAGED_CLASS="ag-focus-managed",eo([at("focusController")],e.prototype,"focusController",void 0),eo([ot],e.prototype,"postConstruct",null),e}(jr),ro=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oo=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},io=function(t){function e(e){var n=t.call(this)||this;return n.filterNameKey=e,n.applyActive=!1,n.hidePopup=null,n.appliedModel=null,n}return ro(e,t),e.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},e.prototype.onFilterChanged=function(){console.warn("ag-Grid: you should not call onFilterChanged() directly on the filter, please call\n        gridApi.onFilterChanged() instead. onFilterChanged is not part of the exposed filter interface (it was\n        a method that existed on an old version of the filters that was not intended for public use."),this.providedFilterParams.filterChangedCallback()},e.prototype.isFilterActive=function(){return!!this.appliedModel},e.prototype.postConstruct=function(){this.resetTemplate(),t.prototype.postConstruct.call(this)},e.prototype.resetTemplate=function(t){var e='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(e,t)},e.prototype.init=function(t){var e=this;this.setParams(t),this.resetUiToDefaults(!0).then((function(){e.updateUiVisibility(),e.setupOnBtApplyDebounce()}))},e.prototype.setParams=function(t){if(e.checkForDeprecatedParams(t),this.providedFilterParams=t,"keep"===t.newRowsAction)this.newRowsActionKeep=!0;else if("clear"===t.newRowsAction)this.newRowsActionKeep=!1;else{var n=[vt.ROW_MODEL_TYPE_SERVER_SIDE,vt.ROW_MODEL_TYPE_INFINITE];this.newRowsActionKeep=n.indexOf(this.rowModel.getType())>=0}this.applyActive=e.isUseApplyButton(t),this.createButtonPanel()},e.prototype.createButtonPanel=function(){var t=this,e=this.providedFilterParams.buttons;if(e&&!(e.length<1)){var n=document.createElement("div");Ue(n,"ag-filter-apply-panel");Tr(e).forEach((function(e){return function(e){var r,o;switch(e){case"apply":r=t.translate("applyFilter"),o=function(e){return t.onBtApply(!1,!1,e)};break;case"clear":r=t.translate("clearFilter"),o=function(){return t.onBtClear()};break;case"reset":r=t.translate("resetFilter"),o=function(){return t.onBtReset()};break;case"cancel":r=t.translate("cancelFilter"),o=function(e){t.onBtCancel(e)};break;default:return void console.warn("Unknown button type specified")}var i=cn('<button\n                    type="button"\n                    ref="'+e+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button">'+r+"</button>");n.appendChild(i),t.addManagedListener(i,"click",o)}(e)})),this.getGui().appendChild(n)}},e.checkForDeprecatedParams=function(t){var e=t.buttons||[];if(!(e.length>0)){var n=t.applyButton,r=t.resetButton;t.clearButton&&(console.warn("ag-Grid: as of ag-Grid v23.2, filterParams.clearButton is deprecated. Please use filterParams.buttons instead"),e.push("clear")),r&&(console.warn("ag-Grid: as of ag-Grid v23.2, filterParams.resetButton is deprecated. Please use filterParams.buttons instead"),e.push("reset")),n&&(console.warn("ag-Grid: as of ag-Grid v23.2, filterParams.applyButton is deprecated. Please use filterParams.buttons instead"),e.push("apply")),t.apply&&(console.warn("ag-Grid: as of ag-Grid v21, filterParams.apply is deprecated. Please use filterParams.buttons instead"),e.push("apply")),t.buttons=e}},e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.setupOnBtApplyDebounce=function(){var t=e.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=Z(this.onBtApply.bind(this),t)},e.prototype.getModel=function(){return this.appliedModel},e.prototype.setModel=function(t){var e=this;return(t?this.setModelIntoUi(t):this.resetUiToDefaults()).then((function(){e.updateUiVisibility(),e.applyModel()}))},e.prototype.onBtCancel=function(t){var e=this;this.setModelIntoUi(this.getModel()).then((function(){e.onUiChanged(!1,"prevent"),e.providedFilterParams.closeOnApply&&e.close(t)}))},e.prototype.onBtClear=function(){var t=this;this.resetUiToDefaults().then((function(){return t.onUiChanged()}))},e.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},e.prototype.applyModel=function(){var t=this.getModelFromUi();if(!this.isModelValid(t))return!1;var e=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(e,t)},e.prototype.isModelValid=function(t){return!0},e.prototype.onBtApply=function(t,e,n){void 0===t&&(t=!1),void 0===e&&(e=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:e}),this.providedFilterParams.closeOnApply&&this.applyActive&&!t&&!e&&this.close(n)},e.prototype.onNewRowsLoaded=function(){var t=this;this.newRowsActionKeep||this.resetUiToDefaults().then((function(){return t.appliedModel=null}))},e.prototype.close=function(t){if(this.hidePopup){var e,n=t,r=n&&n.key;"Enter"!==r&&"Space"!==r||(e={keyboardEvent:n}),this.hidePopup(e),this.hidePopup=null}},e.prototype.isNewRowsActionKeep=function(){return this.newRowsActionKeep},e.prototype.onUiChanged=function(t,e){if(void 0===t&&(t=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive){var n=this.isModelValid(this.getModelFromUi());Xe(this.getRefElement("applyFilterButton"),!n)}t&&!e||"immediately"===e?this.onBtApply(t):(this.applyActive||e)&&"debounce"!==e||this.onBtApplyDebounce()},e.prototype.afterGuiAttached=function(t){null!=t&&(this.hidePopup=t.hidePopup)},e.getDebounceMs=function(t,n){return e.isUseApplyButton(t)?(null!=t.debounceMs&&console.warn("ag-Grid: debounceMs is ignored when apply button is present"),0):null!=t.debounceMs?t.debounceMs:n},e.isUseApplyButton=function(t){return e.checkForDeprecatedParams(t),t.buttons&&t.buttons.indexOf("apply")>=0},e.prototype.destroy=function(){this.hidePopup=null,t.prototype.destroy.call(this)},e.prototype.translate=function(t){return this.gridOptionsWrapper.getLocaleTextFunc()(t,Zr[t])},oo([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),oo([at("rowModel")],e.prototype,"rowModel",void 0),oo([ot],e.prototype,"postConstruct",null),e}(no),so=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ao=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.One=0]="One",t[t.Two=1]="Two"}(qr||(qr={}));var uo,lo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return so(e,t),e.prototype.showValueFrom=function(t){return!this.doesFilterHaveHiddenInput(t)&&t!==e.EMPTY},e.prototype.showValueTo=function(t){return t===e.IN_RANGE},e.prototype.onFloatingFilterChanged=function(t,e){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(e),this.onUiChanged(!0)},e.prototype.setTypeFromFloatingFilter=function(t){this.eType1.setValue(t),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},e.prototype.getModelFromUi=function(){return this.isConditionUiComplete(qr.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(qr.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(qr.One),condition2:this.createCondition(qr.Two)}:this.createCondition(qr.One):null},e.prototype.getCondition1Type=function(){return this.eType1.getValue()},e.prototype.getCondition2Type=function(){return this.eType2.getValue()},e.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},e.prototype.areModelsEqual=function(t,e){if(!t&&!e)return!0;if(!t&&e||t&&!e)return!1;var n,r=!t.operator,o=!e.operator;if(!r&&o||r&&!o)return!1;if(r){var i=t,s=e;n=this.areSimpleModelsEqual(i,s)}else{var a=t,u=e;n=a.operator===u.operator&&this.areSimpleModelsEqual(a.condition1,u.condition1)&&this.areSimpleModelsEqual(a.condition2,u.condition2)}return n},e.prototype.setModelIntoUi=function(t){if(t.operator){var e=t,n="OR"===e.operator;this.eJoinOperatorAnd.setValue(!n),this.eJoinOperatorOr.setValue(n),this.eType1.setValue(e.condition1.type),this.eType2.setValue(e.condition2.type),this.setConditionIntoUi(e.condition1,qr.One),this.setConditionIntoUi(e.condition2,qr.Two)}else{var r=t;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(r.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(r,qr.One),this.setConditionIntoUi(null,qr.Two)}return xr.resolve()},e.prototype.doesFilterPass=function(t){var e=this,n=this.getModel();if(null==n)return!0;var r=n.operator,o=[];if(r){var i=n;o.push(i.condition1,i.condition2)}else o.push(n);return(r&&"OR"===r?S:R)(o,(function(n){return e.individualConditionPasses(t,n)}))},e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.optionsFactory=new Jr,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.allowTwoConditions=!e.suppressAndOrCondition,this.alwaysShowBothConditions=!!e.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},e.prototype.getDefaultJoinOperator=function(t){return E(["AND","OR"],t)?t:"AND"},e.prototype.putOptionsIntoDropdown=function(){var t=this,e=this.optionsFactory.getFilterOptions();T(e,(function(e){var n,r;if("string"===typeof e)n=e,r=t.translate(n);else{n=e.displayKey;var o=t.optionsFactory.getCustomOption(n);r=o?o.displayName:t.translate(n)}var i=function(){return{value:n,text:r}};t.eType1.addOption(i()),t.eType2.addOption(i())}));var n=e.length<=1;this.eType1.setDisabled(n),this.eType2.setDisabled(n)},e.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},e.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(qr.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(qr.Two)},e.prototype.getCssIdentifier=function(){return"simple-filter"},e.prototype.updateUiVisibility=function(){var t=this.isCondition2Enabled();this.alwaysShowBothConditions?(this.eJoinOperatorAnd.setDisabled(!t),this.eJoinOperatorOr.setDisabled(!t),this.eType2.setDisabled(!t),Xe(this.eCondition2Body,!t)):(Ye(this.eJoinOperatorPanel,t),Ye(this.eType2.getGui(),t),Ye(this.eCondition2Body,t))},e.prototype.isCondition2Enabled=function(){return this.allowTwoConditions&&this.isConditionUiComplete(qr.One)},e.prototype.resetUiToDefaults=function(t){var e="ag-simple-filter-and-or-"+this.getCompId(),n=this.optionsFactory.getDefaultOption();return this.eType1.setValue(n,t).setAriaLabel("Filtering operator"),this.eType2.setValue(n,t).setAriaLabel("Filtering operator"),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),t).setName(e).setLabel(this.translate("andCondition")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),t).setName(e).setLabel(this.translate("orCondition")),xr.resolve()},e.prototype.isDefaultOperator=function(t){return t===this.defaultJoinOperator},e.prototype.addChangedListeners=function(){var t=this,e=function(){return t.onUiChanged()};this.eType1.onValueChange(e),this.eType2.onValueChange(e),this.eJoinOperatorOr.onValueChange(e),this.eJoinOperatorAnd.onValueChange(e)},e.prototype.doesFilterHaveHiddenInput=function(t){var e=this.optionsFactory.getCustomOption(t);return e&&e.hideFilterInput},e.EMPTY="empty",e.EQUALS="equals",e.NOT_EQUAL="notEqual",e.LESS_THAN="lessThan",e.LESS_THAN_OR_EQUAL="lessThanOrEqual",e.GREATER_THAN="greaterThan",e.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",e.IN_RANGE="inRange",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.STARTS_WITH="startsWith",e.ENDS_WITH="endsWith",ao([Wr("eOptions1")],e.prototype,"eType1",void 0),ao([Wr("eOptions2")],e.prototype,"eType2",void 0),ao([Wr("eJoinOperatorPanel")],e.prototype,"eJoinOperatorPanel",void 0),ao([Wr("eJoinOperatorAnd")],e.prototype,"eJoinOperatorAnd",void 0),ao([Wr("eJoinOperatorOr")],e.prototype,"eJoinOperatorOr",void 0),ao([Wr("eCondition1Body")],e.prototype,"eCondition1Body",void 0),ao([Wr("eCondition2Body")],e.prototype,"eCondition2Body",void 0),e}(io),co=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),po=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return co(e,t),e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.scalarFilterParams=e,this.checkDeprecatedParams()},e.prototype.checkDeprecatedParams=function(){this.scalarFilterParams.nullComparator&&(console.warn("ag-Grid: Since v21.0, the property filterParams.nullComparator is deprecated. Please use filterParams.includeBlanksInEquals, filterParams.includeBlanksInLessThan and filterParams.includeBlanksInGreaterThan instead."),this.scalarFilterParams.includeBlanksInEquals=this.scalarFilterParams.nullComparator.equals,this.scalarFilterParams.includeBlanksInLessThan=this.scalarFilterParams.nullComparator.lessThan,this.scalarFilterParams.includeBlanksInGreaterThan=this.scalarFilterParams.nullComparator.greaterThan)},e.prototype.individualConditionPasses=function(t,n){var r=this.scalarFilterParams.valueGetter(t.node),o=this.mapRangeFromModel(n),i=o.from,s=o.to,a=n.type,u=this.optionsFactory.getCustomOption(a);if(u&&(null!=i||u.hideFilterInput))return u.test(i,r);if(null==r){switch(a){case e.EQUALS:case e.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case e.GREATER_THAN:case e.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case e.LESS_THAN:case e.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case e.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0}return!1}var l=this.comparator(),c=l(i,r);switch(a){case e.EQUALS:return 0===c;case e.NOT_EQUAL:return 0!==c;case e.GREATER_THAN:return c>0;case e.GREATER_THAN_OR_EQUAL:return c>=0;case e.LESS_THAN:return c<0;case e.LESS_THAN_OR_EQUAL:return c<=0;case e.IN_RANGE:var p=l(s,r);return this.scalarFilterParams.inRangeInclusive?c>=0&&p<=0:c>0&&p<0;default:throw new Error("Unexpected type of filter: "+a)}},e}(lo),ho=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fo=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},go=function(t){function e(){return t.call(this,"dateFilter")||this}return ho(e,t),e.prototype.mapRangeFromModel=function(t){return{from:sr(t.dateFrom),to:sr(t.dateTo)}},e.prototype.setValueFromFloatingFilter=function(t){this.dateCondition1FromComp.setDate(null==t?null:sr(t)),this.dateCondition1ToComp.setDate(null),this.dateCondition2FromComp.setDate(null),this.dateCondition2ToComp.setDate(null)},e.prototype.setConditionIntoUi=function(t,e){var n=t?[sr(t.dateFrom),sr(t.dateTo)]:[null,null],r=n[0],o=n[1],i=this.getFromToComponents(e),s=i[0],a=i[1];s.setDate(r),a.setDate(o)},e.prototype.resetUiToDefaults=function(e){var n=this;return t.prototype.resetUiToDefaults.call(this,e).then((function(){n.dateCondition1FromComp.setDate(null),n.dateCondition1ToComp.setDate(null),n.dateCondition2FromComp.setDate(null),n.dateCondition2ToComp.setDate(null)}))},e.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},e.prototype.defaultComparator=function(t,e){return null==e||e<t?-1:e>t?1:0},e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.dateFilterParams=e,this.createDateComponents()},e.prototype.createDateComponents=function(){var t=this,e={onDateChanged:function(){return t.onUiChanged()},filterParams:this.dateFilterParams};this.dateCondition1FromComp=new $r(this.getContext(),this.userComponentFactory,e,this.eCondition1PanelFrom),this.dateCondition1ToComp=new $r(this.getContext(),this.userComponentFactory,e,this.eCondition1PanelTo),this.dateCondition2FromComp=new $r(this.getContext(),this.userComponentFactory,e,this.eCondition2PanelFrom),this.dateCondition2ToComp=new $r(this.getContext(),this.userComponentFactory,e,this.eCondition2PanelTo),this.addDestroyFunc((function(){t.dateCondition1FromComp.destroy(),t.dateCondition1ToComp.destroy(),t.dateCondition2FromComp.destroy(),t.dateCondition2ToComp.destroy()}))},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueTemplate=function(t){var e=t===qr.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+e+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+e+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+e+'PanelTo"></div>\n            </div>'},e.prototype.isConditionUiComplete=function(t){var e=t===qr.One?this.getCondition1Type():this.getCondition2Type();if(e===lo.EMPTY)return!1;if(this.doesFilterHaveHiddenInput(e))return!0;var n=this.getFromToComponents(t),r=n[0],o=n[1],i=null==this.dateFilterParams.minValidYear?1e3:this.dateFilterParams.minValidYear,s=function(t){return null!=t&&t.getUTCFullYear()>i};return s(r.getDate())&&(!this.showValueTo(e)||s(o.getDate()))},e.prototype.areSimpleModelsEqual=function(t,e){return t.dateFrom===e.dateFrom&&t.dateTo===e.dateTo&&t.type===e.type},e.prototype.getFilterType=function(){return"date"},e.prototype.createCondition=function(t){var e=t===qr.One?this.getCondition1Type():this.getCondition2Type(),n=this.getFromToComponents(t),r=n[0],o=n[1];return{dateFrom:ir(r.getDate()),dateTo:ir(o.getDate()),type:e,filterType:this.getFilterType()}},e.prototype.resetPlaceholder=function(){var t=this.translate("dateFormatOoo");this.dateCondition1FromComp.setInputPlaceholder(t),this.dateCondition1FromComp.setInputAriaLabel("Filter value"),this.dateCondition1ToComp.setInputPlaceholder(t),this.dateCondition1ToComp.setInputAriaLabel("Filter value"),this.dateCondition2FromComp.setInputPlaceholder(t),this.dateCondition2FromComp.setInputAriaLabel("Filter value"),this.dateCondition2ToComp.setInputPlaceholder(t),this.dateCondition2ToComp.setInputAriaLabel("Filter value")},e.prototype.updateUiVisibility=function(){t.prototype.updateUiVisibility.call(this),this.resetPlaceholder();var e=this.getCondition1Type();Ye(this.eCondition1PanelFrom,this.showValueFrom(e)),Ye(this.eCondition1PanelTo,this.showValueTo(e));var n=this.getCondition2Type();Ye(this.eCondition2PanelFrom,this.showValueFrom(n)),Ye(this.eCondition2PanelTo,this.showValueTo(n))},e.prototype.getFromToComponents=function(t){return t===qr.One?[this.dateCondition1FromComp,this.dateCondition1ToComp]:[this.dateCondition2FromComp,this.dateCondition2ToComp]},e.DEFAULT_FILTER_OPTIONS=[po.EQUALS,po.GREATER_THAN,po.LESS_THAN,po.NOT_EQUAL,po.IN_RANGE],fo([Wr("eCondition1PanelFrom")],e.prototype,"eCondition1PanelFrom",void 0),fo([Wr("eCondition1PanelTo")],e.prototype,"eCondition1PanelTo",void 0),fo([Wr("eCondition2PanelFrom")],e.prototype,"eCondition2PanelFrom",void 0),fo([Wr("eCondition2PanelTo")],e.prototype,"eCondition2PanelTo",void 0),fo([at("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(po),vo=function(){function t(t,e){var n=this;void 0===e&&(e=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new gt,this.eElement=t,this.preventMouseClick=e;var r=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",r,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push((function(){n.eElement.removeEventListener("touchstart",r,{passive:!0}),n.eElement.removeEventListener("touchmove",o,{passive:!0}),n.eElement.removeEventListener("touchend",i,{passive:!1})}))}return t.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++){if(t[e].identifier===this.touchStart.identifier)return t[e]}return null},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.onTouchStart=function(e){var n=this;if(!this.touching){this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;var r=this.touchStart;window.setTimeout((function(){var o=n.touchStart===r;if(n.touching&&o&&!n.moved){n.moved=!0;var i={type:t.EVENT_LONG_TAP,touchStart:n.touchStart,touchEvent:e};n.eventService.dispatchEvent(i)}}),500)}},t.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);if(e)!Or(e,this.touchStart,4)&&(this.moved=!0)}},t.prototype.onTouchEnd=function(e){if(this.touching){if(!this.moved){var n={type:t.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.checkForDoubleTap()}this.preventMouseClick&&e.preventDefault(),this.touching=!1}},t.prototype.checkForDoubleTap=function(){var e=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>t.DOUBLE_TAP_MILLIS){var n={type:t.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e},t.prototype.destroy=function(){this.destroyFuncs.forEach((function(t){return t()}))},t.EVENT_TAP="tap",t.EVENT_DOUBLE_TAP="doubleTap",t.EVENT_LONG_TAP="longTap",t.DOUBLE_TAP_MILLIS=500,t}(),yo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mo=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},bo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return yo(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.refresh=function(t){return this.params=t,this.workOutTemplate()==this.currentTemplate&&(this.workOutShowMenu()==this.currentShowMenu&&(this.workOutSort()==this.currentSort&&(this.setDisplayName(t),!0)))},e.prototype.workOutTemplate=function(){var t=f(this.params.template,e.TEMPLATE);return t=t&&t.trim?t.trim():t},e.prototype.init=function(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(t.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(t)},e.prototype.setDisplayName=function(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;var e=Qt(this.currentDisplayName);this.eText&&(this.eText.innerHTML=e)}},e.prototype.setupIcons=function(t){this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addInIcon("menu",this.eMenu,t),this.addInIcon("filter",this.eFilter,t)},e.prototype.addInIcon=function(t,e,n){if(null!=e){var r=vr(t,this.gridOptionsWrapper,n);e.appendChild(r)}},e.prototype.setupTap=function(){var t=this,e=this.gridOptionsWrapper;if(!e.isSuppressTouch()){var n=new vo(this.getGui(),!0),o=e.isSuppressMenuHide(),i=o&&r(this.eMenu),s=i?new vo(this.eMenu,!0):n;if(this.params.enableMenu){var a=i?"EVENT_TAP":"EVENT_LONG_TAP";this.addManagedListener(s,vo[a],(function(n){e.getApi().showColumnMenuAfterMouseClick(t.params.column,n.touchStart)}))}if(this.params.enableSorting){this.addManagedListener(n,vo.EVENT_TAP,(function(e){var n=e.touchStart.target;o&&t.eMenu.contains(n)||t.sortController.progressSort(t.params.column,!1,"uiColumnSorted")}))}this.addDestroyFunc((function(){return n.destroy()})),i&&this.addDestroyFunc((function(){return s.destroy()}))}},e.prototype.workOutShowMenu=function(){var t=!this.gridOptionsWrapper.isSuppressMenuHide(),e=Fe()&&t;return this.params.enableMenu&&!e},e.prototype.setMenu=function(){var t=this;if(this.eMenu)if(this.currentShowMenu=this.workOutShowMenu(),this.currentShowMenu){var e=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",(function(){return t.showMenu(t.eMenu)})),qe(this.eMenu,"ag-header-menu-always-show",e)}else un(this.eMenu)},e.prototype.showMenu=function(t){t||(t=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,t)},e.prototype.removeSortIcons=function(){un(this.eSortAsc),un(this.eSortDesc),un(this.eSortNone),un(this.eSortOrder)},e.prototype.workOutSort=function(){return this.params.enableSorting},e.prototype.setupSort=function(){var t=this;if(this.currentSort=this.params.enableSorting,this.currentSort){var e=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,bt.EVENT_MOVING_CHANGED,(function(){t.lastMovingChanged=(new Date).getTime()})),this.eLabel&&this.addManagedListener(this.eLabel,"click",(function(n){var r=t.params.column.isMoving(),o=(new Date).getTime()-t.lastMovingChanged<50;if(!(r||o)){var i=e?n.ctrlKey||n.metaKey:n.shiftKey;t.params.progressSort(i)}})),this.addManagedListener(this.params.column,bt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,Bt.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},e.prototype.onSortChanged=function(){if(qe(this.getGui(),"ag-header-cell-sorted-asc",this.params.column.isSortAscending()),qe(this.getGui(),"ag-header-cell-sorted-desc",this.params.column.isSortDescending()),qe(this.getGui(),"ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&qe(this.eSortAsc,"ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&qe(this.eSortDesc,"ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var t=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();qe(this.eSortNone,"ag-hidden",t||!this.params.column.isSortNone())}},e.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var t=this.params.column,e=this.sortController.getColumnsWithSortingOrdered(),n=e.indexOf(t),r=e.length>1,o=t.isSorting()&&r;Ye(this.eSortOrder,o),n>=0?this.eSortOrder.innerHTML=(n+1).toString():an(this.eSortOrder)}},e.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,bt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},e.prototype.onFilterChanged=function(){var t=this.params.column.isFilterActive();qe(this.eFilter,"ag-hidden",!t)},e.TEMPLATE='<div class="ag-cell-label-container">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation" unselectable="on">\n                <span ref="eText" class="ag-header-cell-text" unselectable="on"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',mo([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),mo([at("sortController")],e.prototype,"sortController",void 0),mo([at("menuFactory")],e.prototype,"menuFactory",void 0),mo([Wr("eFilter")],e.prototype,"eFilter",void 0),mo([Wr("eSortAsc")],e.prototype,"eSortAsc",void 0),mo([Wr("eSortDesc")],e.prototype,"eSortDesc",void 0),mo([Wr("eSortNone")],e.prototype,"eSortNone",void 0),mo([Wr("eSortOrder")],e.prototype,"eSortOrder",void 0),mo([Wr("eMenu")],e.prototype,"eMenu",void 0),mo([Wr("eLabel")],e.prototype,"eLabel",void 0),mo([Wr("eText")],e.prototype,"eText",void 0),e}(jr),wo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Co=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Eo=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return wo(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t,this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},e.prototype.setupExpandIcons=function(){var t=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var e=function(e){if(!Pt(e)){var n=!t.params.columnGroup.isExpanded();t.columnController.setColumnGroupOpened(t.params.columnGroup.getOriginalColumnGroup(),n,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,e),this.addTouchAndClickListeners(this.eOpenIcon,e);var n=function(t){Tt(t)};this.addManagedListener(this.eCloseIcon,"dblclick",n),this.addManagedListener(this.eOpenIcon,"dblclick",n),this.addManagedListener(this.getGui(),"dblclick",e),this.updateIconVisibility();var r=this.params.columnGroup.getOriginalColumnGroup();this.addManagedListener(r,Et.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(r,Et.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},e.prototype.addTouchAndClickListeners=function(t,e){var n=new vo(t);this.addManagedListener(n,vo.EVENT_TAP,e),this.addDestroyFunc((function(){return n.destroy()})),this.addManagedListener(t,"click",e)},e.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var t=this.params.columnGroup.isExpanded();Ye(this.eOpenIcon,t),Ye(this.eCloseIcon,!t)}else Ye(this.eOpenIcon,!1),Ye(this.eCloseIcon,!1)},e.prototype.addInIcon=function(t,e){var n=vr(t,this.gridOptionsWrapper,null);this.getRefElement(e).appendChild(n)},e.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return Ye(this.eOpenIcon,!1),void Ye(this.eCloseIcon,!1)},e.prototype.setupLabel=function(){var t=this.params.displayName;if(r(t)){var e=Qt(t);this.getRefElement("agLabel").innerHTML=e}},e.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',Co([at("columnController")],e.prototype,"columnController",void 0),Co([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Co([Wr("agOpened")],e.prototype,"eOpenIcon",void 0),Co([Wr("agClosed")],e.prototype,"eCloseIcon",void 0),e}(jr),_o=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Oo=function(){function t(){this.childrenMapped={},this.selectable=!0,this.__objectId=t.OBJECT_ID_SEQUENCE++,this.alreadyRendered=!1,this.highlighted=null,this.selected=!1}return t.prototype.setData=function(t){var e=this.data;this.data=t,this.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var n=this.createDataChangedEvent(t,e,!1);this.dispatchLocalEvent(n)},t.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},t.prototype.createDataChangedEvent=function(e,n,r){return{type:t.EVENT_DATA_CHANGED,node:this,oldData:n,newData:e,update:r}},t.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},t.prototype.updateData=function(t){var e=this.data;this.data=t,this.updateDataOnDetailNode(),this.checkRowSelectable(),this.updateDataOnDetailNode();var n=this.createDataChangedEvent(t,e,!0);this.dispatchLocalEvent(n)},t.prototype.getRowIndexString=function(){return this.rowPinned===vt.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===vt.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},t.prototype.createDaemonNode=function(){var e=new t;return this.context.createBean(e),e.id=this.id,e.data=this.data,e.daemon=!0,e.selected=this.selected,e.level=this.level,e},t.prototype.setDataAndId=function(t,e){var n=r(this.id)?this.createDaemonNode():null,o=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.selectionController.syncInRowNode(this,n),this.checkRowSelectable();var i=this.createDataChangedEvent(t,o,!1);this.dispatchLocalEvent(i)},t.prototype.checkRowSelectable=function(){var t=this.gridOptionsWrapper.getIsRowSelectableFunc(),e=t&&r(this);this.setRowSelectable(!e||t(this))},t.prototype.setRowSelectable=function(e){this.selectable!==e&&(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_SELECTABLE_CHANGED)))},t.prototype.setId=function(e){var n=this.gridOptionsWrapper.getRowNodeIdFunc();n?this.data?(this.id=n(this.data),this.id&&this.id.startsWith&&this.id.startsWith(t.ID_PREFIX_ROW_GROUP)&&console.error("ag-Grid: Row ID's cannot start with "+t.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for ag-Grid's row grouping feature.")):this.id=void 0:this.id=e},t.prototype.isPixelInRange=function(t){return t>=this.rowTop&&t<this.rowTop+this.rowHeight},t.prototype.clearRowTop=function(){this.oldRowTop=this.rowTop,this.setRowTop(null)},t.prototype.setFirstChild=function(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_FIRST_CHILD_CHANGED)))},t.prototype.setLastChild=function(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_LAST_CHILD_CHANGED)))},t.prototype.setChildIndex=function(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_CHILD_INDEX_CHANGED)))},t.prototype.setRowTop=function(e){this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_TOP_CHANGED)))},t.prototype.setDragging=function(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_DRAGGING_CHANGED)))},t.prototype.setHighlighted=function(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HIGHLIGHT_CHANGED)))},t.prototype.setAllChildrenCount=function(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},t.prototype.setMaster=function(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_MASTER_CHANGED)))},t.prototype.setRowHeight=function(e,n){void 0===n&&(n=!1),this.rowHeight=e,this.rowHeightEstimated=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HEIGHT_CHANGED))},t.prototype.setRowIndex=function(e){this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_ROW_INDEX_CHANGED))},t.prototype.setUiLevel=function(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_UI_LEVEL_CHANGED)))},t.prototype.setExpanded=function(e){if(this.expanded!==e){this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_EXPANDED_CHANGED));var n=V({},this.createGlobalRowEvent(Bt.EVENT_ROW_GROUP_OPENED),{expanded:e});this.mainEventService.dispatchEvent(n),this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridApi.redrawRows({rowNodes:[this]})}},t.prototype.createGlobalRowEvent=function(t){return{type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},t.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},t.prototype.setDataValue=function(t,e){var n=this.columnController.getPrimaryColumn(t),r=this.valueService.getValue(n,this);this.valueService.setValue(this,n,e),this.dispatchCellChangedEvent(n,e,r)},t.prototype.setGroupValue=function(t,e){var n=this.columnController.getGridColumn(t);o(this.groupData)&&(this.groupData={});var r=n.getColId(),i=this.groupData[r];i!==e&&(this.groupData[r]=e,this.dispatchCellChangedEvent(n,e,i))},t.prototype.setAggData=function(t){var e=this,n=M([this.aggData,t]),r=this.aggData;this.aggData=t,this.eventService&&n.forEach((function(t){var n=e.columnController.getGridColumn(t),o=e.aggData?e.aggData[t]:void 0,i=r?r[t]:void 0;e.dispatchCellChangedEvent(n,o,i)}))},t.prototype.updateHasChildren=function(){var e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;e!==this.__hasChildren&&(this.__hasChildren=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HAS_CHILDREN_CHANGED)))},t.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},t.prototype.isEmptyRowGroupNode=function(){return this.group&&i(this.childrenAfterGroup)},t.prototype.dispatchCellChangedEvent=function(e,n,r){var o={type:t.EVENT_CELL_CHANGED,node:this,column:e,newValue:n,oldValue:r};this.dispatchLocalEvent(o)},t.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},t.prototype.isExpandable=function(){return!(!this.hasChildren()&&!this.master)},t.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},t.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((function(e){return e.depthFirstSearch(t)})),t(this)},t.prototype.calculateSelectedFromChildren=function(){var t,e=!1,n=!1,r=!1;if(this.childrenAfterGroup)for(var o=0;o<this.childrenAfterGroup.length;o++){var i=this.childrenAfterGroup[o];if(i.selectable)switch(i.isSelected()){case!0:e=!0;break;case!1:n=!0;break;default:r=!0}}t=r?void 0:!(!e||n)||!(!e&&n)&&void 0,this.selectThisNode(t)},t.prototype.setSelectedInitialValue=function(t){this.selected=t},t.prototype.setSelected=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.setSelectedParams({newValue:t,clearSelection:e,suppressFinishActions:n,rangeSelect:!1})},t.prototype.isRowPinned=function(){return this.rowPinned===vt.PINNED_TOP||this.rowPinned===vt.PINNED_BOTTOM},t.prototype.setSelectedParams=function(t){var e=this.gridOptionsWrapper.isGroupSelectsChildren(),n=!0===t.newValue,r=!0===t.clearSelection,o=!0===t.suppressFinishActions,i=!0===t.rangeSelect,s=e&&!0===t.groupSelectsFiltered;if(void 0===this.id)return console.warn("ag-Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("ag-Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(t);if(i&&this.selectionController.getLastSelectedNode()){var a=this.selectionController.getLastSelectedNode()!==this,u=this.gridOptionsWrapper.isRowSelectionMulti();if(a&&u)return this.doRowRangeSelection()}var l=0;s&&this.group||this.selectThisNode(n)&&l++;if(e&&this.group&&(l+=this.selectChildNodes(n,s)),!o){if(n&&(r||!this.gridOptionsWrapper.isRowSelectionMulti())&&(l+=this.selectionController.clearOtherNodes(this)),l>0){this.selectionController.updateGroupsFromChildrenSelections();var c={type:Bt.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.mainEventService.dispatchEvent(c)}n&&this.selectionController.setLastSelectedNode(this)}return l},t.prototype.doRowRangeSelection=function(){var t=this.gridOptionsWrapper.isGroupSelectsChildren(),e=this.selectionController.getLastSelectedNode(),n=this.rowModel.getNodesInRangeForSelection(this,e),r=0;n.forEach((function(e){e.group&&t||e.selectThisNode(!0)&&r++})),this.selectionController.updateGroupsFromChildrenSelections();var o={type:Bt.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};return this.mainEventService.dispatchEvent(o),r},t.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},t.prototype.selectThisNode=function(e){var n=!this.selectable&&e,r=this.selected===e;if(n||r)return!1;this.selected=e,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_ROW_SELECTED));var o=this.createGlobalRowEvent(Bt.EVENT_ROW_SELECTED);return this.mainEventService.dispatchEvent(o),!0},t.prototype.selectChildNodes=function(t,e){var n=e?this.childrenAfterFilter:this.childrenAfterGroup;if(!o(n)){for(var r=0,i=0;i<n.length;i++)r+=n[i].setSelectedParams({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:e});return r}},t.prototype.addEventListener=function(t,e){this.eventService||(this.eventService=new gt),this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_MOUSE_ENTER))},t.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_MOUSE_LEAVE))},t.prototype.getFirstChildOfFirstChild=function(t){for(var e,n=this,o=!0,i=!1;o&&!i;){var s=n.parent;r(s)&&n.firstChild?s.rowGroupColumn===t&&(i=!0,e=s):o=!1,n=s}return i?e:null},t.prototype.isFullWidthCell=function(){var t=this.gridOptionsWrapper.getIsFullWidthCellFunc();return!!t&&t(this)},t.ID_PREFIX_ROW_GROUP="row-group-",t.ID_PREFIX_TOP_PINNED="t-",t.ID_PREFIX_BOTTOM_PINNED="b-",t.OBJECT_ID_SEQUENCE=0,t.EVENT_ROW_SELECTED="rowSelected",t.EVENT_DATA_CHANGED="dataChanged",t.EVENT_CELL_CHANGED="cellChanged",t.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",t.EVENT_MASTER_CHANGED="masterChanged",t.EVENT_MOUSE_ENTER="mouseEnter",t.EVENT_MOUSE_LEAVE="mouseLeave",t.EVENT_HEIGHT_CHANGED="heightChanged",t.EVENT_TOP_CHANGED="topChanged",t.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",t.EVENT_LAST_CHILD_CHANGED="lastChildChanged",t.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",t.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",t.EVENT_EXPANDED_CHANGED="expandedChanged",t.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",t.EVENT_SELECTABLE_CHANGED="selectableChanged",t.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",t.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",t.EVENT_DRAGGING_CHANGED="draggingChanged",_o([at("eventService")],t.prototype,"mainEventService",void 0),_o([at("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),_o([at("selectionController")],t.prototype,"selectionController",void 0),_o([at("columnController")],t.prototype,"columnController",void 0),_o([at("valueService")],t.prototype,"valueService",void 0),_o([at("rowModel")],t.prototype,"rowModel",void 0),_o([at("context")],t.prototype,"context",void 0),_o([at("valueCache")],t.prototype,"valueCache",void 0),_o([at("columnApi")],t.prototype,"columnApi",void 0),_o([at("gridApi")],t.prototype,"gridApi",void 0),t}(),Ro=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),So=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},To=function(t){function e(){return t.call(this,'\n            <div class="ag-selection-checkbox">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return Ro(e,t),e.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},e.prototype.onDataChanged=function(){this.onSelectionChanged()},e.prototype.onSelectableChanged=function(){this.showOrHideSelect()},e.prototype.onSelectionChanged=function(){var t=this.rowNode.isSelected(),e=void 0===t?"indeterminate":!0===t?"checked":"unchecked";this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel("Press Space to toggle row selection ("+e+")")},e.prototype.onCheckedClicked=function(){var t=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,groupSelectsFiltered:t})},e.prototype.onUncheckedClicked=function(t){var e=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:t.shiftKey,groupSelectsFiltered:e})},e.prototype.init=function(t){var e=this;this.rowNode=t.rowNode,this.column=t.column,this.onSelectionChanged(),this.addGuiEventListener("click",(function(t){return Tt(t)})),this.addGuiEventListener("dblclick",(function(t){return Tt(t)})),this.addManagedListener(this.eCheckbox.getInputElement(),"click",(function(t){void 0===t.previousValue?0===e.onUncheckedClicked(t.event||{})&&e.onCheckedClicked():t.selected?e.onUncheckedClicked(t.event||{}):e.onCheckedClicked()})),this.addManagedListener(this.rowNode,Oo.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Oo.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Oo.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc(),(this.isRowSelectableFunc||this.checkboxCallbackExists())&&(this.addManagedListener(this.eventService,Bt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelect.bind(this)),this.showOrHideSelect()),this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},e.prototype.showOrHideSelect=function(){var t=this.rowNode.selectable;t&&this.checkboxCallbackExists()&&(t=this.column.isCellCheckboxSelection(this.rowNode)),this.setDisplayed(t)},e.prototype.checkboxCallbackExists=function(){var t=this.column?this.column.getColDef():null;return t&&"function"===typeof t.checkboxSelection},So([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),So([Wr("eCheckbox")],e.prototype,"eCheckbox",void 0),So([ot],e.prototype,"postConstruct",null),e}(jr),Po={propertyName:"dateComponent",isCellRenderer:function(){return!1}},Ao={propertyName:"headerComponent",isCellRenderer:function(){return!1}},Io={propertyName:"headerGroupComponent",isCellRenderer:function(){return!1}},Do={propertyName:"cellRenderer",isCellRenderer:function(){return!0}},No={propertyName:"pinnedRowCellRenderer",isCellRenderer:function(){return!0}},xo={propertyName:"cellEditor",isCellRenderer:function(){return!1}},ko={propertyName:"innerRenderer",isCellRenderer:function(){return!0}},Lo={propertyName:"loadingOverlayComponent",isCellRenderer:function(){return!1}},Fo={propertyName:"noRowsOverlayComponent",isCellRenderer:function(){return!1}},Mo={propertyName:"tooltipComponent",isCellRenderer:function(){return!1}},jo={propertyName:"filter",isCellRenderer:function(){return!1}},Vo={propertyName:"floatingFilterComponent",isCellRenderer:function(){return!1}},Go={propertyName:"toolPanel",isCellRenderer:function(){return!1}},Wo={propertyName:"statusPanel",isCellRenderer:function(){return!1}},Ho=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bo=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.DEFAULT=0]="DEFAULT",t[t.REGISTERED_BY_NAME=1]="REGISTERED_BY_NAME",t[t.HARDCODED=2]="HARDCODED"}(uo||(uo={}));var Uo,zo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ho(e,t),e.prototype.newDateComponent=function(t){return this.createAndInitUserComponent(this.gridOptions,t,Po,"agDateInput")},e.prototype.newHeaderComponent=function(t){return this.createAndInitUserComponent(t.column.getColDef(),t,Ao,"agColumnHeader")},e.prototype.newHeaderGroupComponent=function(t){return this.createAndInitUserComponent(t.columnGroup.getColGroupDef(),t,Io,"agColumnGroupHeader")},e.prototype.newFullWidthGroupRowInnerCellRenderer=function(t){return this.createAndInitUserComponent(this.gridOptions.groupRowRendererParams,t,ko,null,!0)},e.prototype.newFullWidthCellRenderer=function(t,e,n){return this.createAndInitUserComponent(null,t,{propertyName:e,isCellRenderer:function(){return!0}},n)},e.prototype.newCellRenderer=function(t,e,n){return void 0===n&&(n=!1),this.createAndInitUserComponent(t,e,n?No:Do,null,!0)},e.prototype.newCellEditor=function(t,e){return this.createAndInitUserComponent(t,e,xo,"agCellEditor")},e.prototype.newInnerCellRenderer=function(t,e){return this.createAndInitUserComponent(t,e,ko,null)},e.prototype.newLoadingOverlayComponent=function(t){return this.createAndInitUserComponent(this.gridOptions,t,Lo,"agLoadingOverlay")},e.prototype.newNoRowsOverlayComponent=function(t){return this.createAndInitUserComponent(this.gridOptions,t,Fo,"agNoRowsOverlay")},e.prototype.newTooltipComponent=function(t){return this.createAndInitUserComponent(t.colDef,t,Mo,"agTooltipComponent")},e.prototype.newFilterComponent=function(t,e,n){return this.createAndInitUserComponent(t,e,jo,n,!1)},e.prototype.newSetFilterCellRenderer=function(t,e){return this.createAndInitUserComponent(t,e,Do,null,!0)},e.prototype.newFloatingFilterComponent=function(t,e,n){return this.createAndInitUserComponent(t,e,Vo,n,!0)},e.prototype.newToolPanelComponent=function(t,e){return this.createAndInitUserComponent(t,e,Go)},e.prototype.newStatusPanelComponent=function(t,e){return this.createAndInitUserComponent(t,e,Wo)},e.prototype.createAndInitUserComponent=function(t,e,n,r,o){void 0===o&&(o=!1),t||(t=this.gridOptions);var i=this.createComponentInstance(t,n,e,r,o);if(!i)return null;var s=i.componentInstance,a=this.createFinalParams(t,n.propertyName,e,i.paramsFromSelector);this.addReactHacks(a);var u=this.initComponent(s,a);return null==u?xr.resolve(s):u.then((function(){return s}))},e.prototype.addReactHacks=function(t){var e=this.context.getBean("agGridReact");e&&(t.agGridReact=N(e));var n=this.context.getBean("frameworkComponentWrapper");n&&(t.frameworkComponentWrapper=n)},e.prototype.createUserComponentFromConcreteClass=function(t,e){var n=new t;return this.initComponent(n,e),n},e.prototype.lookupComponentClassDef=function(t,e,n,r){void 0===n&&(n=null);var o,i=null,s=null,a=null,u=null;if(null!=t){var l=t[e];null==l||!0===l||("string"===typeof l?i=l:"boolean"===typeof l||(this.agComponentUtils.doesImplementIComponent(l)?s=l:a=l)),u=t[e+"Framework"],o=t[e+"Selector"]}if(s&&u||i&&u||a&&u)throw Error("ag-grid: you are trying to specify: "+e+" twice as a component.");if(u&&!this.frameworkComponentWrapper)throw Error("ag-grid: you are specifying a framework component but you are not using a framework version of ag-grid for : "+e);if(o&&(i||s||a||u))throw Error("ag-grid: you can't specify both, the selector and the component of ag-grid for : "+e);if(u)return{componentFromFramework:!0,component:u,source:uo.HARDCODED,paramsFromSelector:null};if(s)return{componentFromFramework:!1,component:s,source:uo.HARDCODED,paramsFromSelector:null};if(a)return this.agComponentUtils.adaptFunction(e,a,!1,uo.HARDCODED);var c,p=o?o(n):null;if(!(c=p&&p.component?p.component:i||r))return null;var h=this.lookupFromRegisteredComponents(e,c);return h?{componentFromFramework:h.componentFromFramework,component:h.component,source:h.source,paramsFromSelector:p?p.params:null}:null},e.prototype.lookupFromRegisteredComponents=function(t,e){var n=null!=e?e:t,r=this.userComponentRegistry.retrieve(n);return null==r?null:r.componentFromFramework?{component:r.component,componentFromFramework:!0,source:uo.REGISTERED_BY_NAME,paramsFromSelector:null}:this.agComponentUtils.doesImplementIComponent(r.component)?{component:r.component,componentFromFramework:!1,source:r.source==Uo.REGISTERED?uo.REGISTERED_BY_NAME:uo.DEFAULT,paramsFromSelector:null}:this.agComponentUtils.adaptFunction(t,r.component,r.componentFromFramework,r.source==Uo.REGISTERED?uo.REGISTERED_BY_NAME:uo.DEFAULT)},e.prototype.createFinalParams=function(t,e,n,r){void 0===r&&(r=null);var o={};j(o,n);var i=t?t[e+"Params"]:null;null!=i&&("function"===typeof i?j(o,i(n)):"object"===typeof i&&j(o,i));return j(o,r),o},e.prototype.createComponentInstance=function(t,e,n,r,o){var i,s=e.propertyName,a=this.lookupComponentClassDef(t,s,n,r);if(!a||!a.component){var u=t?t[s]:r,l=u||r;return o||console.error("Could not find component "+l+", did you forget to configure this component?"),null}if(a.componentFromFramework){var c=a.component,p=this.componentMetadataProvider.retrieve(s);i=this.frameworkComponentWrapper.wrap(c,p.mandatoryMethodList,p.optionalMethodList,e,r)}else i=new a.component;return{componentInstance:i,paramsFromSelector:a.paramsFromSelector}},e.prototype.initComponent=function(t,e){if(this.context.createBean(t),null!=t.init)return t.init(e)},Bo([at("gridOptions")],e.prototype,"gridOptions",void 0),Bo([at("agComponentUtils")],e.prototype,"agComponentUtils",void 0),Bo([at("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),Bo([at("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),Bo([ut("frameworkComponentWrapper")],e.prototype,"frameworkComponentWrapper",void 0),e=Bo([st("userComponentFactory")],e)}(jt),qo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ko=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Yo=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return qo(e,t),e.prototype.init=function(t){this.params=t,this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&this.assignBlankValueToGroupFooterCell(t);var e=this.isEmbeddedRowMismatch(),n=null==t.value,r=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var o=t.node;if(o.footer)r=(t.colDef&&t.colDef.showRowGroup)!==(o.rowGroupColumn&&o.rowGroupColumn.getColId())}this.cellIsBlank=e||n||r,this.cellIsBlank||(this.setupDragOpenParents(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent())},e.prototype.assignBlankValueToGroupFooterCell=function(t){t.value||-1!=t.node.level||(t.value="")},e.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var t=this.params.pinned===vt.PINNED_LEFT,e=this.params.pinned===vt.PINNED_RIGHT,n=!t&&!e;return this.gridOptionsWrapper.isEnableRtl()?this.columnController.isPinningLeft()?!e:!n:this.columnController.isPinningLeft()?!t:!n},e.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var t=this.params,e=t.node,n=!!!t.colDef||!0===t.colDef.showRowGroup?e.uiLevel:0;t.padding>=0?this.setPaddingDeprecatedWay(n,t.padding):(this.indentClass&&this.removeCssClass(this.indentClass),this.indentClass="ag-row-group-indent-"+n,this.addCssClass(this.indentClass))}},e.prototype.setPaddingDeprecatedWay=function(t,e){K((function(){return console.warn("ag-Grid: since v14.2, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the ag-Grid documentation page for Themes, in particular the property $row-group-indent-size.")}),"groupCellRenderer->doDeprecatedWay");var n=t*e,r=this.getGui(),o=this.gridOptionsWrapper.isEnableRtl()?"paddingRight":"paddingLeft";r.style[o]=n+"px"},e.prototype.setupIndent=function(){var t=this.params.node;this.params.suppressPadding||(this.addManagedListener(t,Oo.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},e.prototype.addValueElement=function(){var t=this.params,e=this.displayedGroup;e.footer?this.createFooterCell():e.hasChildren()||G(t.colDef,"cellRendererParams.innerRenderer",null)||G(t.colDef,"cellRendererParams.innerRendererFramework",null)?(this.createGroupCell(),this.addChildCount()):this.createLeafCell()},e.prototype.createFooterCell=function(){var t,e=this.params.footerValueGetter;if(e){var n=N(this.params);n.value=this.params.value,"function"===typeof e?t=e(n):"string"===typeof e?t=this.expressionService.evaluate(e,n):console.warn("ag-Grid: footerValueGetter should be either a function or a string (expression)")}else t="Total "+this.params.value;this.eValue.innerHTML=t},e.prototype.createGroupCell=function(){var t,e=this,n=this.params,r=this.displayedGroup.rowGroupColumn,o=r||n.column,i=this.params.value,s=o?this.valueFormatterService.formatValue(o,n.node,n.scope,i):null;n.valueFormatted=s,(t=n.fullWidth?this.useFullWidth(n):this.useInnerRenderer(this.params.colDef.cellRendererParams,o.getColDef(),n))&&t.then((function(t){e.innerCellRenderer=t}))},e.prototype.useInnerRenderer=function(t,e,n){var r=this,o=null,i=this.userComponentFactory.lookupComponentClassDef(t,"innerRenderer");if(i&&null!=i.component&&i.source!=uo.DEFAULT)o=this.userComponentFactory.newInnerCellRenderer(t,n);else{var s=this.userComponentFactory.lookupComponentClassDef(e,"cellRenderer");o=s&&s.source!=uo.DEFAULT?this.userComponentFactory.newCellRenderer(e,n):s&&s.source==uo.DEFAULT&&G(e,"cellRendererParams.innerRenderer",null)?this.userComponentFactory.newInnerCellRenderer(e.cellRendererParams,n):this.userComponentFactory.newCellRenderer({},n)}return null!=o?o.then((function(t){null!=t?xn(o,r.eValue):r.eValue.innerText=null!=n.valueFormatted?n.valueFormatted:n.value})):this.eValue.innerText=null!=n.valueFormatted?n.valueFormatted:n.value,o},e.prototype.useFullWidth=function(t){var e=this.userComponentFactory.newFullWidthGroupRowInnerCellRenderer(t);return null!=e?xn(e,this.eValue):this.eValue.innerText=null!=t.valueFormatted?t.valueFormatted:t.value,e},e.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroup,Oo.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},e.prototype.updateChildCount=function(){var t=this.displayedGroup.allChildrenCount,e=null!=t&&t>=0?"("+t+")":"";this.eChildCount.innerHTML=e},e.prototype.createLeafCell=function(){r(this.params.value)&&(this.eValue.innerText=this.params.valueFormatted?this.params.valueFormatted:this.params.value)},e.prototype.isUserWantsSelected=function(){var t=this.params.checkbox;return"function"===typeof t?t(this.params):!0===t},e.prototype.addCheckboxIfNeeded=function(){var t=this,e=this.displayedGroup,n=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(n){var r=new To;this.getContext().createBean(r),r.init({rowNode:e,column:this.params.column}),this.eCheckbox.appendChild(r.getGui()),this.addDestroyFunc((function(){return t.getContext().destroyBean(r)}))}qe(this.eCheckbox,"ag-invisible",!n)},e.prototype.addExpandAndContract=function(){var t=this.params,e=t.eGridCell,n=vr("groupExpanded",this.gridOptionsWrapper,null),r=vr("groupContracted",this.gridOptionsWrapper,null);Un(e,!!t.node.expanded),this.eExpanded.appendChild(n),this.eContracted.appendChild(r),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(t.node,Oo.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var o=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroup,Oo.EVENT_ALL_CHILDREN_COUNT_CHANGED,o),this.addManagedListener(this.displayedGroup,Oo.EVENT_MASTER_CHANGED,o),this.addManagedListener(this.displayedGroup,Oo.EVENT_HAS_CHILDREN_CHANGED,o),this.gridOptionsWrapper.isEnableGroupEdit()||!this.isExpandable()||t.suppressDoubleClickExpand||this.addManagedListener(e,"dblclick",this.onCellDblClicked.bind(this))},e.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent()},e.prototype.onKeyDown=function(t){mr(t,Kr.ENTER)&&!this.params.suppressEnterExpand&&(this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract())},e.prototype.setupDragOpenParents=function(){var t=this.params.column,e=this.params.node;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(e.hasChildren()){var n=e.rowGroupColumn;this.draggedFromHideOpenParents=!!n&&!t.isRowGroupDisplayed(n.getId())}else this.draggedFromHideOpenParents=!0;else this.draggedFromHideOpenParents=!1;if(this.draggedFromHideOpenParents)for(var r=e.parent;!o(r);){if(r.rowGroupColumn&&t.isRowGroupDisplayed(r.rowGroupColumn.getId())){this.displayedGroup=r;break}r=r.parent}o(this.displayedGroup)&&(this.displayedGroup=e)},e.prototype.onExpandClicked=function(t){Pt(t)||(Tt(t),this.onExpandOrContract())},e.prototype.onCellDblClicked=function(t){Pt(t)||(Nt(this.eExpanded,t)||Nt(this.eContracted,t)||this.onExpandOrContract())},e.prototype.onExpandOrContract=function(){var t=this.displayedGroup,e=this.params,n=!t.expanded;t.setExpanded(n),Un(e.eGridCell,n)},e.prototype.isExpandable=function(){var t=this.params.node,e=this.columnController.isPivotMode()&&t.leafGroup;return this.draggedFromHideOpenParents||t.isExpandable()&&!t.footer&&!e},e.prototype.showExpandAndContractIcons=function(){var t=this,e=t.eContracted,n=t.eExpanded,r=t.params,o=t.displayedGroup,i=t.columnController,s=r.eGridCell,a=r.node;if(this.isExpandable()){var u=!!this.draggedFromHideOpenParents||a.expanded;Ye(e,!u),Ye(n,u)}else zn(s),Ye(n,!1),Ye(e,!1);var l=i.isPivotMode()&&o.leafGroup,c=!o.isExpandable(),p=o.footer||c||l;this.addOrRemoveCssClass("ag-row-group",!p),this.addOrRemoveCssClass("ag-row-group-leaf-indent",p)},e.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),t.prototype.destroy.call(this)},e.prototype.refresh=function(){return!1},e.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Ko([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ko([at("expressionService")],e.prototype,"expressionService",void 0),Ko([at("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Ko([at("columnController")],e.prototype,"columnController",void 0),Ko([at("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Ko([Wr("eExpanded")],e.prototype,"eExpanded",void 0),Ko([Wr("eContracted")],e.prototype,"eContracted",void 0),Ko([Wr("eCheckbox")],e.prototype,"eCheckbox",void 0),Ko([Wr("eValue")],e.prototype,"eValue",void 0),Ko([Wr("eChildCount")],e.prototype,"eChildCount",void 0),e}(jr),Qo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xo=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},$o=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.refreshCount=0,n}return Qo(e,t),e.prototype.init=function(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t)},e.prototype.showDelta=function(t,e){var n=Math.abs(e),o=t.formatValue(n),i=r(o)?o:n,s=e>=0;this.eDelta.innerHTML=s?"\u2191"+i:"\u2193"+i,qe(this.eDelta,"ag-value-change-delta-up",s),qe(this.eDelta,"ag-value-change-delta-down",!s)},e.prototype.setTimerToRemoveDelta=function(){var t=this;this.refreshCount++;var e=this.refreshCount;window.setTimeout((function(){e===t.refreshCount&&t.hideDeltaValue()}),2e3)},e.prototype.hideDeltaValue=function(){ze(this.eValue,"ag-value-change-value-highlight"),an(this.eDelta)},e.prototype.refresh=function(t){var e=t.value;if(e!==this.lastValue&&(r(t.valueFormatted)?this.eValue.innerHTML=t.valueFormatted:r(t.value)?this.eValue.innerHTML=e:an(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())){if("number"===typeof e&&"number"===typeof this.lastValue){var n=e-this.lastValue;this.showDelta(t,n)}return this.lastValue&&Ue(this.eValue,"ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=e,!0}},e.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',Xo([at("filterManager")],e.prototype,"filterManager",void 0),e}(jr),Jo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zo=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ti=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.refreshCount=0,n.eCurrent=n.queryForHtmlElement(".ag-value-slide-current"),n}return Jo(e,t),e.prototype.init=function(t){this.params=t,this.refresh(t)},e.prototype.addSlideAnimation=function(){var t=this;this.refreshCount++;var e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=cn('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout((function(){e===t.refreshCount&&Ue(t.ePrevious,"ag-value-slide-out-end")}),50),window.setTimeout((function(){e===t.refreshCount&&(t.getGui().removeChild(t.ePrevious),t.ePrevious=null)}),3e3)},e.prototype.refresh=function(t){var e=t.value;if(o(e)&&(e=""),e!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering())return this.addSlideAnimation(),this.lastValue=e,r(t.valueFormatted)?this.eCurrent.innerHTML=t.valueFormatted:r(t.value)?this.eCurrent.innerHTML=e:an(this.eCurrent),!0},e.TEMPLATE='<span><span class="ag-value-slide-current"></span></span>',Zo([at("filterManager")],e.prototype,"filterManager",void 0),e}(jr),ei=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ni=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ri=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return ei(e,t),e.prototype.init=function(t){var e=vr("groupLoading",this.gridOptionsWrapper,null);this.eLoadingIcon.appendChild(e);var n=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=n("loadingOoo","Loading")},e.prototype.refresh=function(t){return!1},e.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',ni([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ni([Wr("eLoadingIcon")],e.prototype,"eLoadingIcon",void 0),ni([Wr("eLoadingText")],e.prototype,"eLoadingText",void 0),e}(jr),oi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ii=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},si=function(t){function e(){var e=t.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return e.startedByEnter=!1,e}return oi(e,t),e.prototype.init=function(t){var e=this;if(this.focusAfterAttached=t.cellStartedEdit,o(t.values))console.warn("ag-Grid: no values found for select cellEditor");else{this.startedByEnter=t.keyPress===Kr.ENTER;var n=!1;t.values.forEach((function(r){var o={value:r},i=e.valueFormatterService.formatValue(t.column,null,null,r),s=null!==i&&void 0!==i;o.text=s?i:r,e.eSelect.addOption(o),n=n||t.value===r})),n?this.eSelect.setValue(t.value,!0):t.values.length&&this.eSelect.setValue(t.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange((function(){return t.stopEditing()}))}},e.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},e.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},e.prototype.getValue=function(){return this.eSelect.getValue()},e.prototype.isPopup=function(){return!1},ii([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ii([at("valueFormatterService")],e.prototype,"valueFormatterService",void 0),ii([Wr("eSelect")],e.prototype,"eSelect",void 0),e}(Gr),ai=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ui=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ai(e,t),e.prototype.isPopup=function(){return!0},e}(Xr),li=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ci=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return li(e,t),e.prototype.isPopup=function(){return!0},e}(si),pi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hi=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},di=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return pi(e,t),e.prototype.init=function(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),r(t.value)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},e.prototype.onKeyDown=function(t){var e=t.which||t.keyCode;(e===Kr.LEFT||e===Kr.UP||e===Kr.RIGHT||e===Kr.DOWN||t.shiftKey&&e===Kr.ENTER)&&t.stopPropagation()},e.prototype.afterGuiAttached=function(){this.eTextArea.setInputAriaLabel("Input Editor"),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},e.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},e.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',hi([Wr("eTextArea")],e.prototype,"eTextArea",void 0),e}(Gr),fi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gi=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},vi=function(t){function e(){return t.call(this,"numberFilter")||this}return fi(e,t),e.prototype.mapRangeFromModel=function(t){return{from:t.filter,to:t.filterTo}},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.resetUiToDefaults=function(e){var n=this;return t.prototype.resetUiToDefaults.call(this,e).then((function(){[n.eValueFrom1,n.eValueFrom2,n.eValueTo1,n.eValueTo2].forEach((function(t){return t.setValue(null,e)})),n.resetPlaceholder()}))},e.prototype.setConditionIntoUi=function(t,e){var n=e===qr.One,r=n?this.eValueFrom1:this.eValueFrom2,o=n?this.eValueTo1:this.eValueTo2;r.setValue(t?""+t.filter:null),o.setValue(t?""+t.filterTo:null)},e.prototype.setValueFromFloatingFilter=function(t){this.eValueFrom1.setValue(t),this.eValueTo1.setValue(null),this.eValueFrom2.setValue(null),this.eValueTo2.setValue(null)},e.prototype.comparator=function(){return function(t,e){return t===e?0:t<e?1:-1}},e.prototype.setParams=function(e){this.numberFilterParams=e;var n=e.allowedCharPattern;if(n){var r={allowedCharPattern:n};this.resetTemplate({eValueFrom1:r,eValueTo1:r,eValueFrom2:r,eValueTo2:r})}t.prototype.setParams.call(this,e),this.addValueChangedListeners()},e.prototype.addValueChangedListeners=function(){var t=this,e=function(){return t.onUiChanged()};this.eValueFrom1.onValueChange(e),this.eValueTo1.onValueChange(e),this.eValueFrom2.onValueChange(e),this.eValueTo2.onValueChange(e)},e.prototype.resetPlaceholder=function(){var t=this.showValueTo(this.getCondition1Type()),e=this.showValueTo(this.getCondition2Type());this.eValueFrom1.setInputPlaceholder(this.translate(t?"inRangeStart":"filterOoo")),this.eValueFrom1.setInputAriaLabel(t?"Filter from value":"Filter value"),this.eValueTo1.setInputPlaceholder(this.translate("inRangeEnd")),this.eValueTo1.setInputAriaLabel("Filter to value"),this.eValueFrom2.setInputPlaceholder(this.translate(e?"inRangeStart":"filterOoo")),this.eValueFrom2.setInputAriaLabel(e?"Filter from value":"Filter value"),this.eValueTo2.setInputPlaceholder(this.translate("inRangeEnd")),this.eValueTo2.setInputAriaLabel("Filter to value")},e.prototype.afterGuiAttached=function(e){t.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),e&&e.suppressFocus||this.eValueFrom1.getInputElement().focus()},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueTemplate=function(t){var e=t===qr.One?"1":"2",n=(this.numberFilterParams||{}).allowedCharPattern?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+e+'Body" role="presentation">\n                <'+n+' class="ag-filter-from ag-filter-filter" ref="eValueFrom'+e+'"></'+n+">\n                <"+n+' class="ag-filter-to ag-filter-filter" ref="eValueTo'+e+'"></'+n+">\n            </div>"},e.prototype.isConditionUiComplete=function(t){var e=t===qr.One,n=e?this.getCondition1Type():this.getCondition2Type();if(n===lo.EMPTY)return!1;if(this.doesFilterHaveHiddenInput(n))return!0;var r=e?this.eValueFrom1:this.eValueFrom2,o=e?this.eValueTo1:this.eValueTo2;return null!=this.stringToFloat(r.getValue())&&(!this.showValueTo(n)||null!=this.stringToFloat(o.getValue()))},e.prototype.areSimpleModelsEqual=function(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type},e.prototype.getFilterType=function(){return"number"},e.prototype.stringToFloat=function(t){if("number"===typeof t)return t;var e=n(t);return null!=e&&""===e.trim()&&(e=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(e):null==e||"-"===e.trim()?null:parseFloat(e)},e.prototype.createCondition=function(t){var e=t===qr.One,n=e?this.getCondition1Type():this.getCondition2Type(),r=e?this.eValueFrom1:this.eValueFrom2,o=this.stringToFloat(r.getValue()),i={filterType:this.getFilterType(),type:n};if(!this.doesFilterHaveHiddenInput(n)&&(i.filter=o,this.showValueTo(n))){var s=e?this.eValueTo1:this.eValueTo2,a=this.stringToFloat(s.getValue());i.filterTo=a}return i},e.prototype.updateUiVisibility=function(){t.prototype.updateUiVisibility.call(this),this.resetPlaceholder();var e=this.getCondition1Type(),n=this.getCondition2Type();Ye(this.eValueFrom1.getGui(),this.showValueFrom(e)),Ye(this.eValueTo1.getGui(),this.showValueTo(e)),Ye(this.eValueFrom2.getGui(),this.showValueFrom(n)),Ye(this.eValueTo2.getGui(),this.showValueTo(n))},e.DEFAULT_FILTER_OPTIONS=[po.EQUALS,po.NOT_EQUAL,po.LESS_THAN,po.LESS_THAN_OR_EQUAL,po.GREATER_THAN,po.GREATER_THAN_OR_EQUAL,po.IN_RANGE],gi([Wr("eValueFrom1")],e.prototype,"eValueFrom1",void 0),gi([Wr("eValueTo1")],e.prototype,"eValueTo1",void 0),gi([Wr("eValueFrom2")],e.prototype,"eValueFrom2",void 0),gi([Wr("eValueTo2")],e.prototype,"eValueTo2",void 0),e}(po),yi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mi=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},bi=function(t){function e(){return t.call(this)||this}return yi(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var n=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():e.DEFAULT_LOADING_OVERLAY_TEMPLATE,r=this.gridOptionsWrapper.getLocaleTextFunc(),o=n.replace("[LOADING...]",r("loadingOoo","Loading..."));this.setTemplate(o)},e.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',mi([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(jr),wi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ci=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ei=function(t){function e(){return t.call(this)||this}return wi(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var n=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():e.DEFAULT_NO_ROWS_TEMPLATE,r=this.gridOptionsWrapper.getLocaleTextFunc(),o=n.replace("[NO_ROWS_TO_SHOW]",r("noRowsToShow","No Rows To Show"));this.setTemplate(o)},e.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',Ci([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(jr),_i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oi=function(t){function e(){return t.call(this,'<div class="ag-tooltip"></div>')||this}return _i(e,t),e.prototype.init=function(t){var e=t.value;this.getGui().innerHTML=e},e}(Gr),Ri=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Si=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ti=function(t){function e(){return t.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return Ri(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var e=this;this.shouldUseBrowserDatePicker(t)&&(De()?console.warn("ag-grid: browserDatePicker is specified to true, but it is not supported in IE 11, reverting to plain text date picker"):this.eDateInput.getInputElement().type="date"),this.listener=t.onDateChanged,this.addManagedListener(this.eDateInput.getInputElement(),"input",(function(t){t.target===document.activeElement&&e.listener()}))},e.prototype.getDate=function(){return sr(this.eDateInput.getValue())},e.prototype.setDate=function(t){this.eDateInput.setValue(ir(t,!1))},e.prototype.setInputPlaceholder=function(t){this.eDateInput.setInputPlaceholder(t)},e.prototype.shouldUseBrowserDatePicker=function(t){return t.filterParams&&null!=t.filterParams.browserDatePicker?t.filterParams.browserDatePicker:ke()||Le()},Si([Wr("eDateInput")],e.prototype,"eDateInput",void 0),e}(jr),Pi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ai=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pi(e,t),e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.getTextFromModel=function(t){if(!t)return null;if(t.operator){var e=t,n=this.conditionToString(e.condition1),r=this.conditionToString(e.condition2);return n+" "+e.operator+" "+r}var o=t;return this.conditionToString(o)},e.prototype.isEventFromFloatingFilter=function(t){return t&&t.afterFloatingFilter},e.prototype.getLastType=function(){return this.lastType},e.prototype.setLastTypeFromModel=function(t){if(t){var e;if(t.operator)e=t.condition1;else e=t;this.lastType=e.type}else this.lastType=this.optionsFactory.getDefaultOption()},e.prototype.canWeEditAfterModelFromParentFilter=function(t){if(!t)return this.isTypeEditable(this.lastType);if(t.operator)return!1;var e=t;return this.isTypeEditable(e.type)},e.prototype.init=function(t){this.optionsFactory=new Jr,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption();var e=this.isTypeEditable(this.lastType);this.setEditable(e)},e.prototype.doesFilterHaveHiddenInput=function(t){var e=this.optionsFactory.getCustomOption(t);return e&&e.hideFilterInput},e.prototype.isTypeEditable=function(t){return!this.doesFilterHaveHiddenInput(t)&&t&&t!==lo.IN_RANGE&&t!==lo.EMPTY},e}(jr),Ii=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Di=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ni=function(t){function e(){return t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return Ii(e,t),e.prototype.getDefaultFilterOptions=function(){return go.DEFAULT_FILTER_OPTIONS},e.prototype.conditionToString=function(t){return t.type===lo.IN_RANGE?t.dateFrom+"-"+t.dateTo:null==t.dateFrom?""+t.type:""+t.dateFrom},e.prototype.init=function(e){t.prototype.init.call(this,e),this.params=e,this.createDateComponent(),this.eReadOnlyText.setDisabled(!0).setInputAriaLabel("Date Filter Input")},e.prototype.setEditable=function(t){Ye(this.eDateWrapper,t),Ye(this.eReadOnlyText.getGui(),!t)},e.prototype.onParentModelChanged=function(e,n){if(!this.isEventFromFloatingFilter(n)){t.prototype.setLastTypeFromModel.call(this,e);var r=this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(r),r){if(e){var o=e;this.dateComp.setDate(sr(o.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.getTextFromModel(e)),this.dateComp.setDate(null)}},e.prototype.onDateChanged=function(){var t=this,e=ir(this.dateComp.getDate());this.params.parentFilterInstance((function(n){n&&n.onFloatingFilterChanged(t.getLastType(),e)}))},e.prototype.createDateComponent=function(){var t=this,e=io.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),n={onDateChanged:Z(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new $r(this.getContext(),this.userComponentFactory,n,this.eDateWrapper),this.addDestroyFunc((function(){return t.dateComp.destroy()}))},Di([at("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Di([Wr("eReadOnlyText")],e.prototype,"eReadOnlyText",void 0),Di([Wr("eDateWrapper")],e.prototype,"eDateWrapper",void 0),e}(Ai),xi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ki=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Li=function(t){function e(){return t.call(this,"textFilter")||this}return xi(e,t),e.cleanInput=function(t){var e=t&&t.trim();return""===e?t:e},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.getCleanValue=function(t){return e.cleanInput(n(t.getValue()))},e.prototype.addValueChangedListeners=function(){var t=this,e=function(){return t.onUiChanged()};this.eValue1.onValueChange(e),this.eValue2.onValueChange(e)},e.prototype.setParams=function(n){t.prototype.setParams.call(this,n),this.textFilterParams=n,this.comparator=this.textFilterParams.textCustomComparator||e.DEFAULT_COMPARATOR,this.formatter=this.textFilterParams.textFormatter||(1==this.textFilterParams.caseSensitive?e.DEFAULT_FORMATTER:e.DEFAULT_LOWERCASE_FORMATTER),this.addValueChangedListeners()},e.prototype.setConditionIntoUi=function(t,e){(e===qr.One?this.eValue1:this.eValue2).setValue(t?t.filter:null)},e.prototype.createCondition=function(t){var e=t===qr.One,n=e?this.getCondition1Type():this.getCondition2Type(),r=e?this.eValue1:this.eValue2,o=this.getCleanValue(r);r.setValue(o,!0);var i={filterType:this.getFilterType(),type:n};return this.doesFilterHaveHiddenInput(n)||(i.filter=o),i},e.prototype.getFilterType=function(){return"text"},e.prototype.areSimpleModelsEqual=function(t,e){return t.filter===e.filter&&t.type===e.type},e.prototype.resetUiToDefaults=function(e){var n=this;return t.prototype.resetUiToDefaults.call(this,e).then((function(){n.forEachInput((function(t){return t.setValue(null,e)})),n.resetPlaceholder()}))},e.prototype.resetPlaceholder=function(){var t=this.translate("filterOoo");this.forEachInput((function(e){e.setInputPlaceholder(t),e.setInputAriaLabel("Filter value")}))},e.prototype.forEachInput=function(t){T([this.eValue1,this.eValue2],t)},e.prototype.setValueFromFloatingFilter=function(t){this.eValue1.setValue(t),this.eValue2.setValue(null)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueTemplate=function(t){var e=t===qr.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+e+'Body" role="presentation">\n                <ag-input-text-field class="ag-filter-filter" ref="eValue'+e+'"></ag-input-text-field>\n            </div>'},e.prototype.updateUiVisibility=function(){t.prototype.updateUiVisibility.call(this),Ye(this.eCondition1Body,this.showValueFrom(this.getCondition1Type())),Ye(this.eCondition2Body,this.isCondition2Enabled()&&this.showValueFrom(this.getCondition2Type()))},e.prototype.afterGuiAttached=function(e){t.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),e&&e.suppressFocus||this.eValue1.getInputElement().focus()},e.prototype.isConditionUiComplete=function(t){var e=t===qr.One,n=e?this.getCondition1Type():this.getCondition2Type();return n!==lo.EMPTY&&(!!this.doesFilterHaveHiddenInput(n)||null!=this.getCleanValue(e?this.eValue1:this.eValue2))},e.prototype.individualConditionPasses=function(t,e){var n=e.filter,r=e.type,o=this.textFilterParams.valueGetter(t.node),i=this.formatter(o),s=this.optionsFactory.getCustomOption(r);if(s&&(null!=n||s.hideFilterInput))return s.test(n,i);if(null==o)return r===lo.NOT_EQUAL||r===lo.NOT_CONTAINS;var a=this.formatter(n);return this.comparator(r,i,a)},e.DEFAULT_FILTER_OPTIONS=[lo.CONTAINS,lo.NOT_CONTAINS,lo.EQUALS,lo.NOT_EQUAL,lo.STARTS_WITH,lo.ENDS_WITH],e.DEFAULT_FORMATTER=function(t){return t},e.DEFAULT_LOWERCASE_FORMATTER=function(t){return null==t?null:t.toString().toLowerCase()},e.DEFAULT_COMPARATOR=function(t,n,r){switch(t){case e.CONTAINS:return n.indexOf(r)>=0;case e.NOT_CONTAINS:return n.indexOf(r)<0;case e.EQUALS:return n===r;case e.NOT_EQUAL:return n!=r;case e.STARTS_WITH:return 0===n.indexOf(r);case e.ENDS_WITH:var o=n.lastIndexOf(r);return o>=0&&o===n.length-r.length;default:return console.warn("invalid filter type "+t),!1}},ki([Wr("eValue1")],e.prototype,"eValue1",void 0),ki([Wr("eValue2")],e.prototype,"eValue2",void 0),e}(lo),Fi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mi=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ji=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fi(e,t),e.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>')},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.onParentModelChanged=function(t,e){this.isEventFromFloatingFilter(e)||(this.setLastTypeFromModel(t),this.eFloatingFilterInput.setValue(this.getTextFromModel(t)),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)))},e.prototype.init=function(e){t.prototype.init.call(this,e),this.params=e,this.applyActive=io.isUseApplyButton(this.params.filterParams);var n=io.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),r=Z(this.syncUpWithParentFilter.bind(this),n),o=this.eFloatingFilterInput.getGui();this.addManagedListener(o,"input",r),this.addManagedListener(o,"keypress",r),this.addManagedListener(o,"keydown",r);var i=e.column.getDefinition();i.filterParams&&i.filterParams.filterOptions&&1===i.filterParams.filterOptions.length&&"inRange"===i.filterParams.filterOptions[0]&&this.eFloatingFilterInput.setDisabled(!0);var s=this.columnController.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterInput.setInputAriaLabel(s+" Filter Input")},e.prototype.syncUpWithParentFilter=function(t){var e=this,n=mr(t,Kr.ENTER);if(!this.applyActive||n){var r=Li.cleanInput(this.eFloatingFilterInput.getValue());this.eFloatingFilterInput.setValue(r,!0),this.params.parentFilterInstance((function(t){t&&t.onFloatingFilterChanged(e.getLastType(),r)}))}},e.prototype.setEditable=function(t){this.eFloatingFilterInput.setDisabled(!t)},Mi([at("columnController")],e.prototype,"columnController",void 0),Mi([Wr("eFloatingFilterInput")],e.prototype,"eFloatingFilterInput",void 0),Mi([ot],e.prototype,"postConstruct",null),e}(Ai),Vi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vi(e,t),e.prototype.getDefaultFilterOptions=function(){return vi.DEFAULT_FILTER_OPTIONS},e.prototype.conditionToString=function(t){return t.type==lo.IN_RANGE?t.filter+"-"+t.filterTo:null!=t.filter?""+t.filter:""+t.type},e}(ji),Wi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wi(e,t),e.prototype.conditionToString=function(t){return null!=t.filter?""+t.filter:""+t.type},e.prototype.getDefaultFilterOptions=function(){return Li.DEFAULT_FILTER_OPTIONS},e}(ji),Bi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ui=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.DEFAULT=0]="DEFAULT",t[t.REGISTERED=1]="REGISTERED"}(Uo||(Uo={}));var zi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:Ti,agColumnHeader:bo,agColumnGroupHeader:Eo,agTextColumnFloatingFilter:Hi,agNumberColumnFloatingFilter:Gi,agDateColumnFloatingFilter:Ni,agAnimateShowChangeCellRenderer:$o,agAnimateSlideCellRenderer:ti,agGroupCellRenderer:Yo,agGroupRowRenderer:Yo,agLoadingCellRenderer:ri,agCellEditor:Xr,agTextCellEditor:Xr,agSelectCellEditor:si,agPopupTextCellEditor:ui,agPopupSelectCellEditor:ci,agLargeTextCellEditor:di,agTextColumnFilter:Li,agNumberColumnFilter:vi,agDateColumnFilter:go,agLoadingOverlay:bi,agNoRowsOverlay:Ei,agTooltipComponent:Oi},e.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},e.jsComponents={},e.frameworkComponents={},e}return Bi(e,t),e.prototype.init=function(){var t=this;null!=this.gridOptions.components&&D(this.gridOptions.components,(function(e,n){return t.registerComponent(e,n)})),null!=this.gridOptions.frameworkComponents&&D(this.gridOptions.frameworkComponents,(function(e,n){return t.registerFwComponent(e,n)}))},e.prototype.registerDefaultComponent=function(t,e){var n=this.translateIfDeprecated(t);this.agGridDefaults[n]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[n]=e},e.prototype.registerComponent=function(t,e){var n=this.translateIfDeprecated(t);this.frameworkComponents[n]?console.error("Trying to register a component that you have already registered for frameworks: "+n):this.jsComponents[n]=e},e.prototype.registerFwComponent=function(t,e){var n=this.translateIfDeprecated(t);this.jsComponents[n]?console.error("Trying to register a component that you have already registered for plain javascript: "+n):this.frameworkComponents[n]=e},e.prototype.retrieve=function(t){var e=this.translateIfDeprecated(t),n=this.frameworkComponents[e];if(n)return{componentFromFramework:!0,component:n,source:Uo.REGISTERED};var r=this.jsComponents[e];if(r)return{componentFromFramework:!1,component:r,source:Uo.REGISTERED};var o=this.agGridDefaults[e];return o?{componentFromFramework:!1,component:o,source:Uo.DEFAULT}:(Object.keys(this.agGridDefaults).indexOf(e)<0&&console.warn("ag-Grid: Looking for component ["+e+"] but it wasn't found."),null)},e.prototype.translateIfDeprecated=function(t){var e=this.agDeprecatedNames[t];return null!=e?(K((function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+e.propertyHolder+":"+t+" to "+e.propertyHolder+":"+e.newComponentName)}),"DEPRECATE_COMPONENT_"+t),e.newComponentName):t},Ui([at("gridOptions")],e.prototype,"gridOptions",void 0),Ui([ot],e.prototype,"init",null),e=Ui([st("userComponentRegistry")],e)}(jt),qi=function(){function t(){}return t.parse=function(e){if(!e)return null;if(!0===e)return{toolPanels:[t.DEFAULT_COLUMN_COMP,t.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"===typeof e)return t.parse([e]);if(Array.isArray(e)){var n=[];return e.forEach((function(e){var r=t.DEFAULT_BY_KEY[e];r?n.push(r):console.warn("ag-grid: the key "+e+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(t.DEFAULT_BY_KEY).join(","))})),0===n.length?null:{toolPanels:n,defaultToolPanel:n[0].id}}return{toolPanels:t.parseComponents(e.toolPanels),defaultToolPanel:e.defaultToolPanel,hiddenByDefault:e.hiddenByDefault,position:e.position}},t.parseComponents=function(e){var n=[];return e.forEach((function(e){var r=null;if("string"===typeof e){var o=t.DEFAULT_BY_KEY[e];if(!o)return void console.warn("ag-grid: the key "+e+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(t.DEFAULT_BY_KEY).join(","));r=o}else r=e;n.push(r)})),n},t.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},t.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"},t.DEFAULT_BY_KEY={columns:t.DEFAULT_COLUMN_COMP,filters:t.DEFAULT_FILTER_COMP},t}(),Ki=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Yi=function(t,e){return function(n,r){e(n,r,t)}},Qi=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};function Xi(t){return!0===t||"true"===t}var $i,Ji,Zi=function(){function t(){this.propertyEventService=new gt,this.domDataKey="__AG_"+Math.random().toString(),this.layoutElements=[],this.destroyed=!1}var n;return n=t,t.prototype.agWire=function(t,e){this.gridOptions.api=t,this.gridOptions.columnApi=e,this.checkForDeprecated(),this.checkForViolations()},t.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.removeEventListener(n.PROP_DOM_LAYOUT,this.updateLayoutClassesListener),this.destroyed=!0},t.prototype.init=function(){var t=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=qi.parse(this.gridOptions.sideBar));var o=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),o),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("ag-Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("ag-Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("ag-Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("ag-Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var i=function(t){return"ag-Grid: '"+t+"' is not supported on the Server-Side Row Model"};r(this.gridOptions.groupDefaultExpanded)&&console.warn(i("groupDefaultExpanded")),r(this.gridOptions.groupDefaultExpanded)&&console.warn(i("groupIncludeFooter")),r(this.gridOptions.groupDefaultExpanded)&&console.warn(i("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&yt.assertRegistered(e.ModuleNames.RangeSelectionModule,"enableRangeSelection"),this.isEnableRangeSelection()||!this.isEnableRangeHandle()&&!this.isEnableFillHandle()||console.warn("ag-Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var s=function(e){t.gridOptions.icons&&t.gridOptions.icons[e]&&console.warn("gridOptions.icons."+e+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};s("radioButtonOff"),s("radioButtonOn"),s("checkboxChecked"),s("checkboxUnchecked"),s("checkboxIndeterminate"),this.updateLayoutClassesListener=this.updateLayoutClasses.bind(this),this.addEventListener(n.PROP_DOM_LAYOUT,this.updateLayoutClassesListener),this.getScrollbarWidth()},t.prototype.checkColumnDefProperties=function(){var t=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach((function(e){var n=Object.getOwnPropertyNames(e),r=Qi(Ce.ALL_PROPERTIES,Ce.FRAMEWORK_PROPERTIES);t.checkProperties(n,r,r,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")}))},t.prototype.checkGridOptionsProperties=function(){var t=Object.getOwnPropertyNames(this.gridOptions),e=Qi(ye.ALL_PROPERTIES,ye.FRAMEWORK_PROPERTIES,p(Bt).map((function(t){return be.getCallbackForEvent(t)}))),n=Qi(e,["api","columnApi"]);this.checkProperties(t,n,e,"gridOptions","https://www.ag-grid.com/javascript-grid-properties/")},t.prototype.checkProperties=function(t,e,n,r,o){var i=ur(t,e,n);D(i,(function(t,e){console.warn("ag-grid: invalid "+r+" property '"+t+"' did you mean any of these: "+e.slice(0,8).join(", "))})),Object.keys(i).length>0&&console.warn("ag-grid: to see all the valid "+r+" properties please check: "+o)},t.prototype.getDomDataKey=function(){return this.domDataKey},t.prototype.getDomData=function(t,e){var n=t[this.getDomDataKey()];return n?n[e]:void 0},t.prototype.setDomData=function(t,e,n){var r=this.getDomDataKey(),i=t[r];o(i)&&(i={},t[r]=i),i[e]=n},t.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},t.prototype.isSuppressRowDeselection=function(){return Xi(this.gridOptions.suppressRowDeselection)},t.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},t.prototype.isRowMultiSelectWithClick=function(){return Xi(this.gridOptions.rowMultiSelectWithClick)},t.prototype.getContext=function(){return this.gridOptions.context},t.prototype.isPivotMode=function(){return Xi(this.gridOptions.pivotMode)},t.prototype.isSuppressExpandablePivotGroups=function(){return Xi(this.gridOptions.suppressExpandablePivotGroups)},t.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},t.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},t.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===vt.ROW_MODEL_TYPE_INFINITE},t.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===vt.ROW_MODEL_TYPE_VIEWPORT},t.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===vt.ROW_MODEL_TYPE_SERVER_SIDE},t.prototype.isRowModelDefault=function(){return o(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===vt.ROW_MODEL_TYPE_CLIENT_SIDE},t.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},t.prototype.isSuppressFocusAfterRefresh=function(){return Xi(this.gridOptions.suppressFocusAfterRefresh)},t.prototype.isSuppressBrowserResizeObserver=function(){return Xi(this.gridOptions.suppressBrowserResizeObserver)},t.prototype.isSuppressMaintainUnsortedOrder=function(){return Xi(this.gridOptions.suppressMaintainUnsortedOrder)},t.prototype.isSuppressClearOnFillReduction=function(){return Xi(this.gridOptions.suppressClearOnFillReduction)},t.prototype.isShowToolPanel=function(){return Xi(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},t.prototype.getSideBar=function(){return this.gridOptions.sideBar},t.prototype.isSuppressTouch=function(){return Xi(this.gridOptions.suppressTouch)},t.prototype.isApplyColumnDefOrder=function(){return Xi(this.gridOptions.applyColumnDefOrder)},t.prototype.isSuppressRowTransform=function(){return Xi(this.gridOptions.suppressRowTransform)},t.prototype.isSuppressColumnStateEvents=function(){return Xi(this.gridOptions.suppressColumnStateEvents)},t.prototype.isAllowDragFromColumnsToolPanel=function(){return Xi(this.gridOptions.allowDragFromColumnsToolPanel)},t.prototype.useAsyncEvents=function(){return!Xi(this.gridOptions.suppressAsyncEvents)},t.prototype.isEnableCellChangeFlash=function(){return Xi(this.gridOptions.enableCellChangeFlash)},t.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},t.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},t.prototype.isGroupSelectsChildren=function(){var t=Xi(this.gridOptions.groupSelectsChildren);return t&&this.isTreeData()?(console.warn("ag-Grid: groupSelectsChildren does not work with tree data"),!1):t},t.prototype.isSuppressRowHoverHighlight=function(){return Xi(this.gridOptions.suppressRowHoverHighlight)},t.prototype.isGroupSelectsFiltered=function(){return Xi(this.gridOptions.groupSelectsFiltered)},t.prototype.isGroupHideOpenParents=function(){return Xi(this.gridOptions.groupHideOpenParents)},t.prototype.isGroupMultiAutoColumn=function(){return Xi(this.gridOptions.groupMultiAutoColumn)||Xi(this.gridOptions.groupHideOpenParents)},t.prototype.isGroupRemoveSingleChildren=function(){return Xi(this.gridOptions.groupRemoveSingleChildren)},t.prototype.isGroupRemoveLowestSingleChildren=function(){return Xi(this.gridOptions.groupRemoveLowestSingleChildren)},t.prototype.isGroupIncludeFooter=function(){return Xi(this.gridOptions.groupIncludeFooter)},t.prototype.isGroupIncludeTotalFooter=function(){return Xi(this.gridOptions.groupIncludeTotalFooter)},t.prototype.isGroupSuppressBlankHeader=function(){return Xi(this.gridOptions.groupSuppressBlankHeader)},t.prototype.isSuppressRowClickSelection=function(){return Xi(this.gridOptions.suppressRowClickSelection)},t.prototype.isSuppressCellSelection=function(){return Xi(this.gridOptions.suppressCellSelection)},t.prototype.isSuppressMultiSort=function(){return Xi(this.gridOptions.suppressMultiSort)},t.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},t.prototype.isGroupSuppressAutoColumn=function(){return Xi(this.gridOptions.groupSuppressAutoColumn)},t.prototype.isPivotSuppressAutoColumn=function(){return Xi(this.gridOptions.pivotSuppressAutoColumn)},t.prototype.isSuppressDragLeaveHidesColumns=function(){return Xi(this.gridOptions.suppressDragLeaveHidesColumns)},t.prototype.isSuppressScrollOnNewData=function(){return Xi(this.gridOptions.suppressScrollOnNewData)},t.prototype.isRowDragManaged=function(){return Xi(this.gridOptions.rowDragManaged)},t.prototype.isSuppressRowDrag=function(){return Xi(this.gridOptions.suppressRowDrag)},t.prototype.isSuppressMoveWhenRowDragging=function(){return Xi(this.gridOptions.suppressMoveWhenRowDragging)},t.prototype.isEnableMultiRowDragging=function(){return Xi(this.gridOptions.enableMultiRowDragging)},t.prototype.getDomLayout=function(){var t=this.gridOptions.domLayout||vt.DOM_LAYOUT_NORMAL;return-1===[vt.DOM_LAYOUT_PRINT,vt.DOM_LAYOUT_AUTO_HEIGHT,vt.DOM_LAYOUT_NORMAL].indexOf(t)?(K((function(){return console.warn("ag-Grid: "+t+" is not valid for DOM Layout, valid values are "+vt.DOM_LAYOUT_NORMAL+", "+vt.DOM_LAYOUT_AUTO_HEIGHT+" and "+vt.DOM_LAYOUT_PRINT)}),"warn about dom layout values"),vt.DOM_LAYOUT_NORMAL):t},t.prototype.isSuppressHorizontalScroll=function(){return Xi(this.gridOptions.suppressHorizontalScroll)},t.prototype.isSuppressMaxRenderedRowRestriction=function(){return Xi(this.gridOptions.suppressMaxRenderedRowRestriction)},t.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return Xi(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},t.prototype.isAlwaysShowVerticalScroll=function(){return Xi(this.gridOptions.alwaysShowVerticalScroll)},t.prototype.isDebounceVerticalScrollbar=function(){return Xi(this.gridOptions.debounceVerticalScrollbar)},t.prototype.isSuppressLoadingOverlay=function(){return Xi(this.gridOptions.suppressLoadingOverlay)},t.prototype.isSuppressNoRowsOverlay=function(){return Xi(this.gridOptions.suppressNoRowsOverlay)},t.prototype.isSuppressFieldDotNotation=function(){return Xi(this.gridOptions.suppressFieldDotNotation)},t.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},t.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},t.prototype.isFunctionsPassive=function(){return Xi(this.gridOptions.functionsPassive)},t.prototype.isSuppressChangeDetection=function(){return Xi(this.gridOptions.suppressChangeDetection)},t.prototype.isSuppressAnimationFrame=function(){return Xi(this.gridOptions.suppressAnimationFrame)},t.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},t.prototype.isCacheQuickFilter=function(){return Xi(this.gridOptions.cacheQuickFilter)},t.prototype.isUnSortIcon=function(){return Xi(this.gridOptions.unSortIcon)},t.prototype.isSuppressMenuHide=function(){return Xi(this.gridOptions.suppressMenuHide)},t.prototype.isEnterMovesDownAfterEdit=function(){return Xi(this.gridOptions.enterMovesDownAfterEdit)},t.prototype.isEnterMovesDown=function(){return Xi(this.gridOptions.enterMovesDown)},t.prototype.isUndoRedoCellEditing=function(){return Xi(this.gridOptions.undoRedoCellEditing)},t.prototype.getUndoRedoCellEditingLimit=function(){return this.gridOptions.undoRedoCellEditingLimit},t.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},t.prototype.getRowClass=function(){return this.gridOptions.rowClass},t.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},t.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},t.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},t.prototype.getCreateChartContainerFunc=function(){return this.gridOptions.createChartContainer},t.prototype.getPopupParent=function(){return this.gridOptions.popupParent},t.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},t.prototype.getPostProcessPopupFunc=function(){return this.gridOptions.postProcessPopup},t.prototype.getPaginationNumberFormatterFunc=function(){return this.gridOptions.paginationNumberFormatter},t.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},t.prototype.getDefaultGroupSortComparator=function(){return this.gridOptions.defaultGroupSortComparator},t.prototype.getIsFullWidthCellFunc=function(){return this.gridOptions.isFullWidthCell},t.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},t.prototype.isEmbedFullWidthRows=function(){return Xi(this.gridOptions.embedFullWidthRows)||Xi(this.gridOptions.deprecatedEmbedFullWidthRows)},t.prototype.isDetailRowAutoHeight=function(){return Xi(this.gridOptions.detailRowAutoHeight)},t.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},t.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},t.prototype.getApi=function(){return this.gridOptions.api},t.prototype.getColumnApi=function(){return this.gridOptions.columnApi},t.prototype.isImmutableData=function(){return Xi(this.gridOptions.immutableData)},t.prototype.isEnsureDomOrder=function(){return Xi(this.gridOptions.ensureDomOrder)},t.prototype.isEnableCharts=function(){return!!Xi(this.gridOptions.enableCharts)&&yt.assertRegistered(e.ModuleNames.GridChartsModule,"enableCharts")},t.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},t.prototype.isSingleClickEdit=function(){return Xi(this.gridOptions.singleClickEdit)},t.prototype.isSuppressClickEdit=function(){return Xi(this.gridOptions.suppressClickEdit)},t.prototype.isStopEditingWhenGridLosesFocus=function(){return Xi(this.gridOptions.stopEditingWhenGridLosesFocus)},t.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},t.prototype.getMaxConcurrentDatasourceRequests=function(){return this.gridOptions.maxConcurrentDatasourceRequests},t.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},t.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},t.prototype.getPaginationPageSize=function(){return"number"==typeof(t=this.gridOptions.paginationPageSize)?t:"string"==typeof t?parseInt(t,10):void 0;var t},t.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||Xi(this.gridOptions.paginateChildRows)},t.prototype.getCacheBlockSize=function(){return this.gridOptions.cacheBlockSize},t.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},t.prototype.isPurgeClosedRowNodes=function(){return Xi(this.gridOptions.purgeClosedRowNodes)},t.prototype.isSuppressPaginationPanel=function(){return Xi(this.gridOptions.suppressPaginationPanel)},t.prototype.getRowData=function(){return this.gridOptions.rowData},t.prototype.isGroupUseEntireRow=function(t){return!t&&Xi(this.gridOptions.groupUseEntireRow)},t.prototype.isEnableRtl=function(){return Xi(this.gridOptions.enableRtl)},t.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},t.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},t.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},t.prototype.isAngularCompileRows=function(){return Xi(this.gridOptions.angularCompileRows)},t.prototype.isAngularCompileFilters=function(){return Xi(this.gridOptions.angularCompileFilters)},t.prototype.isDebug=function(){return Xi(this.gridOptions.debug)},t.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},t.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},t.prototype.getDatasource=function(){return this.gridOptions.datasource},t.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},t.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},t.prototype.isAccentedSort=function(){return Xi(this.gridOptions.accentedSort)},t.prototype.isEnableBrowserTooltips=function(){return Xi(this.gridOptions.enableBrowserTooltips)},t.prototype.isEnableCellExpressions=function(){return Xi(this.gridOptions.enableCellExpressions)},t.prototype.isEnableGroupEdit=function(){return Xi(this.gridOptions.enableGroupEdit)},t.prototype.isSuppressMiddleClickScrolls=function(){return Xi(this.gridOptions.suppressMiddleClickScrolls)},t.prototype.isPreventDefaultOnContextMenu=function(){return Xi(this.gridOptions.preventDefaultOnContextMenu)},t.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return Xi(this.gridOptions.suppressPreventDefaultOnMouseWheel)},t.prototype.isSuppressColumnVirtualisation=function(){return Xi(this.gridOptions.suppressColumnVirtualisation)},t.prototype.isSuppressContextMenu=function(){return Xi(this.gridOptions.suppressContextMenu)},t.prototype.isAllowContextMenuWithControlKey=function(){return Xi(this.gridOptions.allowContextMenuWithControlKey)},t.prototype.isSuppressCopyRowsToClipboard=function(){return Xi(this.gridOptions.suppressCopyRowsToClipboard)},t.prototype.isCopyHeadersToClipboard=function(){return Xi(this.gridOptions.copyHeadersToClipboard)},t.prototype.isSuppressClipboardPaste=function(){return Xi(this.gridOptions.suppressClipboardPaste)},t.prototype.isSuppressLastEmptyLineOnPaste=function(){return Xi(this.gridOptions.suppressLastEmptyLineOnPaste)},t.prototype.isPagination=function(){return Xi(this.gridOptions.pagination)},t.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return Xi(this.gridOptions.suppressEnterpriseResetOnNewColumns)},t.prototype.getProcessDataFromClipboardFunc=function(){return this.gridOptions.processDataFromClipboard},t.prototype.getAsyncTransactionWaitMillis=function(){return r(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:vt.BATCH_WAIT_MILLIS},t.prototype.isSuppressMovableColumns=function(){return Xi(this.gridOptions.suppressMovableColumns)},t.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&Xi(this.gridOptions.animateRows)},t.prototype.isSuppressColumnMoveAnimation=function(){return Xi(this.gridOptions.suppressColumnMoveAnimation)},t.prototype.isSuppressAggFuncInHeader=function(){return Xi(this.gridOptions.suppressAggFuncInHeader)},t.prototype.isSuppressAggAtRootLevel=function(){return Xi(this.gridOptions.suppressAggAtRootLevel)},t.prototype.isEnableRangeSelection=function(){return yt.isRegistered(e.ModuleNames.RangeSelectionModule)&&Xi(this.gridOptions.enableRangeSelection)},t.prototype.isEnableRangeHandle=function(){return Xi(this.gridOptions.enableRangeHandle)},t.prototype.isEnableFillHandle=function(){return Xi(this.gridOptions.enableFillHandle)},t.prototype.getFillHandleDirection=function(){var t=this.gridOptions.fillHandleDirection;return t?"x"!==t&&"y"!==t&&"xy"!==t?(K((function(){return console.warn("ag-Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")}),"warn invalid fill direction"),"xy"):t:"xy"},t.prototype.getFillOperation=function(){return this.gridOptions.fillOperation},t.prototype.isSuppressMultiRangeSelection=function(){return Xi(this.gridOptions.suppressMultiRangeSelection)},t.prototype.isPaginationAutoPageSize=function(){return Xi(this.gridOptions.paginationAutoPageSize)},t.prototype.isRememberGroupStateWhenNewData=function(){return Xi(this.gridOptions.rememberGroupStateWhenNewData)},t.prototype.getIcons=function(){return this.gridOptions.icons},t.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},t.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},t.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},t.prototype.isMasterDetail=function(){return!!Xi(this.gridOptions.masterDetail)&&yt.assertRegistered(e.ModuleNames.MasterDetailModule,"masterDetail")},t.prototype.isKeepDetailRows=function(){return Xi(this.gridOptions.keepDetailRows)},t.prototype.getKeepDetailRowsCount=function(){return this.gridOptions.keepDetailRowsCount>0?this.gridOptions.keepDetailRowsCount:10},t.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},t.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},t.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},t.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},t.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},t.prototype.isSuppressAutoSize=function(){return Xi(this.gridOptions.suppressAutoSize)},t.prototype.isEnableCellTextSelection=function(){return Xi(this.gridOptions.enableCellTextSelection)},t.prototype.isSuppressParentsInRowNodes=function(){return Xi(this.gridOptions.suppressParentsInRowNodes)},t.prototype.isFunctionsReadOnly=function(){return Xi(this.gridOptions.functionsReadOnly)},t.prototype.isFloatingFilter=function(){return this.gridOptions.floatingFilter},t.prototype.isEnableCellTextSelect=function(){return Xi(this.gridOptions.enableCellTextSelection)},t.prototype.isEnableOldSetFilterModel=function(){return Xi(this.gridOptions.enableOldSetFilterModel)},t.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},t.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},t.prototype.getDefaultExportParams=function(){return this.gridOptions.defaultExportParams},t.prototype.isSuppressCsvExport=function(){return Xi(this.gridOptions.suppressCsvExport)},t.prototype.isAllowShowChangeAfterFilter=function(){return Xi(this.gridOptions.allowShowChangeAfterFilter)},t.prototype.isSuppressExcelExport=function(){return Xi(this.gridOptions.suppressExcelExport)},t.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return Xi(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},t.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},t.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},t.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},t.prototype.getGroupRowAggNodesFunc=function(){return this.gridOptions.groupRowAggNodes},t.prototype.getContextMenuItemsFunc=function(){return this.gridOptions.getContextMenuItems},t.prototype.getMainMenuItemsFunc=function(){return this.gridOptions.getMainMenuItems},t.prototype.getRowNodeIdFunc=function(){return this.gridOptions.getRowNodeId},t.prototype.getNavigateToNextHeaderFunc=function(){return this.gridOptions.navigateToNextHeader},t.prototype.getTabToNextHeaderFunc=function(){return this.gridOptions.tabToNextHeader},t.prototype.getNavigateToNextCellFunc=function(){return this.gridOptions.navigateToNextCell},t.prototype.getTabToNextCellFunc=function(){return this.gridOptions.tabToNextCell},t.prototype.isTreeData=function(){return!!Xi(this.gridOptions.treeData)&&yt.assertRegistered(e.ModuleNames.RowGroupingModule,"Tree Data")},t.prototype.isValueCache=function(){return Xi(this.gridOptions.valueCache)},t.prototype.isValueCacheNeverExpires=function(){return Xi(this.gridOptions.valueCacheNeverExpires)},t.prototype.isDeltaSort=function(){return Xi(this.gridOptions.deltaSort)},t.prototype.isAggregateOnlyChangedColumns=function(){return Xi(this.gridOptions.aggregateOnlyChangedColumns)},t.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},t.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},t.prototype.getSendToClipboardFunc=function(){return this.gridOptions.sendToClipboard},t.prototype.getProcessRowPostCreateFunc=function(){return this.gridOptions.processRowPostCreate},t.prototype.getProcessCellForClipboardFunc=function(){return this.gridOptions.processCellForClipboard},t.prototype.getProcessHeaderForClipboardFunc=function(){return this.gridOptions.processHeaderForClipboard},t.prototype.getProcessCellFromClipboardFunc=function(){return this.gridOptions.processCellFromClipboard},t.prototype.getViewportRowModelPageSize=function(){return t=this.gridOptions.viewportRowModelPageSize,e=5,t>0?t:e;var t,e},t.prototype.getViewportRowModelBufferSize=function(){return t=this.gridOptions.viewportRowModelBufferSize,e=5,t>=0?t:e;var t,e},t.prototype.isServerSideSortingAlwaysResets=function(){return Xi(this.gridOptions.serverSideSortingAlwaysResets)},t.prototype.getPostSortFunc=function(){return this.gridOptions.postSort},t.prototype.getChartToolbarItemsFunc=function(){return this.gridOptions.getChartToolbarItems},t.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},t.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},t.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},t.prototype.getProcessChartOptionsFunc=function(){return this.gridOptions.processChartOptions},t.prototype.getClipboardDeliminator=function(){return r(this.gridOptions.clipboardDeliminator)?this.gridOptions.clipboardDeliminator:"\t"},t.prototype.setProperty=function(t,e,n){void 0===n&&(n=!1);var r=this.gridOptions,o=r[t];if(n||o!==e){r[t]=e;var i={type:t,currentValue:e,previousValue:o};this.propertyEventService.dispatchEvent(i)}},t.prototype.addLayoutElement=function(t){this.layoutElements.push(t),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var t=this.getDomLayout(),e=t===vt.DOM_LAYOUT_AUTO_HEIGHT,n=t===vt.DOM_LAYOUT_PRINT,r=t===vt.DOM_LAYOUT_NORMAL;this.layoutElements.forEach((function(t){qe(t,"ag-layout-auto-height",e),qe(t,"ag-layout-normal",r),qe(t,"ag-layout-print",n)}))},t.prototype.addEventListener=function(t,e){this.propertyEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.propertyEventService.removeEventListener(t,e)},t.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},t.prototype.getAutoSizePadding=function(){var t=this.gridOptions.autoSizePadding;return null!=t&&t>=0?t:20},t.prototype.getHeaderHeight=function(){return"number"===typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},t.prototype.getFloatingFiltersHeight=function(){return"number"===typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},t.prototype.getGroupHeaderHeight=function(){return"number"===typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},t.prototype.getPivotHeaderHeight=function(){return"number"===typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},t.prototype.getPivotGroupHeaderHeight=function(){return"number"===typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},t.prototype.isExternalFilterPresent=function(){return"function"===typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},t.prototype.doesExternalFilterPass=function(t){return"function"===typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(t)},t.prototype.getTooltipShowDelay=function(){var t=this.gridOptions.tooltipShowDelay;return r(t)?(t<0&&console.warn("ag-grid: tooltipShowDelay should not be lower than 0"),Math.max(200,t)):null},t.prototype.isTooltipMouseTrack=function(){return Xi(this.gridOptions.tooltipMouseTrack)},t.prototype.getDocument=function(){var t=null;return this.gridOptions.getDocument&&r(this.gridOptions.getDocument)&&(t=this.gridOptions.getDocument()),t&&r(t)?t:document},t.prototype.getMinColWidth=function(){if(this.gridOptions.minColWidth>n.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var t=this.getFromTheme(null,"headerCellMinWidth");return Math.max(t,n.MIN_COL_WIDTH)},t.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>n.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},t.prototype.getColWidth=function(){return"number"!==typeof this.gridOptions.colWidth||this.gridOptions.colWidth<n.MIN_COL_WIDTH?200:this.gridOptions.colWidth},t.prototype.getRowBuffer=function(){var t=this.gridOptions.rowBuffer;return"number"===typeof t?t<0&&(K((function(){return console.warn("ag-Grid: rowBuffer should not be negative")}),"warn rowBuffer negative"),this.gridOptions.rowBuffer=t=0):t=vt.ROW_BUFFER_SIZE,t},t.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},t.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var t="number"===typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Ve();null!=t&&(this.scrollbarWidth=t,this.eventService.dispatchEvent({type:Bt.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},t.prototype.checkForDeprecated=function(){var t=this.gridOptions;t.deprecatedEmbedFullWidthRows&&console.warn("ag-Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),t.enableOldSetFilterModel&&console.warn("ag-Grid: since v22.x, enableOldSetFilterModel is deprecated. Please move to the new Set Filter Model as the old one may not be supported in v23 onwards."),t.floatingFilter&&(console.warn("ag-Grid: since v23.1, floatingFilter on the gridOptions is deprecated. Please use floatingFilter on the colDef instead."),t.defaultColDef||(t.defaultColDef={}),null==t.defaultColDef.floatingFilter&&(t.defaultColDef.floatingFilter=!0)),t.rowDeselection&&console.warn("ag-Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected.");var e=function(e,n,r){null!=t[e]&&(console.warn("ag-grid: since version "+r+", '"+e+"' is deprecated / renamed, please use the new property name '"+n+"' instead."),null==t[n]&&(t[n]=t[e]))};if(e("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),e("deltaRowDataMode","immutableData","23.1.x"),(t.immutableColumns||t.deltaColumnMode)&&console.warn("ag-Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),e("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),t.groupRowInnerRenderer||t.groupRowInnerRendererParams||t.groupRowInnerRendererFramework){console.warn("ag-Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),t.groupRowRendererParams||(t.groupRowRendererParams={});var n=t.groupRowRendererParams;t.groupRowInnerRenderer&&(n.innerRenderer=t.groupRowInnerRenderer),t.groupRowInnerRendererParams&&(n.innerRendererParams=t.groupRowInnerRendererParams),t.groupRowInnerRendererFramework&&(n.innerRendererFramework=t.groupRowInnerRendererFramework)}t.rememberGroupStateWhenNewData&&console.warn("ag-Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),t.detailCellRendererParams&&t.detailCellRendererParams.autoHeight&&(console.warn("ag-Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),t.detailRowAutoHeight=!0),t.suppressKeyboardEvent&&console.warn("ag-Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of ag-Grid. If you need this to be set for every column use the defaultColDef property.")},t.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},t.prototype.treeDataViolations=function(){this.isRowModelDefault()&&o(this.getDataPathFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(o(this.getIsServerSideGroupFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),o(this.getServerSideGroupKeyFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},t.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var t=this.gridOptions.localeText;return function(e,n){return t&&t[e]?t[e]:n}},t.prototype.globalEventHandler=function(t,e){if(!this.destroyed){var n=be.getCallbackForEvent(t);"function"===typeof this.gridOptions[n]&&this.gridOptions[n](e)}},t.prototype.getRowHeightAsNumber=function(){return!this.gridOptions.rowHeight||o(this.gridOptions.rowHeight)?this.getDefaultRowHeight():this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:(console.warn("ag-Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},t.prototype.getRowHeightForNode=function(t,e){if(void 0===e&&(e=!1),"function"===typeof this.gridOptions.getRowHeight){if(e)return{height:this.getDefaultRowHeight(),estimated:!0};var n={node:t,data:t.data,api:this.gridOptions.api,context:this.gridOptions.context},r=this.gridOptions.getRowHeight(n);if(this.isNumeric(r))return{height:r,estimated:!1}}if(t.detail&&this.isMasterDetail())return this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1};var o=this.getDefaultRowHeight(),i=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:o,s=Math.min(o,i);if(this.columnController.isAutoRowHeightActive()){if(e)return{height:i,estimated:!0};var a=this.autoHeightCalculator.getPreferredHeightForRow(t);return{height:Math.max(a,s),estimated:!1}}return{height:i,estimated:!1}},t.prototype.isDynamicRowHeight=function(){return"function"===typeof this.gridOptions.getRowHeight},t.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},t.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},t.prototype.isNumeric=function(t){return!isNaN(t)&&"number"===typeof t&&isFinite(t)},t.prototype.getFromTheme=function(t,e){var n=this.environment.getTheme().theme;return n&&0===n.indexOf("ag-theme")?this.environment.getSassVariable(n,e):t},t.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},t.MIN_COL_WIDTH=10,t.PROP_HEADER_HEIGHT="headerHeight",t.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",t.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",t.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",t.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",t.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",t.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",t.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",t.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",t.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",t.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",t.PROP_POPUP_PARENT="popupParent",t.PROP_DOM_LAYOUT="domLayout",t.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",Ki([at("gridOptions")],t.prototype,"gridOptions",void 0),Ki([at("columnController")],t.prototype,"columnController",void 0),Ki([at("eventService")],t.prototype,"eventService",void 0),Ki([at("environment")],t.prototype,"environment",void 0),Ki([at("autoHeightCalculator")],t.prototype,"autoHeightCalculator",void 0),Ki([Yi(0,ct("gridApi")),Yi(1,ct("columnApi"))],t.prototype,"agWire",null),Ki([it],t.prototype,"destroy",null),Ki([ot],t.prototype,"init",null),t=n=Ki([st("gridOptionsWrapper")],t)}(),ts=function(){function t(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return t.prototype.setInactive=function(){this.active=!1},t.prototype.isActive=function(){return this.active},t.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var n=0;n<t.children.length;n++)this.depthFirstSearchChangedPath(t.children[n],e);e(t.rowNode)},t.prototype.depthFirstSearchEverything=function(t,e,n){if(t.childrenAfterGroup)for(var r=0;r<t.childrenAfterGroup.length;r++){var o=t.childrenAfterGroup[r];o.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[r],e,n):n&&e(o)}e(t)},t.prototype.forEachChangedNodeDepthFirst=function(t,e){void 0===e&&(e=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},t.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},t.prototype.createPathItems=function(t){for(var e=t,n=0;!this.mapToItems[e.id];){var r={rowNode:e,children:null};this.mapToItems[e.id]=r,n++,e=e.parent}return n},t.prototype.populateColumnsMap=function(t,e){var n=this;if(this.keepingColumns&&e)for(var r=t;r;)this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={}),e.forEach((function(t){return n.nodeIdsToColumns[r.id][t.getId()]=!0})),r=r.parent},t.prototype.linkPathItems=function(t,e){for(var n=t,r=0;r<e;r++){var o=this.mapToItems[n.id],i=this.mapToItems[n.parent.id];i.children||(i.children=[]),i.children.push(o),n=n.parent}},t.prototype.addParentNode=function(t,e){if(t&&!t.isRowPinned()){var n=this.createPathItems(t);this.linkPathItems(t,n),this.populateColumnsMap(t,e)}},t.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},t.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var n=this.nodeIdsToColumns[t.id];return e.filter((function(t){return n[t.getId()]}))},t.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var n=this.nodeIdsToColumns[t.id];return e.filter((function(t){return!n[t.getId()]}))},t}(),es=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ns=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},rs=function(t,e){return function(n,r){e(n,r,t)}},os=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return es(e,t),e.prototype.setBeans=function(t){this.logger=t.create("SelectionController"),this.reset(),this.gridOptionsWrapper.isRowModelDefault()&&this.addManagedListener(this.eventService,Bt.EVENT_ROW_DATA_CHANGED,this.reset.bind(this))},e.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,Bt.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},e.prototype.setLastSelectedNode=function(t){this.lastSelectedNode=t},e.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},e.prototype.getSelectedNodes=function(){var t=[];return D(this.selectedNodes,(function(e,n){n&&t.push(n)})),t},e.prototype.getSelectedRows=function(){var t=[];return D(this.selectedNodes,(function(e,n){n&&n.data&&t.push(n.data)})),t},e.prototype.removeGroupsFromSelection=function(){var t=this;D(this.selectedNodes,(function(e,n){n&&n.group&&(t.selectedNodes[n.id]=void 0)}))},e.prototype.updateGroupsFromChildrenSelections=function(t){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===vt.ROW_MODEL_TYPE_CLIENT_SIDE){var e=this.rowModel.getRootNode();t||(t=new ts(!0,e)).setInactive(),t.forEachChangedNodeDepthFirst((function(t){t!==e&&t.calculateSelectedFromChildren()}))}},e.prototype.getNodeForIdIfSelected=function(t){return this.selectedNodes[t]},e.prototype.clearOtherNodes=function(t){var e=this,n={},r=0;return D(this.selectedNodes,(function(o,i){if(i&&i.id!==t.id){var s=e.selectedNodes[i.id];r+=s.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),e.groupSelectsChildren&&i.parent&&(n[i.parent.id]=i.parent)}})),D(n,(function(t,e){e.calculateSelectedFromChildren()})),r},e.prototype.onRowSelected=function(t){var e=t.node;this.groupSelectsChildren&&e.group||(e.isSelected()?this.selectedNodes[e.id]=e:this.selectedNodes[e.id]=void 0)},e.prototype.syncInRowNode=function(t,e){this.syncInOldRowNode(t,e),this.syncInNewRowNode(t)},e.prototype.syncInOldRowNode=function(t,e){r(e)&&t.id!==e.id&&(r(this.selectedNodes[e.id])&&(this.selectedNodes[e.id]=e))},e.prototype.syncInNewRowNode=function(t){r(this.selectedNodes[t.id])?(t.setSelectedInitialValue(!0),this.selectedNodes[t.id]=t):t.setSelectedInitialValue(!1)},e.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},e.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===vt.ROW_MODEL_TYPE_CLIENT_SIDE){var t=this.rowModel.getTopLevelNodes();if(null!==t){var e=[];return function t(n){for(var r=0,o=n.length;r<o;r++){var i=n[r];i.isSelected()?e.push(i):i.group&&i.children&&t(i.children)}}(t),e}console.warn("selectAll not available doing rowModel=virtual")}else console.warn("getBestCostNodeSelection is only available when using normal row model")},e.prototype.setRowModel=function(t){this.rowModel=t},e.prototype.isEmpty=function(){var t=0;return D(this.selectedNodes,(function(e,n){n&&t++})),0===t},e.prototype.deselectAllRowNodes=function(t){void 0===t&&(t=!1);var e=function(t){return t.selectThisNode(!1)},n=this.rowModel.getType()===vt.ROW_MODEL_TYPE_CLIENT_SIDE;if(t){if(!n)return void console.error("ag-Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(e)}else D(this.selectedNodes,(function(t,n){n&&e(n)})),this.reset();n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections();var r={type:Bt.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)},e.prototype.selectAllRowNodes=function(t){if(void 0===t&&(t=!1),this.rowModel.getType()!==vt.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var e=this.rowModel,n=function(t){return t.selectThisNode(!0)};t?e.forEachNodeAfterFilter(n):e.forEachNode(n),this.rowModel.getType()===vt.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections();var r={type:Bt.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)},e.prototype.selectNode=function(t,e){t&&t.setSelectedParams({newValue:!0,clearSelection:!e})},e.prototype.deselectIndex=function(t){var e=this.rowModel.getRow(t);this.deselectNode(e)},e.prototype.deselectNode=function(t){t&&t.setSelectedParams({newValue:!1,clearSelection:!1})},e.prototype.selectIndex=function(t,e){var n=this.rowModel.getRow(t);this.selectNode(n,e)},ns([at("rowModel")],e.prototype,"rowModel",void 0),ns([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ns([at("columnApi")],e.prototype,"columnApi",void 0),ns([at("gridApi")],e.prototype,"gridApi",void 0),ns([rs(0,ct("loggerFactory"))],e.prototype,"setBeans",null),ns([ot],e.prototype,"init",null),e=ns([st("selectionController")],e)}(jt),is=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ss=function(){function t(){}return t.prototype.sizeColumnsToFit=function(t){"undefined"===typeof t&&console.error("ag-Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnController.sizeColumnsToFit(t,"api")},t.prototype.setColumnGroupOpened=function(t,e){this.columnController.setColumnGroupOpened(t,e,"api")},t.prototype.getColumnGroup=function(t,e){return this.columnController.getColumnGroup(t,e)},t.prototype.getOriginalColumnGroup=function(t){return this.columnController.getOriginalColumnGroup(t)},t.prototype.getDisplayNameForColumn=function(t,e){return this.columnController.getDisplayNameForColumn(t,e)||""},t.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnController.getDisplayNameForColumnGroup(t,e)||""},t.prototype.getColumn=function(t){return this.columnController.getPrimaryColumn(t)},t.prototype.applyColumnState=function(t){return this.columnController.applyColumnState(t,"api")},t.prototype.getColumnState=function(){return this.columnController.getColumnState()},t.prototype.resetColumnState=function(){this.columnController.resetColumnState(!1,"api")},t.prototype.getColumnGroupState=function(){return this.columnController.getColumnGroupState()},t.prototype.setColumnGroupState=function(t){this.columnController.setColumnGroupState(t,"api")},t.prototype.resetColumnGroupState=function(){this.columnController.resetColumnGroupState("api")},t.prototype.isPinning=function(){return this.columnController.isPinningLeft()||this.columnController.isPinningRight()},t.prototype.isPinningLeft=function(){return this.columnController.isPinningLeft()},t.prototype.isPinningRight=function(){return this.columnController.isPinningRight()},t.prototype.getDisplayedColAfter=function(t){return this.columnController.getDisplayedColAfter(t)},t.prototype.getDisplayedColBefore=function(t){return this.columnController.getDisplayedColBefore(t)},t.prototype.setColumnVisible=function(t,e){this.columnController.setColumnVisible(t,e,"api")},t.prototype.setColumnsVisible=function(t,e){this.columnController.setColumnsVisible(t,e,"api")},t.prototype.setColumnPinned=function(t,e){this.columnController.setColumnPinned(t,e,"api")},t.prototype.setColumnsPinned=function(t,e){this.columnController.setColumnsPinned(t,e,"api")},t.prototype.getAllColumns=function(){return this.columnController.getAllPrimaryColumns()},t.prototype.getAllGridColumns=function(){return this.columnController.getAllGridColumns()},t.prototype.getDisplayedLeftColumns=function(){return this.columnController.getDisplayedLeftColumns()},t.prototype.getDisplayedCenterColumns=function(){return this.columnController.getDisplayedCenterColumns()},t.prototype.getDisplayedRightColumns=function(){return this.columnController.getDisplayedRightColumns()},t.prototype.getAllDisplayedColumns=function(){return this.columnController.getAllDisplayedColumns()},t.prototype.getAllDisplayedVirtualColumns=function(){return this.columnController.getAllDisplayedVirtualColumns()},t.prototype.moveColumn=function(t,e){"number"===typeof t?(console.warn("ag-Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnController.moveColumnByIndex(t,e,"api")):this.columnController.moveColumn(t,e,"api")},t.prototype.moveColumnByIndex=function(t,e){this.columnController.moveColumnByIndex(t,e,"api")},t.prototype.moveColumns=function(t,e){this.columnController.moveColumns(t,e,"api")},t.prototype.moveRowGroupColumn=function(t,e){this.columnController.moveRowGroupColumn(t,e)},t.prototype.setColumnAggFunc=function(t,e){this.columnController.setColumnAggFunc(t,e)},t.prototype.setColumnWidth=function(t,e,n){void 0===n&&(n=!0),this.columnController.setColumnWidths([{key:t,newWidth:e}],!1,n)},t.prototype.setColumnWidths=function(t,e){void 0===e&&(e=!0),this.columnController.setColumnWidths(t,!1,e)},t.prototype.setPivotMode=function(t){this.columnController.setPivotMode(t)},t.prototype.isPivotMode=function(){return this.columnController.isPivotMode()},t.prototype.getSecondaryPivotColumn=function(t,e){return this.columnController.getSecondaryPivotColumn(t,e)},t.prototype.setValueColumns=function(t){this.columnController.setValueColumns(t,"api")},t.prototype.getValueColumns=function(){return this.columnController.getValueColumns()},t.prototype.removeValueColumn=function(t){this.columnController.removeValueColumn(t,"api")},t.prototype.removeValueColumns=function(t){this.columnController.removeValueColumns(t,"api")},t.prototype.addValueColumn=function(t){this.columnController.addValueColumn(t,"api")},t.prototype.addValueColumns=function(t){this.columnController.addValueColumns(t,"api")},t.prototype.setRowGroupColumns=function(t){this.columnController.setRowGroupColumns(t,"api")},t.prototype.removeRowGroupColumn=function(t){this.columnController.removeRowGroupColumn(t,"api")},t.prototype.removeRowGroupColumns=function(t){this.columnController.removeRowGroupColumns(t,"api")},t.prototype.addRowGroupColumn=function(t){this.columnController.addRowGroupColumn(t,"api")},t.prototype.addRowGroupColumns=function(t){this.columnController.addRowGroupColumns(t,"api")},t.prototype.getRowGroupColumns=function(){return this.columnController.getRowGroupColumns()},t.prototype.setPivotColumns=function(t){this.columnController.setPivotColumns(t,"api")},t.prototype.removePivotColumn=function(t){this.columnController.removePivotColumn(t,"api")},t.prototype.removePivotColumns=function(t){this.columnController.removePivotColumns(t,"api")},t.prototype.addPivotColumn=function(t){this.columnController.addPivotColumn(t,"api")},t.prototype.addPivotColumns=function(t){this.columnController.addPivotColumns(t,"api")},t.prototype.getPivotColumns=function(){return this.columnController.getPivotColumns()},t.prototype.getLeftDisplayedColumnGroups=function(){return this.columnController.getLeftDisplayedColumnGroups()},t.prototype.getCenterDisplayedColumnGroups=function(){return this.columnController.getCenterDisplayedColumnGroups()},t.prototype.getRightDisplayedColumnGroups=function(){return this.columnController.getRightDisplayedColumnGroups()},t.prototype.getAllDisplayedColumnGroups=function(){return this.columnController.getAllDisplayedColumnGroups()},t.prototype.autoSizeColumn=function(t,e){return this.columnController.autoSizeColumn(t,e,"api")},t.prototype.autoSizeColumns=function(t,e){return this.columnController.autoSizeColumns(t,e,"api")},t.prototype.autoSizeAllColumns=function(t){this.columnController.autoSizeAllColumns(t,"api")},t.prototype.setSecondaryColumns=function(t){this.columnController.setSecondaryColumns(t,"api")},t.prototype.getSecondaryColumns=function(){return this.columnController.getSecondaryColumns()},t.prototype.getPrimaryColumns=function(){return this.columnController.getAllPrimaryColumns()},t.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Dr.removeAllReferences.bind(window,this,"Column API"),100)},t.prototype.columnGroupOpened=function(t,e){console.error("ag-Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(t,e)},t.prototype.hideColumns=function(t,e){console.error("ag-Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnController.setColumnsVisible(t,!e,"api")},t.prototype.hideColumn=function(t,e){console.error("ag-Grid: hideColumn is deprecated, use setColumnVisible"),this.columnController.setColumnVisible(t,!e,"api")},t.prototype.setState=function(t){return console.error("ag-Grid: setState is deprecated, use setColumnState"),this.setColumnState(t)},t.prototype.getState=function(){return console.error("ag-Grid: getState is deprecated, use getColumnState"),this.getColumnState()},t.prototype.resetState=function(){console.error("ag-Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},t.prototype.getAggregationColumns=function(){return console.error("ag-Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnController.getValueColumns()},t.prototype.removeAggregationColumn=function(t){console.error("ag-Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnController.removeValueColumn(t,"api")},t.prototype.removeAggregationColumns=function(t){console.error("ag-Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnController.removeValueColumns(t,"api")},t.prototype.addAggregationColumn=function(t){console.error("ag-Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnController.addValueColumn(t,"api")},t.prototype.addAggregationColumns=function(t){console.error("ag-Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnController.addValueColumns(t,"api")},t.prototype.setColumnAggFunction=function(t,e){console.error("ag-Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnController.setColumnAggFunc(t,e,"api")},t.prototype.getDisplayNameForCol=function(t){return console.error("ag-Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(t,null)},t.prototype.setColumnState=function(t){return this.columnController.applyColumnState({state:t,applyOrder:!0},"api")},is([at("columnController")],t.prototype,"columnController",void 0),is([it],t.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),t=is([st("columnApi")],t)}();($i=e.SelectionHandleType||(e.SelectionHandleType={}))[$i.FILL=0]="FILL",$i[$i.RANGE=1]="RANGE",(Ji=e.CellRangeType||(e.CellRangeType={}))[Ji.VALUE=0]="VALUE",Ji[Ji.DIMENSION=1]="DIMENSION";var as,us,ls,cs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ps=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};(as=e.DragSourceType||(e.DragSourceType={}))[as.ToolPanel=0]="ToolPanel",as[as.HeaderCell=1]="HeaderCell",as[as.RowDrag=2]="RowDrag",as[as.ChartPanel=3]="ChartPanel",(us=e.VerticalDirection||(e.VerticalDirection={}))[us.Up=0]="Up",us[us.Down=1]="Down",(ls=e.HorizontalDirection||(e.HorizontalDirection={}))[ls.Left=0]="Left",ls[ls.Right=1]="Right";var hs,ds=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragSourceAndParamsList=[],e.dropTargets=[],e}var r;return cs(n,t),r=n,n.prototype.init=function(){this.ePinnedIcon=gr("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=gr("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=gr("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=gr("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=gr("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=gr("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=gr("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=gr("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=gr("dropNotAllowed",this.gridOptionsWrapper,null)},n.prototype.addDragSource=function(t,e){void 0===e&&(e=!1);var n={eElement:t.eElement,dragStartPixels:t.dragStartPixels,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:n,dragSource:t}),this.dragService.addDragSource(n,e)},n.prototype.removeDragSource=function(t){var e=c(this.dragSourceAndParamsList,(function(e){return e.dragSource===t}));e&&(this.dragService.removeDragSource(e.params),m(this.dragSourceAndParamsList,e))},n.prototype.clearDragSourceParamsList=function(){var t=this;this.dragSourceAndParamsList.forEach((function(e){return t.dragService.removeDragSource(e.params)})),this.dragSourceAndParamsList.length=0},n.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},n.prototype.onDragStart=function(t,e){this.dragging=!0,this.dragSource=t,this.eventLastTime=e,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},n.prototype.onDragStop=function(t){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var e=this.createDropTargetEvent(this.lastDropTarget,t,null,null,!1);this.lastDropTarget.onDragStop(e)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},n.prototype.onDragging=function(t,e){var n=this.getHorizontalDirection(t),r=this.getVerticalDirection(t);this.eventLastTime=t,this.positionGhost(t);var o=c(this.dropTargets,this.isMouseOnDropTarget.bind(this,t));if(o!==this.lastDropTarget)this.leaveLastTargetIfExists(t,n,r,e),this.enterDragTargetIfExists(o,t,n,r,e),this.lastDropTarget=o;else if(o&&o.onDragging){var i=this.createDropTargetEvent(o,t,n,r,e);o.onDragging(i)}},n.prototype.enterDragTargetIfExists=function(t,e,n,r,o){if(t){if(t.onDragEnter){var i=this.createDropTargetEvent(t,e,n,r,o);t.onDragEnter(i)}this.setGhostIcon(t.getIconName?t.getIconName():null)}},n.prototype.leaveLastTargetIfExists=function(t,e,n,r){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var o=this.createDropTargetEvent(this.lastDropTarget,t,e,n,r);this.lastDropTarget.onDragLeave(o)}this.setGhostIcon(null)}},n.prototype.getAllContainersFromDropTarget=function(t){var e=[t.getContainer()],n=t.getSecondaryContainers?t.getSecondaryContainers():null;return n&&(e=e.concat(n)),e},n.prototype.isMouseOnDropTarget=function(t,e){var n=!1;return this.getAllContainersFromDropTarget(e).filter((function(t){return t})).forEach((function(e){var r=e.getBoundingClientRect();if(0!==r.width&&0!==r.height){var o=t.clientX>=r.left&&t.clientX<=r.right,i=t.clientY>=r.top&&t.clientY<=r.bottom;o&&i&&(n=!0)}})),n&&e.isInterestedIn(this.dragSource.type)},n.prototype.addDropTarget=function(t){this.dropTargets.push(t)},n.prototype.removeDropTarget=function(t){this.dropTargets=this.dropTargets.filter((function(e){return e.getContainer()!==t.getContainer()}))},n.prototype.hasExternalDropZones=function(){return this.dropTargets.some((function(t){return t.external}))},n.prototype.findExternalZone=function(t){return c(this.dropTargets.filter((function(t){return t.external})),(function(e){return e.getContainer()===t.getContainer()}))},n.prototype.getHorizontalDirection=function(t){var n=this.eventLastTime.clientX,r=t.clientX;return n===r?null:n>r?e.HorizontalDirection.Left:e.HorizontalDirection.Right},n.prototype.getVerticalDirection=function(t){var n=this.eventLastTime.clientY,r=t.clientY;return n===r?null:n>r?e.VerticalDirection.Up:e.VerticalDirection.Down},n.prototype.createDropTargetEvent=function(t,e,n,r,o){var i=t.getContainer(),s=i.getBoundingClientRect(),a=this.gridApi,u=this.columnApi,l=this.dragItem,c=this.dragSource;return{event:e,x:e.clientX-s.left,y:e.clientY-s.top,vDirection:r,hDirection:n,dragSource:c,fromNudge:o,dragItem:l,api:a,columnApi:u,dropZoneTarget:i}},n.prototype.positionGhost=function(t){var e=this.eGhost,n=e.getBoundingClientRect().height,r=Ge()-2,o=We()-2,i=t.pageY-n/2,s=t.pageX-10,a=this.gridOptionsWrapper.getDocument(),u=window.pageYOffset||a.documentElement.scrollTop,l=window.pageXOffset||a.documentElement.scrollLeft;r>0&&s+e.clientWidth>r+l&&(s=r+l-e.clientWidth),s<0&&(s=0),o>0&&i+e.clientHeight>o+u&&(i=o+u-e.clientHeight),i<0&&(i=0),e.style.left=s+"px",e.style.top=i+"px"},n.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},n.prototype.createGhost=function(){this.eGhost=cn(r.GHOST_TEMPLATE);var t=this.environment.getTheme().theme;t&&Ue(this.eGhost,t),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var e=this.eGhost.querySelector(".ag-dnd-ghost-label"),n=this.dragSource.dragItemName;Q(n)&&(n=n()),e.innerHTML=Qt(n),this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var o=this.gridOptionsWrapper.getDocument();this.eGhostParent=o.querySelector("body"),this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("ag-Grid: could not find document body, it is needed for dragging columns")},n.prototype.setGhostIcon=function(t,e){var n;switch(void 0===e&&(e=!1),an(this.eGhostIcon),t||(t=this.dragSource.defaultIconName||r.ICON_NOT_ALLOWED),t){case r.ICON_PINNED:n=this.ePinnedIcon;break;case r.ICON_MOVE:n=this.eMoveIcon;break;case r.ICON_LEFT:n=this.eLeftIcon;break;case r.ICON_RIGHT:n=this.eRightIcon;break;case r.ICON_GROUP:n=this.eGroupIcon;break;case r.ICON_AGGREGATE:n=this.eAggregateIcon;break;case r.ICON_PIVOT:n=this.ePivotIcon;break;case r.ICON_NOT_ALLOWED:n=this.eDropNotAllowedIcon;break;case r.ICON_HIDE:n=this.eHideIcon}qe(this.eGhostIcon,"ag-shake-left-to-right",e),n===this.eHideIcon&&this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()||n&&this.eGhostIcon.appendChild(n)},n.ICON_PINNED="pinned",n.ICON_MOVE="move",n.ICON_LEFT="left",n.ICON_RIGHT="right",n.ICON_GROUP="group",n.ICON_AGGREGATE="aggregate",n.ICON_PIVOT="pivot",n.ICON_NOT_ALLOWED="notAllowed",n.ICON_HIDE="hide",n.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',ps([at("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),ps([at("dragService")],n.prototype,"dragService",void 0),ps([at("environment")],n.prototype,"environment",void 0),ps([at("columnApi")],n.prototype,"columnApi",void 0),ps([at("gridApi")],n.prototype,"gridApi",void 0),ps([ot],n.prototype,"init",null),ps([it],n.prototype,"clearDragSourceParamsList",null),n=r=ps([st("dragAndDropService")],n)}(jt),fs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gs=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},vs=function(t){function n(e,n,r,o){var i=t.call(this,'<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>')||this;return i.rowNode=e,i.column=n,i.cellValueFn=r,i.beans=o,i}return fs(n,t),n.prototype.postConstruct=function(){this.getGui().appendChild(vr("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource(),this.checkCompatibility();var t=this.beans.gridOptionsWrapper.isRowDragManaged()?new bs(this,this.beans,this.rowNode,this.column):new ms(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)},n.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isEnableMultiRowDragging())return 1;var t=this.beans.selectionController.getSelectedNodes();return-1!==t.indexOf(this.rowNode)?t.length:1},n.prototype.checkCompatibility=function(){var t=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&t&&K((function(){return console.warn("ag-Grid: If using row drag with tree data, you cannot have rowDragManaged=true")}),"RowDragComp.managedAndTreeData")},n.prototype.addDragSource=function(){var t=this,n={rowNode:this.rowNode,columns:[this.column],defaultTextValue:this.cellValueFn()},r=this.column.getColDef().rowDragText,o={type:e.DragSourceType.RowDrag,eElement:this.getGui(),dragItemName:function(){var e=t.getSelectedCount();return r?r(n,e):1===e?t.cellValueFn():e+" rows"},getDragItem:function(){return n},dragStartPixels:0,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()};this.beans.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc((function(){return t.beans.dragAndDropService.removeDragSource(o)}))},gs([ot],n.prototype,"postConstruct",null),n}(jr),ys=function(t){function e(e,n,r){var o=t.call(this)||this;return o.parent=e,o.column=r,o.rowNode=n,o}return fs(e,t),e.prototype.setDisplayedOrVisible=function(t){if(t)this.parent.setDisplayed(!1);else{var e=this.column.isRowDrag(this.rowNode);Q(this.column.getColDef().rowDrag)?(this.parent.setDisplayed(!0),this.parent.setVisible(e)):this.parent.setDisplayed(e)}},e}(jt),ms=function(t){function e(e,n,r,o){var i=t.call(this,e,r,o)||this;return i.beans=n,i}return fs(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Oo.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Oo.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(t)},gs([ot],e.prototype,"postConstruct",null),e}(ys),bs=function(t){function e(e,n,r,o){var i=t.call(this,e,r,o)||this;return i.beans=n,i}return fs(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,Bt.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Bt.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Bt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Oo.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Oo.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.gridPanel.getRowDragFeature(),e=t&&t.shouldPreventRowMove(),n=this.beans.gridOptionsWrapper.isSuppressRowDrag(),r=this.beans.dragAndDropService.hasExternalDropZones(),o=e&&!r||n;this.setDisplayedOrVisible(o)},gs([ot],e.prototype,"postConstruct",null),e}(ys),ws=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cs=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Es=function(t){function e(e){var n=t.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return n.getGuiCalledOnChild=!1,n.cellEditor=e,n}return ws(e,t),e.prototype.onKeyDown=function(t){wr(this.gridOptionsWrapper,t,this.params.node,this.params.column,!0)||this.params.onKeyDown(t)},e.prototype.getGui=function(){return this.getGuiCalledOnChild||(this.appendChild(this.cellEditor.getGui()),this.getGuiCalledOnChild=!0),t.prototype.getGui.call(this)},e.prototype.init=function(n){var r=this;this.params=n,this.gridOptionsWrapper.setDomData(this.getGui(),e.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addDestroyFunc((function(){return r.destroyBean(r.cellEditor)})),this.addManagedListener(t.prototype.getGui.call(this),"keydown",this.onKeyDown.bind(this))},e.prototype.afterGuiAttached=function(){this.cellEditor.afterGuiAttached&&this.cellEditor.afterGuiAttached()},e.prototype.getValue=function(){return this.cellEditor.getValue()},e.prototype.isCancelBeforeStart=function(){if(this.cellEditor.isCancelBeforeStart)return this.cellEditor.isCancelBeforeStart()},e.prototype.isCancelAfterEnd=function(){if(this.cellEditor.isCancelAfterEnd)return this.cellEditor.isCancelAfterEnd()},e.prototype.getPopupPosition=function(){if(this.cellEditor.getPopupPosition)return this.cellEditor.getPopupPosition()},e.prototype.focusIn=function(){this.cellEditor.focusIn&&this.cellEditor.focusIn()},e.prototype.focusOut=function(){this.cellEditor.focusOut&&this.cellEditor.focusOut()},e.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",Cs([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(Gr),_s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Os=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Rs=function(t){function e(e,n,r,o,i){var s=t.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return s.rowNode=e,s.column=n,s.cellValue=r,s.beans=o,s.eCell=i,s}return _s(e,t),e.prototype.postConstruct=function(){this.getGui().appendChild(vr("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",(function(t){t.stopPropagation()})),this.addDragSource(),this.checkVisibility()},e.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},e.prototype.onDragStart=function(t){var e=this,n=this.column.getColDef().dndSourceOnRowDrag,r=De();r||t.dataTransfer.setDragImage(this.eCell,0,0);n?n({rowNode:this.rowNode,dragEvent:t}):function(){try{var n=JSON.stringify(e.rowNode.data);r?t.dataTransfer.setData("text",n):(t.dataTransfer.setData("application/json",n),t.dataTransfer.setData("text/plain",n))}catch(o){}}()},e.prototype.checkVisibility=function(){var t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)},Os([ot],e.prototype,"postConstruct",null),e}(jr),Ss=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ts=function(){return(Ts=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ps=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.NOTHING=0]="NOTHING",t[t.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",t[t.SHOWING=2]="SHOWING"}(hs||(hs={}));var As,Is=function(t){function e(e){var n=t.call(this)||this;return n.DEFAULT_HIDE_TOOLTIP_TIMEOUT=1e4,n.SHOW_QUICK_TOOLTIP_DIFF=1e3,n.FADE_OUT_TOOLTIP_TIMEOUT=1e3,n.state=hs.NOTHING,n.tooltipInstanceCount=0,n.tooltipMouseTrack=!1,n.parentComp=e,n}return Ss(e,t),e.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipShowDelay()||2e3,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var t=this.parentComp.getGui();this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this))},e.prototype.destroy=function(){this.setToDoNothing(),t.prototype.destroy.call(this)},e.prototype.onMouseEnter=function(t){if(this.state==hs.NOTHING){var e=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),e),this.lastMouseEvent=t,this.state=hs.WAITING_TO_SHOW}},e.prototype.onMouseLeave=function(){this.setToDoNothing()},e.prototype.onKeyDown=function(){this.setToDoNothing()},e.prototype.setToDoNothing=function(){this.state===hs.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=hs.NOTHING},e.prototype.onMouseMove=function(t){this.lastMouseEvent=t,this.tooltipMouseTrack&&this.state===hs.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},e.prototype.onMouseDown=function(){this.setToDoNothing()},e.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=(new Date).getTime()),this.state=hs.NOTHING},e.prototype.destroyTooltipComp=function(){var t=this;Ue(this.tooltipComp.getGui(),"ag-tooltip-hiding");var e=this.tooltipPopupDestroyFunc,n=this.tooltipComp;window.setTimeout((function(){e(),t.getContext().destroyBean(n)}),this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},e.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-e.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},e.prototype.showTooltip=function(){var t=Ts({api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},this.parentComp.getTooltipParams());if(r(t.value)){this.state=hs.SHOWING,this.tooltipInstanceCount++;var e=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.newTooltipComponent(t).then(e)}else this.setToDoNothing()},e.prototype.newTooltipComponentCallback=function(t,e){if(this.state!==hs.SHOWING||this.tooltipInstanceCount!==t)this.getContext().destroyBean(e);else{var n=e.getGui();this.tooltipComp=e,Ke(n,"ag-tooltip")||Ue(n,"ag-tooltip-custom"),this.tooltipPopupDestroyFunc=this.popupService.addPopup({eChild:n}),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.DEFAULT_HIDE_TOOLTIP_TIMEOUT)}},e.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},e.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},Ps([at("popupService")],e.prototype,"popupService",void 0),Ps([at("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Ps([at("columnApi")],e.prototype,"columnApi",void 0),Ps([at("gridApi")],e.prototype,"gridApi",void 0),Ps([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ps([ot],e.prototype,"postConstruct",null),e}(jt),Ds=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ns=function(){return(Ns=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},xs=function(t){function n(e,n,r,o,i,s,a){var u=t.call(this)||this;if(u.hasChartRange=!1,u.editingCell=!1,u.suppressRefreshCell=!1,u.tooltipFeatureEnabled=!1,u.scope=null,u.cellEditorVersion=0,u.cellRendererVersion=0,u.scope=e,u.beans=n,u.column=r,u.rowNode=o,u.rowComp=i,u.autoHeightCell=s,u.printLayout=a,u.createGridCellVo(),u.rangeSelectionEnabled=u.beans.rangeController&&n.gridOptionsWrapper.isEnableRangeSelection(),u.cellFocused=u.beans.focusController.isCellFocused(u.cellPosition),u.firstRightPinned=u.column.isFirstRightPinned(),u.lastLeftPinned=u.column.isLastLeftPinned(),u.rangeSelectionEnabled&&u.beans.rangeController){var l=u.beans.rangeController;u.rangeCount=l.getCellRangeCount(u.cellPosition),u.hasChartRange=u.getHasChartRange()}return u.getValueAndFormat(),u.setUsingWrapper(),u.chooseCellRenderer(),u.setupColSpan(),u.rowSpan=u.column.getRowSpan(u.rowNode),u}return Ds(n,t),n.prototype.getCreateTemplate=function(){var t=this.beans.gridOptionsWrapper.isEnableCellTextSelection()?"":'unselectable="on"',e=[],n=this.column,o=this.getCellWidth(),i=this.modifyLeftForPrintLayout(this.getCellLeft()),s=this.getInitialValueToRender(),a=G(this.column,"colDef.template",null)?s:Qt(s);this.tooltip=this.getToolTip();var u=Qt(this.tooltip),l=Qt(n.getId()),c="",p="",h=this.preProcessStylesFromColDef(),d=this.getInitialCssClasses(),f=this.getStylesForRowSpanning(),g=Qt(this.beans.columnController.getAriaColumnIndex(this.column).toString());return e.push("<div"),e.push(' tabindex="-1"'),e.push(" "+t),e.push(' role="gridcell"'),e.push(' aria-colindex="'+g+'"'),e.push(' comp-id="'+this.getCompId()+'" '),e.push(' col-id="'+l+'"'),e.push(' class="'+Qt(d.join(" "))+'"'),this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&r(u)&&e.push(' title="'+u+'"'),this.rangeSelectionEnabled&&e.push(' aria-selected="'+(this.rangeCount?"true":"false")+'"'),this.usingWrapper&&(c='<div ref="eCellWrapper" class="ag-cell-wrapper" role="presentation">\n                    <span ref="eCellValue" role="presentation" class="ag-cell-value" '+t+">",p="</span></div>"),e.push(' style="width: '+Number(o)+"px; left: "+Number(i)+"px; "+Qt(h)+" "+Qt(f)+'">'),e.push(c),r(a,!0)&&e.push(a),e.push(p),e.push("</div>"),e.join("")},n.prototype.getStylesForRowSpanning=function(){return 1===this.rowSpan?"":"height: "+this.beans.gridOptionsWrapper.getRowHeightAsNumber()*this.rowSpan+"px; z-index: 1;"},n.prototype.afterAttached=function(){var t='[comp-id="'+this.getCompId()+'"]',e=this.eParentRow.querySelector(t);this.setGui(e),this.addDomData(),this.populateTemplate(),this.createCellRendererInstance(!0),this.angular1Compile(),this.refreshHandle(),r(this.tooltip)&&this.createTooltipFeatureIfNeeded()},n.prototype.createTooltipFeatureIfNeeded=function(){this.beans.gridOptionsWrapper.isEnableBrowserTooltips()||this.tooltipFeatureEnabled||(this.createManagedBean(new Is(this),this.beans.context),this.tooltipFeatureEnabled=!0)},n.prototype.onColumnHover=function(){var t=this.beans.columnHoverService.isHovered(this.column);this.addOrRemoveCssClass("ag-column-hover",t)},n.prototype.onCellChanged=function(t){t.column===this.column&&this.refreshCell({})},n.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?g(this.colsSpanning):this.column).getLeft()},n.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce((function(t,e){return t+e.getActualWidth()}),0):this.column.getActualWidth()},n.prototype.onFlashCells=function(t){var e=this.beans.cellPositionUtils.createId(this.cellPosition);t.cells[e]&&this.animateCell("highlight")},n.prototype.setupColSpan=function(){o(this.getComponentHolder().colSpan)||(this.addManagedListener(this.beans.eventService,Bt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,Bt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)),this.colsSpanning=this.getColSpanningList())},n.prototype.getColSpanningList=function(){var t=this.column.getColSpan(this.rowNode),e=[];if(1===t)e.push(this.column);else for(var n=this.column,r=this.column.getPinned(),i=0;n&&i<t&&(e.push(n),(n=this.beans.columnController.getDisplayedColAfter(n))&&!o(n))&&r===n.getPinned();i++);return e},n.prototype.onDisplayColumnsChanged=function(){var t=this.getColSpanningList();v(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())},n.prototype.refreshAriaIndex=function(){var t=this.beans.columnController.getAriaColumnIndex(this.column);Jn(this.getGui(),t)},n.prototype.getInitialCssClasses=function(){var t=["ag-cell","ag-cell-not-inline-editing"];return this.autoHeightCell||t.push("ag-cell-auto-height"),!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&this.cellFocused&&t.push("ag-cell-focus"),this.firstRightPinned&&t.push("ag-cell-first-right-pinned"),this.lastLeftPinned&&t.push("ag-cell-last-left-pinned"),this.beans.columnHoverService.isHovered(this.column)&&t.push("ag-column-hover"),_(t,this.preProcessClassesFromColDef()),_(t,this.preProcessCellClassRules()),_(t,this.getInitialRangeClasses()),this.usingWrapper||t.push("ag-cell-value"),this.column.getColDef().wrapText&&t.push("ag-cell-wrap-text"),t},n.prototype.getInitialValueToRender=function(){if(this.usingCellRenderer)return"string"===typeof this.cellRendererGui?this.cellRendererGui:"";var t=this.getComponentHolder();return t.template?t.template:t.templateUrl?this.beans.templateService.getTemplate(t.templateUrl,this.refreshCell.bind(this,!0))||"":this.getValueToUse()},n.prototype.getRenderedRow=function(){return this.rowComp},n.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},n.prototype.getCellRenderer=function(){return this.cellRenderer},n.prototype.getCellEditor=function(){return this.cellEditor},n.prototype.refreshCell=function(t){if(!this.suppressRefreshCell&&!this.editingCell){var e=this.getComponentHolder(),n=t&&t.newData,r=t&&t.suppressFlash||e.suppressCellFlash,o=t&&t.forceRefresh,i=this.value;this.value=this.getValue();var s=!this.valuesAreEqual(i,this.value);if(o||s){this.valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,this.value),!n&&this.attemptCellRendererRefresh()||this.replaceContentsAfterRefresh();var a=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!r&&!a&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||e.enableCellChangeFlash)&&this.flashCell(),this.postProcessStylesFromColDef(),this.postProcessClassesFromColDef()}this.updateAngular1ScopeAndCompile(),this.refreshToolTip(),this.postProcessCellClassRules()}},n.prototype.flashCell=function(t){var e=t&&t.flashDelay,n=t&&t.fadeDelay;this.animateCell("data-changed",e,n)},n.prototype.animateCell=function(t,e,n){var r=this,o="ag-cell-"+t,i="ag-cell-"+t+"-animation",s=this.getGui(),a=this.beans.gridOptionsWrapper;e||(e=a.getCellFlashDelay()),n||(n=a.getCellFadeDelay()),this.addCssClass(o),this.removeCssClass(i),window.setTimeout((function(){r.removeCssClass(o),r.addCssClass(i),s.style.transition="background-color "+n+"ms",window.setTimeout((function(){r.removeCssClass(i),s.style.transition=null}),n)}),e)},n.prototype.replaceContentsAfterRefresh=function(){an(this.eCellValue),this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),this.cellRendererGui=null,this.putDataIntoCellAfterRefresh(),this.updateAngular1ScopeAndCompile()},n.prototype.updateAngular1ScopeAndCompile=function(){this.beans.gridOptionsWrapper.isAngularCompileRows()&&this.scope&&(this.scope.data=Ns({},this.rowNode.data),this.angular1Compile())},n.prototype.angular1Compile=function(){if(this.beans.gridOptionsWrapper.isAngularCompileRows()){var t=this.getGui();if(!t.classList.contains("ng-scope")||0===t.childElementCount){var e=this.beans.$compile(t)(this.scope);this.addDestroyFunc((function(){return e.remove()}))}}},n.prototype.postProcessStylesFromColDef=function(){var t=this.processStylesFromColDef();t&&yn(this.getGui(),t)},n.prototype.preProcessStylesFromColDef=function(){return Nn(this.processStylesFromColDef())},n.prototype.processStylesFromColDef=function(){var t=this.getComponentHolder();if(t.cellStyle){var e=void 0;if("function"===typeof t.cellStyle){var n={value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:t,column:this.column,$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi()};e=(0,t.cellStyle)(n)}else e=t.cellStyle;return e}},n.prototype.postProcessClassesFromColDef=function(){var t=this;this.processClassesFromColDef((function(e){return t.addCssClass(e)}))},n.prototype.preProcessClassesFromColDef=function(){var t=[];return this.processClassesFromColDef((function(e){return t.push(e)})),t},n.prototype.processClassesFromColDef=function(t){var e=this.getComponentHolder();this.beans.stylingService.processStaticCellClasses(e,{value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:e,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},t)},n.prototype.putDataIntoCellAfterRefresh=function(){var t=this.getComponentHolder();if(t.template)this.eCellValue.innerHTML=t.template;else if(t.templateUrl){var e=this.beans.templateService.getTemplate(t.templateUrl,this.refreshCell.bind(this,!0));e&&(this.eCellValue.innerHTML=e)}else if(this.chooseCellRenderer(),this.usingCellRenderer)this.createCellRendererInstance();else{var n=this.getValueToUse();null!=n&&(this.eCellValue.innerHTML=Qt(n))}},n.prototype.attemptCellRendererRefresh=function(){if(o(this.cellRenderer)||!this.cellRenderer||o(this.cellRenderer.refresh))return!1;var t=this.createCellRendererParams(),e=this.beans.userComponentFactory.createFinalParams(this.getComponentHolder(),this.cellRendererType,t),n=this.cellRenderer.refresh(e);return!0===n||void 0===n},n.prototype.refreshToolTip=function(){var t=this.getToolTip();if(this.tooltip!==t){this.createTooltipFeatureIfNeeded();var e=r(t);e&&this.tooltip===t.toString()||(this.tooltip=t,this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&(e?this.eCellValue.setAttribute("title",this.tooltip):this.eCellValue.removeAttribute("title")))}},n.prototype.valuesAreEqual=function(t,e){var n=this.getComponentHolder(),r=n?n.equals:null;return r?r(t,e):t===e},n.prototype.getToolTip=function(){var t=this.getComponentHolder(),e=this.rowNode.data;if(t.tooltipField&&r(e))return W(e,t.tooltipField,this.column.isTooltipFieldContainsDots());var n=t.tooltipValueGetter;return n?n(Ns(Ns({api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},this.getTooltipParams()),{value:this.value})):null},n.prototype.getTooltipParams=function(){return{location:"cell",colDef:this.getComponentHolder(),column:this.getColumn(),rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.getTooltipText(),valueFormatted:this.valueFormatted}},n.prototype.getTooltipText=function(t){return void 0===t&&(t=!0),t?Qt(this.tooltip):this.tooltip},n.prototype.processCellClassRules=function(t,e){var n=this.getComponentHolder();this.beans.stylingService.processClassRules(n.cellClassRules,{value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:n,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()},t,e)},n.prototype.postProcessCellClassRules=function(){var t=this;this.processCellClassRules((function(e){return t.addCssClass(e)}),(function(e){return t.removeCssClass(e)}))},n.prototype.preProcessCellClassRules=function(){var t=[];return this.processCellClassRules((function(e){return t.push(e)}),(function(t){})),t},n.prototype.setUsingWrapper=function(){var t=this.getComponentHolder();if(this.rowNode.rowPinned)return this.usingWrapper=!1,this.includeSelectionComponent=!1,this.includeRowDraggingComponent=!1,void(this.includeDndSourceComponent=!1);var e="function"===typeof t.checkboxSelection,n="function"===typeof t.rowDrag,r="function"===typeof t.dndSource;this.includeSelectionComponent=e||!0===t.checkboxSelection,this.includeRowDraggingComponent=n||!0===t.rowDrag,this.includeDndSourceComponent=r||!0===t.dndSource;var o=this.beans.gridOptionsWrapper.isEnableCellTextSelection();this.usingWrapper=o||this.includeRowDraggingComponent||this.includeSelectionComponent||this.includeDndSourceComponent},n.prototype.chooseCellRenderer=function(){var t=this.getComponentHolder();if(t.template||t.templateUrl)this.usingCellRenderer=!1;else{var e=this.createCellRendererParams();this.rowNode.rowPinned&&this.beans.userComponentFactory.lookupComponentClassDef(t,"pinnedRowCellRenderer",e)?(this.cellRendererType=n.CELL_RENDERER_TYPE_PINNED,this.usingCellRenderer=!0):this.beans.userComponentFactory.lookupComponentClassDef(t,"cellRenderer",e)?(this.cellRendererType=n.CELL_RENDERER_TYPE_NORMAL,this.usingCellRenderer=!0):this.usingCellRenderer=!1}},n.prototype.createCellRendererInstance=function(t){var e=this;if(void 0===t&&(t=!1),this.usingCellRenderer){var r=this.beans.gridOptionsWrapper.isAngularCompileRows(),o=this.beans.gridOptionsWrapper.isSuppressAnimationFrame();(r||o||this.autoHeightCell)&&(t=!1);var i=this.createCellRendererParams();this.cellRendererVersion++;var s=this.afterCellRendererCreated.bind(this,this.cellRendererVersion),a=this.cellRendererType===n.CELL_RENDERER_TYPE_NORMAL;this.createCellRendererFunc=function(){e.createCellRendererFunc=null;var t=e.beans.userComponentFactory.newCellRenderer(e.getComponentHolder(),i,!a);t&&t.then(s)},t?this.beans.taskQueue.createTask(this.createCellRendererFunc,this.rowNode.rowIndex,"createTasksP2"):this.createCellRendererFunc()}},n.prototype.afterCellRendererCreated=function(t,e){this.isAlive()&&t===this.cellRendererVersion?(this.cellRenderer=e,this.cellRendererGui=this.cellRenderer.getGui(),o(this.cellRendererGui)||this.editingCell||this.eCellValue.appendChild(this.cellRendererGui)):this.beans.context.destroyBean(e)},n.prototype.createCellRendererParams=function(){var t=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValue.bind(this),setValue:function(e){return t.beans.valueService.setValue(t.rowNode,t.column,e)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.getComponentHolder(),column:this.column,$scope:this.scope,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.eCellValue,addRowCompListener:this.rowComp?this.rowComp.addEventListener.bind(this.rowComp):null,addRenderedRowListener:function(e,n){console.warn("ag-Grid: since ag-Grid .v11, params.addRenderedRowListener() is now params.addRowCompListener()"),t.rowComp&&t.rowComp.addEventListener(e,n)}}},n.prototype.formatValue=function(t){var e=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,t);return null!=e?e:t},n.prototype.getValueToUse=function(){return null!=this.valueFormatted?this.valueFormatted:this.value},n.prototype.getValueAndFormat=function(){this.value=this.getValue(),this.valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,this.value)},n.prototype.getValue=function(){var t=this.rowNode.leafGroup&&this.beans.columnController.isPivotMode(),e=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!t,n=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),r=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader(),o=e&&n&&!r;return this.beans.valueService.getValue(this.column,this.rowNode,!1,o)},n.prototype.onMouseEvent=function(t,e){if(!Pt(e))switch(t){case"click":this.onCellClicked(e);break;case"mousedown":this.onMouseDown(e);break;case"dblclick":this.onCellDoubleClicked(e);break;case"mouseout":this.onMouseOut(e);break;case"mouseover":this.onMouseOver(e)}},n.prototype.dispatchCellContextMenuEvent=function(t){var e=this.getComponentHolder(),n=this.createEvent(t,Bt.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(n),e.onCellContextMenu&&window.setTimeout((function(){return e.onCellContextMenu(n)}),0)},n.prototype.createEvent=function(t,e){var n={node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.getComponentHolder(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:t,type:e,rowIndex:this.rowNode.rowIndex};return this.scope&&(n.$scope=this.scope),n},n.prototype.onMouseOut=function(t){var e=this.createEvent(t,Bt.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.clearMouseOver()},n.prototype.onMouseOver=function(t){var e=this.createEvent(t,Bt.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.setMouseOver([this.column])},n.prototype.onCellDoubleClicked=function(t){var e=this.getComponentHolder(),n=this.createEvent(t,Bt.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(n),"function"===typeof e.onCellDoubleClicked&&window.setTimeout((function(){return e.onCellDoubleClicked(n)}),0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.startRowOrCellEdit()},n.prototype.startRowOrCellEdit=function(t,e){this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.startRowEditing(t,e,this):this.startEditingIfEnabled(t,e,!0)},n.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},n.prototype.startEditingIfEnabled=function(t,e,n){if(void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=!1),this.isCellEditable()&&!this.editingCell){this.editingCell=!0,this.cellEditorVersion++;var r=this.afterCellEditorCreated.bind(this,this.cellEditorVersion),i=this.createCellEditorParams(t,e,n);this.createCellEditor(i).then(r),o(this.cellEditor)&&n&&this.focusCell(!0)}},n.prototype.createCellEditor=function(t){var e=this;return this.beans.userComponentFactory.newCellEditor(this.column.getColDef(),t).then((function(n){if(!(n.isPopup&&n.isPopup()))return n;e.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("ag-Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var r=new Es(n);return e.beans.context.createBean(r),r.init(t),r}))},n.prototype.afterCellEditorCreated=function(t,e){if(t!==this.cellEditorVersion||!this.editingCell)this.beans.context.destroyBean(e);else{if(e.isCancelBeforeStart&&e.isCancelBeforeStart())return this.beans.context.destroyBean(e),void(this.editingCell=!1);if(!e.getGui)return console.warn("ag-Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),e.render&&console.warn("ag-Grid: we found 'render' on the component, are you trying to set a React renderer but added it as colDef.cellEditor instead of colDef.cellEditorFmk?"),this.beans.context.destroyBean(e),void(this.editingCell=!1);this.cellEditor=e,this.cellEditorInPopup=void 0!==e.isPopup&&e.isPopup(),this.setInlineEditingClass(),this.cellEditorInPopup?this.addPopupCellEditor():this.addInCellEditor(),e.afterGuiAttached&&e.afterGuiAttached();var n=this.createEvent(null,Bt.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(n)}},n.prototype.addInCellEditor=function(){an(this.getGui()),this.cellEditor&&this.getGui().appendChild(this.cellEditor.getGui()),this.angular1Compile()},n.prototype.addPopupCellEditor=function(){var t=this,e=this.cellEditor?this.cellEditor.getGui():null,n=this.beans.gridOptionsWrapper.isStopEditingWhenGridLosesFocus();this.hideEditorPopup=this.beans.popupService.addPopup({modal:n,eChild:e,closeOnEsc:!0,closedCallback:function(){t.onPopupEditorClosed()}});var r={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:e,keepWithinBounds:!0};"under"===(this.cellEditor&&this.cellEditor.getPopupPosition?this.cellEditor.getPopupPosition():"over")?this.beans.popupService.positionPopupUnderComponent(r):this.beans.popupService.positionPopupOverComponent(r),this.angular1Compile()},n.prototype.onPopupEditorClosed=function(){this.editingCell&&(this.stopRowOrCellEdit(),this.beans.focusController.isCellFocused(this.cellPosition)&&this.focusCell(!0))},n.prototype.setInlineEditingClass=function(){if(this.isAlive()){var t=this.editingCell&&!this.cellEditorInPopup,e=this.editingCell&&this.cellEditorInPopup;this.addOrRemoveCssClass("ag-cell-inline-editing",t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e),qe(this.getGui().parentNode,"ag-row-inline-editing",t),qe(this.getGui().parentNode,"ag-row-not-inline-editing",!t)}},n.prototype.createCellEditorParams=function(t,e,n){return{value:this.getValue(),keyPress:t,charPress:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:n,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),$scope:this.scope,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},n.prototype.stopEditingAndFocus=function(t){void 0===t&&(t=!1),this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit()},n.prototype.parseValue=function(t){var e=this.getComponentHolder(),n={node:this.rowNode,data:this.rowNode.data,oldValue:this.value,newValue:t,colDef:e,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},o=e.valueParser;return r(o)?this.beans.expressionService.evaluate(o,n):t},n.prototype.focusCell=function(t){void 0===t&&(t=!1),this.beans.focusController.setFocusedCell(this.cellPosition.rowIndex,this.column,this.rowNode.rowPinned,t)},n.prototype.setFocusInOnEditor=function(){this.editingCell&&(this.cellEditor&&this.cellEditor.focusIn?this.cellEditor.focusIn():this.focusCell(!0))},n.prototype.isEditing=function(){return this.editingCell},n.prototype.onKeyDown=function(t){var e=t.which||t.keyCode;switch(e){case Kr.ENTER:this.onEnterKeyDown(t);break;case Kr.F2:this.onF2KeyDown();break;case Kr.ESCAPE:this.onEscapeKeyDown();break;case Kr.TAB:this.onTabKeyDown(t);break;case Kr.BACKSPACE:case Kr.DELETE:this.onBackspaceOrDeleteKeyPressed(e);break;case Kr.DOWN:case Kr.UP:case Kr.RIGHT:case Kr.LEFT:this.onNavigationKeyPressed(t,e)}},n.prototype.setFocusOutOnEditor=function(){this.editingCell&&this.cellEditor&&this.cellEditor.focusOut&&this.cellEditor.focusOut()},n.prototype.onNavigationKeyPressed=function(t,e){this.editingCell||(t.shiftKey&&this.rangeSelectionEnabled?this.onShiftRangeSelect(e):this.beans.rowRenderer.navigateToNextCell(t,e,this.cellPosition,!0),t.preventDefault())},n.prototype.onShiftRangeSelect=function(t){if(this.beans.rangeController){var e=this.beans.rangeController.extendLatestRangeInDirection(t);e&&this.beans.rowRenderer.ensureCellVisible(e)}},n.prototype.onTabKeyDown=function(t){this.beans.rowRenderer.onTabKeyDown(this,t)},n.prototype.onBackspaceOrDeleteKeyPressed=function(t){this.editingCell||this.startRowOrCellEdit(t)},n.prototype.onEnterKeyDown=function(t){this.editingCell||this.rowComp.isEditing()?this.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.rowRenderer.navigateToNextCell(null,Kr.DOWN,this.cellPosition,!1):(this.startRowOrCellEdit(Kr.ENTER),this.editingCell&&t.preventDefault())},n.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.rowRenderer.navigateToNextCell(null,Kr.DOWN,this.cellPosition,!1)},n.prototype.onF2KeyDown=function(){this.editingCell||this.startRowOrCellEdit(Kr.F2)},n.prototype.onEscapeKeyDown=function(){this.editingCell&&(this.stopRowOrCellEdit(!0),this.focusCell(!0))},n.prototype.onKeyPress=function(t){if(!(Dt(t)!==this.getGui())&&!this.editingCell){var e=String.fromCharCode(t.charCode);" "===e?this.onSpaceKeyPressed(t):br(t)&&(this.startRowOrCellEdit(null,e),t.preventDefault())}},n.prototype.onSpaceKeyPressed=function(t){var e=this.beans.gridOptionsWrapper;if(!this.editingCell&&e.isRowSelection()){var n=this.rowNode.isSelected(),r=!n;if(r||!e.isSuppressRowDeselection()){var o=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),i=this.rowNode.setSelectedParams({newValue:r,rangeSelect:t.shiftKey,groupSelectsFiltered:o});void 0===n&&0===i&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:o})}}t.preventDefault()},n.prototype.onMouseDown=function(t){var e=t.ctrlKey,n=t.metaKey,r=t.shiftKey,o=t.target,i=this.beans,s=i.eventService,a=i.rangeController;if(!this.isRightClickInExistingRange(t)){if(!r||a&&!a.getCellRanges().length){var u=(De()||Ne())&&!this.editingCell;this.focusCell(u)}else a&&t.preventDefault();if(!this.containsWidget(o)){if(a){var l=this.cellPosition;if(r)a.extendLatestRangeToCell(l);else{var c=e||n;a.setRangeToCell(l,c)}}s.dispatchEvent(this.createEvent(t,Bt.EVENT_CELL_MOUSE_DOWN))}}},n.prototype.isRightClickInExistingRange=function(t){var e=this.beans.rangeController;if(e&&(e.isCellInAnyRange(this.getCellPosition())&&2===t.button))return!0;return!1},n.prototype.containsWidget=function(t){return $e(t,"ag-selection-checkbox",3)},n.prototype.isDoubleClickOnIPad=function(){if(!Fe()||At("dblclick"))return!1;var t=(new Date).getTime(),e=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,e},n.prototype.onCellClicked=function(t){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(t),void t.preventDefault();var e=this.beans,n=e.eventService,r=e.gridOptionsWrapper,o=this.createEvent(t,Bt.EVENT_CELL_CLICKED);n.dispatchEvent(o);var i=this.getComponentHolder();i.onCellClicked&&window.setTimeout((function(){return i.onCellClicked(o)}),0),(r.isSingleClickEdit()||i.singleClickEdit)&&!r.isSuppressClickEdit()&&this.startRowOrCellEdit()},n.prototype.createGridCellVo=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,column:this.column}},n.prototype.getCellPosition=function(){return this.cellPosition},n.prototype.getParentRow=function(){return this.eParentRow},n.prototype.setParentRow=function(t){this.eParentRow=t},n.prototype.getColumn=function(){return this.column},n.prototype.getComponentHolder=function(){return this.column.getColDef()},n.prototype.detach=function(){this.eParentRow.removeChild(this.getGui())},n.prototype.destroy=function(){this.createCellRendererFunc&&this.beans.taskQueue.cancelTask(this.createCellRendererFunc),this.stopEditing(),this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),this.beans.context.destroyBean(this.selectionHandle),t.prototype.destroy.call(this)},n.prototype.onLeftChanged=function(){var t=this.modifyLeftForPrintLayout(this.getCellLeft());this.getGui().style.left=t+"px",this.refreshAriaIndex()},n.prototype.modifyLeftForPrintLayout=function(t){return this.printLayout&&this.column.getPinned()!==vt.PINNED_LEFT?this.column.getPinned()===vt.PINNED_RIGHT?this.beans.columnController.getPinnedLeftContainerWidth()+this.beans.columnController.getBodyContainerWidth()+t:this.beans.columnController.getPinnedLeftContainerWidth()+t:t},n.prototype.onWidthChanged=function(){var t=this.getCellWidth();this.getGui().style.width=t+"px"},n.prototype.getRangeBorders=function(){var t,e,n=this,r=this.beans.gridOptionsWrapper.isEnableRtl(),o=!1,i=!1,s=!1,a=!1,u=this.cellPosition.column,l=this.beans,c=l.rangeController,p=l.columnController;r?(t=p.getDisplayedColAfter(u),e=p.getDisplayedColBefore(u)):(t=p.getDisplayedColBefore(u),e=p.getDisplayedColAfter(u));var h=c.getCellRanges().filter((function(t){return c.isCellInSpecificRange(n.cellPosition,t)}));t||(a=!0),e||(i=!0);for(var d=0;d<h.length&&!(o&&i&&s&&a);d++){var f=h[d],g=c.getRangeStartRow(f),v=c.getRangeEndRow(f);!o&&this.beans.rowPositionUtils.sameRow(g,this.cellPosition)&&(o=!0),!s&&this.beans.rowPositionUtils.sameRow(v,this.cellPosition)&&(s=!0),!a&&f.columns.indexOf(t)<0&&(a=!0),!i&&f.columns.indexOf(e)<0&&(i=!0)}return{top:o,right:i,bottom:s,left:a}},n.prototype.getInitialRangeClasses=function(){var t=[];if(!this.rangeSelectionEnabled||!this.rangeCount)return t;t.push("ag-cell-range-selected"),this.hasChartRange&&t.push("ag-cell-range-chart");var e=Math.min(this.rangeCount,4);if(t.push("ag-cell-range-selected-"+e),this.isSingleCell()&&t.push("ag-cell-range-single-cell"),this.rangeCount>0){var n=this.getRangeBorders();n.top&&t.push("ag-cell-range-top"),n.right&&t.push("ag-cell-range-right"),n.bottom&&t.push("ag-cell-range-bottom"),n.left&&t.push("ag-cell-range-left")}return this.selectionHandle&&t.push("ag-cell-range-handle"),t},n.prototype.onRowIndexChanged=function(){this.createGridCellVo(),this.onCellFocused(),this.onRangeSelectionChanged()},n.prototype.onRangeSelectionChanged=function(){var t=this.beans.rangeController;if(t){var e=this.cellPosition,n=this.rangeCount,r=t.getCellRangeCount(e),o=this.getGui();n!==r&&(this.addOrRemoveCssClass("ag-cell-range-selected",0!==r),this.addOrRemoveCssClass("ag-cell-range-selected-1",1===r),this.addOrRemoveCssClass("ag-cell-range-selected-2",2===r),this.addOrRemoveCssClass("ag-cell-range-selected-3",3===r),this.addOrRemoveCssClass("ag-cell-range-selected-4",r>=4),this.rangeCount=r),nr(o,this.rangeCount>0);var i=this.getHasChartRange();i!==this.hasChartRange&&(this.hasChartRange=i,this.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange)),this.updateRangeBorders(),this.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.refreshHandle()}},n.prototype.getHasChartRange=function(){var t=this.beans.rangeController;if(!this.rangeCount||!t)return!1;var n=t.getCellRanges();return n.length>0&&n.every((function(t){return E([e.CellRangeType.DIMENSION,e.CellRangeType.VALUE],t.type)}))},n.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,n=t.gridOptionsWrapper,r=t.rangeController,o=r.getCellRanges(),i=o.length;if(this.rangeCount<1||i<1)return!1;var s=g(o),a=this.getCellPosition(),u=1===i&&(n.isEnableFillHandle()||n.isEnableRangeHandle())&&!this.editingCell;if(this.hasChartRange){var l=o[0].type===e.CellRangeType.DIMENSION&&r.isCellInSpecificRange(a,o[0]);this.addOrRemoveCssClass("ag-cell-range-chart-category",l),u=s.type===e.CellRangeType.VALUE}return u&&null!=s.endRow&&r.isContiguousRange(s)&&r.isBottomRightCell(s,a)},n.prototype.addSelectionHandle=function(){var t=this.beans,n=t.gridOptionsWrapper,r=(t.context,g(t.rangeController.getCellRanges()).type),i=n.isEnableFillHandle()&&o(r)?e.SelectionHandleType.FILL:e.SelectionHandleType.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(i)),this.selectionHandle.refresh(this)},n.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},n.prototype.refreshHandle=function(){if(this.beans.rangeController){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},n.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),n=!e&&t.top,r=!e&&t.right,o=!e&&t.bottom,i=!e&&t.left;this.addOrRemoveCssClass("ag-cell-range-top",n),this.addOrRemoveCssClass("ag-cell-range-right",r),this.addOrRemoveCssClass("ag-cell-range-bottom",o),this.addOrRemoveCssClass("ag-cell-range-left",i)},n.prototype.onFirstRightPinnedChanged=function(){var t=this.column.isFirstRightPinned();this.firstRightPinned!==t&&(this.firstRightPinned=t,this.addOrRemoveCssClass("ag-cell-first-right-pinned",t))},n.prototype.onLastLeftPinnedChanged=function(){var t=this.column.isLastLeftPinned();this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.addOrRemoveCssClass("ag-cell-last-left-pinned",t))},n.prototype.populateTemplate=function(){this.usingWrapper?(this.eCellValue=this.getRefElement("eCellValue"),this.eCellWrapper=this.getRefElement("eCellWrapper"),this.includeRowDraggingComponent&&this.addRowDragging(),this.includeDndSourceComponent&&this.addDndSource(),this.includeSelectionComponent&&this.addSelectionCheckbox()):this.eCellValue=this.getGui()},n.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},n.prototype.addRowDragging=function(){var t=this,e=this.beans.gridOptionsWrapper.isPagination(),n=this.beans.gridOptionsWrapper.isRowDragManaged(),r=this.beans.gridOptionsWrapper.isRowModelDefault();if(n){if(!r)return void K((function(){return console.warn("ag-Grid: managed row dragging is only allowed in the Client Side Row Model")}),"CellComp.addRowDragging");if(e)return void K((function(){return console.warn("ag-Grid: managed row dragging is not possible when doing pagination")}),"CellComp.addRowDragging")}var o=new vs(this.rowNode,this.column,(function(){return t.value}),this.beans);this.createManagedBean(o,this.beans.context),this.eCellWrapper.insertBefore(o.getGui(),this.eCellValue)},n.prototype.addDndSource=function(){var t=new Rs(this.rowNode,this.column,this.getValueToUse(),this.beans,this.getGui());this.createManagedBean(t,this.beans.context),this.eCellWrapper.insertBefore(t.getGui(),this.eCellValue)},n.prototype.addSelectionCheckbox=function(){var t=this,e=new To;this.beans.context.createBean(e);var n=this.getComponentHolder().checkboxSelection;n="function"===typeof n?n:null,e.init({rowNode:this.rowNode,column:this.column,visibleFunc:n}),this.addDestroyFunc((function(){return t.beans.context.destroyBean(e)})),this.eCellWrapper.insertBefore(e.getGui(),this.eCellValue)},n.prototype.addDomData=function(){var t=this,e=this.getGui();this.beans.gridOptionsWrapper.setDomData(e,n.DOM_DATA_KEY_CELL_COMP,this),this.addDestroyFunc((function(){return t.beans.gridOptionsWrapper.setDomData(e,n.DOM_DATA_KEY_CELL_COMP,null)}))},n.prototype.isSingleCell=function(){var t=this.beans.rangeController;return 1===this.rangeCount&&t&&!t.isMoreThanOneCell()},n.prototype.onCellFocused=function(t){var e=this.beans.focusController.isCellFocused(this.cellPosition);e!==this.cellFocused&&(!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&this.addOrRemoveCssClass("ag-cell-focus",e),this.cellFocused=e);if(e&&t&&t.forceBrowserFocus){var n=this.getFocusableElement();n.focus(),document.activeElement&&document.activeElement!==document.body||n.focus()}var r=this.beans.gridOptionsWrapper.isFullRowEdit();e||r||!this.editingCell||this.stopRowOrCellEdit()},n.prototype.stopRowOrCellEdit=function(t){void 0===t&&(t=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.stopRowEditing(t):this.stopEditing(t)},n.prototype.stopEditing=function(t){if(void 0===t&&(t=!1),this.editingCell)if(this.cellEditor){var e,n=this.getValue(),r=!1;if(!t)this.cellEditor.isCancelAfterEnd&&this.cellEditor.isCancelAfterEnd()||(e=this.cellEditor.getValue(),r=!0);if(this.editingCell=!1,this.cellEditor=this.beans.context.destroyBean(this.cellEditor),this.cellEditor=null,this.cellEditorInPopup&&this.hideEditorPopup)this.hideEditorPopup(),this.hideEditorPopup=null;else if(an(this.getGui()),this.usingWrapper)this.getGui().appendChild(this.eCellWrapper);else if(this.cellRenderer){var o=this.cellRendererGui;o&&this.getGui().appendChild(o)}this.setInlineEditingClass(),this.refreshHandle(),r&&e!==n&&(this.suppressRefreshCell=!0,this.rowNode.setDataValue(this.column,e),this.suppressRefreshCell=!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0});var i=Ns(Ns({},this.createEvent(null,Bt.EVENT_CELL_EDITING_STOPPED)),{oldValue:n,newValue:e});this.beans.eventService.dispatchEvent(i)}else this.editingCell=!1},n.DOM_DATA_KEY_CELL_COMP="cellComp",n.CELL_RENDERER_TYPE_NORMAL="cellRenderer",n.CELL_RENDERER_TYPE_PINNED="pinnedRowCellRenderer",n}(jr),ks=function(){return(ks=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ls=function(){function t(){}return t.createChildScopeOrNull=function(t,e,n){if(!n.isAngularCompileRows())return null;var r=e.$new();r.data=ks({},t.data),r.rowNode=t,r.context=n.getContext();return{scope:r,scopeDestroyFunc:function(){r.$destroy(),r.data=null,r.rowNode=null,r.context=null}}},t}(),Fs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ms=function(t){function n(e,n,r,o,i,s,a,u,l,c,p){var h=t.call(this)||this;return h.eAllRowContainers=[],h.fullWidthRowDestroyFuncs=[],h.active=!0,h.rowContainerReadyCount=0,h.refreshNeeded=!1,h.columnRefreshPending=!1,h.cellComps={},h.createSecondPassFuncs=[],h.removeFirstPassFuncs=[],h.removeSecondPassFuncs=[],h.initialised=!1,h.elementOrderChanged=!1,h.lastMouseDownOnDragger=!1,h.parentScope=e,h.beans=a,h.bodyContainerComp=n,h.pinnedLeftContainerComp=r,h.pinnedRightContainerComp=o,h.fullWidthContainerComp=i,h.rowNode=s,h.rowIsEven=h.rowNode.rowIndex%2===0,h.paginationPage=h.beans.paginationProxy.getCurrentPage(),h.useAnimationFrameForCreate=l,h.printLayout=c,h.embedFullWidth=p,h.setAnimateFlags(u),h}return Fs(n,t),n.prototype.init=function(){var t=this;this.rowFocused=this.beans.focusController.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.setupAngular1Scope(),this.rowLevel=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setupRowContainers(),this.addListeners(),this.slideRowIn&&this.createSecondPassFuncs.push((function(){t.onTopChanged()})),this.fadeRowIn&&this.createSecondPassFuncs.push((function(){t.eAllRowContainers.forEach((function(t){return ze(t,"ag-opacity-zero")}))}))},n.prototype.setupAngular1Scope=function(){var t=Ls.createChildScopeOrNull(this.rowNode,this.parentScope,this.beans.gridOptionsWrapper);t&&(this.scope=t.scope,this.addDestroyFunc(t.scopeDestroyFunc))},n.prototype.createTemplate=function(t,e){void 0===e&&(e=null);var n=[],r=this.rowNode.rowHeight,o=this.getInitialRowClasses(e).join(" "),i=Qt(this.rowNode.id),s=this.preProcessStylesFromGridOptions(),a=this.getRowBusinessKey(),u=Qt(a),l=this.getInitialRowTopStyle(),c=this.rowNode.getRowIndexString(),p=this.beans.headerNavigationService.getHeaderRowCount();return n.push("<div"),n.push(' role="row"'),n.push(' row-index="'+c+'" aria-rowindex="'+(p+this.rowNode.rowIndex+1)+'"'),n.push(i?' row-id="'+i+'"':""),n.push(a?' row-business-key="'+u+'"':""),n.push(' comp-id="'+this.getCompId()+'"'),n.push(' class="'+o+'"'),this.beans.gridOptionsWrapper.isRowSelection()&&n.push(' aria-selected="'+(this.rowNode.isSelected()?"true":"false")+'"'),this.rowNode.group&&n.push(" aria-expanded="+(this.rowNode.expanded?"true":"false")),n.push(' style="height: '+r+"px; "+l+" "+s+'">'),n.push(t),n.push("</div>"),n.join("")},n.prototype.getCellForCol=function(t){var e=this.cellComps[t.getColId()];return e?e.getGui():null},n.prototype.afterFlush=function(){this.initialised||(this.initialised=!0,this.executeProcessRowPostCreateFunc())},n.prototype.executeProcessRowPostCreateFunc=function(){var t=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();t&&t({eRow:this.eBodyRow,ePinnedLeftRow:this.ePinnedLeftRow,ePinnedRightRow:this.ePinnedRightRow,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})},n.prototype.getInitialRowTopStyle=function(){if(this.printLayout)return"";var t=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,e=this.applyPaginationOffset(t),n=this.rowNode.isRowPinned()?e:this.beans.maxDivHeightScaler.getRealPixelPosition(e);return this.beans.gridOptionsWrapper.isSuppressRowTransform()?"top: "+n+"px; ":"transform: translateY("+n+"px);"},n.prototype.getRowBusinessKey=function(){var t=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"===typeof t)return t(this.rowNode)},n.prototype.areAllContainersReady=function(){return 3===this.rowContainerReadyCount},n.prototype.lazyCreateCells=function(t,e){if(this.active){var n=this.createCells(t);e.innerHTML=n.template,this.callAfterRowAttachedOnCells(n.cellComps,e),this.rowContainerReadyCount++,this.areAllContainersReady()&&this.refreshNeeded&&this.refreshCells()}},n.prototype.createRowContainer=function(t,e,n){var r=this,o=this.useAnimationFrameForCreate,i=o?{cellComps:[],template:""}:this.createCells(e),s=this.createTemplate(i.template);t.appendRowTemplate(s,(function(){var s=t.getRowElement(r.getCompId());r.refreshAriaLabel(s,r.rowNode.isSelected()),r.afterRowAttached(t,s),n(s),o?r.beans.taskQueue.createTask(r.lazyCreateCells.bind(r,e,s),r.rowNode.rowIndex,"createTasksP1"):(r.callAfterRowAttachedOnCells(i.cellComps,s),r.rowContainerReadyCount=3)}))},n.prototype.setupRowContainers=function(){var t=this.rowNode.isFullWidthCell(),e=this.beans.doingMasterDetail&&this.rowNode.detail,r=this.beans.columnController.isPivotMode(),o=this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(r);this.rowNode.stub?this.createFullWidthRows(n.LOADING_CELL_RENDERER,n.LOADING_CELL_RENDERER_COMP_NAME,!1):e?this.createFullWidthRows(n.DETAIL_CELL_RENDERER,n.DETAIL_CELL_RENDERER_COMP_NAME,!0):t?this.createFullWidthRows(n.FULL_WIDTH_CELL_RENDERER,null,!1):o?this.createFullWidthRows(n.GROUP_ROW_RENDERER,n.GROUP_ROW_RENDERER_COMP_NAME,!1):this.setupNormalRowContainers()},n.prototype.setupNormalRowContainers=function(){var t,e=this,n=[],r=[];this.printLayout?t=this.beans.columnController.getAllDisplayedColumns():(t=this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode),n=this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode),r=this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode)),this.createRowContainer(this.bodyContainerComp,t,(function(t){return e.eBodyRow=t})),this.createRowContainer(this.pinnedRightContainerComp,r,(function(t){return e.ePinnedRightRow=t})),this.createRowContainer(this.pinnedLeftContainerComp,n,(function(t){return e.ePinnedLeftRow=t}))},n.prototype.createFullWidthRows=function(t,e,n){var r=this;if(this.fullWidthRow=!0,this.embedFullWidth){if(this.createFullWidthRowContainer(this.bodyContainerComp,null,null,t,e,(function(t){r.eFullWidthRowBody=t}),(function(t){r.fullWidthRowComponentBody=t}),n),this.printLayout)return;this.createFullWidthRowContainer(this.pinnedLeftContainerComp,vt.PINNED_LEFT,"ag-cell-last-left-pinned",t,e,(function(t){r.eFullWidthRowLeft=t}),(function(t){r.fullWidthRowComponentLeft=t}),n),this.createFullWidthRowContainer(this.pinnedRightContainerComp,vt.PINNED_RIGHT,"ag-cell-first-right-pinned",t,e,(function(t){r.eFullWidthRowRight=t}),(function(t){r.fullWidthRowComponentRight=t}),n)}else this.createFullWidthRowContainer(this.fullWidthContainerComp,null,null,t,e,(function(t){r.eFullWidthRow=t}),(function(t){r.fullWidthRowComponent=t}),n)},n.prototype.setAnimateFlags=function(t){if(t){var e=r(this.rowNode.oldRowTop);this.slideRowIn=e,this.fadeRowIn=!e}else this.slideRowIn=!1,this.fadeRowIn=!1},n.prototype.isEditing=function(){return this.editingRow},n.prototype.stopRowEditing=function(t){this.stopEditing(t)},n.prototype.isFullWidth=function(){return this.fullWidthRow},n.prototype.refreshFullWidth=function(){var t=this,e=function(e,n,r){if(!e||!n)return!0;if(!n.refresh)return!1;var o=t.createFullWidthParams(e,r);return n.refresh(o)},n=e(this.eFullWidthRow,this.fullWidthRowComponent,null),r=e(this.eFullWidthRowBody,this.fullWidthRowComponentBody,null),o=e(this.eFullWidthRowLeft,this.fullWidthRowComponentLeft,vt.PINNED_LEFT),i=e(this.eFullWidthRowRight,this.fullWidthRowComponentRight,vt.PINNED_RIGHT);return n&&r&&o&&i},n.prototype.addListeners=function(){this.addManagedListener(this.rowNode,Oo.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,Oo.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,Oo.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Oo.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Oo.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Oo.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Oo.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Oo.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,Oo.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Oo.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,Oo.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var t=this.beans.eventService;this.addManagedListener(t,Bt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(t,Bt.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(t,Bt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(t,Bt.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(t,Bt.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(t,Bt.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(t,Bt.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(t,Bt.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(t,Bt.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},n.prototype.addListenersForCellComps=function(){var t=this;this.addManagedListener(this.rowNode,Oo.EVENT_ROW_INDEX_CHANGED,(function(){t.forEachCellComp((function(t){return t.onRowIndexChanged()}))})),this.addManagedListener(this.rowNode,Oo.EVENT_CELL_CHANGED,(function(e){t.forEachCellComp((function(t){return t.onCellChanged(e)}))}))},n.prototype.onRowNodeDataChanged=function(t){this.forEachCellComp((function(e){return e.refreshCell({suppressFlash:!t.update,newData:!t.update})})),this.onRowSelected(),this.postProcessCss()},n.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},n.prototype.postProcessCss=function(){this.postProcessStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},n.prototype.onRowNodeHighlightChanged=function(){var t=this.rowNode.highlighted;this.eAllRowContainers.forEach((function(e){ze(e,"ag-row-highlight-above"),ze(e,"ag-row-highlight-below"),t&&Ue(e,"ag-row-highlight-"+t)}))},n.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},n.prototype.postProcessRowDragging=function(){var t=this.rowNode.dragging;this.eAllRowContainers.forEach((function(e){return qe(e,"ag-row-dragging",t)}))},n.prototype.updateExpandedCss=function(){var t=this.rowNode.isExpandable(),e=1==this.rowNode.expanded;this.eAllRowContainers.forEach((function(n){qe(n,"ag-row-group",t),qe(n,"ag-row-group-expanded",t&&e),qe(n,"ag-row-group-contracted",t&&!e),Un(n,t&&e)}))},n.prototype.onDisplayedColumnsChanged=function(){this.fullWidthRow||this.refreshCells()},n.prototype.destroyFullWidthComponents=function(){this.fullWidthRowDestroyFuncs.forEach((function(t){return t()})),this.fullWidthRowDestroyFuncs=[],this.fullWidthRowComponent&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,null,this.fullWidthRowComponent),this.fullWidthRowComponent=null),this.fullWidthRowComponentBody&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,null,this.fullWidthRowComponentBody),this.fullWidthRowComponentBody=null),this.fullWidthRowComponentLeft&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,vt.PINNED_LEFT,this.fullWidthRowComponentLeft),this.fullWidthRowComponentLeft=null),this.fullWidthRowComponentRight&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,vt.PINNED_RIGHT,this.fullWidthRowComponentRight),this.fullWidthRowComponentRight=null)},n.prototype.getContainerForCell=function(t){switch(t){case vt.PINNED_LEFT:return this.ePinnedLeftRow;case vt.PINNED_RIGHT:return this.ePinnedRightRow;default:return this.eBodyRow}},n.prototype.onVirtualColumnsChanged=function(){this.fullWidthRow||this.refreshCells()},n.prototype.onColumnResized=function(){this.fullWidthRow||this.refreshCells()},n.prototype.refreshCells=function(){if(this.areAllContainersReady())if(this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)this.refreshCellsInAnimationFrame();else{if(this.columnRefreshPending)return;this.beans.taskQueue.createTask(this.refreshCellsInAnimationFrame.bind(this),this.rowNode.rowIndex,"createTasksP1")}else this.refreshNeeded=!0},n.prototype.refreshCellsInAnimationFrame=function(){if(this.active){var t,e,n;this.columnRefreshPending=!1,this.printLayout?(t=this.beans.columnController.getAllDisplayedColumns(),e=[],n=[]):(t=this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode),e=this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode),n=this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode)),this.insertCellsIntoContainer(this.eBodyRow,t),this.insertCellsIntoContainer(this.ePinnedLeftRow,e),this.insertCellsIntoContainer(this.ePinnedRightRow,n),this.elementOrderChanged=!1;var r=Object.keys(this.cellComps);t.forEach((function(t){return m(r,t.getId())})),e.forEach((function(t){return m(r,t.getId())})),n.forEach((function(t){return m(r,t.getId())}));var o=r.filter(this.isCellEligibleToBeRemoved.bind(this));this.destroyCells(o)}},n.prototype.onColumnMoved=function(){this.elementOrderChanged=!0},n.prototype.destroyCells=function(t){var e=this;t.forEach((function(t){var n=e.cellComps[t];o(n)||(n.detach(),n.destroy(),e.cellComps[t]=null)}))},n.prototype.isCellEligibleToBeRemoved=function(t){var e=this.beans.columnController.getAllDisplayedColumns(),n=this.cellComps[t];if(!n||this.isCellInWrongRow(n))return!0;var r=n.isEditing(),o=this.beans.focusController.isCellFocused(n.getCellPosition());if(r||o){var i=n.getColumn();return!(e.indexOf(i)>=0)}return!0},n.prototype.ensureCellInCorrectContainer=function(t){if(!this.printLayout){var e=t.getGui(),n=t.getColumn().getPinned(),r=this.getContainerForCell(n),o=t.getParentRow();o!==r&&(o&&o.removeChild(e),r.appendChild(e),t.setParentRow(r),this.elementOrderChanged=!0)}},n.prototype.isCellInWrongRow=function(t){var e=t.getColumn(),n=this.getContainerForCell(e.getPinned());return t.getParentRow()!==n},n.prototype.insertCellsIntoContainer=function(t,e){var n=this;if(t){var r=[],o=[];if(e.forEach((function(e){var i=e.getId(),s=n.cellComps[i];s&&s.getColumn()==e?n.ensureCellInCorrectContainer(s):(s&&n.destroyCells([i]),n.createNewCell(e,t,r,o))})),r.length>0&&(pn(t,r.join("")),this.callAfterRowAttachedOnCells(o,t)),this.elementOrderChanged&&this.beans.gridOptionsWrapper.isEnsureDomOrder()){var i=e.map((function(t){return n.getCellForCol(t)}));gn(t,i)}}},n.prototype.addDomData=function(t){var e=this.beans.gridOptionsWrapper;e.setDomData(t,n.DOM_DATA_KEY_RENDERED_ROW,this),this.addDestroyFunc((function(){e.setDomData(t,n.DOM_DATA_KEY_RENDERED_ROW,null)}))},n.prototype.createNewCell=function(t,e,n,r){var o=new xs(this.scope,this.beans,t,this.rowNode,this,!1,this.printLayout),i=o.getCreateTemplate();n.push(i),r.push(o),this.cellComps[t.getId()]=o,o.setParentRow(e),this.elementOrderChanged=!0},n.prototype.onMouseEvent=function(t,e){switch(t){case"dblclick":this.onRowDblClick(e);break;case"click":this.onRowClick(e);break;case"mousedown":this.onRowMouseDown(e)}},n.prototype.createRowEvent=function(t,e){return{type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:e}},n.prototype.createRowEventWithSource=function(t,e){var n=this.createRowEvent(t,e);return n.source=this,n},n.prototype.onRowDblClick=function(t){if(!Pt(t)){var e=this.createRowEventWithSource(Bt.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(e)}},n.prototype.onRowMouseDown=function(t){this.lastMouseDownOnDragger=$e(t.target,"ag-row-drag",3)},n.prototype.onRowClick=function(t){if(!(Pt(t)||this.lastMouseDownOnDragger)){var e=this.createRowEventWithSource(Bt.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(e);var n=t.ctrlKey||t.metaKey,r=t.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var o=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),i=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();if(this.rowNode.isSelected())o?this.rowNode.setSelectedParams({newValue:!1}):n?i&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!0});else{var s=!o&&!n;this.rowNode.setSelectedParams({newValue:!0,clearSelection:s,rangeSelect:r})}}}},n.prototype.createFullWidthRowContainer=function(t,n,r,o,i,s,a,u){var l=this,c=this.createTemplate("",r);t.appendRowTemplate(c,(function(){var r=t.getRowElement(l.getCompId()),c=l.createFullWidthParams(r,n),p=function(t){if(l.isAlive()){var e=t.getGui();r.appendChild(e),u&&l.setupDetailRowAutoHeight(e),a(t)}else l.beans.context.destroyBean(t)},h=l.beans.detailRowCompCache.get(l.rowNode,n);if(h)p(h);else{var d=l.beans.userComponentFactory.newFullWidthCellRenderer(c,o,i);if(!d){var f=yt.isRegistered(e.ModuleNames.MasterDetailModule);return void("agDetailCellRenderer"!==i||f?console.error("ag-Grid: fullWidthCellRenderer "+i+" not found"):console.warn("ag-Grid: cell renderer agDetailCellRenderer (for master detail) not found. Did you forget to include the master detail module?"))}d.then(p)}l.afterRowAttached(t,r),s(r),l.angular1Compile(r)}))},n.prototype.setupDetailRowAutoHeight=function(t){var e=this;if(this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var n=function(){var n=t.clientHeight;if(null!=n&&n>0){e.beans.frameworkOverrides.setTimeout((function(){e.rowNode.setRowHeight(n),e.beans.clientSideRowModel?e.beans.clientSideRowModel.onRowHeightChanged():e.beans.serverSideRowModel&&e.beans.serverSideRowModel.onRowHeightChanged()}),0)}},r=this.beans.resizeObserverService.observeResize(t,n);this.fullWidthRowDestroyFuncs.push(r),n()}},n.prototype.angular1Compile=function(t){this.scope&&this.beans.$compile(t)(this.scope)},n.prototype.createFullWidthParams=function(t,e){return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,$scope:this.scope?this.scope:this.parentScope,$compile:this.beans.$compile,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:t,eParentOfValue:t,pinned:e,addRenderedRowListener:this.addEventListener.bind(this)}},n.prototype.getInitialRowClasses=function(t){var e={rowNode:this.rowNode,extraCssClass:t,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowIsEven,rowLevel:this.rowLevel,fullWidthRow:this.fullWidthRow,firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),scope:this.scope};return this.beans.rowCssClassCalculator.getInitialRowClasses(e)},n.prototype.onUiLevelChanged=function(){var t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){var e="ag-row-level-"+t,n="ag-row-level-"+this.rowLevel;this.eAllRowContainers.forEach((function(t){Ue(t,e),ze(t,n)}))}this.rowLevel=t},n.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},n.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},n.prototype.onModelUpdated=function(){var t=this.isFirstRowOnPage(),e=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.eAllRowContainers.forEach((function(e){return qe(e,"ag-row-first",t)}))),this.lastRowOnPage!==e&&(this.lastRowOnPage=e,this.eAllRowContainers.forEach((function(t){return qe(t,"ag-row-last",e)})))},n.prototype.stopEditing=function(t){if(void 0===t&&(t=!1),this.forEachCellComp((function(e){e.stopEditing(t)})),this.editingRow){if(!t){var e=this.createRowEvent(Bt.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(e)}this.setEditingRow(!1)}},n.prototype.setEditingRow=function(t){this.editingRow=t,this.eAllRowContainers.forEach((function(e){return qe(e,"ag-row-editing",t)}));var e=t?this.createRowEvent(Bt.EVENT_ROW_EDITING_STARTED):this.createRowEvent(Bt.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(e)},n.prototype.startRowEditing=function(t,e,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),this.editingRow||(this.forEachCellComp((function(r){var o=r===n;o?r.startEditingIfEnabled(t,e,o):r.startEditingIfEnabled(null,null,o)})),this.setEditingRow(!0))},n.prototype.forEachCellComp=function(t){D(this.cellComps,(function(e,n){n&&t(n)}))},n.prototype.postProcessClassesFromGridOptions=function(){var t=this,e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);e&&e.length&&e.forEach((function(e){t.eAllRowContainers.forEach((function(t){return Ue(t,e)}))}))},n.prototype.postProcessRowClassRules=function(){var t=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,this.scope,(function(e){t.eAllRowContainers.forEach((function(t){return Ue(t,e)}))}),(function(e){t.eAllRowContainers.forEach((function(t){return ze(t,e)}))}))},n.prototype.preProcessStylesFromGridOptions=function(){return Nn(this.processStylesFromGridOptions())},n.prototype.postProcessStylesFromGridOptions=function(){var t=this.processStylesFromGridOptions();this.eAllRowContainers.forEach((function(e){return yn(e,t)}))},n.prototype.processStylesFromGridOptions=function(){var t=this.beans.gridOptionsWrapper.getRowStyle();if(!t||"function"!==typeof t){var e,n=this.beans.gridOptionsWrapper.getRowStyleFunc();if(n)e=n({data:this.rowNode.data,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),context:this.beans.gridOptionsWrapper.getContext(),$scope:this.scope});return V({},t,e)}console.warn("ag-Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},n.prototype.createCells=function(t){var e=this,n=[],r=[];return t.forEach((function(t){var o=new xs(e.scope,e.beans,t,e.rowNode,e,!1,e.printLayout),i=o.getCreateTemplate();n.push(i),r.push(o),e.cellComps[t.getId()]=o})),{template:n.join(""),cellComps:r}},n.prototype.onRowSelected=function(){var t=this,e=this.rowNode.isSelected();this.eAllRowContainers.forEach((function(n){nr(n,e),qe(n,"ag-row-selected",e),t.refreshAriaLabel(n,e)}))},n.prototype.refreshAriaLabel=function(t,e){e&&this.beans.gridOptionsWrapper.isSuppressRowDeselection()?t.removeAttribute("aria-label"):Gn(t,"Press SPACE to "+(e?"deselect":"select")+" this row.")},n.prototype.callAfterRowAttachedOnCells=function(t,e){var n=this;t.forEach((function(t){t.setParentRow(e),t.afterAttached(),n.editingRow&&t.startEditingIfEnabled()}))},n.prototype.afterRowAttached=function(t,e){var n=this;this.addDomData(e),this.removeSecondPassFuncs.push((function(){t.removeRowElement(e)})),this.removeFirstPassFuncs.push((function(){if(r(n.rowNode.rowTop)){var t=n.roundRowTopToBounds(n.rowNode.rowTop);n.setRowTop(t)}else Ue(e,"ag-opacity-zero")})),this.eAllRowContainers.push(e),this.useAnimationFrameForCreate?this.beans.taskQueue.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e)},n.prototype.addHoverFunctionality=function(t){var e=this;this.active&&(this.addManagedListener(t,"mouseenter",(function(){return e.rowNode.onMouseEnter()})),this.addManagedListener(t,"mouseleave",(function(){return e.rowNode.onMouseLeave()})),this.addManagedListener(this.rowNode,Oo.EVENT_MOUSE_ENTER,(function(){e.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||Ue(t,"ag-row-hover")})),this.addManagedListener(this.rowNode,Oo.EVENT_MOUSE_LEAVE,(function(){ze(t,"ag-row-hover")})))},n.prototype.roundRowTopToBounds=function(t){var e=this.beans.gridPanel.getVScrollPosition(),n=this.applyPaginationOffset(e.top,!0)-100,r=this.applyPaginationOffset(e.bottom,!0)+100;return Math.min(Math.max(n,t),r)},n.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},n.prototype.onRowHeightChanged=function(){if(r(this.rowNode.rowHeight)){var t=this.rowNode.rowHeight+"px";this.eAllRowContainers.forEach((function(e){return e.style.height=t}))}},n.prototype.addEventListener=function(e,n){"renderedRowRemoved"!==e&&"rowRemoved"!==e||(e=Bt.EVENT_VIRTUAL_ROW_REMOVED,console.warn("ag-Grid: Since version 11, event renderedRowRemoved is now called "+Bt.EVENT_VIRTUAL_ROW_REMOVED)),t.prototype.addEventListener.call(this,e,n)},n.prototype.removeEventListener=function(e,n){"renderedRowRemoved"!==e&&"rowRemoved"!==e||(e=Bt.EVENT_VIRTUAL_ROW_REMOVED,console.warn("ag-Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+Bt.EVENT_VIRTUAL_ROW_REMOVED)),t.prototype.removeEventListener.call(this,e,n)},n.prototype.destroy=function(e){(void 0===e&&(e=!1),this.active=!1,this.destroyFullWidthComponents(),e)?(this.removeFirstPassFuncs.forEach((function(t){return t()})),this.removeSecondPassFuncs.push(this.destroyContainingCells.bind(this))):(this.destroyContainingCells(),this.getAndClearDelayedDestroyFunctions().forEach((function(t){return t()})));var n=this.createRowEvent(Bt.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(n),this.beans.eventService.dispatchEvent(n),t.prototype.destroy.call(this)},n.prototype.destroyContainingCells=function(){var t=Object.keys(this.cellComps);this.destroyCells(t)},n.prototype.getAndClearDelayedDestroyFunctions=function(){var t=this.removeSecondPassFuncs;return this.removeSecondPassFuncs=[],t},n.prototype.onCellFocusChanged=function(){var t=this.beans.focusController.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.eAllRowContainers.forEach((function(e){return qe(e,"ag-row-focus",t)})),this.eAllRowContainers.forEach((function(e){return qe(e,"ag-row-no-focus",!t)})),this.rowFocused=t),!t&&this.editingRow&&this.stopEditing(!1)},n.prototype.onPaginationChanged=function(){var t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged())},n.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},n.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},n.prototype.applyPaginationOffset=function(t,e){return void 0===e&&(e=!1),this.rowNode.isRowPinned()?t:t+this.beans.paginationProxy.getPixelOffset()*(e?1:-1)},n.prototype.setRowTop=function(t){if(!this.printLayout&&r(t)){var e=this.applyPaginationOffset(t),n=(this.rowNode.isRowPinned()?e:this.beans.maxDivHeightScaler.getRealPixelPosition(e))+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.eAllRowContainers.forEach((function(t){return t.style.top=n})):this.eAllRowContainers.forEach((function(t){return t.style.transform="translateY("+n+")"}))}},n.prototype.getAndClearNextVMTurnFunctions=function(){var t=this.createSecondPassFuncs;return this.createSecondPassFuncs=[],t},n.prototype.getRowNode=function(){return this.rowNode},n.prototype.getRenderedCellForColumn=function(t){var e=this,n=this.cellComps[t.getColId()];if(n)return n;var r=Object.keys(this.cellComps).map((function(t){return e.cellComps[t]})).filter((function(e){return e&&-1!==e.getColSpanningList().indexOf(t)}));return r.length?r[0]:void 0},n.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes())},n.prototype.updateRowIndexes=function(){var t=this,e=this.rowNode.getRowIndexString(),n=this.rowNode.rowIndex%2===0,r=this.rowIsEven!==n,o=this.beans.headerNavigationService.getHeaderRowCount();r&&(this.rowIsEven=n),this.eAllRowContainers.forEach((function(i){i.setAttribute("row-index",e),Xn(i,o+t.rowNode.rowIndex+1),r&&(qe(i,"ag-row-even",n),qe(i,"ag-row-odd",!n))}))},n.prototype.ensureDomOrder=function(){[{el:this.getBodyRowElement(),ct:this.bodyContainerComp},{el:this.getPinnedLeftRowElement(),ct:this.pinnedLeftContainerComp},{el:this.getPinnedRightRowElement(),ct:this.pinnedRightContainerComp},{el:this.getFullWidthRowElement(),ct:this.fullWidthContainerComp}].forEach((function(t){t.el&&t.ct.ensureDomOrder(t.el)}))},n.prototype.getPinnedLeftRowElement=function(){return this.ePinnedLeftRow?this.ePinnedLeftRow:this.eFullWidthRowLeft},n.prototype.getPinnedRightRowElement=function(){return this.ePinnedRightRow?this.ePinnedRightRow:this.eFullWidthRowRight},n.prototype.getBodyRowElement=function(){return this.eBodyRow?this.eBodyRow:this.eFullWidthRowBody},n.prototype.getFullWidthRowElement=function(){return this.eFullWidthRow},n.DOM_DATA_KEY_RENDERED_ROW="renderedRow",n.FULL_WIDTH_CELL_RENDERER="fullWidthCellRenderer",n.GROUP_ROW_RENDERER="groupRowRenderer",n.GROUP_ROW_RENDERER_COMP_NAME="agGroupRowRenderer",n.LOADING_CELL_RENDERER="loadingCellRenderer",n.LOADING_CELL_RENDERER_COMP_NAME="agLoadingCellRenderer",n.DETAIL_CELL_RENDERER="detailCellRenderer",n.DETAIL_CELL_RENDERER_COMP_NAME="agDetailCellRenderer",n}(jr),js=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vs=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Gs=function(t,e){return function(n,r){e(n,r,t)}},Ws=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCompsByIndex={},e.floatingTopRowComps=[],e.floatingBottomRowComps=[],e.refreshInProgress=!1,e}return js(e,t),e.prototype.registerGridCore=function(t){this.gridCore=t},e.prototype.getGridCore=function(){return this.gridCore},e.prototype.agWire=function(t){this.logger=t.create("RowRenderer")},e.prototype.registerGridComp=function(t){this.gridPanel=t,this.rowContainers=this.gridPanel.getRowContainers(),this.addManagedListener(this.eventService,Bt.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Zi.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.registerCellEventListeners(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===vt.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},e.prototype.registerCellEventListeners=function(){var t=this;this.addManagedListener(this.eventService,Bt.EVENT_CELL_FOCUSED,(function(e){t.forEachCellComp((function(t){return t.onCellFocused(e)}))})),this.addManagedListener(this.eventService,Bt.EVENT_FLASH_CELLS,(function(e){t.forEachCellComp((function(t){return t.onFlashCells(e)}))})),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_HOVER_CHANGED,(function(){t.forEachCellComp((function(t){return t.onColumnHover()}))})),this.addManagedListener(this.eventService,Bt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){t.printLayout&&t.forEachCellComp((function(t){return t.onLeftChanged()}))})),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,Bt.EVENT_RANGE_SELECTION_CHANGED,(function(){t.forEachCellComp((function(t){return t.onRangeSelectionChanged()}))})),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_MOVED,(function(){t.forEachCellComp((function(t){return t.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_PINNED,(function(){t.forEachCellComp((function(t){return t.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_VISIBLE,(function(){t.forEachCellComp((function(t){return t.updateRangeBordersIfRangeCount()}))}))),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,Bt.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},e.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach((function(t){return t()})),this.destroyFuncsForColumnListeners.length=0},e.prototype.refreshListenersToColumnsForCellComps=function(){var t=this;this.removeGridColumnListeners();var e=this.columnController.getAllGridColumns();e&&e.forEach((function(e){var n=function(n){t.forEachCellComp((function(t){t.getColumn()===e&&n(t)}))},r=function(){n((function(t){return t.onLeftChanged()}))},o=function(){n((function(t){return t.onWidthChanged()}))},i=function(){n((function(t){return t.onFirstRightPinnedChanged()}))},s=function(){n((function(t){return t.onLastLeftPinnedChanged()}))};e.addEventListener(bt.EVENT_LEFT_CHANGED,r),e.addEventListener(bt.EVENT_WIDTH_CHANGED,o),e.addEventListener(bt.EVENT_FIRST_RIGHT_PINNED_CHANGED,i),e.addEventListener(bt.EVENT_LAST_LEFT_PINNED_CHANGED,s),t.destroyFuncsForColumnListeners.push((function(){e.removeEventListener(bt.EVENT_LEFT_CHANGED,r),e.removeEventListener(bt.EVENT_WIDTH_CHANGED,o),e.removeEventListener(bt.EVENT_FIRST_RIGHT_PINNED_CHANGED,i),e.removeEventListener(bt.EVENT_LAST_LEFT_PINNED_CHANGED,s)}))}))},e.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsWrapper.getDomLayout()===vt.DOM_LAYOUT_PRINT,e=t||this.gridOptionsWrapper.isEmbedFullWidthRows(),n=e!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=e,n&&this.redrawAfterModelUpdate()},e.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var t=Object.keys(this.rowCompsByIndex);this.removeRowComps(t)},e.prototype.onPageLoaded=function(t){o(t)&&(t={type:Bt.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1}),this.onModelUpdated(t)},e.prototype.getAllCellsForColumn=function(t){var e=[];function n(n,r){var o=r.getCellForCol(t);o&&e.push(o)}return D(this.rowCompsByIndex,n),D(this.floatingBottomRowComps,n),D(this.floatingTopRowComps,n),e},e.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.floatingTopRowComps,this.pinnedRowModel.getPinnedTopRowData(),this.rowContainers.floatingTopPinnedLeft,this.rowContainers.floatingTopPinnedRight,this.rowContainers.floatingTop,this.rowContainers.floatingTopFullWidth),this.refreshFloatingRows(this.floatingBottomRowComps,this.pinnedRowModel.getPinnedBottomRowData(),this.rowContainers.floatingBottomPinnedLeft,this.rowContainers.floatingBottomPinnedRight,this.rowContainers.floatingBottom,this.rowContainers.floatingBottomFullWidth)},e.prototype.refreshFloatingRows=function(t,e,n,r,o,i){var s=this;t.forEach((function(t){t.destroy()})),t.length=0,e&&e.forEach((function(e){var a=new Ms(s.$scope,o,n,r,i,e,s.beans,!1,!1,s.printLayout,s.embedFullWidthRows);a.init(),t.push(a)})),this.flushContainers(t)},e.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},e.prototype.onModelUpdated=function(t){var e={recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0};this.redrawAfterModelUpdate(e)},e.prototype.getRenderedIndexesForRowNodes=function(t){var e=[];return o(t)||D(this.rowCompsByIndex,(function(n,r){var o=r.getRowNode();t.indexOf(o)>=0&&e.push(n)})),e},e.prototype.redrawRows=function(t){if(t&&0!=t.length){var e=this.getRenderedIndexesForRowNodes(t);this.removeRowComps(e),this.redrawAfterModelUpdate({recycleRows:!0})}},e.prototype.getCellToRestoreFocusToAfterRefresh=function(t){var e=t.suppressKeepFocus?null:this.focusController.getFocusCellToUseAfterRefresh();if(o(e))return null;var n=document.activeElement;return o(this.gridOptionsWrapper.getDomData(n,xs.DOM_DATA_KEY_CELL_COMP))?null:e},e.prototype.redrawAfterModelUpdate=function(t){void 0===t&&(t={}),this.getLockOnRefresh();var e=this.getCellToRestoreFocusToAfterRefresh(t);this.sizeContainerToPageHeight(),this.scrollToTopIfNewData(t);var n=!this.printLayout&&t.recycleRows,r=t.animate&&this.gridOptionsWrapper.isAnimateRows(),o=this.binRowComps(n),i=function(){if(null==e||null==o)return!1;var t=!1;return D(o,(function(n,r){var o=r.getRowNode(),i=o.rowIndex==e.rowIndex,s=o.rowPinned==e.rowPinned;i&&s&&(t=!0)})),t}();this.redraw(o,r),t.onlyBody||this.refreshFloatingRowComps(),i||this.restoreFocusedCell(e),this.releaseLockOnRefresh()},e.prototype.scrollToTopIfNewData=function(t){var e=t.newData||t.newPage,n=this.gridOptionsWrapper.isSuppressScrollOnNewData();e&&!n&&this.gridPanel.scrollToTop()},e.prototype.sizeContainerToPageHeight=function(){var t=[this.rowContainers.body,this.rowContainers.fullWidth,this.rowContainers.pinnedLeft,this.rowContainers.pinnedRight];if(this.printLayout)t.forEach((function(t){return t.setHeight(null)}));else{var e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.maxDivHeightScaler.setModelHeight(e);var n=this.maxDivHeightScaler.getUiContainerHeight();t.forEach((function(t){return t.setHeight(n)}))}},e.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("ag-Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.refreshView(), call setTimeout(function() { api.refreshView(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},e.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},e.prototype.restoreFocusedCell=function(t){t&&this.focusController.setFocusedCell(t.rowIndex,t.column,t.rowPinned,!0)},e.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.forEachRowComp((function(e,n){n.stopEditing(t)}))},e.prototype.forEachCellComp=function(t){this.forEachRowComp((function(e,n){return n.forEachCellComp(t)}))},e.prototype.forEachRowComp=function(t){D(this.rowCompsByIndex,t),D(this.floatingTopRowComps,t),D(this.floatingBottomRowComps,t)},e.prototype.addRenderedRowListener=function(t,e,n){var r=this.rowCompsByIndex[e];r&&r.addEventListener(t,n)},e.prototype.flashCells=function(t){void 0===t&&(t={});var e=t.flashDelay,n=t.fadeDelay;this.forEachCellCompFiltered(t.rowNodes,t.columns,(function(t){return t.flashCell({flashDelay:e,fadeDelay:n})}))},e.prototype.refreshCells=function(t){void 0===t&&(t={});var e={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.forEachCellCompFiltered(t.rowNodes,t.columns,(function(t){return t.refreshCell(e)}))},e.prototype.getCellRendererInstances=function(t){var e=[];return this.forEachCellCompFiltered(t.rowNodes,t.columns,(function(t){var n=t.getCellRenderer();n&&e.push(n)})),e},e.prototype.getCellEditorInstances=function(t){var e=[];return this.forEachCellCompFiltered(t.rowNodes,t.columns,(function(t){var n=t.getCellEditor();n&&e.push(n)})),e},e.prototype.getEditingCells=function(){var t=[];return this.forEachCellComp((function(e){if(e.isEditing()){var n=e.getCellPosition();t.push(n)}})),t},e.prototype.forEachCellCompFiltered=function(t,e,n){var o,i,s=this;r(t)&&(o={top:{},bottom:{},normal:{}},t.forEach((function(t){t.rowPinned===vt.PINNED_TOP?o.top[t.id]=!0:t.rowPinned===vt.PINNED_BOTTOM?o.bottom[t.id]=!0:o.normal[t.id]=!0}))),r(e)&&(i={},e.forEach((function(t){var e=s.columnController.getGridColumn(t);r(e)&&(i[e.getId()]=!0)})));var a=function(t){var e=t.getRowNode(),s=e.id,a=e.rowPinned;if(r(o))if(a===vt.PINNED_BOTTOM){if(!o.bottom[s])return}else if(a===vt.PINNED_TOP){if(!o.top[s])return}else if(!o.normal[s])return;t.forEachCellComp((function(t){var e=t.getColumn().getId();i&&!i[e]||n(t)}))};D(this.rowCompsByIndex,(function(t,e){a(e)})),this.floatingTopRowComps&&this.floatingTopRowComps.forEach(a),this.floatingBottomRowComps&&this.floatingBottomRowComps.forEach(a)},e.prototype.destroy=function(){var e=Object.keys(this.rowCompsByIndex);this.removeRowComps(e),t.prototype.destroy.call(this)},e.prototype.binRowComps=function(t){var e,n=this,o={};return t?(e=[],D(this.rowCompsByIndex,(function(t,i){var s=i.getRowNode();r(s.id)?(o[s.id]=i,delete n.rowCompsByIndex[t]):e.push(t)}))):e=Object.keys(this.rowCompsByIndex),this.removeRowComps(e),o},e.prototype.removeRowComps=function(t){var e=this;t.forEach((function(t){e.rowCompsByIndex[t].destroy(),delete e.rowCompsByIndex[t]}))},e.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh()},e.prototype.removeRowCompsNotToDraw=function(t){var e={};t.forEach((function(t){return e[t]=!0}));var n=Object.keys(this.rowCompsByIndex).filter((function(t){return!e[t]}));this.removeRowComps(n)},e.prototype.calculateIndexesToDraw=function(t){var e=this,n=oe(this.firstRenderedRow,this.lastRenderedRow),r=function(t,r){var o=Number(t);(o<e.firstRenderedRow||o>e.lastRenderedRow)&&e.doNotUnVirtualiseRow(r)&&n.push(o)};return D(this.rowCompsByIndex,r),D(t,r),n.sort((function(t,e){return t-e})),n},e.prototype.redraw=function(t,e,n){var o=this;void 0===e&&(e=!1),void 0===n&&(n=!1),this.maxDivHeightScaler.updateOffset(),this.workOutFirstAndLastRowsToRender();var i=this.calculateIndexesToDraw(t);this.removeRowCompsNotToDraw(i),this.printLayout&&(e=!1);var s=[],a=[];i.forEach((function(i){var u=o.createOrUpdateRowComp(i,t,e,n);r(u)&&(a.push(u),_(s,u.getAndClearNextVMTurnFunctions()))})),this.flushContainers(a),$(s),n&&!this.gridOptionsWrapper.isSuppressAnimationFrame()&&!this.printLayout?this.beans.taskQueue.addDestroyTask(this.destroyRowComps.bind(this,t,e)):this.destroyRowComps(t,e),this.checkAngularCompile(),this.gridPanel.updateRowCount()},e.prototype.flushContainers=function(t){D(this.rowContainers,(function(t,e){e&&e.flushRowTemplates()})),t.forEach((function(t){return t.afterFlush()}))},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnController.isPinningLeft(),e=this.columnController.isPinningRight();(this.pinningLeft!==t||e!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=e,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},e.prototype.redrawFullWidthEmbeddedRows=function(){var t=[];D(this.rowCompsByIndex,(function(e,n){if(n.isFullWidth()){var r=n.getRowNode().rowIndex;t.push(r.toString())}})),this.refreshFloatingRowComps(),this.removeRowComps(t),this.redrawAfterScroll()},e.prototype.refreshFullWidthRows=function(t){var e=[],n=!!t,r=n?{}:void 0;n&&t.forEach((function(t){return r[t.id]=!0})),D(this.rowCompsByIndex,(function(t,o){if(o.isFullWidth()){var i=o.getRowNode();if(n){var s=i.level>0&&i.parent?i.parent.id:void 0;if(!r[i.id]&&!r[s])return}if(!o.refreshFullWidth()){var a=o.getRowNode().rowIndex;e.push(a.toString())}}})),this.removeRowComps(e),this.redrawAfterScroll()},e.prototype.createOrUpdateRowComp=function(t,e,n,o){var i,s=this.rowCompsByIndex[t];if(s||r(i=this.paginationProxy.getRow(t))&&r(e)&&e[i.id]&&i.alreadyRendered&&(s=e[i.id],e[i.id]=null),!s){if(i||(i=this.paginationProxy.getRow(t)),!r(i))return;s=this.createRowComp(i,n,o)}else s.ensureDomOrder();return i&&(i.alreadyRendered=!0),this.rowCompsByIndex[t]=s,s},e.prototype.destroyRowComps=function(t,e){var n=[];D(t,(function(t,r){r&&(r.destroy(e),_(n,r.getAndClearDelayedDestroyFunctions()))})),X(n)},e.prototype.checkAngularCompile=function(){var t=this;this.gridOptionsWrapper.isAngularCompileRows()&&window.setTimeout((function(){t.$scope.$apply()}),0)},e.prototype.workOutFirstAndLastRowsToRender=function(){var t,e,n=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)t=this.paginationProxy.getPageFirstRow(),e=this.paginationProxy.getPageLastRow();else{var r=this.paginationProxy.getPixelOffset(),o=this.maxDivHeightScaler.getOffset(),i=this.gridPanel.getVScrollPosition(),s=i.top,a=i.bottom,u=this.gridOptionsWrapper.getRowBufferInPixels(),l=s+r+o-u,c=a+r+o+u;this.ensureAllRowsInRangeHaveHeightsCalculated(l,c);var p=this.paginationProxy.getRowIndexAtPixel(l),h=this.paginationProxy.getRowIndexAtPixel(c),d=this.paginationProxy.getPageFirstRow(),f=this.paginationProxy.getPageLastRow();p<d&&(p=d),h>f&&(h=f),t=p,e=h}else t=0,e=-1;var g=this.gridOptionsWrapper.getDomLayout()===vt.DOM_LAYOUT_NORMAL,v=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),y=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);g&&!v&&e-t>y&&(e=t+y);var m=t!==this.firstRenderedRow,b=e!==this.lastRenderedRow;if(m||b){this.firstRenderedRow=t,this.lastRenderedRow=e;var w={type:Bt.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:e,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(w)}if(this.paginationProxy.isRowsToRender()){var C={type:Bt.EVENT_FIRST_DATA_RENDERED,firstRow:t,lastRow:e,api:this.gridApi,columnApi:this.columnApi};window.setTimeout((function(){return n.eventService.dispatchEventOnce(C)}),50)}},e.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(t,e){this.paginationProxy.ensureRowHeightsValid(t,e,-1,-1)&&(this.sizeContainerToPageHeight(),this.maxDivHeightScaler.updateOffset())},e.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},e.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},e.prototype.doNotUnVirtualiseRow=function(t){var e=t.getRowNode(),n=this.focusController.isRowNodeFocused(e),r=t.isEditing(),o=e.detail;return!!(n||r||o)&&!!this.paginationProxy.isRowPresent(e)},e.prototype.createRowComp=function(t,e,n){var r=this.gridOptionsWrapper.isSuppressAnimationFrame(),o=n&&!r&&!this.printLayout,i=new Ms(this.$scope,this.rowContainers.body,this.rowContainers.pinnedLeft,this.rowContainers.pinnedRight,this.rowContainers.fullWidth,t,this.beans,e,o,this.printLayout,this.embedFullWidthRows);return i.init(),i},e.prototype.getRenderedNodes=function(){var t=this.rowCompsByIndex;return Object.keys(t).map((function(e){return t[e].getRowNode()}))},e.prototype.navigateToNextCell=function(t,e,n,i){for(var s=n,a=!1;s&&(s===n||!this.isValidNavigateCell(s));)this.gridOptionsWrapper.isEnableRtl()?e===Kr.LEFT&&(s=this.getLastCellOfColSpan(s)):e===Kr.RIGHT&&(s=this.getLastCellOfColSpan(s)),a=o(s=this.cellNavigationService.getNextCellToFocus(e,s));if(a&&t&&t.keyCode===Kr.UP&&(s={rowIndex:-1,rowPinned:null,column:n.column}),i){var u=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(r(u)){var l=u({key:e,previousCellPosition:n,nextCellPosition:s||null,event:t});r(l)?(l.floating&&(K((function(){console.warn("ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),l.rowPinned=l.floating),s={rowPinned:l.rowPinned,rowIndex:l.rowIndex,column:l.column}):s=null}}if(s)if(s.rowIndex<0){var c=this.beans.headerNavigationService.getHeaderRowCount();this.focusController.focusHeaderPosition({headerRowIndex:c+s.rowIndex,column:n.column})}else{this.ensureCellVisible(s);var p=this.getComponentForCell(s);p&&(s=p.getCellPosition(),this.ensureCellVisible(s),this.focusController.setFocusedCell(s.rowIndex,s.column,s.rowPinned,!0),this.rangeController&&this.rangeController.setRangeToCell(s))}},e.prototype.isValidNavigateCell=function(t){var e=this.rowPositionUtils.getRowNode(t);if(e.detail||e.isFullWidthCell())return!1;if(!e.group)return!0;var n=this.columnController.isPivotMode();return!this.gridOptionsWrapper.isGroupUseEntireRow(n)},e.prototype.getLastCellOfColSpan=function(t){var e=this.getComponentForCell(t);if(!e)return t;var n=e.getColSpanningList();return 1===n.length?t:{rowIndex:t.rowIndex,column:g(n),rowPinned:t.rowPinned}},e.prototype.ensureCellVisible=function(t){o(t.rowPinned)&&this.gridPanel.ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridPanel.ensureColumnVisible(t.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},e.prototype.startEditingCell=function(t,e,n){var r=this.getComponentForCell(t);r&&r.startRowOrCellEdit(e,n)},e.prototype.getComponentForCell=function(t){var e;switch(t.rowPinned){case vt.PINNED_TOP:e=this.floatingTopRowComps[t.rowIndex];break;case vt.PINNED_BOTTOM:e=this.floatingBottomRowComps[t.rowIndex];break;default:e=this.rowCompsByIndex[t.rowIndex]}return e?e.getRenderedCellForColumn(t.column):null},e.prototype.getRowNode=function(t){switch(t.rowPinned){case vt.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case vt.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.onTabKeyDown=function(t,e){var n=e.shiftKey;if(this.moveToCellAfter(t,n))e.preventDefault();else if(n){var r=t.getCellPosition(),o=r.rowIndex;if(r.rowPinned?0===o:o===this.paginationProxy.getPageFirstRow()){e.preventDefault();var i=this.beans.headerNavigationService.getHeaderRowCount()-1,s=g(this.columnController.getAllDisplayedColumns());this.focusController.focusHeaderPosition({headerRowIndex:i,column:s})}}else t.focusCell(!0),this.focusController.focusNextGridCoreContainer(!1)&&e.preventDefault()},e.prototype.tabToNextCell=function(t){var e=this.focusController.getFocusedCell();if(o(e))return!1;var n=this.getComponentForCell(e);return!o(n)&&this.moveToCellAfter(n,t)},e.prototype.moveToCellAfter=function(t,e){return(t.isEditing()?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(t,e):this.moveToNextEditingCell(t,e):this.moveToNextCellNotEditing(t,e))||!!this.focusController.getFocusedHeader()},e.prototype.moveToNextEditingCell=function(t,e){var n=t.getCellPosition();t.stopEditing();var o=this.findNextCellToFocusOn(n,e,!0),i=r(o);return i&&(o.startEditingIfEnabled(null,null,!0),o.focusCell(!1)),i},e.prototype.moveToNextEditingRow=function(t,e){var n=t.getCellPosition(),o=this.findNextCellToFocusOn(n,e,!0),i=r(o);return i&&this.moveEditToNextCellOrRow(t,o),i},e.prototype.moveToNextCellNotEditing=function(t,e){var n=t.getCellPosition(),o=this.findNextCellToFocusOn(n,e,!1),i=r(o);return i&&o.focusCell(!0),i},e.prototype.moveEditToNextCellOrRow=function(t,e){var n=t.getCellPosition(),r=e.getCellPosition();if(n.rowIndex===r.rowIndex&&n.rowPinned===r.rowPinned)t.setFocusOutOnEditor(),e.setFocusInOnEditor();else{var o=t.getRenderedRow(),i=e.getRenderedRow();t.setFocusOutOnEditor(),o.stopEditing(),i.startRowEditing(),e.setFocusInOnEditor()}e.focusCell()},e.prototype.findNextCellToFocusOn=function(t,e,n){for(var i=t;;){e||(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextTabbedCell(i,e);var s=this.gridOptionsWrapper.getTabToNextCellFunc();if(r(s)){var a=s({backwards:e,editing:n,previousCellPosition:t,nextCellPosition:i||null});r(a)?(a.floating&&(K((function(){console.warn("ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),a.rowPinned=a.floating),i={rowIndex:a.rowIndex,column:a.column,rowPinned:a.rowPinned}):i=null}if(!i)return null;if(i.rowIndex<0){var u=this.beans.headerNavigationService.getHeaderRowCount();return this.focusController.focusHeaderPosition({headerRowIndex:u+i.rowIndex,column:i.column}),null}if(n){var l=this.lookupRowNodeForCell(i);if(!i.column.isCellEditable(l))continue}o(i.rowPinned)&&this.gridPanel.ensureIndexVisible(i.rowIndex),i.column.isPinned()||this.gridPanel.ensureColumnVisible(i.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames();var c=this.getComponentForCell(i);if(!o(c)&&!c.isSuppressNavigable())return this.rangeController&&this.rangeController.setRangeToCell(i),c}},e.prototype.lookupRowNodeForCell=function(t){return t.rowPinned===vt.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):t.rowPinned===vt.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)},Vs([at("paginationProxy")],e.prototype,"paginationProxy",void 0),Vs([at("columnController")],e.prototype,"columnController",void 0),Vs([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Vs([at("$scope")],e.prototype,"$scope",void 0),Vs([at("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Vs([at("rowModel")],e.prototype,"rowModel",void 0),Vs([at("loggerFactory")],e.prototype,"loggerFactory",void 0),Vs([at("focusController")],e.prototype,"focusController",void 0),Vs([at("cellNavigationService")],e.prototype,"cellNavigationService",void 0),Vs([at("columnApi")],e.prototype,"columnApi",void 0),Vs([at("gridApi")],e.prototype,"gridApi",void 0),Vs([at("beans")],e.prototype,"beans",void 0),Vs([at("maxDivHeightScaler")],e.prototype,"maxDivHeightScaler",void 0),Vs([at("animationFrameService")],e.prototype,"animationFrameService",void 0),Vs([at("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Vs([ut("rangeController")],e.prototype,"rangeController",void 0),Vs([Gs(0,ct("loggerFactory"))],e.prototype,"agWire",null),e=Vs([st("rowRenderer")],e)}(jt),Hs=function(){function t(){}return t.addHeaderClassesFromColDef=function(t,e,n,r,i){o(t)||this.addColumnClassesFromCollDef(t.headerClass,t,e,n,r,i)},t.addToolPanelClassesFromColDef=function(t,e,n,r,i){o(t)||this.addColumnClassesFromCollDef(t.toolPanelClass,t,e,n,r,i)},t.addColumnClassesFromCollDef=function(t,e,n,r,i,s){if(!o(t)){var a;if("function"===typeof t)a=t({colDef:e,column:i,columnGroup:s,context:r.getContext(),api:r.getApi()});else a=t;"string"===typeof a?Ue(n,a):Array.isArray(a)&&a.forEach((function(t){Ue(n,t)}))}},t}(),Bs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Us=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},zs=function(t){function e(e,n){var r=t.call(this)||this;return r.columns=e,r.element=n,r}return Bs(e,t),e.prototype.postConstruct=function(){this.addMouseHoverListeners()},e.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},e.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},e.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},Us([at("columnHoverService")],e.prototype,"columnHoverService",void 0),Us([ot],e.prototype,"postConstruct",null),e}(jt),qs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ks=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ys=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.columnOrGroup=e,i.eCell=n,i.ariaEl=i.eCell.querySelector("[role=columnheader]")||i.eCell,i.colsSpanning=o,i.beans=r,i.printLayout=r.gridOptionsWrapper.getDomLayout()===vt.DOM_LAYOUT_PRINT,i}return qs(e,t),e.prototype.setColsSpanning=function(t){this.colsSpanning=t,this.onLeftChanged()},e.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?g(this.colsSpanning):this.columnOrGroup},e.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,bt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime()},e.prototype.setLeftFirstTime=function(){var t=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),e=r(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&e&&!t?this.animateInLeft():this.onLeftChanged()},e.prototype.animateInLeft=function(){var t=this,e=this.getColumnOrGroup().getLeft(),n=this.getColumnOrGroup().getOldLeft();this.setLeft(n),this.actualLeft=e,this.beans.columnAnimationService.executeNextVMTurn((function(){t.actualLeft===e&&t.setLeft(e)}))},e.prototype.onLeftChanged=function(){var t=this.getColumnOrGroup(),e=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,e),this.setLeft(this.actualLeft)},e.prototype.modifyLeftForPrintLayout=function(t,e){return this.printLayout?t.getPinned()===vt.PINNED_LEFT?e:t.getPinned()===vt.PINNED_RIGHT?this.beans.columnController.getPinnedLeftContainerWidth()+this.beans.columnController.getBodyContainerWidth()+e:this.beans.columnController.getPinnedLeftContainerWidth()+e:e},e.prototype.setLeft=function(t){var e;if(r(t)&&(this.eCell.style.left=t+"px"),this.columnOrGroup instanceof bt)e=this.columnOrGroup;else{var n=this.columnOrGroup.getLeafColumns();if(!n.length)return;n.length>1&&Zn(this.ariaEl,n.length),e=n[0]}var o=this.beans.columnController.getAriaColumnIndex(e);Jn(this.ariaEl,o)},Ks([ot],e.prototype,"postConstruct",null),e}(jt),Qs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xs=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},$s=function(t){function e(e,n){var r=t.call(this,n)||this;return r.labelSeparator="",r.labelAlignment="left",r.label="",r.config=e||{},r}return Qs(e,t),e.prototype.postConstruct=function(){Ue(this.getGui(),"ag-labeled"),Ue(this.eLabel,"ag-label");var t=this.config,e=t.labelSeparator,n=t.label,r=t.labelWidth,o=t.labelAlignment;null!=e&&this.setLabelSeparator(e),null!=n&&this.setLabel(n),null!=r&&this.setLabelWidth(r),this.setLabelAlignment(o||this.labelAlignment),this.refreshLabel()},e.prototype.refreshLabel=function(){an(this.eLabel),"string"===typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.eLabel.appendChild(this.label),qe(this.eLabel,"ag-hidden",""===this.label)},e.prototype.setLabelSeparator=function(t){return this.labelSeparator===t||(this.labelSeparator=t,null!=this.label&&this.refreshLabel()),this},e.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},e.prototype.getLabel=function(){return this.label},e.prototype.setLabel=function(t){return this.label===t||(this.label=t,this.refreshLabel()),this},e.prototype.setLabelAlignment=function(t){var e=this.getGui();return qe(e,"ag-label-align-left","left"===t),qe(e,"ag-label-align-right","right"===t),qe(e,"ag-label-align-top","top"===t),this},e.prototype.setLabelWidth=function(t){return null==this.label||wn(this.eLabel,t),this},Xs([ot],e.prototype,"postConstruct",null),e}(jr),Js=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zs=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.className=r,o.disabled=!1,o}return Js(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),Ue(this.getGui(),this.className)},e.prototype.onValueChange=function(t){var n=this;return this.addManagedListener(this,e.EVENT_CHANGED,(function(){return t(n.getValue())})),this},e.prototype.getWidth=function(){return this.getGui().clientWidth},e.prototype.setWidth=function(t){return Cn(this.getGui(),t),this},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t,n){return this.value===t||(this.value=t,n||this.dispatchEvent({type:e.EVENT_CHANGED})),this},e.prototype.setDisabled=function(t){t=!!t;var e=this.getGui();return Xe(e,t),qe(e,"ag-disabled",t),this.disabled=t,this},e.prototype.isDisabled=function(){return!!this.disabled},e.EVENT_CHANGED="valueChange",e}($s),ta=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ea=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},na=function(t){function e(e,n,r,o){void 0===r&&(r="text"),void 0===o&&(o="input");var i=t.call(this,e,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+o+' ref="eInput" class="ag-input-field-input"></'+o+">\n                </div>\n            </div>",n)||this;return i.inputType=r,i.displayFieldTag=o,i}return ta(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.setInputType(),Ue(this.eLabel,this.className+"-label"),Ue(this.eWrapper,this.className+"-input-wrapper"),Ue(this.eInput,this.className+"-input"),Ue(this.getGui(),"ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var e=this.config,n=e.width,r=e.value;null!=n&&this.setWidth(n),null!=r&&this.setValue(r),this.addInputListeners()},e.prototype.refreshLabel=function(){r(this.getLabel())?Wn(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),t.prototype.refreshLabel.call(this)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",(function(e){return t.setValue(e.target.value)}))},e.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},e.prototype.getInputElement=function(){return this.eInput},e.prototype.setInputWidth=function(t){return wn(this.eWrapper,t),this},e.prototype.setInputName=function(t){return this.getInputElement().setAttribute("name",t),this},e.prototype.getFocusableElement=function(){return this.eInput},e.prototype.setMaxLength=function(t){return this.eInput.maxLength=t,this},e.prototype.setInputPlaceholder=function(t){return An(this.eInput,"placeholder",t),this},e.prototype.setInputAriaLabel=function(t){return Gn(this.eInput,t),this},e.prototype.setDisabled=function(e){return Xe(this.eInput,e),t.prototype.setDisabled.call(this,e)},ea([Wr("eLabel")],e.prototype,"eLabel",void 0),ea([Wr("eWrapper")],e.prototype,"eWrapper",void 0),ea([Wr("eInput")],e.prototype,"eInput",void 0),e}(Zs),ra=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oa=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ia=function(t){function e(e,n,r){void 0===n&&(n="ag-checkbox"),void 0===r&&(r="checkbox");var o=t.call(this,e,n,r)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return ra(e,t),e.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},e.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},e.prototype.setPassive=function(t){this.passive=t},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setReadOnly=function(t){qe(this.eWrapper,"ag-disabled",t),this.eInput.disabled=t,this.readOnly=t},e.prototype.setDisabled=function(e){return qe(this.eWrapper,"ag-disabled",e),t.prototype.setDisabled.call(this,e)},e.prototype.toggle=function(){var t=this.isSelected(),e=this.getNextValue();this.passive?this.dispatchChange(e,t):this.setValue(e)},e.prototype.getValue=function(){return this.isSelected()},e.prototype.setValue=function(t,e){return this.refreshSelectedClass(t),this.setSelected(t,e),this},e.prototype.setName=function(t){return this.getInputElement().name=t,this},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(t,e){if(this.isSelected()!==t){var n=this.isSelected();t=this.selected="boolean"===typeof t?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=void 0===t,e||this.dispatchChange(this.selected,n)}},e.prototype.dispatchChange=function(t,n,r){this.dispatchEvent({type:e.EVENT_CHANGED,selected:t,previousValue:n,event:r});var o=this.getInputElement(),i={type:Bt.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:t,previousValue:n};this.eventService.dispatchEvent(i)},e.prototype.onCheckboxClick=function(t){if(!this.passive){var e=this.isSelected(),n=this.selected=t.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,e,t)}},e.prototype.refreshSelectedClass=function(t){qe(this.eWrapper,"ag-checked",!0===t),qe(this.eWrapper,"ag-indeterminate",null==t)},oa([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(na),sa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),aa=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ua=function(t){function e(e,n){var r=t.call(this)||this;r.cbSelectAllVisible=!1,r.processingEventFromCheckbox=!1,r.cbSelectAll=e,r.column=n;var o=n.getColDef();return r.filteredOnly=!!o&&!!o.headerCheckboxSelectionFilteredOnly,r}return sa(e,t),e.prototype.postConstruct=function(){this.showOrHideSelectAll(),this.addManagedListener(this.eventService,Bt.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,ia.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},e.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox())},e.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.getNextCheckboxState=function(t){return(0!==t.selected||0!==t.notSelected)&&(t.selected>0&&t.notSelected>0?null:t.selected>0)},e.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var t=this.getSelectionCount(),e=this.getNextCheckboxState(t);this.cbSelectAll.setValue(e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},e.prototype.refreshSelectAllLabel=function(){var t=this.cbSelectAll.getValue();this.cbSelectAll.setInputAriaLabel("Press Space to toggle all rows selection ("+(t?"checked":"unchecked")+")")},e.prototype.getSelectionCount=function(){var t=this,e=0,n=0,r=function(r){t.gridOptionsWrapper.isGroupSelectsChildren()&&r.group||(r.isSelected()?e++:r.selectable&&n++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(r):this.gridApi.forEachNode(r),{notSelected:n,selected:e}},e.prototype.checkRightRowModelType=function(){var t=this.rowModel.getType();t===vt.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("ag-Grid: selectAllCheckbox is only available if using normal row model, you are using "+t)},e.prototype.onCbSelectAll=function(){this.processingEventFromCheckbox||this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionController.selectAllRowNodes(this.filteredOnly):this.selectionController.deselectAllRowNodes(this.filteredOnly))},e.prototype.isCheckboxSelection=function(){var t=this.column.getColDef().headerCheckboxSelection;"function"===typeof t&&(t=t({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi}));return!!t&&(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("headerCheckboxSelection is not supported for Server Side Row Model"),!1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("headerCheckboxSelection is not supported for Infinite Row Model"),!1):!this.gridOptionsWrapper.isRowModelViewport()||(console.warn("headerCheckboxSelection is not supported for Viewport Row Model"),!1))},aa([at("gridApi")],e.prototype,"gridApi",void 0),aa([at("columnApi")],e.prototype,"columnApi",void 0),aa([at("rowModel")],e.prototype,"rowModel",void 0),aa([at("selectionController")],e.prototype,"selectionController",void 0),aa([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),aa([ot],e.prototype,"postConstruct",null),e}(jt),la=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ca=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return la(e,t),e.prototype.getColumn=function(){return this.column},e.prototype.getPinned=function(){return this.pinned},e}(no),pa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ha=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},da=function(t){function n(e,r){var o=t.call(this,n.TEMPLATE)||this;return o.headerCompVersion=0,o.refreshFunctions=[],o.column=e,o.pinned=r,o}return pa(n,t),n.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.colDefVersion=this.columnController.getColDefVersion(),this.updateState(),this.appendHeaderComp(),this.setupWidth(),this.setupMovingCss(),this.setupTooltip(),this.setupResize(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.addActiveHeaderMouseListeners(),this.createManagedBean(new zs([this.column],this.getGui())),this.addManagedListener(this.column,bt.EVENT_FILTER_ACTIVE_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged(),this.createManagedBean(new ua(this.cbSelectAll,this.column)),this.createManagedBean(new Ys(this.column,this.getGui(),this.beans)),this.addAttributes(),Hs.addHeaderClassesFromColDef(this.column.getColDef(),this.getGui(),this.gridOptionsWrapper,this.column,null),this.addManagedListener(this.eventService,Bt.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this))},n.prototype.onColumnValueChanged=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},n.prototype.updateState=function(){var t=this.column.getColDef();this.sortable=t.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},n.prototype.calculateDisplayName=function(){return this.columnController.getDisplayNameForColumn(this.column,"header",!0)},n.prototype.onNewColumnsLoaded=function(){var t=this.columnController.getColDefVersion();t!=this.colDefVersion&&(this.colDefVersion=t,this.refresh())},n.prototype.refresh=function(){this.updateState();var t=this.column.getColDef();if(!(this.colDefHeaderComponent!=t.headerComponent||this.colDefHeaderComponentFramework!=t.headerComponentFramework)&&this.attemptHeaderCompRefresh()){var e=this.draggable&&!this.dragAndDropService,n=!this.draggable&&this.dragAndDropService;(e||n)&&this.attachDraggingToHeaderComp()}else this.appendHeaderComp();this.refreshFunctions.forEach((function(t){return t()}))},n.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0),this.removeMoveDragSource()},n.prototype.removeMoveDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},n.prototype.attemptHeaderCompRefresh=function(){if(!this.headerComp)return!0;if(!this.headerComp.refresh)return!1;var t=this.createParams(),e=this.userComponentFactory.createFinalParams(this.getComponentHolder(),"headerComponent",t);return this.headerComp.refresh(e)},n.prototype.addActiveHeaderMouseListeners=function(){var t=this,e=function(e){return t.setActiveHeader("mouseenter"===e.type)};this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e)},n.prototype.setActiveHeader=function(t){qe(this.getGui(),"ag-header-active",t)},n.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var e=this.getParentComponent();this.focusController.setFocusedHeader(e.getRowIndex(),this.getColumn())}this.setActiveHeader(!0)},n.prototype.onFocusOut=function(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)},n.prototype.handleKeyDown=function(t){var e=this.headerComp;if(e){if(t.keyCode===Kr.SPACE){var n=this.cbSelectAll;n.isDisplayed()&&!n.getGui().contains(document.activeElement)&&(t.preventDefault(),n.setValue(!n.getValue()))}if(t.keyCode===Kr.ENTER)if(t.ctrlKey||t.metaKey)this.menuEnabled&&e.showMenu&&(t.preventDefault(),e.showMenu());else if(this.sortable){var r=t.shiftKey;this.sortController.progressSort(this.column,r,"uiColumnSorted")}}},n.prototype.onTabKeyDown=function(){},n.prototype.getComponentHolder=function(){return this.column.getColDef()},n.prototype.addColumnHoverListener=function(){this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},n.prototype.onColumnHover=function(){var t=this.columnHoverService.isHovered(this.column);qe(this.getGui(),"ag-column-hover",t)},n.prototype.setupSortableClass=function(){var t=this,e=this.getGui(),n=function(){qe(e,"ag-header-cell-sortable",t.sortable)},r=function(){t.sortable?tr(e,jn(t.column)):er(e)};n(),r(),this.refreshFunctions.push(n),this.refreshFunctions.push(r),this.addManagedListener(this.column,bt.EVENT_SORT_CHANGED,r.bind(this))},n.prototype.onFilterChanged=function(){var t=this.column.isFilterActive();qe(this.getGui(),"ag-header-cell-filtered",t)},n.prototype.appendHeaderComp=function(){this.headerCompVersion++;var t=this.column.getColDef();this.colDefHeaderComponent=t.headerComponent,this.colDefHeaderComponentFramework=t.headerComponentFramework;var e=this.createParams(),n=this.afterHeaderCompCreated.bind(this,this.headerCompVersion);this.userComponentFactory.newHeaderComponent(e).then(n)},n.prototype.createParams=function(){var t=this,e=this.column.getColDef();return this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,{column:this.column,displayName:this.displayName,enableSorting:e.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(e){t.gridApi.showColumnMenuAfterButtonClick(t.column,e)},progressSort:function(e){t.sortController.progressSort(t.column,!!e,"uiColumnSorted")},setSort:function(e,n){t.sortController.setSortForColumn(t.column,e,!!n,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()}},n.prototype.afterHeaderCompCreated=function(t,e){t==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=e,this.headerCompGui=e.getGui(),this.getGui().appendChild(this.headerCompGui),this.attachDraggingToHeaderComp()):this.destroyBean(e)},n.prototype.onColumnMovingChanged=function(){this.column.isMoving()?Ue(this.getGui(),"ag-header-cell-moving"):ze(this.getGui(),"ag-header-cell-moving")},n.prototype.workOutDraggable=function(){var t=this.column.getColDef();return!this.gridOptionsWrapper.isSuppressMovableColumns()&&!t.suppressMovable&&!t.lockPosition||t.enableRowGroup||t.enablePivot},n.prototype.attachDraggingToHeaderComp=function(){var t=this;this.removeMoveDragSource(),this.draggable&&(this.moveDragSource={type:e.DragSourceType.HeaderCell,eElement:this.headerCompGui,defaultIconName:ds.ICON_HIDE,getDragItem:function(){return t.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return t.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return t.column.setMoving(!1,"uiColumnMoved")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0))},n.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},n.prototype.setupResize=function(){var t,e,n=this,r=this.getComponentHolder(),o=[],i=function(){o.forEach((function(t){return t()})),o.length=0},s=function(){var s=n.column.isResizable(),a=!n.gridOptionsWrapper.isSuppressAutoSize()&&!r.suppressAutoSize;(s!==t||a!==e)&&(t=s,e=a,i(),function(){if(Ye(n.eResize,t),t){var r=n.horizontalResizeService.addResizeBar({eResizeBar:n.eResize,onResizeStart:n.onResizeStart.bind(n),onResizing:n.onResizing.bind(n,!1),onResizeEnd:n.onResizing.bind(n,!0)});if(o.push(r),e){var i=n.gridOptionsWrapper.isSkipHeaderOnAutoSize(),s=function(){n.columnController.autoSizeColumn(n.column,i,"uiColumnResized")};n.eResize.addEventListener("dblclick",s);var a=new vo(n.eResize);a.addEventListener(vo.EVENT_DOUBLE_TAP,s),n.addDestroyFunc((function(){n.eResize.removeEventListener("dblclick",s),a.removeEventListener(vo.EVENT_DOUBLE_TAP,s),a.destroy()}))}}}())};s(),this.addDestroyFunc(i),this.refreshFunctions.push(s)},n.prototype.onResizing=function(t,e){var n=this.normaliseResizeAmount(e),r=[{key:this.column,newWidth:this.resizeStartWidth+n}];this.columnController.setColumnWidths(r,this.resizeWithShiftKey,t,"uiColumnDragged"),t&&ze(this.getGui(),"ag-column-resizing")},n.prototype.onResizeStart=function(t){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=t,Ue(this.getGui(),"ag-column-resizing")},n.prototype.getTooltipParams=function(){return{location:"header",colDef:this.getComponentHolder(),column:this.getColumn(),value:this.getTooltipText()}},n.prototype.getTooltipText=function(){return this.getComponentHolder().headerTooltip},n.prototype.setupTooltip=function(){var t,e,n=this,r=this.gridOptionsWrapper.isEnableBrowserTooltips(),o=function(){r?n.getGui().removeAttribute("title"):t&&(t=n.destroyBean(t))},i=function(){var i=n.getTooltipText();e!=i&&(e&&o(),(e=i)&&(r?n.getGui().setAttribute("title",e):t=n.createBean(new Is(n))))};i(),this.addDestroyFunc(o),this.refreshFunctions.push(i)},n.prototype.setupMovingCss=function(){this.addManagedListener(this.column,bt.EVENT_MOVING_CHANGED,this.onColumnMovingChanged.bind(this)),this.onColumnMovingChanged()},n.prototype.addAttributes=function(){this.getGui().setAttribute("col-id",this.column.getColId())},n.prototype.setupWidth=function(){this.addManagedListener(this.column,bt.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},n.prototype.setupMenuClass=function(){this.addManagedListener(this.column,bt.EVENT_MENU_VISIBLE_CHANGED,this.onMenuVisible.bind(this))},n.prototype.onMenuVisible=function(){this.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())},n.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},n.prototype.normaliseResizeAmount=function(t){var e=t;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==vt.PINNED_LEFT&&(e*=-1):this.pinned===vt.PINNED_RIGHT&&(e*=-1),e},n.TEMPLATE='<div class="ag-header-cell" role="columnheader" unselectable="on" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <ag-checkbox ref="cbSelectAll" class="ag-header-select-all" role="presentation"></ag-checkbox>\n        </div>',ha([at("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),ha([at("dragAndDropService")],n.prototype,"dragAndDropService",void 0),ha([at("columnController")],n.prototype,"columnController",void 0),ha([at("horizontalResizeService")],n.prototype,"horizontalResizeService",void 0),ha([at("menuFactory")],n.prototype,"menuFactory",void 0),ha([at("gridApi")],n.prototype,"gridApi",void 0),ha([at("columnApi")],n.prototype,"columnApi",void 0),ha([at("sortController")],n.prototype,"sortController",void 0),ha([at("userComponentFactory")],n.prototype,"userComponentFactory",void 0),ha([at("columnHoverService")],n.prototype,"columnHoverService",void 0),ha([at("beans")],n.prototype,"beans",void 0),ha([Wr("eResize")],n.prototype,"eResize",void 0),ha([Wr("cbSelectAll")],n.prototype,"cbSelectAll",void 0),ha([it],n.prototype,"destroyHeaderComp",null),n}(ca),fa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ga=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},va=function(t){function n(e,r){var o=t.call(this,n.TEMPLATE)||this;return o.removeChildListenersFuncs=[],o.column=e,o.pinned=r,o}return fa(n,t),n.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),Hs.addHeaderClassesFromColDef(this.getComponentHolder(),this.getGui(),this.gridOptionsWrapper,null,this.column);var e=this.columnController.getDisplayNameForColumnGroup(this.column,"header");this.appendHeaderGroupComp(e),this.setupResize(),this.addClasses(),this.setupWidth(),this.addAttributes(),this.setupMovingCss(),this.setupTooltip(),this.setupExpandable(),this.createManagedBean(new zs(this.column.getOriginalColumnGroup().getLeafColumns(),this.getGui())),this.createManagedBean(new Ys(this.column,this.getGui(),this.beans))},n.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var e=this.getParentComponent();this.beans.focusController.setFocusedHeader(e.getRowIndex(),this.getColumn())}},n.prototype.handleKeyDown=function(t){var e=document.activeElement===this.getGui();if(this.expandable&&e&&t.keyCode===Kr.ENTER){var n=this.getColumn(),r=!n.isExpanded();this.columnController.setColumnGroupOpened(n.getOriginalColumnGroup(),r,"uiColumnExpanded")}},n.prototype.onTabKeyDown=function(){},n.prototype.setupExpandable=function(){var t=this.getColumn().getOriginalColumnGroup();this.refreshExpanded(),this.addManagedListener(t,Et.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,Et.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},n.prototype.refreshExpanded=function(){var t=this.getColumn(),e=this.getGui(),n=t.isExpandable(),r=t.isExpanded();this.expandable=n,n?Un(e,r):e.removeAttribute("aria-expanded")},n.prototype.setupMovingCss=function(){var t=this;this.column.getOriginalColumnGroup().getLeafColumns().forEach((function(e){t.addManagedListener(e,bt.EVENT_MOVING_CHANGED,t.onColumnMovingChanged.bind(t))})),this.onColumnMovingChanged()},n.prototype.getComponentHolder=function(){return this.column.getColGroupDef()},n.prototype.getTooltipText=function(){var t=this.getComponentHolder();return t&&t.headerTooltip},n.prototype.getTooltipParams=function(){return{location:"headerGroup",colDef:this.getComponentHolder(),column:this.getColumn(),value:this.getTooltipText()}},n.prototype.setupTooltip=function(){var t=this.getTooltipText();null!=t&&(this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",t):this.createManagedBean(new Is(this)))},n.prototype.onColumnMovingChanged=function(){qe(this.getGui(),"ag-header-cell-moving",this.column.isMoving())},n.prototype.addAttributes=function(){this.getGui().setAttribute("col-id",this.column.getUniqueId())},n.prototype.appendHeaderGroupComp=function(t){var e=this,n={displayName:t,columnGroup:this.column,setExpanded:function(t){e.columnController.setColumnGroupOpened(e.column.getOriginalColumnGroup(),t,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!t){for(var r=this.column,o=r.getLeafColumns();r.getParent()&&r.getParent().getLeafColumns().length===o.length;)r=r.getParent();var i=r.getColGroupDef();i&&(t=i.headerName),t||(t=o?this.columnController.getDisplayNameForColumn(o[0],"header",!0):"")}var s=this.afterHeaderCompCreated.bind(this,t);this.userComponentFactory.newHeaderGroupComponent(n).then(s)},n.prototype.afterHeaderCompCreated=function(t,e){var n=this;this.getGui().appendChild(e.getGui()),this.addDestroyFunc((function(){n.getContext().destroyBean(e)})),this.setupMove(e.getGui(),t)},n.prototype.addClasses=function(){var t=this.column.isPadding()?"no":"with";this.addCssClass("ag-header-group-cell-"+t+"-group")},n.prototype.setupMove=function(t,n){var r=this;if(t&&!this.isSuppressMoving()){var o=this.column.getOriginalColumnGroup().getLeafColumns(),i={type:e.DragSourceType.HeaderCell,eElement:t,defaultIconName:ds.ICON_HIDE,dragItemName:n,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return o.forEach((function(t){return t.setMoving(!0,"uiColumnDragged")}))},onDragStopped:function(){return o.forEach((function(t){return t.setMoving(!1,"uiColumnDragged")}))}};this.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc((function(){return r.dragAndDropService.removeDragSource(i)}))}},n.prototype.getDragItemForGroup=function(){var t=this.column.getOriginalColumnGroup().getLeafColumns(),e={};t.forEach((function(t){return e[t.getId()]=t.isVisible()}));var n=[];return this.columnController.getAllDisplayedColumns().forEach((function(e){t.indexOf(e)>=0&&(n.push(e),m(t,e))})),t.forEach((function(t){return n.push(t)})),{columns:n,visibleState:e}},n.prototype.isSuppressMoving=function(){var t=!1;return this.column.getLeafColumns().forEach((function(e){(e.getColDef().suppressMovable||e.getColDef().lockPosition)&&(t=!0)})),t||this.gridOptionsWrapper.isSuppressMovableColumns()},n.prototype.setupWidth=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.column,Ct.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},n.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},n.prototype.addListenersToChildrenColumns=function(){var t=this;this.removeListenersOnChildrenColumns();var e=this.onWidthChanged.bind(this);this.column.getLeafColumns().forEach((function(n){n.addEventListener(bt.EVENT_WIDTH_CHANGED,e),n.addEventListener(bt.EVENT_VISIBLE_CHANGED,e),t.removeChildListenersFuncs.push((function(){n.removeEventListener(bt.EVENT_WIDTH_CHANGED,e),n.removeEventListener(bt.EVENT_VISIBLE_CHANGED,e)}))}))},n.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach((function(t){return t()})),this.removeChildListenersFuncs=[]},n.prototype.onWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},n.prototype.setupResize=function(){var t=this;if(this.eHeaderCellResize=this.getRefElement("agResize"),this.column.isResizable()){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eHeaderCellResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gridOptionsWrapper.isSuppressAutoSize()){var n=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eHeaderCellResize.addEventListener("dblclick",(function(e){var r=[];t.column.getDisplayedLeafColumns().forEach((function(t){t.getColDef().suppressAutoSize||r.push(t.getColId())})),r.length>0&&t.columnController.autoSizeColumns(r,n,"uiColumnResized")}))}}else un(this.eHeaderCellResize)},n.prototype.onResizeStart=function(t){var e=this,n=this.column.getDisplayedLeafColumns();this.resizeCols=n.filter((function(t){return t.isResizable()})),this.resizeStartWidth=0,this.resizeCols.forEach((function(t){return e.resizeStartWidth+=t.getActualWidth()})),this.resizeRatios=[],this.resizeCols.forEach((function(t){return e.resizeRatios.push(t.getActualWidth()/e.resizeStartWidth)}));var r=null;if(t&&(r=this.columnController.getDisplayedGroupAfter(this.column)),r){var o=r.getDisplayedLeafColumns();this.resizeTakeFromCols=o.filter((function(t){return t.isResizable()})),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach((function(t){return e.resizeTakeFromStartWidth+=t.getActualWidth()})),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach((function(t){return e.resizeTakeFromRatios.push(t.getActualWidth()/e.resizeTakeFromStartWidth)}))}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;Ue(this.getGui(),"ag-column-resizing")},n.prototype.onResizing=function(t,e){var n=[],r=this.normaliseDragChange(e);n.push({columns:this.resizeCols,ratios:this.resizeRatios,width:this.resizeStartWidth+r}),this.resizeTakeFromCols&&n.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-r}),this.columnController.resizeColumnSets(n,t,"uiColumnDragged"),t&&ze(this.getGui(),"ag-column-resizing")},n.prototype.normaliseDragChange=function(t){var e=t;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==vt.PINNED_LEFT&&(e*=-1):this.pinned===vt.PINNED_RIGHT&&(e*=-1),e},n.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="agResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',ga([at("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),ga([at("columnController")],n.prototype,"columnController",void 0),ga([at("horizontalResizeService")],n.prototype,"horizontalResizeService",void 0),ga([at("dragAndDropService")],n.prototype,"dragAndDropService",void 0),ga([at("userComponentFactory")],n.prototype,"userComponentFactory",void 0),ga([at("beans")],n.prototype,"beans",void 0),ga([at("gridApi")],n.prototype,"gridApi",void 0),ga([at("columnApi")],n.prototype,"columnApi",void 0),n}(ca),ya=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ma=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ba=function(t){function e(){return t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return ya(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t;var e=this.columnController.getDisplayNameForColumn(t.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(e+" Filter Input")},e.prototype.onParentModelChanged=function(t){var e=this;t?this.params.parentFilterInstance((function(n){if(n.getModelAsString){var r=n.getModelAsString(t);e.eFloatingFilterText.setValue(r)}})):this.eFloatingFilterText.setValue("")},ma([Wr("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),ma([at("columnController")],e.prototype,"columnController",void 0),e}(jr),wa=function(){function t(){}return t.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},t.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},t}(),Ca=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ea=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},_a=function(t){function n(e,r){var o=t.call(this,n.TEMPLATE)||this;return o.column=e,o.pinned=r,o}return Ca(n,t),n.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.setupFloatingFilter(),this.setupWidth(),this.setupLeftPositioning(),this.setupColumnHover(),this.createManagedBean(new zs([this.column],this.getGui())),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},n.prototype.onTabKeyDown=function(t){var e=document.activeElement,n=this.getGui();if(!(e===n)){t.preventDefault();var r=this.focusController.findNextFocusableElement(n,null,t.shiftKey);r?r.focus():n.focus()}},n.prototype.handleKeyDown=function(t){var e=document.activeElement,n=this.getGui(),r=e===n;switch(t.keyCode){case Kr.UP:case Kr.DOWN:r||t.preventDefault();case Kr.LEFT:case Kr.RIGHT:if(r)return;t.stopPropagation();case Kr.ENTER:r&&this.focusController.focusInto(n)&&t.preventDefault();break;case Kr.ESCAPE:r||this.getGui().focus()}},n.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var e=this.getParentComponent();this.beans.focusController.setFocusedHeader(e.getRowIndex(),this.getColumn())}},n.prototype.setupFloatingFilter=function(){var t=this,e=this.column.getColDef();e.filter&&e.floatingFilter&&(this.floatingFilterCompPromise=this.getFloatingFilterInstance(),this.floatingFilterCompPromise&&this.floatingFilterCompPromise.then((function(e){e&&(t.setupWithFloatingFilter(e),t.setupSyncWithFilter())})))},n.prototype.setupLeftPositioning=function(){var t=new Ys(this.column,this.getGui(),this.beans);this.createManagedBean(t)},n.prototype.setupSyncWithFilter=function(){var t=this,e=function(e){t.onParentModelChanged(t.currentParentModel(),e)};this.addManagedListener(this.column,bt.EVENT_FILTER_CHANGED,e),this.filterManager.isFilterActive(this.column)&&e(null)},n.prototype.showParentFilter=function(){var t=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,t,"filterMenuTab",["filterMenuTab"])},n.prototype.setupColumnHover=function(){this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},n.prototype.onColumnHover=function(){qe(this.getGui(),"ag-column-hover",this.columnHoverService.isHovered(this.column))},n.prototype.setupWidth=function(){this.addManagedListener(this.column,bt.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},n.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},n.prototype.setupWithFloatingFilter=function(t){var e=this,n=function(){e.getContext().destroyBean(t)};if(this.isAlive()){this.addDestroyFunc(n);var r=t.getGui();qe(this.eFloatingFilterBody,"ag-floating-filter-full-body",this.suppressFilterButton),qe(this.eFloatingFilterBody,"ag-floating-filter-body",!this.suppressFilterButton),Ye(this.eButtonWrapper,!this.suppressFilterButton);var o=vr("filter",this.gridOptionsWrapper,this.column);this.eButtonShowMainFilter.appendChild(o),this.eFloatingFilterBody.appendChild(r),t.afterGuiAttached&&t.afterGuiAttached()}else n()},n.prototype.parentFilterInstance=function(t){this.getFilterComponent().then(t)},n.prototype.getFilterComponent=function(t){return void 0===t&&(t=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",t)},n.getDefaultFloatingFilterType=function(t){if(null==t)return null;var n=null;if("string"===typeof t.filter)n=wa.getFloatingFilterType(t.filter);else if(t.filterFramework);else if(!0===t.filter){n=yt.isRegistered(e.ModuleNames.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"}return n},n.prototype.getFloatingFilterInstance=function(){var t=this.column.getColDef(),e=n.getDefaultFloatingFilterType(t),r=this.filterManager.createFilterParams(this.column,t),o=this.userComponentFactory.createFinalParams(t,"filter",r),i={api:this.gridApi,column:this.column,filterParams:o,currentParentModel:this.currentParentModel.bind(this),parentFilterInstance:this.parentFilterInstance.bind(this),showParentFilter:this.showParentFilter.bind(this),onFloatingFilterChanged:this.onFloatingFilterChanged.bind(this),suppressFilterButton:!1};this.suppressFilterButton=!!t.floatingFilterComponentParams&&!!t.floatingFilterComponentParams.suppressFilterButton;var s=this.userComponentFactory.newFloatingFilterComponent(t,i,e);if(!s){var a=this.getFilterComponentPrototype(t);if(a&&a.prototype&&a.prototype.getModelAsString){var u=this.userComponentFactory.createUserComponentFromConcreteClass(ba,i);s=xr.resolve(u)}}return s},n.prototype.createDynamicParams=function(){return{column:this.column,colDef:this.column.getColDef(),api:this.gridApi,columnApi:this.columnApi}},n.prototype.getFilterComponentPrototype=function(t){var e=this.userComponentFactory.lookupComponentClassDef(t,"filter",this.createDynamicParams());return e?e.component:null},n.prototype.currentParentModel=function(){var t=this.getFilterComponent(!1);return t?t.resolveNow(null,(function(t){return t.getModel()})):null},n.prototype.onParentModelChanged=function(t,e){this.floatingFilterCompPromise&&this.floatingFilterCompPromise.then((function(n){return n.onParentModelChanged(t,e)}))},n.prototype.onFloatingFilterChanged=function(){console.warn("ag-Grid: since version 21.x, how floating filters are implemented has changed. Instead of calling params.onFloatingFilterChanged(), get a reference to the main filter via params.parentFilterInstance() and then set a value on the parent filter directly.")},n.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div class="ag-floating-filter-full-body" ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Ea([at("columnHoverService")],n.prototype,"columnHoverService",void 0),Ea([at("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),Ea([at("userComponentFactory")],n.prototype,"userComponentFactory",void 0),Ea([at("gridApi")],n.prototype,"gridApi",void 0),Ea([at("columnApi")],n.prototype,"columnApi",void 0),Ea([at("filterManager")],n.prototype,"filterManager",void 0),Ea([at("menuFactory")],n.prototype,"menuFactory",void 0),Ea([at("beans")],n.prototype,"beans",void 0),Ea([Wr("eFloatingFilterBody")],n.prototype,"eFloatingFilterBody",void 0),Ea([Wr("eButtonWrapper")],n.prototype,"eButtonWrapper",void 0),Ea([Wr("eButtonShowMainFilter")],n.prototype,"eButtonShowMainFilter",void 0),n}(ca),Oa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ra=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.COLUMN_GROUP=0]="COLUMN_GROUP",t[t.COLUMN=1]="COLUMN",t[t.FLOATING_FILTER=2]="FLOATING_FILTER"}(As||(As={}));var Sa,Ta=function(t){function e(e,n,r){var o=t.call(this,'<div class="ag-header-row" role="row"></div>')||this;o.headerComps={},o.setRowIndex(e),o.type=n,o.pinned=r;var i=As[n].toLowerCase().replace(/_/g,"-");return o.addCssClass("ag-header-row-"+i),xe()&&(o.getGui().style.transform="translateZ(0)"),o}return Oa(e,t),e.prototype.forEachHeaderElement=function(t){var e=this;Object.keys(this.headerComps).forEach((function(n){t(e.headerComps[n])}))},e.prototype.setRowIndex=function(t){this.dept=t,Xn(this.getGui(),t+1)},e.prototype.getRowIndex=function(){return this.dept},e.prototype.getType=function(){return this.type},e.prototype.destroyAllChildComponents=function(){var t=Object.keys(this.headerComps);this.destroyChildComponents(t)},e.prototype.destroyChildComponents=function(t,e){var n=this;t.forEach((function(t){var r=n.headerComps[t];e&&!r.getColumn().isMoving()&&n.focusController.isHeaderWrapperFocused(r)||(n.getGui().removeChild(r.getGui()),n.destroyBean(r),delete n.headerComps[t])}))},e.prototype.onRowHeightChanged=function(){var t,e,n=this.columnController.getHeaderRowCount(),r=[],o=0;this.columnController.isPivotMode()?(t=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),e=this.gridOptionsWrapper.getPivotHeaderHeight()):(this.columnController.hasFloatingFilters()&&(n++,o=1),t=this.gridOptionsWrapper.getGroupHeaderHeight(),e=this.gridOptionsWrapper.getHeaderHeight());for(var i=n-(1+o),s=0;s<i;s++)r.push(t);r.push(e);for(s=0;s<o;s++)r.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var a=0;for(s=0;s<this.dept;s++)a+=r[s];this.getGui().style.top=a+"px",this.getGui().style.height=r[this.dept]+"px"},e.prototype.init=function(){this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addManagedListener(this.gridOptionsWrapper,Zi.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Zi.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Zi.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Zi.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Zi.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this))},e.prototype.onColumnResized=function(){this.setWidth()},e.prototype.setWidth=function(){var t=this.getWidthForRow();this.getGui().style.width=t+"px"},e.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===vt.DOM_LAYOUT_PRINT?o(this.pinned)?this.columnController.getContainerWidth(vt.PINNED_RIGHT)+this.columnController.getContainerWidth(vt.PINNED_LEFT)+this.columnController.getContainerWidth(null):0:this.columnController.getContainerWidth(this.pinned)},e.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},e.prototype.getItemsAtDepth=function(){var t=this;if(this.gridOptionsWrapper.getDomLayout()===vt.DOM_LAYOUT_PRINT){if(o(this.pinned)){var e=[];return[vt.PINNED_LEFT,null,vt.PINNED_RIGHT].forEach((function(n){var r=t.columnController.getVirtualHeaderGroupRow(n,t.type==As.FLOATING_FILTER?t.dept-1:t.dept);e=e.concat(r)})),e}return[]}return this.columnController.getVirtualHeaderGroupRow(this.pinned,this.type==As.FLOATING_FILTER?this.dept-1:this.dept)},e.prototype.onVirtualColumnsChanged=function(){var t=this,e=Object.keys(this.headerComps),n=[];if(this.getItemsAtDepth().forEach((function(r){if(!r.isEmptyGroup()){var o=r.getUniqueId(),i=t.getGui(),s=t.headerComps[o];if(s&&s.getColumn()!=r&&(t.destroyChildComponents([o]),m(e,o),s=void 0),s)m(e,o);else{var a=t.createHeaderComp(r);t.headerComps[o]=a,i.appendChild(a.getGui())}n.push(o)}})),this.destroyChildComponents(e,!0),this.gridOptionsWrapper.isEnsureDomOrder()){var r=n.map((function(e){return t.headerComps[e].getGui()}));gn(this.getGui(),r)}},e.prototype.createHeaderComp=function(t){var e;switch(this.type){case As.COLUMN:e=new da(t,this.pinned);break;case As.COLUMN_GROUP:e=new va(t,this.pinned);break;case As.FLOATING_FILTER:e=new _a(t,this.pinned)}return this.createBean(e),e.setParentComponent(this),e},e.prototype.getHeaderComps=function(){return this.headerComps},Ra([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ra([at("columnController")],e.prototype,"columnController",void 0),Ra([at("focusController")],e.prototype,"focusController",void 0),Ra([it],e.prototype,"destroyAllChildComponents",null),Ra([ot],e.prototype,"init",null),e}(jr),Pa=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Aa=function(){function t(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=t,this.eContainer=e,this.centerContainer=!r(t)}return t.prototype.registerGridComp=function(t){this.gridPanel=t},t.prototype.init=function(){this.logger=this.loggerFactory.create("MoveColumnController")},t.prototype.getIconName=function(){return this.pinned?ds.ICON_PINNED:ds.ICON_MOVE},t.prototype.onDragEnter=function(t){var n=t.dragItem.columns;if(t.dragSource.type===e.DragSourceType.ToolPanel)this.setColumnsVisible(n,!0,"uiColumnDragged");else{var r=t.dragItem.visibleState,o=n.filter((function(t){return r[t.getId()]}));this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(n,this.pinned,"uiColumnDragged"),this.onDragging(t,!0)},t.prototype.onDragLeave=function(t){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!t.fromNudge){var e=t.dragSource.getDragItem().columns;this.setColumnsVisible(e,!1,"uiColumnDragged")}this.ensureIntervalCleared()},t.prototype.setColumnsVisible=function(t,e,n){if(void 0===n&&(n="api"),t){var r=t.filter((function(t){return!t.getColDef().lockVisible}));this.columnController.setColumnsVisible(r,e,n)}},t.prototype.setColumnsPinned=function(t,e,n){if(void 0===n&&(n="api"),t){var r=t.filter((function(t){return!t.getColDef().lockPinned}));this.columnController.setColumnsPinned(r,e,n)}},t.prototype.onDragStop=function(){this.ensureIntervalCleared()},t.prototype.normaliseX=function(t){this.gridOptionsWrapper.isEnableRtl()&&(t=this.eContainer.clientWidth-t);return this.centerContainer&&(t+=this.gridPanel.getCenterViewportScrollLeft()),t},t.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.gridPanel.getCenterViewportScrollLeft(),n=e+this.gridPanel.getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>n-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},t.prototype.onDragging=function(t,e){var n=this;if(void 0===e&&(e=!1),this.lastDraggingEvent=t,!o(t.hDirection)){var r=this.normaliseX(t.x);e||this.checkCenterForScrolling(r);var i=this.normaliseDirection(t.hDirection),s=t.dragSource.type,a=t.dragSource.getDragItem().columns;a=a.filter((function(t){return!t.getColDef().lockPinned||t.getPinned()==n.pinned})),this.attemptMoveColumns(s,a,i,r,e)}},t.prototype.normaliseDirection=function(t){if(!this.gridOptionsWrapper.isEnableRtl())return t;switch(t){case e.HorizontalDirection.Left:return e.HorizontalDirection.Right;case e.HorizontalDirection.Right:return e.HorizontalDirection.Left;default:console.error("ag-Grid: Unknown direction "+t)}},t.prototype.calculateOldIndex=function(t){var e=this.columnController.getAllGridColumns(),n=y(t.map((function(t){return e.indexOf(t)}))),r=n[0];return g(n)-r!==n.length-1?null:r},t.prototype.attemptMoveColumns=function(t,n,r,o,i){var s=r===e.HorizontalDirection.Left,a=r===e.HorizontalDirection.Right,u=n.slice();this.columnController.sortColumnsLikeGridColumns(u);var l=this.calculateValidMoves(u,a,o),c=this.calculateOldIndex(u);if(0!==l.length){var p=l[0],h=null!==c&&!i;if(t==e.DragSourceType.HeaderCell&&(h=null!==c),h){if(s&&p>=c)return;if(a&&p<=c)return}for(var d=0;d<l.length;d++){var f=l[d];if(this.columnController.doesMovePassRules(u,f))return void this.columnController.moveColumns(u,f,"uiColumnDragged")}}},t.prototype.calculateValidMoves=function(t,e,n){if(this.gridOptionsWrapper.isSuppressMovableColumns()||t.some((function(t){return t.getColDef().suppressMovable})))return[];var r,o=this.columnController.getDisplayedColumns(this.pinned),i=this.columnController.getAllGridColumns(),s=o.filter((function(e){return E(t,e)})),a=o.filter((function(e){return!E(t,e)})),u=i.filter((function(e){return!E(t,e)})),l=0,c=n;if(e){var p=0;s.forEach((function(t){return p+=t.getActualWidth()})),c-=p}if(c>0){for(var h=0;h<a.length;h++){if((c-=a[h].getActualWidth())<0)break;l++}e&&l++}if(l>0){var d=a[l-1];r=u.indexOf(d)+1}else-1===(r=u.indexOf(a[0]))&&(r=0);var f=[r],g=function(t,e){return t-e};if(e){for(var v=r+1,y=i.length-1;v<=y;)f.push(v),v++;f.sort(g)}else{v=r,y=i.length-1;for(var m=i[v];v<=y&&this.isColumnHidden(o,m);)v++,f.push(v),m=i[v];v=r-1;for(;v>=0;)f.push(v),v--;f.sort(g).reverse()}return f},t.prototype.isColumnHidden=function(t,e){return t.indexOf(e)<0},t.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(ds.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(ds.ICON_RIGHT,!0))},t.prototype.ensureIntervalCleared=function(){this.moveInterval&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(ds.ICON_MOVE))},t.prototype.moveInterval=function(){var t,e;if(this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100),this.needToMoveLeft?e=this.gridPanel.scrollHorizontally(-t):this.needToMoveRight&&(e=this.gridPanel.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var n=this.lastDraggingEvent.dragItem.columns.filter((function(t){return!t.getColDef().lockPinned}));if(n.length>0&&(this.dragAndDropService.setGhostIcon(ds.ICON_PINNED),this.failedMoveAttempts>7)){var r=this.needToMoveLeft?vt.PINNED_LEFT:vt.PINNED_RIGHT;this.setColumnsPinned(n,r,"uiColumnDragged"),this.dragAndDropService.nudge()}}},Pa([at("loggerFactory")],t.prototype,"loggerFactory",void 0),Pa([at("columnController")],t.prototype,"columnController",void 0),Pa([at("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Pa([at("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Pa([ot],t.prototype,"init",null),t}(),Ia=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Da=function(){function t(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return t.prototype.onDragEnter=function(t){var e=this;(this.clearColumnsList(),this.gridOptionsWrapper.isFunctionsReadOnly())||t.dragItem.columns.forEach((function(t){t.isPrimary()&&(t.isAnyFunctionActive()||(t.isAllowValue()?e.columnsToAggregate.push(t):t.isAllowRowGroup()?e.columnsToGroup.push(t):t.isAllowPivot()&&e.columnsToPivot.push(t)))}))},t.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?ds.ICON_PINNED:ds.ICON_MOVE:null},t.prototype.onDragLeave=function(t){this.clearColumnsList()},t.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},t.prototype.onDragging=function(t){},t.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnController.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnController.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnController.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},Ia([at("columnController")],t.prototype,"columnController",void 0),Ia([at("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(),Na=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xa=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.ColumnMove=0]="ColumnMove",t[t.Pivot=1]="Pivot"}(Sa||(Sa={}));var ka,La=function(t){function n(e,n){var r=t.call(this)||this;return r.dropListeners={},r.pinned=e,r.eContainer=n,r}return Na(n,t),n.prototype.registerGridComp=function(t){switch(this.gridPanel=t,this.moveColumnController.registerGridComp(t),this.pinned){case vt.PINNED_LEFT:this.eSecondaryContainers=this.gridPanel.getDropTargetLeftContainers();break;case vt.PINNED_RIGHT:this.eSecondaryContainers=this.gridPanel.getDropTargetRightContainers();break;default:this.eSecondaryContainers=this.gridPanel.getDropTargetBodyContainers()}},n.prototype.isInterestedIn=function(t){return t===e.DragSourceType.HeaderCell||t===e.DragSourceType.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},n.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},n.prototype.getContainer=function(){return this.eContainer},n.prototype.init=function(){this.moveColumnController=this.createBean(new Aa(this.pinned,this.eContainer));var t=new Da(this.pinned);this.createBean(t),this.dropListeners[Sa.ColumnMove]=this.moveColumnController,this.dropListeners[Sa.Pivot]=t,this.dragAndDropService.addDropTarget(this)},n.prototype.getIconName=function(){return this.currentDropListener.getIconName()},n.prototype.getDropType=function(t){return this.columnController.isPivotMode()&&t.dragSource.type===e.DragSourceType.ToolPanel?Sa.Pivot:Sa.ColumnMove},n.prototype.onDragEnter=function(t){var e=this.getDropType(t);this.currentDropListener=this.dropListeners[e],this.currentDropListener.onDragEnter(t)},n.prototype.onDragLeave=function(t){this.currentDropListener.onDragLeave(t)},n.prototype.onDragging=function(t){this.currentDropListener.onDragging(t)},n.prototype.onDragStop=function(t){this.currentDropListener.onDragStop(t)},xa([at("dragAndDropService")],n.prototype,"dragAndDropService",void 0),xa([at("columnController")],n.prototype,"columnController",void 0),xa([at("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),xa([ot],n.prototype,"init",null),n}(jt),Fa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ma=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ja=function(t){function e(e,n,r){var o=t.call(this)||this;return o.groupsRowComps=[],o.eContainer=e,o.pinned=r,o.eViewport=n,o}return Fa(e,t),e.prototype.forEachHeaderElement=function(t){this.groupsRowComps&&this.groupsRowComps.forEach((function(e){return e.forEachHeaderElement(t)})),this.columnsRowComp&&this.columnsRowComp.forEachHeaderElement(t),this.filtersRowComp&&this.columnsRowComp.forEachHeaderElement(t)},e.prototype.init=function(){this.addManagedListener(this.eventService,Bt.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},e.prototype.onColumnResized=function(){this.setWidthOfPinnedContainer()},e.prototype.onDisplayedColumnsChanged=function(){this.setWidthOfPinnedContainer()},e.prototype.onScrollVisibilityChanged=function(){this.setWidthOfPinnedContainer()},e.prototype.onScrollbarWidthChanged=function(){this.setWidthOfPinnedContainer()},e.prototype.setWidthOfPinnedContainer=function(){var t=this.pinned===vt.PINNED_LEFT,e=this.pinned===vt.PINNED_RIGHT,n=this.columnController,r=this.gridOptionsWrapper.isEnableRtl(),o=this.gridOptionsWrapper.getScrollbarWidth();if(t||e){var i=n[t?"getPinnedLeftContainerWidth":"getPinnedRightContainerWidth"]();this.scrollVisibleService.isVerticalScrollShowing()&&(r&&t||!r&&e)&&(i+=o),Cn(this.eContainer,i)}},e.prototype.getRowComps=function(){var t=[];return this.groupsRowComps&&(t=t.concat(this.groupsRowComps)),this.columnsRowComp&&t.push(this.columnsRowComp),this.filtersRowComp&&t.push(this.filtersRowComp),t},e.prototype.onGridColumnsChanged=function(){this.refresh(!0)},e.prototype.refresh=function(t){void 0===t&&(t=!1),this.refreshRowComps(t)},e.prototype.setupDragAndDrop=function(t){var e=this.eViewport?this.eViewport:this.eContainer,n=new La(this.pinned,e);this.createManagedBean(n),n.registerGridComp(t)},e.prototype.destroyRowComps=function(t){void 0===t&&(t=!1),this.groupsRowComps.forEach(this.destroyRowComp.bind(this)),this.groupsRowComps=[],this.destroyRowComp(this.filtersRowComp),this.filtersRowComp=void 0,t||(this.destroyRowComp(this.columnsRowComp),this.columnsRowComp=void 0)},e.prototype.destroyRowComp=function(t){t&&(this.destroyBean(t),this.eContainer.removeChild(t.getGui()))},e.prototype.refreshRowComps=function(t){var e=this;void 0===t&&(t=!1);var n=new Nr;!function(){var t=e.columnController.getHeaderRowCount()-1;e.groupsRowComps.forEach(e.destroyRowComp.bind(e)),e.groupsRowComps=[];for(var r=0;r<t;r++){var o=e.createBean(new Ta(n.next(),As.COLUMN_GROUP,e.pinned));e.groupsRowComps.push(o)}}(),function(){var r=n.next();if(e.columnsRowComp){var o=e.columnsRowComp.getRowIndex()!==r;t&&!o||(e.destroyRowComp(e.columnsRowComp),e.columnsRowComp=void 0)}e.columnsRowComp||(e.columnsRowComp=e.createBean(new Ta(r,As.COLUMN,e.pinned)))}(),e.destroyRowComp(e.filtersRowComp),e.filtersRowComp=void 0,!e.columnController.isPivotMode()&&e.columnController.hasFloatingFilters()&&(e.filtersRowComp=e.createBean(new Ta(n.next(),As.FLOATING_FILTER,e.pinned))),this.getRowComps().forEach((function(t){return e.eContainer.appendChild(t.getGui())}))},Ma([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ma([at("columnController")],e.prototype,"columnController",void 0),Ma([at("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Ma([ot],e.prototype,"init",null),Ma([it],e.prototype,"destroyRowComps",null),e}(jt),Va=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ga=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};(ka=e.HeaderNavigationDirection||(e.HeaderNavigationDirection={}))[ka.UP=0]="UP",ka[ka.DOWN=1]="DOWN",ka[ka.LEFT=2]="LEFT",ka[ka.RIGHT=3]="RIGHT";var Wa,Ha=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Va(n,t),n.prototype.registerGridComp=function(t){this.gridPanel=t},n.prototype.registerHeaderRoot=function(t){this.headerRoot=t},n.prototype.getHeaderRowCount=function(){return 0===this.headerRoot.getHeaderContainers().size?0:this.getHeaderContainer().getRowComps().length},n.prototype.getHeaderRowType=function(t){if(this.getHeaderRowCount())return this.getHeaderContainer().getRowComps()[t].getType()},n.prototype.getHeaderContainer=function(t){return void 0===t&&(t="center"),null===t&&(t="center"),this.headerRoot.getHeaderContainers().get(t)},n.prototype.navigateVertically=function(t,n,r){if(n||(n=this.focusController.getFocusedHeader()),!n)return!1;var o,i=n.headerRowIndex,s=n.column,a=this.getHeaderRowCount(),u=t===e.HeaderNavigationDirection.UP,l=u?i-1:i+1,c=!1;l<0&&(l=0,o=s,c=!0),l>=a&&(l=-1);var p=this.getHeaderRowType(i);if(!c){if(p===As.COLUMN_GROUP){var h=s;o=u?s.getParent():h.getDisplayedChildren()[0]}else if(p===As.FLOATING_FILTER)o=s;else{h=s;o=u?h.getParent():h}if(!o)return!1}return this.focusController.focusHeaderPosition({headerRowIndex:l,column:o},void 0,!1,!0,r)},n.prototype.navigateHorizontally=function(t,n,r){void 0===n&&(n=!1);var o,i,s=this.focusController.getFocusedHeader();return t===e.HeaderNavigationDirection.LEFT!==this.gridOptionsWrapper.isEnableRtl()?(i="Before",o=this.headerPositionUtils.findHeader(s,i)):(i="After",o=this.headerPositionUtils.findHeader(s,i)),o?this.focusController.focusHeaderPosition(o,i,n,!0,r):!n||this.focusNextHeaderRow(s,i,r)},n.prototype.focusNextHeaderRow=function(t,e,n){var r,o,i=t.headerRowIndex;return"Before"===e?i>0&&(o=i-1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"end")):(o=i+1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"start")),this.focusController.focusHeaderPosition(r,e,!0,!0,n)},n.prototype.scrollToColumn=function(t,e){if(void 0===e&&(e="After"),!t.getPinned()){var n;if(t instanceof Ct){var r=t.getDisplayedLeafColumns();n="Before"===e?g(r):r[0]}else n=t;this.gridPanel.ensureColumnVisible(n),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},Ga([at("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),Ga([at("focusController")],n.prototype,"focusController",void 0),Ga([at("headerPositionUtils")],n.prototype,"headerPositionUtils",void 0),Ga([at("animationFrameService")],n.prototype,"animationFrameService",void 0),n=Ga([st("headerNavigationService")],n)}(jt),Ba=function(){function t(){}return t.BACKSPACE="Backspace",t.TAB="Tab",t.ENTER="Enter",t.SHIFT="Shift",t.ESCAPE="Escape",t.SPACE=" ",t.LEFT="ArrowLeft",t.UP="ArrowUp",t.RIGHT="ArrowRight",t.DOWN="ArrowDown",t.DELETE="Delete",t.NUM_PAD_DELETE="Del",t.A="a",t.C="c",t.V="v",t.D="d",t.Z="z",t.Y="y",t.F2="F2",t.PAGE_UP="PageUp",t.PAGE_DOWN="PageDown",t.PAGE_HOME="Home",t.PAGE_END="End",t}(),Ua=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),za=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},qa=function(t){function n(){var e=t.call(this,n.TEMPLATE)||this;return e.headerContainers=new Map,e}return Ua(n,t),n.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.printLayout=this.gridOptionsWrapper.getDomLayout()===vt.DOM_LAYOUT_PRINT,this.gridApi.registerHeaderRootComp(this),this.autoWidthCalculator.registerHeaderRootComp(this),this.registerHeaderContainer(new ja(this.eHeaderContainer,this.eHeaderViewport,null),"center"),this.registerHeaderContainer(new ja(this.ePinnedLeftHeader,null,vt.PINNED_LEFT),"left"),this.registerHeaderContainer(new ja(this.ePinnedRightHeader,null,vt.PINNED_RIGHT),"right"),this.headerContainers.forEach((function(t){return e.createManagedBean(t)})),this.headerNavigationService.registerHeaderRoot(this),this.addManagedListener(this.gridOptionsWrapper,Zi.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.addPreventHeaderScroll(),this.columnController.isReady()&&this.refreshHeader()},n.prototype.registerGridComp=function(t){this.gridPanel=t,this.headerContainers.forEach((function(e){return e.setupDragAndDrop(t)}))},n.prototype.registerHeaderContainer=function(t,e){this.headerContainers.set(e,t)},n.prototype.onTabKeyDown=function(t){var n=this.gridOptionsWrapper.isEnableRtl(),r=t.shiftKey!==n?e.HeaderNavigationDirection.LEFT:e.HeaderNavigationDirection.RIGHT,o=this.focusController.getFocusedHeader(),i=o.headerRowIndex,s=o.column;Cr(this.gridOptionsWrapper,t,i,s)||(this.headerNavigationService.navigateHorizontally(r,!0,t)||this.focusController.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()},n.prototype.handleKeyDown=function(t){var n,o=this.focusController.getFocusedHeader(),i=o.headerRowIndex,s=o.column;if(!Cr(this.gridOptionsWrapper,t,i,s))switch(t.key){case Ba.LEFT:n=e.HeaderNavigationDirection.LEFT;case Ba.RIGHT:r(n)||(n=e.HeaderNavigationDirection.RIGHT),this.headerNavigationService.navigateHorizontally(n,!1,t);break;case Ba.UP:n=e.HeaderNavigationDirection.UP;case Ba.DOWN:r(n)||(n=e.HeaderNavigationDirection.DOWN),this.headerNavigationService.navigateVertically(n,null,t)&&t.preventDefault();break;default:return}},n.prototype.onFocusOut=function(t){var e=t.relatedTarget,n=this.getGui();!e&&n.contains(document.activeElement)||n.contains(e)||this.focusController.clearFocusedHeader()},n.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsWrapper.getDomLayout()===vt.DOM_LAYOUT_PRINT;this.printLayout!==t&&(this.printLayout=t,this.refreshHeader())},n.prototype.setHorizontalScroll=function(t){this.eHeaderContainer.style.transform="translateX("+t+"px)"},n.prototype.forEachHeaderElement=function(t){this.headerContainers.forEach((function(e){return e.forEachHeaderElement(t)}))},n.prototype.refreshHeader=function(){this.headerContainers.forEach((function(t){return t.refresh()}))},n.prototype.onPivotModeChanged=function(){var t=this.columnController.isPivotMode();qe(this.getGui(),"ag-pivot-on",t),qe(this.getGui(),"ag-pivot-off",!t)},n.prototype.setHeight=function(t){var e=t+1+"px";this.getGui().style.height=e,this.getGui().style.minHeight=e},n.prototype.addPreventHeaderScroll=function(){var t=this;this.addManagedListener(this.eHeaderViewport,"scroll",(function(){var e=t.eHeaderViewport.scrollLeft;0!==e&&(t.gridPanel.scrollHorizontally(e),t.eHeaderViewport.scrollLeft=0)}))},n.prototype.getHeaderContainers=function(){return this.headerContainers},n.prototype.setHeaderContainerWidth=function(t){this.eHeaderContainer.style.width=t+"px"},n.prototype.setLeftVisible=function(t){Ye(this.ePinnedLeftHeader,t)},n.prototype.setRightVisible=function(t){Ye(this.ePinnedRightHeader,t)},n.TEMPLATE='<div class="ag-header" role="presentation">\n            <div class="ag-pinned-left-header" ref="ePinnedLeftHeader" role="presentation"></div>\n            <div class="ag-header-viewport" ref="eHeaderViewport" role="presentation">\n                <div class="ag-header-container" ref="eHeaderContainer" role="rowgroup"></div>\n            </div>\n            <div class="ag-pinned-right-header" ref="ePinnedRightHeader" role="presentation"></div>\n        </div>',za([Wr("ePinnedLeftHeader")],n.prototype,"ePinnedLeftHeader",void 0),za([Wr("ePinnedRightHeader")],n.prototype,"ePinnedRightHeader",void 0),za([Wr("eHeaderContainer")],n.prototype,"eHeaderContainer",void 0),za([Wr("eHeaderViewport")],n.prototype,"eHeaderViewport",void 0),za([at("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),za([at("columnController")],n.prototype,"columnController",void 0),za([at("gridApi")],n.prototype,"gridApi",void 0),za([at("autoWidthCalculator")],n.prototype,"autoWidthCalculator",void 0),za([at("headerNavigationService")],n.prototype,"headerNavigationService",void 0),n}(no),Ka=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ya=function(){return(Ya=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Qa=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Xa=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.allAdvancedFilters=new Map,e.activeAdvancedFilters=[],e.quickFilter=null,e.quickFilterParts=null,e.processingFilterChange=!1,e}var o;return Ka(n,t),o=n,n.prototype.init=function(){this.addManagedListener(this.eventService,Bt.EVENT_ROW_DATA_CHANGED,this.onNewRowsLoaded.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter(),this.checkExternalFilter()},n.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},n.prototype.setFilterModel=function(t){var e=this,n=[];if(t){var r=Tr(Object.keys(t));this.allAdvancedFilters.forEach((function(o,i){var s=t[i];n.push(e.setModelOnFilterWrapper(o.filterPromise,s)),r.delete(i)})),r.forEach((function(r){var o=e.columnController.getPrimaryColumn(r);if(o){var i=e.getOrCreateFilterWrapper(o,"NO_UI");n.push(e.setModelOnFilterWrapper(i.filterPromise,t[r]))}else console.warn("Warning ag-grid setFilterModel - no column found for colId "+r)}))}else this.allAdvancedFilters.forEach((function(t){n.push(e.setModelOnFilterWrapper(t.filterPromise,null))}));xr.all(n).then((function(){return e.onFilterChanged()}))},n.prototype.setModelOnFilterWrapper=function(t,e){return new xr((function(n){t.then((function(t){"function"!==typeof t.setModel&&(console.warn("Warning ag-grid - filter missing setModel method, which is needed for setFilterModel"),n()),(t.setModel(e)||xr.resolve()).then((function(){return n()}))}))}))},n.prototype.getFilterModel=function(){var t={};return this.allAdvancedFilters.forEach((function(e,n){var o=e.filterPromise.resolveNow(null,(function(t){return t}));if(null==o)return null;if("function"===typeof o.getModel){var i=o.getModel();r(i)&&(t[n]=i)}else console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel")})),t},n.prototype.isAdvancedFilterPresent=function(){return this.activeAdvancedFilters.length>0},n.prototype.updateActiveFilters=function(){var t=this;this.activeAdvancedFilters.length=0,this.allAdvancedFilters.forEach((function(e){e.filterPromise.resolveNow(!1,(function(t){return t.isFilterActive()}))&&t.activeAdvancedFilters.push(e.filterPromise.resolveNow(null,(function(t){return t})))}))},n.prototype.updateFilterFlagInColumns=function(t,e){this.allAdvancedFilters.forEach((function(n){var r=n.filterPromise.resolveNow(!1,(function(t){return t.isFilterActive()}));n.column.setFilterActive(r,t,e)}))},n.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isAdvancedFilterPresent()||this.externalFilterPresent},n.prototype.doAdvancedFiltersPass=function(t,e){for(var n=t.data,r=0;r<this.activeAdvancedFilters.length;r++){var o=this.activeAdvancedFilters[r];if(null!=o&&o!==e){if("function"!==typeof o.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!o.doesFilterPass({node:t,data:n}))return!1}}return!0},n.prototype.parseQuickFilter=function(t){return r(t)?this.gridOptionsWrapper.isRowModelDefault()?t.toUpperCase():(console.warn("ag-grid: quick filtering only works with the Client-Side Row Model"),null):null},n.prototype.setQuickFilter=function(t){var e=this.parseQuickFilter(t);this.quickFilter!==e&&(this.quickFilter=e,this.setQuickFilterParts(),this.onFilterChanged())},n.prototype.checkExternalFilter=function(){this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent()},n.prototype.onFilterChanged=function(t,e){this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",e),this.checkExternalFilter(),this.allAdvancedFilters.forEach((function(e){e.filterPromise.then((function(e){e!==t&&e.onAnyFilterChanged&&e.onAnyFilterChanged()}))}));var n={type:Bt.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi};e&&j(n,e),this.processingFilterChange=!0,this.eventService.dispatchEvent(n),this.processingFilterChange=!1},n.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},n.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},n.prototype.doesRowPassOtherFilters=function(t,e){return this.doesRowPassFilter(e,t)},n.prototype.doesRowPassQuickFilterNoCache=function(t,e){var n=this;return S(this.columnController.getAllColumnsForQuickFilter(),(function(o){var i=n.getQuickFilterTextForColumn(o,t);return r(i)&&i.indexOf(e)>=0}))},n.prototype.doesRowPassQuickFilterCache=function(t,e){return t.quickFilterAggregateText||this.aggregateRowForQuickFilter(t),t.quickFilterAggregateText.indexOf(e)>=0},n.prototype.doesRowPassQuickFilter=function(t){var e=this,n=this.gridOptionsWrapper.isCacheQuickFilter();return R(this.quickFilterParts,(function(r){return n?e.doesRowPassQuickFilterCache(t,r):e.doesRowPassQuickFilterNoCache(t,r)}))},n.prototype.doesRowPassFilter=function(t,e){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(t))&&(!(this.externalFilterPresent&&!this.gridOptionsWrapper.doesExternalFilterPass(t))&&!(this.isAdvancedFilterPresent()&&!this.doAdvancedFiltersPass(t,e)))},n.prototype.getQuickFilterTextForColumn=function(t,e){var n=this.valueService.getValue(t,e,!0),o=t.getColDef();if(o.getQuickFilterText){var i={value:n,node:e,data:e.data,column:t,colDef:o,context:this.gridOptionsWrapper.getContext()};n=o.getQuickFilterText(i)}return r(n)?n.toString().toUpperCase():null},n.prototype.aggregateRowForQuickFilter=function(t){var e=this,n=[];T(this.columnController.getAllColumnsForQuickFilter(),(function(o){var i=e.getQuickFilterTextForColumn(o,t);r(i)&&n.push(i)})),t.quickFilterAggregateText=n.join(o.QUICK_FILTER_SEPARATOR)},n.prototype.onNewRowsLoaded=function(t){this.allAdvancedFilters.forEach((function(t){t.filterPromise.then((function(t){t.onNewRowsLoaded&&t.onNewRowsLoaded()}))})),this.updateFilterFlagInColumns(t),this.updateActiveFilters()},n.prototype.createValueGetter=function(t){var e=this;return function(n){return e.valueService.getValue(t,n,!0)}},n.prototype.getFilterComponent=function(t,e,n){if(void 0===n&&(n=!0),n)return this.getOrCreateFilterWrapper(t,e).filterPromise;var r=this.cachedFilter(t);return r?r.filterPromise:null},n.prototype.isFilterActive=function(t){var e=this.cachedFilter(t);return e&&e.filterPromise.resolveNow(!1,(function(t){return t.isFilterActive()}))},n.prototype.getOrCreateFilterWrapper=function(t,e){var n=this.cachedFilter(t);return n?"NO_UI"!==e&&this.putIntoGui(n,e):(n=this.createFilterWrapper(t,e),this.allAdvancedFilters.set(t.getColId(),n)),n},n.prototype.cachedFilter=function(t){return this.allAdvancedFilters.get(t.getColId())},n.prototype.createFilterInstance=function(t,n){var r,o=this,i=yt.isRegistered(e.ModuleNames.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",s=t.getColDef(),a=Ya(Ya({},this.createFilterParams(t,s,n)),{filterModifiedCallback:function(){var e={type:Bt.EVENT_FILTER_MODIFIED,api:o.gridApi,columnApi:o.columnApi,column:t,filterInstance:r};o.eventService.dispatchEvent(e)},filterChangedCallback:function(t){return o.onFilterChanged(r,t)},doesRowPassOtherFilter:function(t){return o.doesRowPassOtherFilters(r,t)}}),u=this.userComponentFactory.newFilterComponent(s,a,i);return u&&u.then((function(t){return r=t})),u},n.prototype.createFilterParams=function(t,e,n){void 0===n&&(n=null);var r={api:this.gridOptionsWrapper.getApi(),column:t,colDef:N(e),rowModel:this.rowModel,filterChangedCallback:null,filterModifiedCallback:null,valueGetter:this.createValueGetter(t),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:null};return n&&(r.$scope=n),r},n.prototype.createFilterWrapper=function(t,e){var n={column:t,filterPromise:null,scope:null,compiledElement:null,guiPromise:xr.resolve(null)};return n.scope=this.gridOptionsWrapper.isAngularCompileFilters()?this.$scope.$new():null,n.filterPromise=this.createFilterInstance(t,n.scope),n.filterPromise&&this.putIntoGui(n,e),n},n.prototype.putIntoGui=function(t,e){var n=this,o=document.createElement("div");o.className="ag-filter",t.guiPromise=new xr((function(i){t.filterPromise.then((function(s){var a=s.getGui();if(r(a)||console.warn("getGui method from filter returned "+a+", it should be a DOM element or an HTML template string."),"string"===typeof a&&(a=cn(a)),o.appendChild(a),t.scope){var u=n.$compile(o)(t.scope);t.compiledElement=u,window.setTimeout((function(){return t.scope.$apply()}),0)}i(o),n.eventService.dispatchEvent({type:Bt.EVENT_FILTER_OPENED,column:t.column,source:e,eGui:o,api:n.gridApi,columnApi:n.columnApi})}))}))},n.prototype.onNewColumnsLoaded=function(){var t=this,e=!1;this.allAdvancedFilters.forEach((function(n){!t.columnController.getPrimaryColumn(n.column)&&(e=!0,t.disposeFilterWrapper(n,"filterDestroyed"))})),e&&this.onFilterChanged()},n.prototype.destroyFilter=function(t,e){void 0===e&&(e="api");var n=this.allAdvancedFilters.get(t.getColId());n&&(this.disposeFilterWrapper(n,e),this.onFilterChanged())},n.prototype.disposeFilterWrapper=function(t,e){var n=this;t.filterPromise.then((function(r){(r.setModel(null)||xr.resolve()).then((function(){n.getContext().destroyBean(r),t.column.setFilterActive(!1,e),t.scope&&(t.compiledElement&&t.compiledElement.remove(),t.scope.$destroy()),n.allAdvancedFilters.delete(t.column.getColId())}))}))},n.prototype.destroy=function(){var e=this;t.prototype.destroy.call(this),this.allAdvancedFilters.forEach((function(t){return e.disposeFilterWrapper(t,"filterDestroyed")}))},n.QUICK_FILTER_SEPARATOR="\n",Qa([at("$compile")],n.prototype,"$compile",void 0),Qa([at("$scope")],n.prototype,"$scope",void 0),Qa([at("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),Qa([at("valueService")],n.prototype,"valueService",void 0),Qa([at("columnController")],n.prototype,"columnController",void 0),Qa([at("rowModel")],n.prototype,"rowModel",void 0),Qa([at("columnApi")],n.prototype,"columnApi",void 0),Qa([at("gridApi")],n.prototype,"gridApi",void 0),Qa([at("userComponentFactory")],n.prototype,"userComponentFactory",void 0),Qa([ot],n.prototype,"init",null),Qa([it],n.prototype,"destroy",null),n=o=Qa([st("filterManager")],n)}(jt),$a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ja=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Za=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.initialised=!1,e}return $a(e,t),e.prototype.init=function(){this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0},e.prototype.getValue=function(t,e,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!1),this.initialised||this.init(),e){var o,i=t.getColDef(),s=i.field,a=t.getId(),u=e.data,l=e.groupData&&void 0!==e.groupData[a],c=!r&&e.aggData&&void 0!==e.aggData[a];if(n&&i.filterValueGetter?o=this.executeFilterValueGetter(i.filterValueGetter,u,t,e):this.gridOptionsWrapper.isTreeData()&&c?o=e.aggData[a]:this.gridOptionsWrapper.isTreeData()&&i.valueGetter?o=this.executeValueGetter(i.valueGetter,u,t,e):this.gridOptionsWrapper.isTreeData()&&s&&u?o=W(u,s,t.isFieldContainsDots()):l?o=e.groupData[a]:c?o=e.aggData[a]:i.valueGetter?o=this.executeValueGetter(i.valueGetter,u,t,e):s&&u&&(o=W(u,s,t.isFieldContainsDots())),this.cellExpressions&&"string"===typeof o&&0===o.indexOf("=")){var p=o.substring(1);o=this.executeValueGetter(p,u,t,e)}return o}},e.prototype.setValue=function(t,e,n,i){var s=this.columnController.getPrimaryColumn(e);if(t&&s){o(t.data)&&(t.data={});var a=s.getColDef(),u=a.field,l=a.newValueHandler,c=a.valueSetter;if(o(u)&&o(l)&&o(c))console.warn("ag-Grid: you need either field or valueSetter set on colDef for editing to work");else{var p,h={node:t,data:t.data,oldValue:this.getValue(s,t),newValue:n,colDef:s.getColDef(),column:s,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};if(h.newValue=n,void 0===(p=l&&r(l)?l(h):r(c)?this.expressionService.evaluate(c,h):this.setValueUsingField(t.data,u,n,s.isFieldContainsDots()))&&(p=!0),p){t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),h.newValue=this.getValue(s,t);var d=s.getColDef().onCellValueChanged;"function"===typeof d&&setTimeout((function(){return d(h)}),0);var f={type:Bt.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:h.column,api:h.api,colDef:h.colDef,columnApi:h.columnApi,context:h.context,data:t.data,node:t,oldValue:h.oldValue,newValue:h.newValue,value:h.newValue,source:i};this.eventService.dispatchEvent(f)}}}},e.prototype.setValueUsingField=function(t,e,n,r){if(!e)return!1;if(r)for(var o=e.split("."),i=t;o.length>0&&i;){var s=o.shift();0===o.length?i[s]=n:i=i[s]}else t[e]=n;return!0},e.prototype.executeFilterValueGetter=function(t,e,n,r){var o={data:e,node:r,column:n,colDef:n.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,r)};return this.expressionService.evaluate(t,o)},e.prototype.executeValueGetter=function(t,e,n,r){var o=n.getId(),i=this.valueCache.getValue(r,o);if(void 0!==i)return i;var s={data:e,node:r,column:n,colDef:n.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,r)},a=this.expressionService.evaluate(t,s);return this.valueCache.setValue(r,o,a),a},e.prototype.getValueCallback=function(t,e){var n=this.columnController.getPrimaryColumn(e);return n?this.getValue(n,t):null},e.prototype.getKeyForNode=function(t,e){var n=this.getValue(t,e),r=t.getColDef().keyCreator,o=r?r({value:n}):n;return"string"===typeof o||null==o||"[object Object]"===(o=String(o))&&K((function(){console.warn("ag-Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se ag-Grid docs) or b) to toString() on the object to return a key")}),"getKeyForNode - warn about [object,object]"),o},Ja([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ja([at("expressionService")],e.prototype,"expressionService",void 0),Ja([at("columnController")],e.prototype,"columnController",void 0),Ja([at("valueCache")],e.prototype,"valueCache",void 0),Ja([ot],e.prototype,"init",null),e=Ja([st("valueService")],e)}(jt),tu=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},eu=function(){function t(t){this.childCount=0,this.rowTemplatesToAdd=[],this.afterGuiAttachedCallbacks=[],this.lastMadeVisibleTime=0,this.eContainer=t.eContainer,this.eViewport=t.eViewport,t.eWrapper&&(this.eWrapper=t.eWrapper),this.hideWhenNoChildren=t.hideWhenNoChildren}return t.prototype.setVerticalScrollPosition=function(t){this.scrollTop=t},t.prototype.postConstruct=function(){this.checkDomOrder(),this.checkVisibility(),this.gridOptionsWrapper.addEventListener(Zi.PROP_DOM_LAYOUT,this.checkDomOrder.bind(this))},t.prototype.checkDomOrder=function(){this.domOrder=this.gridOptionsWrapper.isEnsureDomOrder()},t.prototype.getRowElement=function(t){return this.eContainer.querySelector('[comp-id="'+t+'"]')},t.prototype.setHeight=function(t){null!=t?(this.eContainer.style.height=t+"px",this.eWrapper&&(this.eWrapper.style.height=t+"px")):this.eContainer.style.height=""},t.prototype.flushRowTemplates=function(){if(0!==this.rowTemplatesToAdd.length){var t=this.rowTemplatesToAdd.join("");pn(this.eContainer,t),this.rowTemplatesToAdd.length=0}this.afterGuiAttachedCallbacks.forEach((function(t){return t()})),this.afterGuiAttachedCallbacks.length=0,this.lastPlacedElement=null},t.prototype.appendRowTemplate=function(t,e){this.domOrder?this.lastPlacedElement=vn(this.eContainer,t,this.lastPlacedElement):this.rowTemplatesToAdd.push(t),this.afterGuiAttachedCallbacks.push(e),this.childCount++,this.checkVisibility()},t.prototype.ensureDomOrder=function(t){this.domOrder&&(fn(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)},t.prototype.removeRowElement=function(t){this.eContainer.removeChild(t),this.childCount--,this.checkVisibility()},t.prototype.checkVisibility=function(){if(this.hideWhenNoChildren){var t=this.eViewport?this.eViewport:this.eContainer,e=this.childCount>0;this.visible!==e&&(this.visible=e,this.lastMadeVisibleTime=(new Date).getTime(),Ye(t,e),e&&this.eViewport&&(this.eViewport.scrollTop=this.scrollTop))}},t.prototype.isMadeVisibleRecently=function(){return(new Date).getTime()-this.lastMadeVisibleTime<500},tu([at("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),tu([ot],t.prototype,"postConstruct",null),t}(),nu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ru=function(){return(ru=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ou=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},iu=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},su=function(t){function n(e,n){var r=t.call(this)||this;return r.isMultiRowDrag=!1,r.isGridSorted=!1,r.isGridFiltered=!1,r.isRowGroupActive=!1,r.eContainer=e,r.gridPanel=n,r}return nu(n,t),n.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,Bt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.onSortChanged(),this.onFilterChanged(),this.onRowGroupChanged()},n.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},n.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},n.prototype.onRowGroupChanged=function(){var t=this.columnController.getRowGroupColumns();this.isRowGroupActive=!i(t)},n.prototype.getContainer=function(){return this.eContainer},n.prototype.isInterestedIn=function(t){return t===e.DragSourceType.RowDrag},n.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?ds.ICON_NOT_ALLOWED:ds.ICON_MOVE},n.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},n.prototype.getRowNodes=function(t){if(!this.isFromThisGrid(t))return t.dragItem.rowNodes;var e=this.gridOptionsWrapper.isEnableMultiRowDragging(),n=this.selectionController.getSelectedNodes(),r=t.dragItem.rowNode;return e&&-1!==n.indexOf(r)?(this.isMultiRowDrag=!0,iu(n)):(this.isMultiRowDrag=!1,[r])},n.prototype.onDragEnter=function(t){this.dispatchGridEvent(Bt.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach((function(t){t.setDragging(!0)})),this.onEnterOrDragging(t)},n.prototype.onDragging=function(t){this.onEnterOrDragging(t)},n.prototype.isFromThisGrid=function(t){return t.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},n.prototype.isDropZoneWithinThisGrid=function(t){var e=this.gridPanel.getGui(),n=t.dropZoneTarget;return!e.contains(n)},n.prototype.onEnterOrDragging=function(t){this.dispatchGridEvent(Bt.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;var e=this.mouseEventService.getNormalisedPosition(t).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(t,e),this.checkCenterForScrolling(e)},n.prototype.doManagedDrag=function(t,e){var n,r=this,o=this.isFromThisGrid(t);o?(n=[t.dragItem.rowNode],this.isMultiRowDrag&&(n=iu(this.selectionController.getSelectedNodes()).sort((function(t,e){return r.getRowIndexNumber(t)-r.getRowIndexNumber(e)}))),t.dragItem.rowNodes=n):n=t.dragItem.rowNodes,this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!o?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(n[0],e):this.moveRows(n,e))},n.prototype.getRowIndexNumber=function(t){return parseInt(g(t.getRowIndexString().split("-")),10)},n.prototype.moveRowAndClearHighlight=function(t){var e=this,n=this.clientSideRowModel.getLastHighlightedRowNode(),r=n&&"below"===n.highlighted,o=this.mouseEventService.getNormalisedPosition(t).y,i=t.dragItem.rowNodes,s=r?1:0;if(this.isFromThisGrid(t))i.forEach((function(t){t.rowTop<o&&(s-=1)})),this.moveRows(i,o,s);else{var a=this.gridOptionsWrapper.getRowNodeIdFunc(),u=this.clientSideRowModel.getRowIndexAtPixel(o)+1;"above"===this.clientSideRowModel.getHighlightPosition(o)&&u--,this.clientSideRowModel.updateRowData({add:i.map((function(t){return t.data})).filter((function(t){return!e.clientSideRowModel.getRowNode(a?a(t):t.id)})),addIndex:u})}this.clearRowHighlight()},n.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},n.prototype.moveRows=function(t,e,n){void 0===n&&(n=0),this.clientSideRowModel.ensureRowsAtPixel(t,e,n)&&(this.focusController.clearFocusedCell(),this.rangeController&&this.rangeController.removeAllCellRanges())},n.prototype.checkCenterForScrolling=function(t){var e=this.gridPanel.getVScrollPosition();this.needToMoveUp=t<e.top+50,this.needToMoveDown=t>e.bottom-50,this.needToMoveUp||this.needToMoveDown?this.ensureIntervalStarted():this.ensureIntervalCleared()},n.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100))},n.prototype.ensureIntervalCleared=function(){this.moveInterval&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null)},n.prototype.moveInterval=function(){var t,e;this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100),this.needToMoveDown?e=this.gridPanel.scrollVertically(t):this.needToMoveUp&&(e=this.gridPanel.scrollVertically(-t)),0!==e&&this.onDragging(this.lastDraggingEvent)},n.prototype.addRowDropZone=function(t){var n=this;if(t.getContainer())if(this.dragAndDropService.findExternalZone(t))console.warn("ag-Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var r={getContainer:t.getContainer};t.fromGrid?(t.fromGrid=void 0,r=t):(t.onDragEnter&&(r.onDragEnter=function(e){t.onDragEnter(n.draggingToRowDragEvent(Bt.EVENT_ROW_DRAG_ENTER,e))}),t.onDragLeave&&(r.onDragLeave=function(e){t.onDragLeave(n.draggingToRowDragEvent(Bt.EVENT_ROW_DRAG_LEAVE,e))}),t.onDragging&&(r.onDragging=function(e){t.onDragging(n.draggingToRowDragEvent(Bt.EVENT_ROW_DRAG_MOVE,e))}),t.onDragStop&&(r.onDragStop=function(e){t.onDragStop(n.draggingToRowDragEvent(Bt.EVENT_ROW_DRAG_END,e))})),this.dragAndDropService.addDropTarget(ru({isInterestedIn:function(t){return t===e.DragSourceType.RowDrag},getIconName:function(){return ds.ICON_MOVE},external:!0},r))}else K((function(){return console.warn("ag-Grid: addRowDropZone - A container target needs to be provided")}),"add-drop-zone-empty-target")},n.prototype.getRowDropZone=function(t){var e=this,n=this.getContainer.bind(this),r=this.onDragEnter.bind(this),o=this.onDragLeave.bind(this),i=this.onDragging.bind(this),s=this.onDragStop.bind(this);return t?{getContainer:n,onDragEnter:t.onDragEnter?function(n){r(n),t.onDragEnter(e.draggingToRowDragEvent(Bt.EVENT_ROW_DRAG_ENTER,n))}:r,onDragLeave:t.onDragLeave?function(n){o(n),t.onDragLeave(e.draggingToRowDragEvent(Bt.EVENT_ROW_DRAG_LEAVE,n))}:o,onDragging:t.onDragging?function(n){i(n),t.onDragging(e.draggingToRowDragEvent(Bt.EVENT_ROW_DRAG_MOVE,n))}:i,onDragStop:t.onDragStop?function(n){s(n),t.onDragStop(e.draggingToRowDragEvent(Bt.EVENT_ROW_DRAG_END,n))}:s,fromGrid:!0}:{getContainer:n,onDragEnter:r,onDragLeave:o,onDragging:i,onDragStop:s,fromGrid:!0}},n.prototype.draggingToRowDragEvent=function(t,n){var r,o=this.mouseEventService.getNormalisedPosition(n).y,i=-1,s=null;switch(o>this.rowModel.getCurrentPageHeight()||(i=this.rowModel.getRowIndexAtPixel(o),s=this.rowModel.getRow(i)),n.vDirection){case e.VerticalDirection.Down:r="down";break;case e.VerticalDirection.Up:r="up";break;default:r=null}return{type:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:n.event,node:n.dragItem.rowNode,nodes:n.dragItem.rowNodes,overIndex:i,overNode:s,y:o,vDirection:r}},n.prototype.dispatchGridEvent=function(t,e){var n=this.draggingToRowDragEvent(t,e);this.eventService.dispatchEvent(n)},n.prototype.onDragLeave=function(t){this.dispatchGridEvent(Bt.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)},n.prototype.onDragStop=function(t){this.dispatchGridEvent(Bt.EVENT_ROW_DRAG_END,t),this.stopDragging(t),!this.gridOptionsWrapper.isRowDragManaged()||!this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()&&this.isFromThisGrid(t)||this.isDropZoneWithinThisGrid(t)||this.moveRowAndClearHighlight(t)},n.prototype.stopDragging=function(t){this.ensureIntervalCleared(),this.getRowNodes(t).forEach((function(t){t.setDragging(!1)}))},ou([at("dragAndDropService")],n.prototype,"dragAndDropService",void 0),ou([at("rowModel")],n.prototype,"rowModel",void 0),ou([at("columnController")],n.prototype,"columnController",void 0),ou([at("focusController")],n.prototype,"focusController",void 0),ou([at("sortController")],n.prototype,"sortController",void 0),ou([at("filterManager")],n.prototype,"filterManager",void 0),ou([at("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),ou([at("selectionController")],n.prototype,"selectionController",void 0),ou([ut("rangeController")],n.prototype,"rangeController",void 0),ou([at("mouseEventService")],n.prototype,"mouseEventService",void 0),ou([ot],n.prototype,"postConstruct",null),n}(jt),au=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uu=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},lu=function(t){function n(){var e=t.call(this,'<div class="ag-root ag-unselectable" role="grid" unselectable="on">\n        <ag-header-root ref="headerRoot" unselectable="on"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-floating-top" ref="eLeftTop" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-top-viewport" ref="eTopViewport" role="presentation" unselectable="on">\n                <div class="ag-floating-top-container" ref="eTopContainer" role="presentation" unselectable="on"></div>\n            </div>\n            <div class="ag-pinned-right-floating-top" ref="eRightTop" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-top-full-width-container" ref="eTopFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <div class="ag-pinned-left-cols-container" ref="eLeftContainer" role="presentation" unselectable="on"></div>\n            <div class="ag-center-cols-clipper" ref="eCenterColsClipper" role="presentation" unselectable="on">\n                <div class="ag-center-cols-viewport" ref="eCenterViewport" role="presentation">\n                    <div class="ag-center-cols-container" ref="eCenterContainer" role="rowgroup" unselectable="on"></div>\n                </div>\n            </div>\n            <div class="ag-pinned-right-cols-container" ref="eRightContainer" role="presentation" unselectable="on"></div>\n            <div class="ag-full-width-container" ref="eFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-floating-bottom" ref="eLeftBottom" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-bottom-viewport" ref="eBottomViewport" role="presentation" unselectable="on">\n                <div class="ag-floating-bottom-container" ref="eBottomContainer" role="presentation" unselectable="on"></div>\n            </div>\n            <div class="ag-pinned-right-floating-bottom" ref="eRightBottom" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-bottom-full-width-container" ref="eBottomFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-body-horizontal-scroll" ref="eHorizontalScrollBody" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eHorizontalLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eBodyHorizontalScrollViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eBodyHorizontalScrollContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eHorizontalRightSpacer"></div>\n        </div>\n        <ag-overlay-wrapper ref="overlayWrapper"></ag-overlay-wrapper>\n    </div>')||this;return e.scrollLeft=-1,e.scrollTop=-1,e.resetLastHorizontalScrollElementDebounced=Z(e.resetLastHorizontalScrollElement.bind(e),500),e}return au(n,t),n.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},n.prototype.getHScrollPosition=function(){return{left:this.eCenterViewport.scrollLeft,right:this.eCenterViewport.scrollLeft+this.eCenterViewport.offsetWidth}},n.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},n.prototype.showOrHideOverlay=function(){var t=this.paginationProxy.isEmpty(),e=this.gridOptionsWrapper.isSuppressNoRowsOverlay();this[t&&!e?"showNoRowsOverlay":"hideOverlay"]()},n.prototype.onNewColumnsLoaded=function(){this.columnController.isReady()&&!this.paginationProxy.isEmpty()&&this.hideOverlay()},n.prototype.init=function(){var t=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===vt.DOM_LAYOUT_PRINT,this.gridOptionsWrapper.addLayoutElement(this.getGui()),this.gridOptionsWrapper.addLayoutElement(this.eBodyViewport),this.suppressScrollOnFloatingRow(),this.setupRowAnimationCssClass(),this.buildRowContainerComponents(),this.addEventListeners(),this.addDragListeners(),this.addScrollListener(),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.setPinnedContainerSize(),this.setHeaderAndFloatingHeights(),this.disableBrowserDragging(),this.addMouseListeners(),this.addPreventScrollWhileDragging(),this.addKeyboardEvents(),this.addBodyViewportListener(),this.addStopEditingWhenGridLosesFocus(),this.mockContextMenuForIPad(),this.addRowDragListener(),this.$scope&&this.addAngularApplyCheck(),this.onDisplayedColumnsWidthChanged(),this.gridApi.registerGridComp(this),this.alignedGridsService.registerGridComp(this),this.headerRootComp.registerGridComp(this),this.navigationService.registerGridComp(this),this.headerNavigationService.registerGridComp(this),this.heightScaler.registerGridComp(this),this.autoHeightCalculator.registerGridComp(this),this.columnAnimationService.registerGridComp(this),this.autoWidthCalculator.registerGridComp(this),this.paginationAutoPageSizeService.registerGridComp(this),this.mouseEventService.registerGridComp(this),this.beans.registerGridComp(this),this.rowRenderer.registerGridComp(this),this.contextMenuFactory&&this.contextMenuFactory.registerGridComp(this),this.menuFactory&&this.menuFactory.registerGridComp(this),(this.rangeController||this.gridOptionsWrapper.isRowSelectionMulti())&&(Yn(this.getGui(),!0),this.rangeController&&this.rangeController.registerGridComp(this)),[this.eCenterViewport,this.eBodyViewport].forEach((function(e){var n=t.resizeObserverService.observeResize(e,t.onCenterViewportResized.bind(t));t.addDestroyFunc((function(){return n()}))})),[this.eTop,this.eBodyViewport,this.eBottom].forEach((function(e){t.addManagedListener(e,"focusin",(function(){Ue(e,"ag-has-focus")})),t.addManagedListener(e,"focusout",(function(t){e.contains(t.relatedTarget)||ze(e,"ag-has-focus")}))}))},n.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsWrapper.getDomLayout()===vt.DOM_LAYOUT_PRINT;this.printLayout!==t&&(this.printLayout=t,this.setWidthsOfContainers(),this.setPinnedContainerSize())},n.prototype.onCenterViewportResized=function(){if(ln(this.eCenterViewport)){this.checkViewportAndScrolls();var t=this.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnController.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},n.prototype.setColumnMovingCss=function(t){this.addOrRemoveCssClass("ag-column-moving",t)},n.prototype.setCellTextSelection=function(t){void 0===t&&(t=!1),[this.eTop,this.eBodyViewport,this.eBottom].forEach((function(e){return qe(e,"ag-selectable",t)}))},n.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new su(this.eBodyViewport,this)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},n.prototype.getRowDragFeature=function(){return this.rowDragFeature},n.prototype.addStopEditingWhenGridLosesFocus=function(){var t=this;if(this.gridOptionsWrapper.isStopEditingWhenGridLosesFocus()){var e=[this.eBodyViewport,this.eBottom,this.eTop],n=function(n){var r=n.relatedTarget;if(null!==Me(r)){var o=e.some((function(t){return t.contains(r)}));if(!o){var i=t.popupService;o=i.getActivePopups().some((function(t){return t.contains(r)}))||i.isElementWithinCustomPopup(r)}o||t.rowRenderer.stopEditing()}else t.rowRenderer.stopEditing()};e.forEach((function(e){return t.addManagedListener(e,"focusout",n)}))}},n.prototype.addAngularApplyCheck=function(){var t=this,e=!1,n=function(){e||(e=!0,window.setTimeout((function(){e=!1,t.$scope.$apply()}),0))};this.addManagedListener(this.eventService,Bt.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,Bt.EVENT_VIRTUAL_COLUMNS_CHANGED,n)},n.prototype.disableBrowserDragging=function(){this.addGuiEventListener("dragstart",(function(t){if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1}))},n.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Bt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_PINNED_ROW_DATA_CHANGED,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Zi.PROP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Zi.PROP_PIVOT_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Zi.PROP_GROUP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Zi.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Zi.PROP_FLOATING_FILTERS_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Zi.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this))},n.prototype.addDragListeners=function(){var t=this;this.gridOptionsWrapper.isEnableRangeSelection()&&!o(this.rangeController)&&[this.eLeftContainer,this.eRightContainer,this.eCenterContainer,this.eTop,this.eBottom].forEach((function(e){var n={eElement:e,onDragStart:t.rangeController.onDragStart.bind(t.rangeController),onDragStop:t.rangeController.onDragStop.bind(t.rangeController),onDragging:t.rangeController.onDragging.bind(t.rangeController)};t.dragService.addDragSource(n),t.addDestroyFunc((function(){return t.dragService.removeDragSource(n)}))}))},n.prototype.addMouseListeners=function(){var t=this;["dblclick","contextmenu","mouseover","mouseout","click","mousedown"].forEach((function(e){var n=t.processMouseEvent.bind(t,e);t.eAllCellContainers.forEach((function(r){return t.addManagedListener(r,e,n)}))}))},n.prototype.addPreventScrollWhileDragging=function(){var t=this,e=function(e){t.dragService.isDragging()&&e.cancelable&&e.preventDefault()};this.eAllCellContainers.forEach((function(t){t.addEventListener("touchmove",e,{passive:!1})})),this.addDestroyFunc((function(){t.eAllCellContainers.forEach((function(t){t.removeEventListener("touchmove",e)}))}))},n.prototype.addKeyboardEvents=function(){var t=this;["keydown","keypress"].forEach((function(e){var n=t.processKeyboardEvent.bind(t,e);t.eAllCellContainers.forEach((function(r){t.addManagedListener(r,e,n)}))}))},n.prototype.addBodyViewportListener=function(){var t=this;this.addManagedListener(this.eBodyViewport,"contextmenu",(function(e){var n=Dt(e);n!==t.eBodyViewport&&n!==t.eCenterViewport||(t.onContextMenu(e,null,null,null,null),t.preventDefaultOnContextMenu(e))}))},n.prototype.getBodyClientRect=function(){if(this.eBodyViewport)return this.eBodyViewport.getBoundingClientRect()},n.prototype.getRowForEvent=function(t){for(var e=Dt(t);e;){var n=this.gridOptionsWrapper.getDomData(e,Ms.DOM_DATA_KEY_RENDERED_ROW);if(n)return n;e=e.parentElement}return null},n.prototype.processKeyboardEvent=function(t,e){var n=It(this.gridOptionsWrapper,e);if(n&&!e.defaultPrevented){var r=n.getRenderedRow().getRowNode(),o=n.getColumn(),i=n.isEditing();if(!wr(this.gridOptionsWrapper,e,r,o,i))switch(t){case"keydown":!i&&this.navigationService.handlePageScrollingKey(e)||n.onKeyDown(e),this.doGridOperations(e,n);break;case"keypress":n.onKeyPress(e)}if("keydown"===t){var s=n.createEvent(e,Bt.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(s)}if("keypress"===t){var a=n.createEvent(e,Bt.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(a)}}},n.prototype.doGridOperations=function(t,e){if((t.ctrlKey||t.metaKey)&&!e.isEditing()&&this.mouseEventService.isEventFromThisGrid(t))switch(t.which){case Kr.A:return this.onCtrlAndA(t);case Kr.C:return this.onCtrlAndC(t);case Kr.V:return this.onCtrlAndV();case Kr.D:return this.onCtrlAndD(t);case Kr.Z:return t.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case Kr.Y:return this.undoRedoService.redo()}},n.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},n.prototype.processMouseEvent=function(t,e){if(this.mouseEventService.isEventFromThisGrid(e)&&!Pt(e)){var n=this.getRowForEvent(e),r=this.mouseEventService.getRenderedCellForEvent(e);"contextmenu"===t?(this.preventDefaultOnContextMenu(e),this.handleContextMenuMouseEvent(e,null,n,r)):(r&&r.onMouseEvent(t,e),n&&n.onMouseEvent(t,e))}},n.prototype.mockContextMenuForIPad=function(){var t=this;Fe()&&this.eAllCellContainers.forEach((function(e){var n=new vo(e);t.addManagedListener(n,vo.EVENT_LONG_TAP,(function(e){var n=t.getRowForEvent(e.touchEvent),r=t.mouseEventService.getRenderedCellForEvent(e.touchEvent);t.handleContextMenuMouseEvent(null,e.touchEvent,n,r)})),t.addDestroyFunc((function(){return n.destroy()}))}))},n.prototype.handleContextMenuMouseEvent=function(t,e,n,r){var o=n?n.getRowNode():null,i=r?r.getColumn():null,s=null;if(i){var a=t||e;r.dispatchCellContextMenuEvent(a),s=this.valueService.getValue(i,o)}this.onContextMenu(t,e,o,i,s)},n.prototype.onContextMenu=function(t,e,n,r,o){if((this.gridOptionsWrapper.isAllowContextMenuWithControlKey()||!t||!t.ctrlKey&&!t.metaKey)&&this.contextMenuFactory&&!this.gridOptionsWrapper.isSuppressContextMenu()){var i=t||e.touches[0];if(this.contextMenuFactory.showMenu(n,r,o,i))(t||e).preventDefault()}},n.prototype.preventDefaultOnContextMenu=function(t){var e=this.gridOptionsWrapper,n=t.which;(e.isPreventDefaultOnContextMenu()||e.isSuppressMiddleClickScrolls()&&2===n)&&t.preventDefault()},n.prototype.onCtrlAndA=function(t){var e=this.pinnedRowModel,n=this.paginationProxy,r=this.rangeController,o=vt.PINNED_BOTTOM,s=vt.PINNED_TOP;if(r&&n.isRowsToRender()){var a=[e.isEmpty(s),e.isEmpty(o)],u=a[0]?null:s,l=void 0,c=void 0;a[1]?(l=null,c=this.paginationProxy.getRowCount()-1):(l=o,c=e.getPinnedBottomRowData().length-1);var p=this.columnController.getAllDisplayedColumns();if(i(p))return;r.setCellRange({rowStartIndex:0,rowStartPinned:u,rowEndIndex:c,rowEndPinned:l,columnStart:p[0],columnEnd:g(p)})}t.preventDefault()},n.prototype.onCtrlAndC=function(t){this.clipboardService&&!this.gridOptionsWrapper.isEnableCellTextSelection()&&(this.clipboardService.copyToClipboard(),t.preventDefault())},n.prototype.onCtrlAndV=function(){yt.isRegistered(e.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},n.prototype.onCtrlAndD=function(t){yt.isRegistered(e.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),t.preventDefault()},n.prototype.ensureIndexVisible=function(t,e){if(!this.printLayout){var n=this.paginationProxy.getRowCount();if("number"!==typeof t||t<0||t>=n)console.warn("invalid row index for ensureIndexVisible: "+t);else{this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(t);var r,o=this.paginationProxy.getRow(t);do{var i=o.rowTop,s=o.rowHeight,a=this.paginationProxy.getPixelOffset(),u=o.rowTop-a,l=u+o.rowHeight,c=this.getVScrollPosition(),p=this.heightScaler.getOffset(),h=c.top+p,d=c.bottom+p,f=d-h,g=this.heightScaler.getScrollPositionForPixel(u),v=this.heightScaler.getScrollPositionForPixel(l-f),y=Math.min((g+v)/2,u),m=null;"top"===e?m=g:"bottom"===e?m=v:"middle"===e?m=y:h>u?m=g:d<l&&(m=v),null!==m&&(this.eBodyViewport.scrollTop=m,this.rowRenderer.redrawAfterScroll()),r=i!==o.rowTop||s!==o.rowHeight}while(r);this.animationFrameService.flushAllFrames()}}},n.prototype.getCenterWidth=function(){return this.eCenterViewport.clientWidth},n.prototype.isVerticalScrollShowing=function(){var t=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return qe(this.eBodyViewport,"ag-force-vertical-scroll",t),t||bn(this.eBodyViewport)},n.prototype.isHorizontalScrollShowing=function(){return mn(this.eCenterViewport)},n.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},n.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.setPinnedContainerSize(),this.scrollLeft!==this.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.eCenterViewport)},n.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},n.prototype.updateScrollVisibleServiceImpl=function(){var t={horizontalScrollShowing:!1,verticalScrollShowing:!1};t.verticalScrollShowing=this.isVerticalScrollShowing(),t.horizontalScrollShowing=this.isHorizontalScrollShowing(),this.scrollVisibleService.setScrollsVisible(t),this.setHorizontalScrollVisible(t.horizontalScrollShowing),this.setVerticalScrollPaddingVisible(t.verticalScrollShowing)},n.prototype.setHorizontalScrollVisible=function(t){var e=this.gridOptionsWrapper.isSuppressHorizontalScroll(),n=t&&this.gridOptionsWrapper.getScrollbarWidth()||0,r=e?0:n,o=De()&&t;this.eCenterViewport.style.height="calc(100% + "+n+"px)",En(this.eHorizontalScrollBody,r),En(this.eBodyHorizontalScrollViewport,r+(o?1:0)),En(this.eBodyHorizontalScrollContainer,r)},n.prototype.setVerticalScrollPaddingVisible=function(t){var e=t?"scroll":"hidden";this.eTop.style.overflowY=this.eBottom.style.overflowY=e,this.setFakeHScrollSpacerWidths()},n.prototype.updateRowCount=function(){var t=this.headerNavigationService.getHeaderRowCount(),e=this.paginationProxy.getType(),n=-1;e===vt.ROW_MODEL_TYPE_CLIENT_SIDE&&(n=0,this.paginationProxy.forEachNode((function(t){t.group||n++})));var r=-1===n?-1:t+n;Qn(this.getGui(),r)},n.prototype.updateColumnCount=function(){var t=this.columnController.getAllGridColumns();$n(this.getGui(),t.length)},n.prototype.ensureColumnVisible=function(t){var e=this.columnController.getGridColumn(t);if(e)if(e.isPinned())console.warn("calling ensureIndexVisible on a "+e.getPinned()+" pinned column doesn't make sense for column "+e.getColId());else if(this.columnController.isColumnDisplayed(e)){var n,r,o=e.getLeft(),i=o+e.getActualWidth(),s=this.eCenterViewport.clientWidth,a=this.getCenterViewportScrollLeft(),u=this.columnController.getBodyContainerWidth();this.enableRtl?(n=u-a-s,r=u-a):(n=a,r=s+a);var l=n>o,c=r<i,p=s<e.getActualWidth(),h=l||p,d=c,f=this.getCenterViewportScrollLeft();(h||d)&&(f=this.enableRtl?h?u-s-o:u-i:h?o:i-s,this.setCenterViewportScrollLeft(f)),this.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}else console.warn("column is not currently visible")},n.prototype.showLoadingOverlay=function(){this.gridOptionsWrapper.isSuppressLoadingOverlay()||this.overlayWrapper.showLoadingOverlay()},n.prototype.showNoRowsOverlay=function(){this.gridOptionsWrapper.isSuppressNoRowsOverlay()||this.overlayWrapper.showNoRowsOverlay()},n.prototype.hideOverlay=function(){this.overlayWrapper.hideOverlay()},n.prototype.sizeColumnsToFit=function(t){var e=this,n=this.eBodyViewport.clientWidth;n>0?this.columnController.sizeColumnsToFit(n,"sizeColumnsToFit"):void 0===t?window.setTimeout((function(){e.sizeColumnsToFit(100)}),0):100===t?window.setTimeout((function(){e.sizeColumnsToFit(500)}),100):500===t?window.setTimeout((function(){e.sizeColumnsToFit(-1)}),500):console.warn("ag-Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},n.prototype.getCenterContainer=function(){return this.eCenterContainer},n.prototype.getDropTargetBodyContainers=function(){return[this.eBodyViewport,this.eTopViewport,this.eBottomViewport]},n.prototype.getDropTargetLeftContainers=function(){return[this.eLeftContainer,this.eLeftBottom,this.eLeftTop]},n.prototype.getDropTargetRightContainers=function(){return[this.eRightContainer,this.eRightBottom,this.eRightTop]},n.prototype.buildRowContainerComponents=function(){var t=this;this.eAllCellContainers=[this.eLeftContainer,this.eRightContainer,this.eCenterContainer,this.eTop,this.eBottom,this.eFullWidthContainer],this.rowContainerComponents={body:new eu({eContainer:this.eCenterContainer,eWrapper:this.eCenterColsClipper,eViewport:this.eBodyViewport}),fullWidth:new eu({eContainer:this.eFullWidthContainer}),pinnedLeft:new eu({eContainer:this.eLeftContainer}),pinnedRight:new eu({eContainer:this.eRightContainer}),floatingTop:new eu({eContainer:this.eTopContainer}),floatingTopPinnedLeft:new eu({eContainer:this.eLeftTop}),floatingTopPinnedRight:new eu({eContainer:this.eRightTop}),floatingTopFullWidth:new eu({eContainer:this.eTopFullWidthContainer,hideWhenNoChildren:!0}),floatingBottom:new eu({eContainer:this.eBottomContainer}),floatingBottomPinnedLeft:new eu({eContainer:this.eLeftBottom}),floatingBottomPinnedRight:new eu({eContainer:this.eRightBottom}),floatingBottomFullWidth:new eu({eContainer:this.eBottomFullWidthContainer,hideWhenNoChildren:!0})},D(this.rowContainerComponents,(function(e,n){n&&t.getContext().createBean(n)}))},n.prototype.setupRowAnimationCssClass=function(){var t=this,e=function(){var e=t.gridOptionsWrapper.isAnimateRows()&&!t.heightScaler.isScaling();qe(t.eBodyViewport,"ag-row-animation",e),qe(t.eBodyViewport,"ag-row-no-animation",!e)};e(),this.addManagedListener(this.eventService,Bt.EVENT_HEIGHT_SCALE_CHANGED,e)},n.prototype.suppressScrollOnFloatingRow=function(){var t=this;this.addManagedListener(this.eTopViewport,"scroll",(function(){return t.eTopViewport.scrollLeft=0})),this.addManagedListener(this.eBottomViewport,"scroll",(function(){return t.eTopViewport.scrollLeft=0}))},n.prototype.getRowContainers=function(){return this.rowContainerComponents},n.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},n.prototype.onDisplayedColumnsChanged=function(){this.setPinnedContainerSize(),this.setHeaderAndFloatingHeights(),this.onHorizontalViewportChanged(),this.updateScrollVisibleService(),this.updateColumnCount()},n.prototype.onDisplayedColumnsWidthChanged=function(){this.setWidthsOfContainers(),this.onHorizontalViewportChanged(),this.updateScrollVisibleService(),this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},n.prototype.setWidthsOfContainers=function(){this.setCenterWidth(),this.setPinnedContainerSize()},n.prototype.setCenterWidth=function(){var t=this.headerRootComp,e=this.columnController,n=e.getBodyContainerWidth();this.printLayout&&(n+=e.getPinnedLeftContainerWidth()+e.getPinnedRightContainerWidth());t.setHeaderContainerWidth(n);var r=n+"px";this.eCenterContainer.style.width=r,this.eBottomContainer.style.width=r,this.eTopContainer.style.width=r,this.printLayout||(this.eBodyHorizontalScrollContainer.style.width=r)},n.prototype.setPinnedLeftWidth=function(){var t=this,e=this.pinningLeft,n=this.columnController.getPinnedLeftContainerWidth(),r=this.pinningLeft=!this.printLayout&&n>0,o=[this.eLeftContainer,this.eLeftTop,this.eLeftBottom];e!==r&&this.headerRootComp.setLeftVisible(r),o.forEach((function(e){return Ye(e,t.pinningLeft)})),r&&o.forEach((function(t){return Cn(t,n)}))},n.prototype.setPinnedRightWidth=function(){var t=this.pinningRight,e=this.columnController.getPinnedRightContainerWidth(),n=this.pinningRight=!this.printLayout&&e>0,r=[this.eRightContainer,this.eRightTop,this.eRightBottom];t!==n&&this.headerRootComp.setRightVisible(n),r.forEach((function(t){return Ye(t,n)})),n&&r.forEach((function(t){return Cn(t,e)}))},n.prototype.setPinnedContainerSize=function(){this.setPinnedLeftWidth(),this.setPinnedRightWidth(),this.setFakeHScrollSpacerWidths()},n.prototype.setFakeHScrollSpacerWidths=function(){var t=this.columnController.getPinnedRightContainerWidth(),e=!this.enableRtl&&this.isVerticalScrollShowing(),n=this.gridOptionsWrapper.getScrollbarWidth();e&&(t+=n),Cn(this.eHorizontalRightSpacer,t),qe(this.eHorizontalRightSpacer,"ag-scroller-corner",t<=n);var r=this.columnController.getPinnedLeftContainerWidth();this.enableRtl&&this.isVerticalScrollShowing()&&(r+=n),Cn(this.eHorizontalLeftSpacer,r),qe(this.eHorizontalLeftSpacer,"ag-scroller-corner",r<=n)},n.prototype.checkBodyHeight=function(){var t=this.eBodyViewport.clientHeight;if(this.bodyHeight!==t){this.bodyHeight=t;var e={type:Bt.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)}},n.prototype.setHeaderAndFloatingHeights=function(){var t,e,n,r=this,o=r.columnController,i=r.gridOptionsWrapper,s=r.pinnedRowModel,a=r.eTop,u=r.eBottom,l=0,c=o.getHeaderRowCount();o.isPivotMode()?(e=i.getPivotGroupHeaderHeight(),n=i.getPivotHeaderHeight()):(o.hasFloatingFilters()&&(c++,l=1),e=i.getGroupHeaderHeight(),n=i.getHeaderHeight());var p=c-(1+l);t=l*i.getFloatingFiltersHeight(),t+=p*e,t+=n,this.headerRootComp.setHeight(t);var h=s.getPinnedTopTotalHeight();h&&(h+=1);var d=s.getPinnedBottomTotalHeight();d&&(d+=1);var f=h+"px",g=d+"px";a.style.minHeight=f,a.style.height=f,a.style.display=h?"inherit":"none",u.style.minHeight=g,u.style.height=g,u.style.display=d?"inherit":"none",this.checkBodyHeight()},n.prototype.getBodyHeight=function(){return this.bodyHeight},n.prototype.setHorizontalScrollPosition=function(t){var e=this.eCenterViewport.scrollWidth-this.eCenterViewport.clientWidth;this.shouldBlockScrollUpdate("horizontal",t)&&(t=Math.min(Math.max(t,0),e)),this.eCenterViewport.scrollLeft=t,this.doHorizontalScroll(t)},n.prototype.setVerticalScrollPosition=function(t){this.eBodyViewport.scrollTop=t},n.prototype.scrollHorizontally=function(t){var e=this.eCenterViewport.scrollLeft;return this.setHorizontalScrollPosition(e+t),this.eCenterViewport.scrollLeft-e},n.prototype.scrollVertically=function(t){var e=this.eBodyViewport.scrollTop;return this.setVerticalScrollPosition(e+t),this.eBodyViewport.scrollTop-e},n.prototype.addScrollListener=function(){this.addManagedListener(this.eCenterViewport,"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(this.eBodyHorizontalScrollViewport,"scroll",this.onFakeHorizontalScroll.bind(this));var t=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?Z(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",t)},n.prototype.onVerticalScroll=function(){var t=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",t,!0)||(this.animationFrameService.setScrollTop(t),this.scrollTop=t,this.redrawRowsAfterScroll())},n.prototype.shouldBlockScrollUpdate=function(t,e,n){if(void 0===n&&(n=!1),n&&!Fe)return!1;if("vertical"===t){var r=this.eBodyViewport,o=r.clientHeight,i=r.scrollHeight;if(e<0||e+o>i)return!0}if("horizontal"===t){var s=this.eCenterViewport,a=s.clientWidth,u=s.scrollWidth;if(this.enableRtl&&rn()){if(e>0)return!0}else if(e<0)return!0;if(Math.abs(e)+a>u)return!0}return!1},n.prototype.isControllingScroll=function(t){return this.lastHorizontalScrollElement?t===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=t,!0)},n.prototype.onFakeHorizontalScroll=function(){this.isControllingScroll(this.eBodyHorizontalScrollViewport)&&this.onBodyHorizontalScroll(this.eBodyHorizontalScrollViewport)},n.prototype.onCenterViewportScroll=function(){this.isControllingScroll(this.eCenterViewport)&&this.onBodyHorizontalScroll(this.eCenterViewport)},n.prototype.onBodyHorizontalScroll=function(t){var e=this.eCenterViewport.scrollLeft;this.shouldBlockScrollUpdate("horizontal",e,!0)||(this.doHorizontalScroll(Math.floor(on(t,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},n.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},n.prototype.doHorizontalScroll=function(t){this.scrollLeft=t;var e={type:Bt.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:"horizontal",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(e),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.onHorizontalViewportChanged()},n.prototype.redrawRowsAfterScroll=function(){var t={type:Bt.EVENT_BODY_SCROLL,direction:"vertical",api:this.gridApi,columnApi:this.columnApi,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t)},n.prototype.onHorizontalViewportChanged=function(){var t=this.eCenterViewport.clientWidth,e=this.getCenterViewportScrollLeft();this.columnController.setVirtualViewportPosition(t,e)},n.prototype.getCenterViewportScrollLeft=function(){return on(this.eCenterViewport,this.enableRtl)},n.prototype.setCenterViewportScrollLeft=function(t){sn(this.eCenterViewport,t,this.enableRtl)},n.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(t){void 0===t&&(t=this.getCenterViewportScrollLeft());var e=this.enableRtl?t:-t;this.headerRootComp.setHorizontalScroll(e),this.eBottomContainer.style.transform="translateX("+e+"px)",this.eTopContainer.style.transform="translateX("+e+"px)",sn(this.lastHorizontalScrollElement===this.eCenterViewport?this.eBodyHorizontalScrollViewport:this.eCenterViewport,t,this.enableRtl)},n.prototype.addScrollEventListener=function(t){this.eBodyViewport.addEventListener("scroll",t)},n.prototype.removeScrollEventListener=function(t){this.eBodyViewport.removeEventListener("scroll",t)},uu([at("alignedGridsService")],n.prototype,"alignedGridsService",void 0),uu([at("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),uu([at("rowRenderer")],n.prototype,"rowRenderer",void 0),uu([at("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),uu([at("animationFrameService")],n.prototype,"animationFrameService",void 0),uu([at("navigationService")],n.prototype,"navigationService",void 0),uu([at("autoHeightCalculator")],n.prototype,"autoHeightCalculator",void 0),uu([at("columnAnimationService")],n.prototype,"columnAnimationService",void 0),uu([at("autoWidthCalculator")],n.prototype,"autoWidthCalculator",void 0),uu([at("paginationAutoPageSizeService")],n.prototype,"paginationAutoPageSizeService",void 0),uu([at("beans")],n.prototype,"beans",void 0),uu([at("paginationProxy")],n.prototype,"paginationProxy",void 0),uu([at("columnApi")],n.prototype,"columnApi",void 0),uu([at("gridApi")],n.prototype,"gridApi",void 0),uu([at("dragService")],n.prototype,"dragService",void 0),uu([at("mouseEventService")],n.prototype,"mouseEventService",void 0),uu([at("$scope")],n.prototype,"$scope",void 0),uu([at("scrollVisibleService")],n.prototype,"scrollVisibleService",void 0),uu([at("valueService")],n.prototype,"valueService",void 0),uu([at("dragAndDropService")],n.prototype,"dragAndDropService",void 0),uu([at("maxDivHeightScaler")],n.prototype,"heightScaler",void 0),uu([at("resizeObserverService")],n.prototype,"resizeObserverService",void 0),uu([at("undoRedoService")],n.prototype,"undoRedoService",void 0),uu([at("columnController")],n.prototype,"columnController",void 0),uu([at("headerNavigationService")],n.prototype,"headerNavigationService",void 0),uu([at("popupService")],n.prototype,"popupService",void 0),uu([ut("rangeController")],n.prototype,"rangeController",void 0),uu([ut("contextMenuFactory")],n.prototype,"contextMenuFactory",void 0),uu([ut("menuFactory")],n.prototype,"menuFactory",void 0),uu([ut("clipboardService")],n.prototype,"clipboardService",void 0),uu([Wr("eBodyViewport")],n.prototype,"eBodyViewport",void 0),uu([Wr("eCenterContainer")],n.prototype,"eCenterContainer",void 0),uu([Wr("eCenterViewport")],n.prototype,"eCenterViewport",void 0),uu([Wr("eLeftContainer")],n.prototype,"eLeftContainer",void 0),uu([Wr("eRightContainer")],n.prototype,"eRightContainer",void 0),uu([Wr("eCenterColsClipper")],n.prototype,"eCenterColsClipper",void 0),uu([Wr("eHorizontalScrollBody")],n.prototype,"eHorizontalScrollBody",void 0),uu([Wr("eHorizontalLeftSpacer")],n.prototype,"eHorizontalLeftSpacer",void 0),uu([Wr("eHorizontalRightSpacer")],n.prototype,"eHorizontalRightSpacer",void 0),uu([Wr("eBodyHorizontalScrollViewport")],n.prototype,"eBodyHorizontalScrollViewport",void 0),uu([Wr("eBodyHorizontalScrollContainer")],n.prototype,"eBodyHorizontalScrollContainer",void 0),uu([Wr("eFullWidthContainer")],n.prototype,"eFullWidthContainer",void 0),uu([Wr("eTop")],n.prototype,"eTop",void 0),uu([Wr("eLeftTop")],n.prototype,"eLeftTop",void 0),uu([Wr("eRightTop")],n.prototype,"eRightTop",void 0),uu([Wr("eTopContainer")],n.prototype,"eTopContainer",void 0),uu([Wr("eTopViewport")],n.prototype,"eTopViewport",void 0),uu([Wr("eTopFullWidthContainer")],n.prototype,"eTopFullWidthContainer",void 0),uu([Wr("eBottom")],n.prototype,"eBottom",void 0),uu([Wr("eLeftBottom")],n.prototype,"eLeftBottom",void 0),uu([Wr("eRightBottom")],n.prototype,"eRightBottom",void 0),uu([Wr("eBottomContainer")],n.prototype,"eBottomContainer",void 0),uu([Wr("eBottomViewport")],n.prototype,"eBottomViewport",void 0),uu([Wr("eBottomFullWidthContainer")],n.prototype,"eBottomFullWidthContainer",void 0),uu([Wr("headerRoot")],n.prototype,"headerRootComp",void 0),uu([Wr("overlayWrapper")],n.prototype,"overlayWrapper",void 0),uu([ot],n.prototype,"init",null),n}(jr),cu=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},pu=function(){function t(){this.detailGridInfoMap={},this.destroyCalled=!1}return t.prototype.registerGridComp=function(t){this.gridPanel=t},t.prototype.registerGridCore=function(t){this.gridCore=t},t.prototype.registerHeaderRootComp=function(t){this.headerRootComp=t},t.prototype.init=function(){switch(this.rowModel.getType()){case vt.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case vt.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case vt.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}},t.prototype.__getAlignedGridService=function(){return this.alignedGridsService},t.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},t.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},t.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},t.prototype.forEachDetailGridInfo=function(t){var e=0;D(this.detailGridInfoMap,(function(n,o){r(o)&&(t(o,e),e++)}))},t.prototype.getDataAsCsv=function(t){if(yt.assertRegistered(e.ModuleNames.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(t)},t.prototype.exportDataAsCsv=function(t){yt.assertRegistered(e.ModuleNames.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(t)},t.prototype.getDataAsExcel=function(t){if(yt.assertRegistered(e.ModuleNames.ExcelExportModule,"api.getDataAsExcel"))return this.excelCreator.getDataAsExcelXml(t)},t.prototype.exportDataAsExcel=function(t){yt.assertRegistered(e.ModuleNames.ExcelExportModule,"api.exportDataAsExcel")&&this.excelCreator.exportDataAsExcel(t)},t.prototype.setEnterpriseDatasource=function(t){console.warn("ag-grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(t)},t.prototype.setServerSideDatasource=function(t){this.gridOptionsWrapper.isRowModelServerSide()?this.rowModel.setDatasource(t):console.warn("ag-Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+vt.ROW_MODEL_TYPE_SERVER_SIDE+"'")},t.prototype.setDatasource=function(t){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(t):console.warn("ag-Grid: you can only use a datasource when gridOptions.rowModelType is '"+vt.ROW_MODEL_TYPE_INFINITE+"'")},t.prototype.setViewportDatasource=function(t){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(t):console.warn("ag-Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+vt.ROW_MODEL_TYPE_VIEWPORT+"'")},t.prototype.setRowData=function(t){if(this.gridOptionsWrapper.isRowModelDefault())if(this.gridOptionsWrapper.isImmutableData()){var e=this.immutableService.createTransactionForRowData(t);if(!e)return;var n=e[0],r=e[1],o=this.clientSideRowModel.updateRowData(n,r);this.rowRenderer.refreshFullWidthRows(o.update)}else this.selectionController.reset(),this.clientSideRowModel.setRowData(t);else console.warn("cannot call setRowData unless using normal row model")},t.prototype.setFloatingTopRowData=function(t){console.warn("ag-Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(t)},t.prototype.setFloatingBottomRowData=function(t){console.warn("ag-Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(t)},t.prototype.getFloatingTopRowCount=function(){return console.warn("ag-Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},t.prototype.getFloatingBottomRowCount=function(){return console.warn("ag-Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},t.prototype.getFloatingTopRow=function(t){return console.warn("ag-Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(t)},t.prototype.getFloatingBottomRow=function(t){return console.warn("ag-Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(t)},t.prototype.setPinnedTopRowData=function(t){this.pinnedRowModel.setPinnedTopRowData(t)},t.prototype.setPinnedBottomRowData=function(t){this.pinnedRowModel.setPinnedBottomRowData(t)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},t.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},t.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},t.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api"),this.columnController.setColumnDefs(t,e)},t.prototype.setAutoGroupColumnDef=function(t,e){this.gridOptionsWrapper.setProperty("autoGroupColumnDef",t,!0)},t.prototype.expireValueCache=function(){this.valueCache.expire()},t.prototype.getVerticalPixelRange=function(){return this.gridPanel.getVScrollPosition()},t.prototype.getHorizontalPixelRange=function(){return this.gridPanel.getHScrollPosition()},t.prototype.setAlwaysShowVerticalScroll=function(t){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",t)},t.prototype.refreshToolPanel=function(){this.gridCore.refreshSideBar()},t.prototype.refreshCells=function(t){void 0===t&&(t={}),Array.isArray(t)?console.warn("since ag-Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(t)},t.prototype.flashCells=function(t){void 0===t&&(t={}),this.rowRenderer.flashCells(t)},t.prototype.redrawRows=function(t){void 0===t&&(t={}),t&&t.rowNodes?this.rowRenderer.redrawRows(t.rowNodes):this.rowRenderer.redrawAfterModelUpdate()},t.prototype.timeFullRedraw=function(t){void 0===t&&(t=1);var e=0,n=0,r=0,o=this;!function i(){var s=(new Date).getTime();o.rowRenderer.redrawAfterModelUpdate();var a=(new Date).getTime();window.setTimeout((function(){var o=(new Date).getTime(),u=a-s,l=o-a;console.log("duration:  processing = "+u+"ms, reflow = "+l+"ms"),e++,n+=u,r+=l,e<t?window.setTimeout(i,1e3):(console.log("tests complete. iteration count = "+e),console.log("average processing = "+n/e+"ms"),console.log("average reflow = "+r/e+"ms"))}),0)}()},t.prototype.refreshView=function(){console.warn("ag-Grid: since v11.1, refreshView() is deprecated, please call refreshCells() or redrawRows() instead"),this.redrawRows()},t.prototype.refreshRows=function(t){console.warn("since ag-Grid v11.1, refreshRows() is deprecated, please use refreshCells({rowNodes: rows}) or redrawRows({rowNodes: rows}) instead"),this.refreshCells({rowNodes:t})},t.prototype.rowDataChanged=function(t){console.warn("ag-Grid: rowDataChanged is deprecated, either call refreshView() to refresh everything, or call rowNode.setRowData(newData) to set value on a particular node"),this.redrawRows()},t.prototype.softRefreshView=function(){console.error("ag-Grid: since v16, softRefreshView() is no longer supported. Please check the documentation on how to refresh.")},t.prototype.refreshGroupRows=function(){console.warn("ag-Grid: since v11.1, refreshGroupRows() is no longer supported, call refreshCells() instead. Because refreshCells() now does dirty checking, it will only refresh cells that have changed, so it should not be necessary to only refresh the group rows."),this.refreshCells()},t.prototype.setFunctionsReadOnly=function(t){this.gridOptionsWrapper.setProperty("functionsReadOnly",t)},t.prototype.refreshHeader=function(){this.headerRootComp.refreshHeader(),this.gridPanel.setHeaderAndFloatingHeights()},t.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},t.prototype.isAdvancedFilterPresent=function(){return console.warn("ag-Grid: isAdvancedFilterPresent() is deprecated, please use isColumnFilterPresent()"),this.isColumnFilterPresent()},t.prototype.isColumnFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},t.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},t.prototype.getModel=function(){return this.rowModel},t.prototype.setRowNodeExpanded=function(t,e){t&&t.setExpanded(e)},t.prototype.onGroupExpandedOrCollapsed=function(t){o(this.clientSideRowModel)&&console.warn("ag-Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),r(t)&&console.warn("ag-Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:vt.STEP_MAP})},t.prototype.refreshInMemoryRowModel=function(t){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(t)},t.prototype.refreshClientSideRowModel=function(t){o(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var e=vt.STEP_EVERYTHING,n={group:vt.STEP_EVERYTHING,filter:vt.STEP_FILTER,map:vt.STEP_MAP,aggregate:vt.STEP_AGGREGATE,sort:vt.STEP_SORT,pivot:vt.STEP_PIVOT};if(r(t)&&(e=n[t]),o(e))console.error("ag-Grid: invalid step "+t+", available steps are "+Object.keys(n).join(", "));else{var i={step:e,keepRenderedRows:!0,animate:!0,keepEditingRows:!0};this.clientSideRowModel.refreshModel(i)}},t.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},t.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},t.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},t.prototype.expandAll=function(){o(this.clientSideRowModel)?console.warn("ag-Grid: cannot call expandAll unless using normal row model"):this.clientSideRowModel.expandOrCollapseAll(!0)},t.prototype.collapseAll=function(){o(this.clientSideRowModel)?console.warn("ag-Grid: cannot call collapseAll unless using normal row model"):this.clientSideRowModel.expandOrCollapseAll(!1)},t.prototype.getToolPanelInstance=function(t){return this.gridCore.getToolPanelInstance(t)},t.prototype.addVirtualRowListener=function(t,e,n){"string"!==typeof t&&console.warn("ag-Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(t,e,n)},t.prototype.addRenderedRowListener=function(t,e,n){"virtualRowSelected"===t&&console.warn("ag-Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(t,e,n)},t.prototype.setQuickFilter=function(t){this.filterManager.setQuickFilter(t)},t.prototype.selectIndex=function(t,e,n){console.warn("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),n&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.selectIndex(t,e)},t.prototype.deselectIndex=function(t,e){void 0===e&&(e=!1),console.warn("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),e&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.deselectIndex(t)},t.prototype.selectNode=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),console.warn("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),n&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),t.setSelectedParams({newValue:!0,clearSelection:!e})},t.prototype.deselectNode=function(t,e){void 0===e&&(e=!1),console.warn("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),e&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),t.setSelectedParams({newValue:!1})},t.prototype.selectAll=function(){this.selectionController.selectAllRowNodes()},t.prototype.deselectAll=function(){this.selectionController.deselectAllRowNodes()},t.prototype.selectAllFiltered=function(){this.selectionController.selectAllRowNodes(!0)},t.prototype.deselectAllFiltered=function(){this.selectionController.deselectAllRowNodes(!0)},t.prototype.recomputeAggregates=function(){o(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:vt.STEP_AGGREGATE})},t.prototype.sizeColumnsToFit=function(){this.gridPanel.sizeColumnsToFit()},t.prototype.showLoadingOverlay=function(){this.gridPanel.showLoadingOverlay()},t.prototype.showNoRowsOverlay=function(){this.gridPanel.showNoRowsOverlay()},t.prototype.hideOverlay=function(){this.gridPanel.hideOverlay()},t.prototype.isNodeSelected=function(t){return console.warn("ag-Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),t.isSelected()},t.prototype.getSelectedNodesById=function(){return console.error("ag-Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},t.prototype.getSelectedNodes=function(){return this.selectionController.getSelectedNodes()},t.prototype.getSelectedRows=function(){return this.selectionController.getSelectedRows()},t.prototype.getBestCostNodeSelection=function(){return this.selectionController.getBestCostNodeSelection()},t.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},t.prototype.ensureColIndexVisible=function(t){console.warn("ag-Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},t.prototype.ensureColumnVisible=function(t){this.gridPanel.ensureColumnVisible(t)},t.prototype.ensureIndexVisible=function(t,e){this.gridPanel.ensureIndexVisible(t,e)},t.prototype.ensureNodeVisible=function(t,e){this.gridCore.ensureNodeVisible(t,e)},t.prototype.forEachLeafNode=function(t){o(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(t)},t.prototype.forEachNode=function(t){this.rowModel.forEachNode(t)},t.prototype.forEachNodeAfterFilter=function(t){o(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(t)},t.prototype.forEachNodeAfterFilterAndSort=function(t){o(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},t.prototype.getFilterApiForColDef=function(t){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterInstance instead"),this.getFilterInstance(t)},t.prototype.getFilterInstance=function(t,e){var n=this.columnController.getPrimaryColumn(t);if(n){var r=this.filterManager.getFilterComponent(n,"NO_UI"),o=r.resolveNow(null,(function(t){return t}));return e&&(o?setTimeout(e,0,o):r.then(e)),o}},t.prototype.getFilterApi=function(t){return console.warn("ag-Grid: getFilterApi is deprecated, use getFilterInstance instead"),this.getFilterInstance(t)},t.prototype.destroyFilter=function(t){var e=this.columnController.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"filterDestroyed")},t.prototype.getStatusPanel=function(t){if(this.statusBarService)return this.statusBarService.getStatusPanel(t)},t.prototype.getColumnDef=function(t){var e=this.columnController.getPrimaryColumn(t);return e?e.getColDef():null},t.prototype.getColumnDefs=function(){return this.columnController.getColumnDefs()},t.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},t.prototype.onSortChanged=function(){this.sortController.onSortChanged()},t.prototype.setSortModel=function(t,e){console.warn("ag-Grid: as of version 24.0.0, setSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.applyColumnState() instead.");var n=[];t&&t.forEach((function(t,e){n.push({colId:t.colId,sort:t.sort,sortIndex:e})})),this.columnController.applyColumnState({state:n,defaultState:{sort:null}})},t.prototype.getSortModel=function(){console.warn("ag-Grid: as of version 24.0.0, getSortModel() is deprecated, sort information is now part of Column State. Please use columnApi.getColumnState() instead.");var t=this.columnController.getColumnState().filter((function(t){return null!=t.sort})),e={};t.forEach((function(t){return e[t.colId]=t.sortIndex}));var n=t.map((function(t){return{colId:t.colId,sort:t.sort}}));return n.sort((function(t,n){return e[t.colId]-e[n.colId]})),n},t.prototype.setFilterModel=function(t){this.filterManager.setFilterModel(t)},t.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},t.prototype.getFocusedCell=function(){return this.focusController.getFocusedCell()},t.prototype.clearFocusedCell=function(){return this.focusController.clearFocusedCell()},t.prototype.setFocusedCell=function(t,e,n){this.focusController.setFocusedCell(t,e,n,!0)},t.prototype.setSuppressRowDrag=function(t){this.gridOptionsWrapper.setProperty(Zi.PROP_SUPPRESS_ROW_DRAG,t)},t.prototype.setSuppressMoveWhenRowDragging=function(t){this.gridOptionsWrapper.setProperty(Zi.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,t)},t.prototype.setSuppressRowClickSelection=function(t){this.gridOptionsWrapper.setProperty(Zi.PROP_SUPPRESS_ROW_CLICK_SELECTION,t)},t.prototype.addRowDropZone=function(t){this.gridPanel.getRowDragFeature().addRowDropZone(t)},t.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},t.prototype.getRowDropZoneParams=function(t){return this.gridPanel.getRowDragFeature().getRowDropZone(t)},t.prototype.setHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(Zi.PROP_HEADER_HEIGHT,t),this.doLayout()},t.prototype.setDomLayout=function(t){this.gridOptionsWrapper.setProperty(Zi.PROP_DOM_LAYOUT,t)},t.prototype.setEnableCellTextSelection=function(t){this.gridPanel.setCellTextSelection(t)},t.prototype.setFillHandleDirection=function(t){this.gridOptionsWrapper.setProperty(Zi.PROP_FILL_HANDLE_DIRECTION,t)},t.prototype.setGroupHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(Zi.PROP_GROUP_HEADER_HEIGHT,t),this.doLayout()},t.prototype.setFloatingFiltersHeight=function(t){this.gridOptionsWrapper.setProperty(Zi.PROP_FLOATING_FILTERS_HEIGHT,t),this.doLayout()},t.prototype.setPivotGroupHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(Zi.PROP_PIVOT_GROUP_HEADER_HEIGHT,t),this.doLayout()},t.prototype.setPivotHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(Zi.PROP_PIVOT_HEADER_HEIGHT,t),this.doLayout()},t.prototype.isSideBarVisible=function(){return this.gridCore.isSideBarVisible()},t.prototype.setSideBarVisible=function(t){this.gridCore.setSideBarVisible(t)},t.prototype.setSideBarPosition=function(t){this.gridCore.setSideBarPosition(t)},t.prototype.openToolPanel=function(t){this.gridCore.openToolPanel(t)},t.prototype.closeToolPanel=function(){this.gridCore.closeToolPanel()},t.prototype.getOpenedToolPanel=function(){return this.gridCore.getOpenedToolPanel()},t.prototype.getSideBar=function(){return this.gridCore.getSideBar()},t.prototype.setSideBar=function(t){return this.gridCore.setSideBar(t)},t.prototype.setSuppressClipboardPaste=function(t){this.gridOptionsWrapper.setProperty(Zi.PROP_SUPPRESS_CLIPBOARD_PASTE,t)},t.prototype.isToolPanelShowing=function(){return this.gridCore.isToolPanelShowing()},t.prototype.doLayout=function(){this.gridPanel.checkViewportAndScrolls()},t.prototype.resetRowHeights=function(){r(this.clientSideRowModel)&&this.clientSideRowModel.resetRowHeights()},t.prototype.setGroupRemoveSingleChildren=function(t){this.gridOptionsWrapper.setProperty(Zi.PROP_GROUP_REMOVE_SINGLE_CHILDREN,t)},t.prototype.setGroupRemoveLowestSingleChildren=function(t){this.gridOptionsWrapper.setProperty(Zi.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,t)},t.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},t.prototype.getValue=function(t,e){var n=this.columnController.getPrimaryColumn(t);return o(n)&&(n=this.columnController.getGridColumn(t)),o(n)?null:this.valueService.getValue(n,e)},t.prototype.addEventListener=function(t,e){var n=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(t,e,n)},t.prototype.addGlobalListener=function(t){var e=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(t,e)},t.prototype.removeEventListener=function(t,e){var n=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(t,e,n)},t.prototype.removeGlobalListener=function(t){var e=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(t,e)},t.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},t.prototype.destroy=function(){this.destroyCalled||(this.destroyCalled=!0,this.context.destroyBean(this.gridCore),this.context.destroy())},t.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Dr.removeAllReferences.bind(window,this,"Grid API"),100)},t.prototype.warnIfDestroyed=function(t){return this.destroyCalled&&console.warn("ag-Grid: Grid API method "+t+" was called on a grid that was destroyed."),this.destroyCalled},t.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode((function(t){return t.quickFilterAggregateText=null}))},t.prototype.getRangeSelections=function(){return console.warn("ag-Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the ag-Grid documentation."),null},t.prototype.getCellRanges=function(){return this.rangeController?this.rangeController.getCellRanges():(console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),null)},t.prototype.camelCaseToHumanReadable=function(t){return Xt(t)},t.prototype.addRangeSelection=function(t){console.warn("ag-Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},t.prototype.addCellRange=function(t){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.addCellRange(t)},t.prototype.clearRangeSelection=function(){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.removeAllCellRanges()},t.prototype.undoCellEditing=function(){this.undoRedoService.undo()},t.prototype.redoCellEditing=function(){this.undoRedoService.redo()},t.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},t.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},t.prototype.getChartModels=function(){if(yt.assertRegistered(e.ModuleNames.RangeSelectionModule,"api.getChartModels")&&yt.assertRegistered(e.ModuleNames.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},t.prototype.createRangeChart=function(t){if(yt.assertRegistered(e.ModuleNames.RangeSelectionModule,"api.createRangeChart")&&yt.assertRegistered(e.ModuleNames.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(t)},t.prototype.createPivotChart=function(t){if(yt.assertRegistered(e.ModuleNames.RangeSelectionModule,"api.createPivotChart")&&yt.assertRegistered(e.ModuleNames.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(t)},t.prototype.copySelectedRowsToClipboard=function(t,e){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(t,e)},t.prototype.copySelectedRangeToClipboard=function(t){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(t)},t.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copyRangeDown()},t.prototype.showColumnMenuAfterButtonClick=function(t,e){var n=this.columnController.getGridColumn(t);this.menuFactory.showMenuAfterButtonClick(n,e)},t.prototype.showColumnMenuAfterMouseClick=function(t,e){var n=this.columnController.getGridColumn(t);n||(n=this.columnController.getPrimaryColumn(t)),n?this.menuFactory.showMenuAfterMouseEvent(n,e):console.error("ag-Grid: column '"+t+"' not found")},t.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},t.prototype.setPopupParent=function(t){this.gridOptionsWrapper.setProperty(Zi.PROP_POPUP_PARENT,t)},t.prototype.tabToNextCell=function(){return this.rowRenderer.tabToNextCell(!1)},t.prototype.tabToPreviousCell=function(){return this.rowRenderer.tabToNextCell(!0)},t.prototype.getCellRendererInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellRendererInstances(t)},t.prototype.getCellEditorInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellEditorInstances(t)},t.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},t.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.rowRenderer.stopEditing(t)},t.prototype.startEditingCell=function(t){var e=this.columnController.getGridColumn(t.colKey);if(e){var n={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:e};o(t.rowPinned)&&this.gridPanel.ensureIndexVisible(t.rowIndex),this.rowRenderer.startEditingCell(n,t.keyPress,t.charPress)}else console.warn("ag-Grid: no column found for "+t.colKey)},t.prototype.addAggFunc=function(t,e){this.aggFuncService&&this.aggFuncService.addAggFunc(t,e)},t.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},t.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},t.prototype.applyServerSideTransaction=function(t,e){void 0===e&&(e=[]),this.serverSideRowModel&&this.serverSideRowModel.applyTransaction(t,e)},t.prototype.applyTransaction=function(t){var e=null;if(this.clientSideRowModel)e=this.clientSideRowModel.updateRowData(t);else{if(!this.infiniteRowModel)return void console.error("ag-Grid: updateRowData() only works with ClientSideRowModel.");K((function(){return console.warn("ag-Grid: as of v23.1, transactions for Infinite Row Model are deprecated. If you want to make updates to data in Infinite Row Models, then refresh the data.")}),"applyTransaction infiniteRowModel deprecated"),this.infiniteRowModel.updateRowData(t)}return this.rowRenderer.refreshFullWidthRows(e.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),e},t.prototype.updateRowData=function(t){return K((function(){return console.warn("ag-Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")}),"updateRowData deprecated"),this.applyTransaction(t)},t.prototype.applyTransactionAsync=function(t,e){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(t,e):console.error("ag-Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},t.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("ag-Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},t.prototype.batchUpdateRowData=function(t,e){K((function(){return console.warn("ag-Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")}),"batchUpdateRowData deprecated"),this.applyTransactionAsync(t,e)},t.prototype.insertItemsAtIndex=function(t,e,n){console.warn("ag-Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:e,addIndex:t,update:null,remove:null})},t.prototype.removeItems=function(t,e){console.warn("ag-Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var n=t.map((function(t){return t.data}));this.updateRowData({add:null,addIndex:null,update:null,remove:n})},t.prototype.addItems=function(t,e){console.warn("ag-Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:t,addIndex:null,update:null,remove:null})},t.prototype.refreshVirtualPageCache=function(){console.warn("ag-Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},t.prototype.refreshInfinitePageCache=function(){console.warn("ag-Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},t.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("ag-Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},t.prototype.purgeVirtualPageCache=function(){console.warn("ag-Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},t.prototype.purgeInfinitePageCache=function(){console.warn("ag-Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},t.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("ag-Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},t.prototype.purgeEnterpriseCache=function(t){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(t)},t.prototype.purgeServerSideCache=function(t){this.serverSideRowModel?this.serverSideRowModel.purgeCache(t):console.warn("ag-Grid: api.purgeServerSideCache is only available when rowModelType='enterprise'.")},t.prototype.getVirtualRowCount=function(){return console.warn("ag-Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},t.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getVirtualRowCount();console.warn("ag-Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},t.prototype.isMaxRowFound=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isMaxRowFound();console.warn("ag-Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},t.prototype.setVirtualRowCount=function(t,e){console.warn("ag-Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setInfiniteRowCount(t,e)},t.prototype.setInfiniteRowCount=function(t,e){this.infiniteRowModel?this.infiniteRowModel.setVirtualRowCount(t,e):console.warn("ag-Grid: api.setVirtualRowCount is only available when rowModelType='virtual'.")},t.prototype.getVirtualPageState=function(){return console.warn("ag-Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},t.prototype.getInfinitePageState=function(){return console.warn("ag-Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},t.prototype.getCacheBlockState=function(){return this.infiniteRowModel?this.infiniteRowModel.getBlockState():this.serverSideRowModel?this.serverSideRowModel.getBlockState():void console.warn("ag-Grid: api.getCacheBlockState() is only available when rowModelType='infinite' or rowModelType='serverSide'.")},t.prototype.checkGridSize=function(){this.gridPanel.setHeaderAndFloatingHeights()},t.prototype.getFirstRenderedRow=function(){return console.warn("in ag-Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},t.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},t.prototype.getLastRenderedRow=function(){return console.warn("in ag-Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},t.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},t.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},t.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},t.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},t.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},t.prototype.paginationSetPageSize=function(t){this.gridOptionsWrapper.setProperty("paginationPageSize",t)},t.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},t.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},t.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},t.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},t.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},t.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},t.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},t.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},cu([ut("immutableService")],t.prototype,"immutableService",void 0),cu([ut("csvCreator")],t.prototype,"csvCreator",void 0),cu([ut("excelCreator")],t.prototype,"excelCreator",void 0),cu([at("rowRenderer")],t.prototype,"rowRenderer",void 0),cu([at("filterManager")],t.prototype,"filterManager",void 0),cu([at("columnController")],t.prototype,"columnController",void 0),cu([at("selectionController")],t.prototype,"selectionController",void 0),cu([at("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),cu([at("valueService")],t.prototype,"valueService",void 0),cu([at("alignedGridsService")],t.prototype,"alignedGridsService",void 0),cu([at("eventService")],t.prototype,"eventService",void 0),cu([at("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),cu([at("context")],t.prototype,"context",void 0),cu([at("rowModel")],t.prototype,"rowModel",void 0),cu([at("sortController")],t.prototype,"sortController",void 0),cu([at("paginationProxy")],t.prototype,"paginationProxy",void 0),cu([at("focusController")],t.prototype,"focusController",void 0),cu([at("dragAndDropService")],t.prototype,"dragAndDropService",void 0),cu([ut("rangeController")],t.prototype,"rangeController",void 0),cu([ut("clipboardService")],t.prototype,"clipboardService",void 0),cu([ut("aggFuncService")],t.prototype,"aggFuncService",void 0),cu([at("menuFactory")],t.prototype,"menuFactory",void 0),cu([ut("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),cu([at("cellRendererFactory")],t.prototype,"cellRendererFactory",void 0),cu([at("valueCache")],t.prototype,"valueCache",void 0),cu([at("animationFrameService")],t.prototype,"animationFrameService",void 0),cu([ut("statusBarService")],t.prototype,"statusBarService",void 0),cu([ut("chartService")],t.prototype,"chartService",void 0),cu([ut("undoRedoService")],t.prototype,"undoRedoService",void 0),cu([ot],t.prototype,"init",null),cu([it],t.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),t=cu([st("gridApi")],t)}(),hu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),du=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},fu=function(t,e){return function(n,r){e(n,r,t)}},gu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return hu(e,t),e.prototype.setBeans=function(t){this.logger=t.create("ExpressionService")},e.prototype.evaluate=function(t,e){if("function"===typeof t)return t(e);if("string"===typeof t){var n=t;return this.evaluateExpression(n,e)}console.error("ag-Grid: value should be either a string or a function",t)},e.prototype.evaluateExpression=function(t,e){try{return this.createExpressionFunction(t)(e.value,e.context,e.oldValue,e.newValue,e.value,e.node,e.data,e.colDef,e.rowIndex,e.api,e.columnApi,e.getValue,e.column,e.columnGroup)}catch(n){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",e),console.log("Exception = "+n),null}},e.prototype.createExpressionFunction=function(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];var e=this.createFunctionBody(t),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",e);return this.expressionToFunctionCache[t]=n,n},e.prototype.createFunctionBody=function(t){return t.indexOf("return")>=0?t:"return "+t+";"},du([fu(0,ct("loggerFactory"))],e.prototype,"setBeans",null),e=du([st("expressionService")],e)}(jt),vu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yu=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},mu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return vu(e,t),e.prototype.getTemplate=function(t,e){var n=this.templateCache[t];if(n)return n;var r=this.waitingCallbacks[t],o=this;if(!r){r=[],this.waitingCallbacks[t]=r;var i=new XMLHttpRequest;i.onload=function(){o.handleHttpResult(this,t)},i.open("GET",t),i.send()}return e&&r.push(e),null},e.prototype.handleHttpResult=function(t,e){if(200===t.status&&null!==t.response){this.templateCache[e]=t.response||t.responseText;for(var n=this.waitingCallbacks[e],r=0;r<n.length;r++){(0,n[r])()}if(this.$scope){var o=this;window.setTimeout((function(){o.$scope.$apply()}),0)}}else console.warn("Unable to get template error "+t.status+" - "+e)},yu([at("$scope")],e.prototype,"$scope",void 0),e=yu([st("templateService")],e)}(jt),bu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wu=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Cu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.popupList=[],e}return bu(e,t),e.prototype.init=function(){var t=this;this.addManagedListener(this.eventService,Bt.EVENT_KEYBOARD_FOCUS,(function(){T(t.popupList,(function(t){return Ue(t.element,"ag-keyboard-focus")}))})),this.addManagedListener(this.eventService,Bt.EVENT_MOUSE_FOCUS,(function(){T(t.popupList,(function(t){return ze(t.element,"ag-keyboard-focus")}))}))},e.prototype.registerGridCore=function(t){this.gridCore=t},e.prototype.getPopupParent=function(){var t=this.gridOptionsWrapper.getPopupParent();return t||this.gridCore.getRootGui()},e.prototype.positionPopupForMenu=function(t){var e=t.eventSource.getBoundingClientRect(),n=this.getParentRect(),r=this.keepYWithinBounds(t,e.top-n.top),o=t.ePopup.clientWidth>0?t.ePopup.clientWidth:200;t.ePopup.style.minWidth=o+"px";var i,s=n.right-n.left-o;function a(){return e.right-n.left-2}function u(){return e.left-n.left-o}this.gridOptionsWrapper.isEnableRtl()?((i=u())<0&&(i=a()),i>s&&(i=0)):((i=a())>s&&(i=u()),i<0&&(i=0)),t.ePopup.style.left=i+"px",t.ePopup.style.top=r+"px"},e.prototype.positionPopupUnderMouseEvent=function(t){var e=this.calculatePointerAlign(t.mouseEvent),n=e.x,r=e.y,o=t.ePopup,i=t.nudgeX,s=t.nudgeY;this.positionPopup({ePopup:o,x:n,y:r,nudgeX:i,nudgeY:s,keepWithinBounds:!0}),this.callPostProcessPopup(t.type,t.ePopup,null,t.mouseEvent,t.column,t.rowNode)},e.prototype.calculatePointerAlign=function(t){var e=this.getParentRect();return{x:t.clientX-e.left,y:t.clientY-e.top}},e.prototype.positionPopupUnderComponent=function(t){var e=t.eventSource.getBoundingClientRect(),n=t.alignSide||"left",r=this.getParentRect(),o=e.left-r.left;"right"===n&&(o-=t.ePopup.offsetWidth-e.width),this.positionPopup({ePopup:t.ePopup,minWidth:t.minWidth,minHeight:t.minHeight,nudgeX:t.nudgeX,nudgeY:t.nudgeY,x:o,y:e.top-r.top+e.height,keepWithinBounds:t.keepWithinBounds}),this.callPostProcessPopup(t.type,t.ePopup,t.eventSource,null,t.column,t.rowNode)},e.prototype.positionPopupOverComponent=function(t){var e=t.eventSource.getBoundingClientRect(),n=this.getParentRect();this.positionPopup({ePopup:t.ePopup,minWidth:t.minWidth,nudgeX:t.nudgeX,nudgeY:t.nudgeY,x:e.left-n.left,y:e.top-n.top,keepWithinBounds:t.keepWithinBounds}),this.callPostProcessPopup(t.type,t.ePopup,t.eventSource,null,t.column,t.rowNode)},e.prototype.callPostProcessPopup=function(t,e,n,r,o,i){var s=this.gridOptionsWrapper.getPostProcessPopupFunc();s&&s({column:o,rowNode:i,ePopup:e,type:t,eventSource:n,mouseEvent:r})},e.prototype.positionPopup=function(t){var e=t.x,n=t.y;t.nudgeX&&(e+=t.nudgeX),t.nudgeY&&(n+=t.nudgeY),t.keepWithinBounds&&(e=this.keepXWithinBounds(t,e),n=this.keepYWithinBounds(t,n)),t.ePopup.style.left=e+"px",t.ePopup.style.top=n+"px"},e.prototype.getActivePopups=function(){return this.popupList.map((function(t){return t.element}))},e.prototype.getParentRect=function(){var t=this.getPopupParent(),e=this.gridOptionsWrapper.getDocument();t===e.body&&(t=e.documentElement);var n=getComputedStyle(t),r=t.getBoundingClientRect();return{top:r.top+parseFloat(n.borderTopWidth)||0,left:r.left+parseFloat(n.borderLeftWidth)||0,right:r.right+parseFloat(n.borderRightWidth)||0,bottom:r.bottom+parseFloat(n.borderBottomWidth)||0}},e.prototype.keepYWithinBounds=function(t,e){var n=this.gridOptionsWrapper.getDocument(),r=n.documentElement,o=this.getPopupParent(),i=o.getBoundingClientRect(),s=n.documentElement.getBoundingClientRect(),a=o===n.body,u=Math.min(200,i.height),l=0;t.minHeight&&t.minHeight<u?u=t.minHeight:t.ePopup.offsetHeight>0&&(u=t.ePopup.clientHeight,l=en(t.ePopup)-u);var c=a?en(r)+r.scrollTop:i.height;a&&(c-=Math.abs(s.top-i.top));var p=c-u-l;return Math.min(Math.max(e,0),Math.abs(p))},e.prototype.keepXWithinBounds=function(t,e){var n=this.gridOptionsWrapper.getDocument(),r=n.documentElement,o=this.getPopupParent(),i=o.getBoundingClientRect(),s=n.documentElement.getBoundingClientRect(),a=o===n.body,u=t.ePopup,l=Math.min(200,i.width),c=0;t.minWidth&&t.minWidth<l?l=t.minWidth:u.offsetWidth>0&&(l=u.offsetWidth,u.style.minWidth=l+"px",c=nn(u)-l);var p=a?nn(r)+r.scrollLeft:i.width;a&&(p-=Math.abs(s.left-i.left));var h=p-l-c;return Math.min(Math.max(e,0),Math.abs(h))},e.prototype.keepPopupPositionedRelativeTo=function(t){var e=this.getPopupParent(),n=e.getBoundingClientRect(),r=t.element.getBoundingClientRect(),o=n.top-r.top,i=o,s=t.ePopup.style.top,a=parseInt(s.substring(0,s.length-1),10),u=window.setInterval((function(){var n=e.getBoundingClientRect(),r=t.element.getBoundingClientRect(),s=n.top-r.top;if(s!=i){var u=a+o-s;t.ePopup.style.top=u+"px"}i=s}),200);return function(){window.clearInterval(u)}},e.prototype.addPopup=function(t){var e=this,n=t.modal,r=t.eChild,o=t.closeOnEsc,i=t.closedCallback,s=t.click,a=t.alwaysOnTop,u=t.positionCallback,l=t.anchorToElement,c=this.gridOptionsWrapper.getDocument();if(!c)return console.warn("ag-grid: could not find the document, document is empty"),function(){};var p=O(this.popupList,(function(t){return t.element===r}));if(-1!==p)return this.popupList[p].hideFunc;var h=this.getPopupParent();h.appendChild(r),null==r.style.top&&(r.style.top="0px"),null==r.style.left&&(r.style.left="0px");var d=document.createElement("div"),f=this.environment.getTheme().theme;f&&Ue(d,f),Ue(d,"ag-popup"),Ue(r,this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr"),Ue(r,"ag-popup-child"),d.appendChild(r),h.appendChild(d),a?this.setAlwaysOnTop(d,!0):this.bringPopupToFront(d);var g,v=!1,y=function(t){d.contains(document.activeElement)&&((t.which||t.keyCode)===Kr.ESCAPE&&w({keyboardEvent:t}))},m=function(t){return w({mouseEvent:t})},b=function(t){return w({touchEvent:t})},w=function(t){void 0===t&&(t={});var n=t.mouseEvent,o=t.touchEvent,a=t.keyboardEvent;e.isEventFromCurrentPopup({mouseEvent:n,touchEvent:o},r)||e.isEventSameChainAsOriginalEvent({originalMouseEvent:s,mouseEvent:n,touchEvent:o})||v||(v=!0,h.removeChild(d),c.removeEventListener("keydown",y),c.removeEventListener("mousedown",m),c.removeEventListener("touchstart",b),c.removeEventListener("contextmenu",m),e.eventService.removeEventListener(Bt.EVENT_DRAG_STARTED,m),i&&i(n||o||a),e.popupList=e.popupList.filter((function(t){return t.element!==r})),g&&g())};return window.setTimeout((function(){o&&c.addEventListener("keydown",y),n&&(c.addEventListener("mousedown",m),e.eventService.addEventListener(Bt.EVENT_DRAG_STARTED,m),c.addEventListener("touchstart",b),c.addEventListener("contextmenu",m))}),0),this.popupList.push({element:r,hideFunc:w}),u&&u(),l&&(g=this.keepPopupPositionedRelativeTo({element:l,ePopup:r})),w},e.prototype.isEventFromCurrentPopup=function(t,e){var n=t.mouseEvent,r=t.touchEvent,o=n||r;if(!o)return!1;var i=O(this.popupList,(function(t){return t.element===e}));if(-1===i)return!1;for(var s=i;s<this.popupList.length;s++){if(Nt(this.popupList[s].element,o))return!0}return this.isElementWithinCustomPopup(o.target)},e.prototype.isElementWithinCustomPopup=function(t){if(!this.popupList.length)return!1;for(;t&&t!==document.body;){if(t.classList.contains("ag-custom-component-popup")||null===t.parentElement)return!0;t=t.parentElement}return!1},e.prototype.isEventSameChainAsOriginalEvent=function(t){var e=t.originalMouseEvent,n=t.mouseEvent,r=t.touchEvent,o=null;if(n?o=n:r&&(o=r.touches[0]),o&&e){var i=n?n.screenX:0,s=n?n.screenY:0,a=Math.abs(e.screenX-i)<5,u=Math.abs(e.screenY-s)<5;if(a&&u)return!0}return!1},e.prototype.getWrapper=function(t){for(;!Ke(t,"ag-popup")&&t.parentElement;)t=t.parentElement;return Ke(t,"ag-popup")?t:null},e.prototype.setAlwaysOnTop=function(t,e){var n=this.getWrapper(t);n&&(qe(n,"ag-always-on-top",!!e),e&&this.bringPopupToFront(n))},e.prototype.bringPopupToFront=function(t){var e=this.getPopupParent(),n=Array.prototype.slice.call(e.querySelectorAll(".ag-popup")),r=n.length,o=Array.prototype.slice.call(e.querySelectorAll(".ag-popup.ag-always-on-top")),i=o.length,s=this.getWrapper(t);if(s&&!(r<=1)&&e.contains(t)){var a=n.indexOf(s);if(i)Ke(s,"ag-always-on-top")?a!==r-1&&g(o).insertAdjacentElement("afterend",s):a!==r-i-1&&o[0].insertAdjacentElement("beforebegin",s);else a!==r-1&&g(n).insertAdjacentElement("afterend",s);var u={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:s};this.eventService.dispatchEvent(u)}},wu([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),wu([at("environment")],e.prototype,"environment",void 0),wu([ot],e.prototype,"init",null),e=wu([st("popupService")],e)}(jt),Eu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_u=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ou=function(t,e){return function(n,r){e(n,r,t)}},Ru=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Eu(e,t),e.prototype.setBeans=function(t){this.logging=t.isDebug()},e.prototype.create=function(t){return new Su(t,this.isLogging.bind(this))},e.prototype.isLogging=function(){return this.logging},_u([Ou(0,ct("gridOptionsWrapper"))],e.prototype,"setBeans",null),e=_u([st("loggerFactory")],e)}(jt),Su=function(){function t(t,e){this.name=t,this.isLoggingFunc=e}return t.prototype.isLogging=function(){return this.isLoggingFunc()},t.prototype.log=function(t){this.isLoggingFunc()&&console.log("ag-Grid."+this.name+": "+t)},t}(),Tu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pu=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Au=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tu(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.registerHeaderRootComp=function(t){this.headerRootComp=t},e.prototype.getPreferredWidthForColumn=function(t,e){var n=this.getHeaderCellForColumn(t);if(!n)return-1;var r=document.createElement("span");r.style.position="fixed";var o=this.gridPanel.getCenterContainer();o.appendChild(r),this.putRowCellsIntoDummyContainer(t,r),e||this.cloneItemIntoDummy(n,r);var i=r.offsetWidth;return o.removeChild(r),i+this.gridOptionsWrapper.getAutoSizePadding()},e.prototype.getHeaderCellForColumn=function(t){var e=null;return this.headerRootComp.forEachHeaderElement((function(n){if(n instanceof da){var r=n;r.getColumn()===t&&(e=r)}})),e?e.getGui():null},e.prototype.putRowCellsIntoDummyContainer=function(t,e){var n=this;this.rowRenderer.getAllCellsForColumn(t).forEach((function(t){return n.cloneItemIntoDummy(t,e)}))},e.prototype.cloneItemIntoDummy=function(t,e){var n=t.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";var r=document.createElement("div");Ke(n,"ag-header-cell")?(Ue(r,"ag-header"),Ue(r,"ag-header-row"),r.style.position="static"):Ue(r,"ag-row"),r.style.display="table-row",r.appendChild(n),e.appendChild(r)},Pu([at("rowRenderer")],e.prototype,"rowRenderer",void 0),Pu([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e=Pu([st("autoWidthCalculator")],e)}(jt),Iu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Du=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Nu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Iu(e,t),e.prototype.addResizeBar=function(t){var e=this,n={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t)};this.dragService.addDragSource(n,!0);return function(){return e.dragService.removeDragSource(n)}},e.prototype.onDragStart=function(t,e){this.dragStartX=e.clientX,this.setResizeIcons();var n=e instanceof MouseEvent&&!0===e.shiftKey;t.onResizeStart(n)},e.prototype.setResizeIcons=function(){this.oldBodyCursor=this.eGridDiv.style.cursor,this.oldUserSelect=this.eGridDiv.style.userSelect,this.oldWebkitUserSelect=this.eGridDiv.style.webkitUserSelect,this.eGridDiv.style.cursor="ew-resize",this.eGridDiv.style.userSelect="none",this.eGridDiv.style.webkitUserSelect="none"},e.prototype.onDragStop=function(t,e){t.onResizeEnd(this.resizeAmount),this.resetIcons()},e.prototype.resetIcons=function(){this.eGridDiv.style.cursor=this.oldBodyCursor,this.eGridDiv.style.userSelect=this.oldUserSelect,this.eGridDiv.style.webkitUserSelect=this.oldWebkitUserSelect},e.prototype.onDragging=function(t,e){this.resizeAmount=e.clientX-this.dragStartX,t.onResizing(this.resizeAmount)},Du([at("dragService")],e.prototype,"dragService",void 0),Du([at("eGridDiv")],e.prototype,"eGridDiv",void 0),e=Du([st("horizontalResizeService")],e)}(jt),xu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ku=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Lu=function(t){function n(){return t.call(this,void 0,!0)||this}return xu(n,t),n.prototype.postConstruct=function(){var n=this;this.logger=this.loggerFactory.create("GridCore");var r=this.createTemplate();if(this.setTemplate(r),[this.gridApi,this.rowRenderer,this.popupService,this.focusController].forEach((function(t){return t.registerGridCore(n)})),yt.isRegistered(e.ModuleNames.ClipboardModule)&&this.clipboardService.registerGridCore(this),this.gridOptionsWrapper.addLayoutElement(this.getGui()),this.eGridDiv.appendChild(this.getGui()),this.addDestroyFunc((function(){n.eGridDiv.removeChild(n.getGui())})),this.$scope){var o=this.$scope.$watch(this.quickFilterOnScope,(function(t){return n.filterManager.setQuickFilter(t)}));this.addDestroyFunc(o)}this.addRtlSupport(),this.logger.log("ready"),this.gridOptionsWrapper.addLayoutElement(this.eRootWrapperBody);var i=this.resizeObserverService.observeResize(this.eGridDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((function(){return i()}));var s=this.getGui();this.addManagedListener(this.eventService,Bt.EVENT_KEYBOARD_FOCUS,(function(){Ue(s,"ag-keyboard-focus")})),this.addManagedListener(this.eventService,Bt.EVENT_MOUSE_FOCUS,(function(){ze(s,"ag-keyboard-focus")})),t.prototype.postConstruct.call(this)},n.prototype.getFocusableElement=function(){return this.eRootWrapperBody},n.prototype.createTemplate=function(){var t=yt.isRegistered(e.ModuleNames.SideBarModule),n=yt.isRegistered(e.ModuleNames.StatusBarModule);return'<div ref="eRootWrapper" class="ag-root-wrapper">\n                '+(yt.isRegistered(e.ModuleNames.RowGroupingModule)?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-comp ref="gridPanel"></ag-grid-comp>\n                    '+(t?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(n?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(yt.isRegistered(e.ModuleNames.EnterpriseCoreModule)?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},n.prototype.getFocusableContainers=function(){var t=[this.gridPanel.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter((function(t){return ln(t)}))},n.prototype.focusNextInnerContainer=function(t){var e=this.getFocusableContainers(),n=O(e,(function(t){return t.contains(document.activeElement)}))+(t?-1:1);return!(n<0||n>=e.length)&&(0===n?this.focusGridHeader():this.focusController.focusInto(e[n]))},n.prototype.focusInnerElement=function(t){var e=this.getFocusableContainers();if(t){if(e.length>1)return this.focusController.focusInto(g(e));var n=g(this.columnController.getAllDisplayedColumns());if(this.focusController.focusGridView(n,!0))return!0}return this.focusGridHeader()},n.prototype.focusGridHeader=function(){var t=this.columnController.getAllDisplayedColumns()[0];return!!t&&(t.getParent()&&(t=this.columnController.getColumnGroupAtLevel(t,0)),this.focusController.focusHeaderPosition({headerRowIndex:0,column:t}),!0)},n.prototype.onGridSizeChanged=function(){var t={type:Bt.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridDiv.clientWidth,clientHeight:this.eGridDiv.clientHeight};this.eventService.dispatchEvent(t)},n.prototype.addRtlSupport=function(){var t=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";Ue(this.getGui(),t)},n.prototype.getRootGui=function(){return this.getGui()},n.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},n.prototype.setSideBarVisible=function(t){this.sideBarComp?this.sideBarComp.setDisplayed(t):t&&console.warn("ag-Grid: sideBar is not loaded")},n.prototype.setSideBarPosition=function(t){this.sideBarComp?this.sideBarComp.setSideBarPosition(t):console.warn("ag-Grid: sideBar is not loaded")},n.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},n.prototype.getSideBar=function(){return this.gridOptions.sideBar},n.prototype.getToolPanelInstance=function(t){if(this.sideBarComp)return this.sideBarComp.getToolPanelInstance(t);console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},n.prototype.refreshSideBar=function(){this.sideBarComp&&this.sideBarComp.refresh()},n.prototype.setSideBar=function(t){this.sideBarComp&&(this.eRootWrapperBody.removeChild(this.sideBarComp.getGui()),this.gridOptions.sideBar=qi.parse(t),this.sideBarComp.reset(),this.eRootWrapperBody.appendChild(this.sideBarComp.getGui()))},n.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},n.prototype.openToolPanel=function(t){this.sideBarComp?this.sideBarComp.openToolPanel(t):console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},n.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},n.prototype.destroy=function(){this.logger.log("Grid DOM removed"),t.prototype.destroy.call(this)},n.prototype.ensureNodeVisible=function(t,e){if(void 0===e&&(e=null),this.doingVirtualPaging)throw new Error("Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory");for(var n=this.rowModel.getRowCount(),r="function"===typeof t,o=-1,i=0;i<n;i++){var s=this.rowModel.getRow(i);if(r){if(t(s)){o=i;break}}else if(t===s||t===s.data){o=i;break}}o>=0&&this.gridPanel.ensureIndexVisible(o,e)},n.prototype.onTabKeyDown=function(){},ku([at("gridOptions")],n.prototype,"gridOptions",void 0),ku([at("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),ku([at("rowModel")],n.prototype,"rowModel",void 0),ku([at("resizeObserverService")],n.prototype,"resizeObserverService",void 0),ku([at("rowRenderer")],n.prototype,"rowRenderer",void 0),ku([at("filterManager")],n.prototype,"filterManager",void 0),ku([at("eGridDiv")],n.prototype,"eGridDiv",void 0),ku([at("$scope")],n.prototype,"$scope",void 0),ku([at("quickFilterOnScope")],n.prototype,"quickFilterOnScope",void 0),ku([at("popupService")],n.prototype,"popupService",void 0),ku([at("columnController")],n.prototype,"columnController",void 0),ku([at("loggerFactory")],n.prototype,"loggerFactory",void 0),ku([at("columnApi")],n.prototype,"columnApi",void 0),ku([at("gridApi")],n.prototype,"gridApi",void 0),ku([ut("clipboardService")],n.prototype,"clipboardService",void 0),ku([Wr("gridPanel")],n.prototype,"gridPanel",void 0),ku([Wr("sideBar")],n.prototype,"sideBarComp",void 0),ku([Wr("rootWrapperBody")],n.prototype,"eRootWrapperBody",void 0),n}(no),Fu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mu=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ju=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fu(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},e.prototype.showMenuAfterMouseEvent=function(t,e){var n=this;this.showPopup(t,(function(r){n.popupService.positionPopupUnderMouseEvent({column:t,type:"columnMenu",mouseEvent:e,ePopup:r})}),e.target)},e.prototype.showMenuAfterButtonClick=function(t,e){var n=this;this.showPopup(t,(function(r){n.popupService.positionPopupUnderComponent({type:"columnMenu",eventSource:e,ePopup:r,keepWithinBounds:!0,column:t})}),e)},e.prototype.showPopup=function(t,e,n){var r,o=this,i=this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU"),s=document.createElement("div");s.setAttribute("role","presentation"),Ue(s,"ag-menu"),this.tabListener=this.addManagedListener(s,"keydown",(function(t){return o.trapFocusWithin(t,s)})),i.guiPromise.then((function(t){return s.appendChild(t)}));var a=function(t){"horizontal"===t.direction&&r()};this.eventService.addEventListener("bodyScroll",a);r=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:function(e){o.eventService.removeEventListener("bodyScroll",a),t.setMenuVisible(!1,"contextMenu");var r=e instanceof KeyboardEvent;if(o.tabListener&&(o.tabListener=o.tabListener()),r&&n&&ln(n)){var i=o.focusController.findTabbableParent(n);i&&i.focus()}}}),i.filterPromise.then((function(t){e(s),t.afterGuiAttached&&t.afterGuiAttached({container:"columnMenu",hidePopup:r})})),this.hidePopup=r,t.setMenuVisible(!0,"contextMenu")},e.prototype.trapFocusWithin=function(t,e){t.keyCode!==Kr.TAB||t.defaultPrevented||this.focusController.findNextFocusableElement(e,!1,t.shiftKey)||(t.preventDefault(),this.focusController.focusInto(e,t.shiftKey))},e.prototype.isMenuEnabled=function(t){return t.isFilterAllowed()},Mu([at("filterManager")],e.prototype,"filterManager",void 0),Mu([at("popupService")],e.prototype,"popupService",void 0),Mu([at("focusController")],e.prototype,"focusController",void 0),e=Mu([st("menuFactory")],e)}(jt),Vu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gu=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Wu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return Vu(e,t),e.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},e.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},e.prototype.removeListener=function(t){var e=t.dragSource.eElement,n=t.mouseDownListener;if(e.removeEventListener("mousedown",n),t.touchEnabled){var r=t.touchStartListener;e.removeEventListener("touchstart",r,{passive:!0})}},e.prototype.removeDragSource=function(t){var e=c(this.dragSources,(function(e){return e.dragSource===t}));e&&(this.removeListener(e),m(this.dragSources,e))},e.prototype.setNoSelectToBody=function(t){var e=this.gridOptionsWrapper.getDocument().querySelector("body");r(e)&&qe(e,"ag-unselectable",t)},e.prototype.isDragging=function(){return this.dragging},e.prototype.addDragSource=function(t,e){void 0===e&&(e=!1);var n=this.onMouseDown.bind(this,t);t.eElement.addEventListener("mousedown",n);var r=null,o=this.gridOptionsWrapper.isSuppressTouch();e&&!o&&(r=this.onTouchStart.bind(this,t),t.eElement.addEventListener("touchstart",r,{passive:!0})),this.dragSources.push({dragSource:t,mouseDownListener:n,touchStartListener:r,touchEnabled:e})},e.prototype.onTouchStart=function(t,e){var n=this;this.currentDragParams=t,this.dragging=!1;var r=e.touches[0];this.touchLastTime=r,this.touchStart=r;var o=function(e){return n.onTouchUp(e,t.eElement)},i=t.eElement,s=[{target:document,type:"touchmove",listener:function(t){t.cancelable&&t.preventDefault()},options:{passive:!1}},{target:i,type:"touchmove",listener:function(e){return n.onTouchMove(e,t.eElement)},options:{passive:!0}},{target:i,type:"touchend",listener:o,options:{passive:!0}},{target:i,type:"touchcancel",listener:o,options:{passive:!0}}];this.addTemporaryEvents(s),0===t.dragStartPixels&&this.onCommonMove(r,this.touchStart,t.eElement)},e.prototype.onMouseDown=function(t,e){var n=this,r=e;if((!t.skipMouseEvent||!t.skipMouseEvent(e))&&!r._alreadyProcessedByDragService&&(r._alreadyProcessedByDragService=!0,0===e.button)){this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=e;var o=this.gridOptionsWrapper.getDocument();this.setNoSelectToBody(!0);var i=[{target:o,type:"mousemove",listener:function(e,r){return n.onMouseMove(e,t.eElement)}},{target:o,type:"mouseup",listener:function(e,r){return n.onMouseUp(e,t.eElement)}},{target:o,type:"contextmenu",listener:function(t){return t.preventDefault()}}];this.addTemporaryEvents(i),0===t.dragStartPixels&&this.onMouseMove(e,t.eElement)}},e.prototype.addTemporaryEvents=function(t){t.forEach((function(t){var e=t.target,n=t.type,r=t.listener,o=t.options;e.addEventListener(n,r,o)})),this.dragEndFunctions.push((function(){t.forEach((function(t){var e=t.target,n=t.type,r=t.listener,o=t.options;e.removeEventListener(n,r,o)}))}))},e.prototype.isEventNearStartEvent=function(t,e){var n=this.currentDragParams.dragStartPixels;return Or(t,e,r(n)?n:4)},e.prototype.getFirstActiveTouch=function(t){for(var e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null},e.prototype.onCommonMove=function(t,e,n){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,e))return;this.dragging=!0;var r={type:Bt.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:n};this.eventService.dispatchEvent(r),this.currentDragParams.onDragStart(e),this.currentDragParams.onDragging(e)}this.currentDragParams.onDragging(t)},e.prototype.onTouchMove=function(t,e){var n=this.getFirstActiveTouch(t.touches);n&&this.onCommonMove(n,this.touchStart,e)},e.prototype.onMouseMove=function(t,e){this.onCommonMove(t,this.mouseStartEvent,e)},e.prototype.onTouchUp=function(t,e){var n=this.getFirstActiveTouch(t.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,e)},e.prototype.onMouseUp=function(t,e){this.onUpCommon(t,e)},e.prototype.onUpCommon=function(t,e){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(t);var n={type:Bt.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:e};this.eventService.dispatchEvent(n)}this.setNoSelectToBody(!1),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((function(t){return t()})),this.dragEndFunctions.length=0},Gu([at("loggerFactory")],e.prototype,"loggerFactory",void 0),Gu([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Gu([at("columnApi")],e.prototype,"columnApi",void 0),Gu([at("gridApi")],e.prototype,"gridApi",void 0),Gu([ot],e.prototype,"init",null),Gu([it],e.prototype,"removeAllListeners",null),e=Gu([st("dragService")],e)}(jt),Hu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bu=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Uu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getSortModel=function(){return e.getColumnsWithSortingOrdered().map((function(t){return{colId:t.getColId(),sort:t.getSort()}}))},e}var n;return Hu(e,t),n=e,e.prototype.progressSort=function(t,e,n){void 0===n&&(n="api");var r=this.getNextSortDirection(t);this.setSortForColumn(t,r,e,n)},e.prototype.setSortForColumn=function(t,e,n,r){void 0===r&&(r="api"),e!==vt.SORT_ASC&&e!==vt.SORT_DESC&&(e=null),t.setSort(e,r),n&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(t,r),this.updateSortIndex(t),this.dispatchSortChangedEvents()},e.prototype.updateSortIndex=function(t){var e=this.getColumnsWithSortingOrdered(),n=0;e.forEach((function(e){e!==t&&(e.setSortIndex(n),n++)})),t.getSort()&&t.setSortIndex(n),this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter((function(t){return null==t.getSort()})).forEach((function(t){return t.setSortIndex(void 0)}))},e.prototype.onSortChanged=function(){this.dispatchSortChangedEvents()},e.prototype.isSortActive=function(){var t=this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter((function(t){return!!t.getSort()}));return t&&t.length>0},e.prototype.dispatchSortChangedEvents=function(){var t={type:Bt.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},e.prototype.clearSortBarThisColumn=function(t,e){this.columnController.getPrimaryAndSecondaryAndAutoColumns().forEach((function(n){n!==t&&n.setSort(void 0,e)}))},e.prototype.getNextSortDirection=function(t){var e;if(e=t.getColDef().sortingOrder?t.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():n.DEFAULT_SORTING_ORDER,!Array.isArray(e)||e.length<=0)return console.warn("ag-grid: sortingOrder must be an array with at least one element, currently it's "+e),null;var r,o=e.indexOf(t.getSort()),i=o<0,s=o==e.length-1;return r=i||s?e[0]:e[o+1],n.DEFAULT_SORTING_ORDER.indexOf(r)<0?(console.warn("ag-grid: invalid sort type "+r),null):r},e.prototype.getColumnsWithSortingOrdered=function(){var t=this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter((function(t){return!!t.getSort()}));return t.sort((function(t,e){return t.getSortIndex()-e.getSortIndex()})),t},e.prototype.getSortForRowController=function(){return this.getColumnsWithSortingOrdered().map((function(t){return{inverter:t.getSort()===vt.SORT_ASC?1:-1,column:t}}))},e.DEFAULT_SORTING_ORDER=[vt.SORT_ASC,vt.SORT_DESC,null],Bu([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Bu([at("columnController")],e.prototype,"columnController",void 0),Bu([at("columnApi")],e.prototype,"columnApi",void 0),Bu([at("gridApi")],e.prototype,"gridApi",void 0),e=n=Bu([st("sortController")],e)}(jt),zu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qu=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ku=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.keyboardFocusActive=!1,e}var r;return zu(e,t),r=e,e.prototype.init=function(){var t=this.gridOptionsWrapper.getDocument(),e=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_GROUP_OPENED,e),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(t,"keydown",this.activateKeyboardMode.bind(this)),this.addManagedListener(t,"mousedown",this.activateMouseMode.bind(this))},e.prototype.registerGridCore=function(t){this.gridCore=t},e.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var t=this.focusedCellPosition.column,e=this.columnController.getGridColumn(t.getId());t!==e&&this.clearFocusedCell()}},e.prototype.isKeyboardFocus=function(){return this.keyboardFocusActive},e.prototype.activateMouseMode=function(){this.keyboardFocusActive&&(this.keyboardFocusActive=!1,this.eventService.dispatchEvent({type:Bt.EVENT_MOUSE_FOCUS}))},e.prototype.activateKeyboardMode=function(){this.keyboardFocusActive||(this.keyboardFocusActive=!0,this.eventService.dispatchEvent({type:Bt.EVENT_KEYBOARD_FOCUS}))},e.prototype.getFocusCellToUseAfterRefresh=function(){return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition?null:this.getGridCellForDomElement(document.activeElement)?this.focusedCellPosition:null},e.prototype.getGridCellForDomElement=function(t){for(var e=t;e;){var n=this.gridOptionsWrapper.getDomData(e,xs.DOM_DATA_KEY_CELL_COMP);if(n)return n.getCellPosition();e=e.parentNode}return null},e.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},e.prototype.getFocusedCell=function(){return this.focusedCellPosition},e.prototype.setFocusedCell=function(t,e,r,o){void 0===o&&(o=!1);var i=this.columnController.getGridColumn(e);i?(this.focusedCellPosition={rowIndex:t,rowPinned:n(r),column:n(i)},this.onCellFocused(o)):this.focusedCellPosition=null},e.prototype.isCellFocused=function(t){return null!=this.focusedCellPosition&&(this.focusedCellPosition.column===t.column&&this.isRowFocused(t.rowIndex,t.rowPinned))},e.prototype.isRowNodeFocused=function(t){return this.isRowFocused(t.rowIndex,t.rowPinned)},e.prototype.isHeaderWrapperFocused=function(t){if(null==this.focusedHeaderPosition)return!1;var e=t.getColumn(),n=t.getParentComponent().getRowIndex(),r=t.getPinned(),o=this.focusedHeaderPosition,i=o.column,s=o.headerRowIndex;return e===i&&n===s&&r==i.getPinned()},e.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},e.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},e.prototype.setFocusedHeader=function(t,e){this.focusedHeaderPosition={headerRowIndex:t,column:e}},e.prototype.focusHeaderPosition=function(t,e,n,r,o){if(void 0===e&&(e=null),void 0===n&&(n=!1),void 0===r&&(r=!1),r){var i,s=this.gridOptionsWrapper,a=this.getFocusedHeader(),u=this.headerNavigationService.getHeaderRowCount();if(n){if(i=s.getTabToNextHeaderFunc())t=i({backwards:"Before"===e,previousHeaderPosition:a,nextHeaderPosition:t,headerRowCount:u})}else if(i=s.getNavigateToNextHeaderFunc())t=i({key:o.key,previousHeaderPosition:a,nextHeaderPosition:t,headerRowCount:u,event:o})}if(!t)return!1;if(-1===t.headerRowIndex)return this.focusGridView(t.column);this.headerNavigationService.scrollToColumn(t.column,e);var l=this.headerNavigationService.getHeaderContainer(t.column.getPinned()).getRowComps()[t.headerRowIndex].getHeaderComps()[t.column.getUniqueId()];return!!l&&(l.getFocusableElement().focus(),!0)},e.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},e.prototype.isRowFocused=function(t,e){return null!=this.focusedCellPosition&&(this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===n(e))},e.prototype.findFocusableElements=function(t,e,n){void 0===n&&(n=!1);var o=r.FOCUSABLE_SELECTOR,i=r.FOCUSABLE_EXCLUDE;e&&(i+=", "+e),n&&(i+=', [tabindex="-1"]');var s=Array.prototype.slice.apply(t.querySelectorAll(o)),a=Array.prototype.slice.apply(t.querySelectorAll(i));if(!a.length)return s;var u;return u=a,s.filter((function(t){return-1===u.indexOf(t)}))},e.prototype.focusInto=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=this.findFocusableElements(t,null,n),o=e?g(r):r[0];return!!o&&(o.focus(),!0)},e.prototype.findNextFocusableElement=function(t,e,n){var r=this.findFocusableElements(t,e?':not([tabindex="-1"])':null),o=(e?O(r,(function(t){return t.contains(document.activeElement)})):r.indexOf(document.activeElement))+(n?-1:1);return o<0||o>=r.length?null:r[o]},e.prototype.isFocusUnderManagedComponent=function(t){var e=t.querySelectorAll("."+no.FOCUS_MANAGED_CLASS);if(!e.length)return!1;for(var n=0;n<e.length;n++)if(e[n].contains(document.activeElement))return!0;return!1},e.prototype.findTabbableParent=function(t,e){void 0===e&&(e=5);for(var n=0;t&&null===Me(t)&&++n<=e;)t=t.parentElement;return null===Me(t)?null:t},e.prototype.onCellFocused=function(t){var e={type:Bt.EVENT_CELL_FOCUSED,forceBrowserFocus:t,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null};this.focusedCellPosition&&(e.rowIndex=this.focusedCellPosition.rowIndex,e.column=this.focusedCellPosition.column,e.rowPinned=this.focusedCellPosition.rowPinned),this.eventService.dispatchEvent(e)},e.prototype.focusGridView=function(t,e){var r=e?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!r)return!1;var o=r.rowIndex,i=r.rowPinned,s=this.getFocusedHeader();if(t||(t=s.column),null==o)return!1;if(this.rowRenderer.ensureCellVisible({rowIndex:o,column:t,rowPinned:i}),this.setFocusedCell(o,t,n(i),!0),this.rangeController){var a={rowIndex:o,rowPinned:i,column:t};this.rangeController.setRangeToCell(a)}return!0},e.prototype.focusNextGridCoreContainer=function(t){if(this.gridCore.focusNextInnerContainer(t))return!0;t||this.gridCore.forceFocusOutOfContainer()},e.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",e.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, .ag-disabled, .ag-disabled *",qu([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),qu([at("columnController")],e.prototype,"columnController",void 0),qu([at("headerNavigationService")],e.prototype,"headerNavigationService",void 0),qu([at("columnApi")],e.prototype,"columnApi",void 0),qu([at("gridApi")],e.prototype,"gridApi",void 0),qu([at("rowRenderer")],e.prototype,"rowRenderer",void 0),qu([at("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),qu([ut("rangeController")],e.prototype,"rangeController",void 0),qu([ot],e.prototype,"init",null),e=r=qu([st("focusController")],e)}(jt),Yu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qu=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Xu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gridInstanceId=n.gridInstanceSequence.next(),e}var n;return Yu(e,t),n=e,e.prototype.init=function(){this.stampDomElementWithGridInstance()},e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.stampDomElementWithGridInstance=function(){this.eGridDiv[n.GRID_DOM_KEY]=this.gridInstanceId},e.prototype.getRenderedCellForEvent=function(t){return It(this.gridOptionsWrapper,t)},e.prototype.isEventFromThisGrid=function(t){for(var e=kt(t),o=0;o<e.length;o++){var i=e[o][n.GRID_DOM_KEY];if(r(i))return i===this.gridInstanceId}return!1},e.prototype.getCellPositionForEvent=function(t){var e=this.getRenderedCellForEvent(t);return e?e.getCellPosition():null},e.prototype.getNormalisedPosition=function(t){var e,n,r=this.gridOptionsWrapper.getDomLayout()===vt.DOM_LAYOUT_NORMAL,o=t;if(null!=o.clientX||null!=o.clientY?(e=o.clientX,n=o.clientY):(e=o.x,n=o.y),r){var i=this.gridPanel.getVScrollPosition();e+=this.gridPanel.getHScrollPosition().left,n+=i.top}return{x:e,y:n}},e.gridInstanceSequence=new Nr,e.GRID_DOM_KEY="__ag_grid_instance",Qu([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Qu([at("eGridDiv")],e.prototype,"eGridDiv",void 0),Qu([ot],e.prototype,"init",null),e=n=Qu([st("mouseEventService")],e)}(jt),$u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ju=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Zu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $u(e,t),e.prototype.getNextCellToFocus=function(t,e){for(var n=e,r=!1;!r;){switch(t){case Kr.UP:n=this.getCellAbove(n);break;case Kr.DOWN:n=this.getCellBelow(n);break;case Kr.RIGHT:n=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(n):this.getCellToRight(n);break;case Kr.LEFT:n=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,console.warn("ag-Grid: unknown key for navigation "+t)}r=!n||this.isCellGoodToFocusOn(n)}return n},e.prototype.isCellGoodToFocusOn=function(t){var e,n=t.column;switch(t.rowPinned){case vt.PINNED_TOP:e=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case vt.PINNED_BOTTOM:e=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:e=this.rowModel.getRow(t.rowIndex)}return!n.isSuppressNavigable(e)},e.prototype.getCellToLeft=function(t){if(!t)return null;var e=this.columnController.getDisplayedColBefore(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null},e.prototype.getCellToRight=function(t){if(!t)return null;var e=this.columnController.getDisplayedColAfter(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null},e.prototype.getRowBelow=function(t){var e=t.rowIndex,n=t.rowPinned;if(this.isLastRowInContainer(t))switch(n){case vt.PINNED_BOTTOM:return null;case vt.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(vt.PINNED_BOTTOM)?{rowIndex:0,rowPinned:vt.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(vt.PINNED_BOTTOM)?{rowIndex:0,rowPinned:vt.PINNED_BOTTOM}:null}return{rowIndex:e+1,rowPinned:n}},e.prototype.getCellBelow=function(t){if(!t)return null;var e=this.getRowBelow(t);return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null},e.prototype.isLastRowInContainer=function(t){var e=t.rowPinned,n=t.rowIndex;return e===vt.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=n:e===vt.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=n:this.paginationProxy.getPageLastRow()<=n},e.prototype.getRowAbove=function(t){var e=t.rowIndex,n=t.rowPinned;return(n?0===e:e===this.paginationProxy.getPageFirstRow())?n===vt.PINNED_TOP?null:n&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(vt.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:e-1,rowPinned:n}},e.prototype.getCellAbove=function(t){if(!t)return null;var e=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null},e.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},e.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:vt.PINNED_TOP}},e.prototype.getNextTabbedCell=function(t,e){return e?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)},e.prototype.getNextTabbedCellForwards=function(t){var e=this.columnController.getAllDisplayedColumns(),n=t.rowIndex,r=t.rowPinned,i=this.columnController.getDisplayedColAfter(t.column);if(!i){i=e[0];var s=this.getRowBelow(t);if(o(s))return null;if(!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,r=s?s.rowPinned:null}return{rowIndex:n,column:i,rowPinned:r}},e.prototype.getNextTabbedCellBackwards=function(t){var e=this.columnController.getAllDisplayedColumns(),n=t.rowIndex,r=t.rowPinned,i=this.columnController.getDisplayedColBefore(t.column);if(!i){i=g(e);var s=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(o(s))return null;if(!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,r=s?s.rowPinned:null}return{rowIndex:n,column:i,rowPinned:r}},Ju([at("columnController")],e.prototype,"columnController",void 0),Ju([at("rowModel")],e.prototype,"rowModel",void 0),Ju([at("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Ju([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ju([at("paginationProxy")],e.prototype,"paginationProxy",void 0),e=Ju([st("cellNavigationService")],e)}(jt),tl=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},el=function(){function t(){this.cellRendererMap={}}var e;return e=t,t.prototype.init=function(){this.cellRendererMap[e.ANIMATE_SLIDE]=ti,this.cellRendererMap[e.ANIMATE_SHOW_CHANGE]=$o,this.cellRendererMap[e.GROUP]=Yo},t.prototype.addCellRenderer=function(t,e){this.cellRendererMap[t]=e},t.prototype.getCellRenderer=function(t){var e=this.cellRendererMap[t];return o(e)?(console.warn("ag-Grid: unable to find cellRenderer for key "+t),null):e},t.ANIMATE_SLIDE="animateSlide",t.ANIMATE_SHOW_CHANGE="animateShowChange",t.GROUP="group",tl([at("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),tl([at("expressionService")],t.prototype,"expressionService",void 0),tl([at("eventService")],t.prototype,"eventService",void 0),tl([ot],t.prototype,"init",null),t=e=tl([st("cellRendererFactory")],t)}(),nl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rl=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ol=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nl(e,t),e.prototype.formatValue=function(t,e,n,r,o,i){void 0===i&&(i=!0);var s,a=null,u=t.getColDef();if(o?s=o:i&&(s=e&&e.rowPinned&&u.pinnedRowValueFormatter?u.pinnedRowValueFormatter:u.valueFormatter),s){var l={value:r,node:e,data:e?e.data:null,colDef:u,column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};l.$scope=n,a=this.expressionService.evaluate(s,l)}else if(u.refData)return u.refData[r]||"";return null==a&&Array.isArray(r)&&(a=r.join(", ")),a},rl([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),rl([at("expressionService")],e.prototype,"expressionService",void 0),e=rl([st("valueFormatterService")],e)}(jt),il=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sl=function(t){function e(e){return t.call(this,e,"ag-radio-button","radio")||this}return il(e,t),e.prototype.isSelected=function(){return this.eInput.checked},e.prototype.toggle=function(){this.isSelected()||this.setValue(!0)},e.prototype.addInputListeners=function(){t.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,Bt.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},e.prototype.onChange=function(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)},e}(ia),al=function(){function t(){}return t.prototype.setTimeout=function(t,e){window.setTimeout(t,e)},t.prototype.addEventListenerOutsideAngular=function(t,e,n,r){t.addEventListener(e,n,r)},t}(),ul=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ll=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},cl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ul(e,t),e.prototype.setScrollsVisible=function(t){if(this.horizontalScrollShowing!==t.horizontalScrollShowing||this.verticalScrollShowing!==t.verticalScrollShowing){this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing;var e={type:Bt.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)}},e.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},e.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},ll([at("columnController")],e.prototype,"columnController",void 0),ll([at("columnApi")],e.prototype,"columnApi",void 0),ll([at("gridApi")],e.prototype,"gridApi",void 0),ll([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e=ll([st("scrollVisibleService")],e)}(jt),pl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hl=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},dl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return pl(e,t),e.prototype.processAllCellClasses=function(t,e,n,r){this.processClassRules(t.cellClassRules,e,n,r),this.processStaticCellClasses(t,e,n)},e.prototype.processClassRules=function(t,e,n,r){if(H(t))for(var o=Object.keys(t),i=0;i<o.length;i++){var s=o[i],a=t[s],u=void 0;"string"===typeof a?u=this.expressionService.evaluate(a,e):"function"===typeof a&&(u=a(e)),u?n(s):r&&r(s)}},e.prototype.processStaticCellClasses=function(t,e,n){if(t.cellClass){var r=void 0;if("function"===typeof t.cellClass)r=(0,t.cellClass)(e);else r=t.cellClass;"string"===typeof r?n(r):Array.isArray(r)&&r.forEach((function(t){n(t)}))}},hl([at("expressionService")],e.prototype,"expressionService",void 0),e=hl([st("stylingService")],e)}(jt),fl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gl=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},vl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fl(e,t),e.prototype.setMouseOver=function(t){this.selectedColumns=t;var e={type:Bt.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},e.prototype.clearMouseOver=function(){this.selectedColumns=null;var t={type:Bt.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},e.prototype.isHovered=function(t){return this.selectedColumns&&this.selectedColumns.indexOf(t)>=0},gl([at("columnApi")],e.prototype,"columnApi",void 0),gl([at("gridApi")],e.prototype,"gridApi",void 0),e=gl([st("columnHoverService")],e)}(jt),yl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ml=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},bl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.animationThreadCount=0,e}return yl(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.isActive=function(){return this.active},e.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},e.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},e.prototype.executeNextVMTurn=function(t){this.active?this.executeNextFuncs.push(t):t()},e.prototype.executeLaterVMTurn=function(t){this.active?this.executeLaterFuncs.push(t):t()},e.prototype.ensureAnimationCssClassPresent=function(){var t=this;this.animationThreadCount++;var e=this.animationThreadCount;this.gridPanel.setColumnMovingCss(!0),this.executeLaterFuncs.push((function(){t.animationThreadCount===e&&t.gridPanel.setColumnMovingCss(!1)}))},e.prototype.flush=function(){var t=this.executeNextFuncs;this.executeNextFuncs=[];var e=this.executeLaterFuncs;this.executeLaterFuncs=[],0===t.length&&0===e.length||(window.setTimeout((function(){return t.forEach((function(t){return t()}))}),0),window.setTimeout((function(){return e.forEach((function(t){return t()}))}),300))},ml([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e=ml([st("columnAnimationService")],e)}(jt),wl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cl=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},El=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return wl(e,t),n=e,e.prototype.createAutoGroupColumns=function(t){var e=this,n=[],r=this.gridOptionsWrapper.isTreeData(),o=this.gridOptionsWrapper.isGroupMultiAutoColumn();return r&&o&&(console.warn("ag-Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),o=!1),o?t.forEach((function(t,r){n.push(e.createOneAutoGroupColumn(t,r))})):n.push(this.createOneAutoGroupColumn()),n},e.prototype.createOneAutoGroupColumn=function(t,e){var r,i=this.generateDefaultColDef(t);(r=t?vt.GROUP_AUTO_COLUMN_ID+"-"+t.getId():n.GROUP_AUTO_COLUMN_BUNDLE_ID,j(i,this.gridOptionsWrapper.getAutoGroupColumnDef()),(i=this.columnFactory.mergeColDefs(i)).colId=r,this.gridOptionsWrapper.isTreeData())||o(i.field)&&o(i.valueGetter)&&o(i.filterValueGetter)&&(i.filter=!1);e&&e>0&&(i.headerCheckboxSelection=!1);var s=new bt(i,null,r,!0);return this.context.createBean(s),s},e.prototype.generateDefaultColDef=function(t){var e=this.gridOptionsWrapper.getAutoGroupColumnDef(),n={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(e&&(e.cellRenderer||e.cellRendererFramework)||(n.cellRenderer="agGroupCellRenderer"),t){var r=t.getColDef();V(n,{headerName:this.columnController.getDisplayNameForColumn(t,"header"),headerValueGetter:r.headerValueGetter}),r.cellRenderer&&V(n,{cellRendererParams:{innerRenderer:r.cellRenderer,innerRendererParams:r.cellRendererParams}}),n.showRowGroup=t.getColId()}else n.showRowGroup=!0;return n},e.GROUP_AUTO_COLUMN_BUNDLE_ID=vt.GROUP_AUTO_COLUMN_ID,Cl([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Cl([at("columnController")],e.prototype,"columnController",void 0),Cl([at("columnFactory")],e.prototype,"columnFactory",void 0),e=n=Cl([st("autoGroupColService")],e)}(jt),_l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ol=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Rl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return _l(e,t),e.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,Bt.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},e.prototype.ensureRowHeightsValid=function(t,e,n,r){var o=this.rowModel.ensureRowHeightsValid(t,e,this.getPageFirstRow(),this.getPageLastRow());return o&&this.calculatePages(),o},e.prototype.onModelUpdated=function(t){this.calculatePages();var e={type:Bt.EVENT_PAGINATION_CHANGED,animate:!!t&&t.animate,newData:!!t&&t.newData,newPage:!!t&&t.newPage,keepRenderedRows:!!t&&t.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},e.prototype.onPaginationPageSizeChanged=function(){this.calculatePages();var t={type:Bt.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},e.prototype.goToPage=function(t){if(this.active&&this.currentPage!==t){this.currentPage=t;var e={type:Bt.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi};this.onModelUpdated(e)}},e.prototype.getPixelOffset=function(){return this.pixelOffset},e.prototype.getRow=function(t){return this.rowModel.getRow(t)},e.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},e.prototype.getRowIndexAtPixel=function(t){return this.rowModel.getRowIndexAtPixel(t)},e.prototype.getCurrentPageHeight=function(){return o(this.topRowBounds)||o(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},e.prototype.isRowPresent=function(t){return!!this.rowModel.isRowPresent(t)&&(t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex)},e.prototype.isEmpty=function(){return this.rowModel.isEmpty()},e.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},e.prototype.getNodesInRangeForSelection=function(t,e){return this.rowModel.getNodesInRangeForSelection(t,e)},e.prototype.forEachNode=function(t){return this.rowModel.forEachNode(t)},e.prototype.getType=function(){return this.rowModel.getType()},e.prototype.getRowBounds=function(t){var e=this.rowModel.getRowBounds(t);return e.rowIndex=t,e},e.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},e.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},e.prototype.getRowCount=function(){return this.rowModel.getRowCount()},e.prototype.getPageForIndex=function(t){return Math.floor(t/this.pageSize)},e.prototype.goToPageWithIndex=function(t){if(this.active){var e=this.getPageForIndex(t);this.goToPage(e)}},e.prototype.isRowInPage=function(t){return!this.active||this.getPageForIndex(t.rowIndex)===this.currentPage},e.prototype.isLastPageFound=function(){return this.rowModel.isLastRowFound()},e.prototype.getCurrentPage=function(){return this.currentPage},e.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},e.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},e.prototype.goToFirstPage=function(){this.goToPage(0)},e.prototype.goToLastPage=function(){var t=this.rowModel.getRowCount(),e=Math.floor(t/this.pageSize);this.goToPage(e)},e.prototype.getPageSize=function(){return this.pageSize},e.prototype.getTotalPages=function(){return this.totalPages},e.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),this.pageSize>=1||(this.pageSize=100)},e.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(r(this.topRowBounds)?this.topRowBounds.rowTop:0)},e.prototype.setPixelOffset=function(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:Bt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},e.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},e.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!ie(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var e=this.pageSize*this.currentPage,n=this.pageSize*(this.currentPage+1)-1;if(n>t&&(n=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(e),n===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var r=this.rowModel.getTopLevelRowDisplayedIndex(n+1);this.bottomDisplayedRowIndex=r-1}}},e.prototype.getMasterRowCount=function(){return this.masterRowCount},e.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!ie(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)}else this.setZeroRows()},e.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Ol([at("rowModel")],e.prototype,"rowModel",void 0),Ol([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ol([at("columnApi")],e.prototype,"columnApi",void 0),Ol([at("gridApi")],e.prototype,"gridApi",void 0),Ol([ot],e.prototype,"postConstruct",null),e=Ol([st("paginationProxy")],e)}(jt),Sl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tl=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Pl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Sl(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t,this.addManagedListener(this.eventService,Bt.EVENT_BODY_HEIGHT_CHANGED,this.onBodyHeightChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.checkPageSize()},e.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},e.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},e.prototype.onBodyHeightChanged=function(){this.checkPageSize()},e.prototype.checkPageSize=function(){if(!this.notActive()){var t=this.gridOptionsWrapper.getRowHeightAsNumber(),e=this.gridPanel.getBodyHeight();if(e>0){var n=Math.floor(e/t);this.gridOptionsWrapper.setProperty("paginationPageSize",n)}}},Tl([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e=Tl([st("paginationAutoPageSizeService")],e)}(jt),Al=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Il=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Dl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cacheVersion=0,e}return Al(e,t),e.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},e.prototype.onDataChanged=function(){this.neverExpires||this.expire()},e.prototype.expire=function(){this.cacheVersion++},e.prototype.setValue=function(t,e,n){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[e]=n)},e.prototype.getValue=function(t,e){if(this.active&&t.__cacheVersion===this.cacheVersion)return t.__cacheData[e]},Il([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Il([ot],e.prototype,"init",null),e=Il([st("valueCache")],e)}(jt),Nl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xl=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},kl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Nl(e,t),e.prototype.init=function(){this.rowModel.getType()===vt.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,Bt.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},e.prototype.onCellValueChanged=function(t){t.source!==vt.SOURCE_PASTE&&this.doChangeDetection(t.node,t.column)},e.prototype.doChangeDetection=function(t,e){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!t.isRowPinned()){var n=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),r=new ts(n,this.clientSideRowModel.getRootNode());r.addParentNode(t.parent,[e]),this.clientSideRowModel.doAggregate(r)}this.rowRenderer.refreshCells()}},xl([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),xl([at("rowModel")],e.prototype,"rowModel",void 0),xl([at("rowRenderer")],e.prototype,"rowRenderer",void 0),xl([ot],e.prototype,"init",null),e=xl([st("changeDetectionService")],e)}(jt),Ll=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fl=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ml=function(t,e){return function(n,r){e(n,r,t)}},jl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.consuming=!1,e}return Ll(e,t),e.prototype.setBeans=function(t){this.logger=t.create("AlignedGridsService")},e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.init=function(){this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},e.prototype.fireEvent=function(t){if(!this.consuming){var e=this.gridOptionsWrapper.getAlignedGrids();e&&e.forEach((function(e){if(e.api){var n=e.api.__getAlignedGridService();t(n)}}))}},e.prototype.onEvent=function(t){this.consuming=!0,t(),this.consuming=!1},e.prototype.fireColumnEvent=function(t){this.fireEvent((function(e){e.onColumnEvent(t)}))},e.prototype.fireScrollEvent=function(t){"horizontal"===t.direction&&this.fireEvent((function(e){e.onScrollEvent(t)}))},e.prototype.onScrollEvent=function(t){var e=this;this.onEvent((function(){e.gridPanel.setHorizontalScrollPosition(t.left)}))},e.prototype.getMasterColumns=function(t){var e=[];return t.columns?t.columns.forEach((function(t){e.push(t)})):t.column&&e.push(t.column),e},e.prototype.getColumnIds=function(t){var e=[];return t.columns?t.columns.forEach((function(t){e.push(t.getColId())})):t.column&&e.push(t.column.getColId()),e},e.prototype.onColumnEvent=function(t){var e=this;this.onEvent((function(){switch(t.type){case Bt.EVENT_COLUMN_MOVED:case Bt.EVENT_COLUMN_VISIBLE:case Bt.EVENT_COLUMN_PINNED:case Bt.EVENT_COLUMN_RESIZED:var n=t;e.processColumnEvent(n);break;case Bt.EVENT_COLUMN_GROUP_OPENED:var r=t;e.processGroupOpenedEvent(r);break;case Bt.EVENT_COLUMN_PIVOT_CHANGED:console.warn("ag-Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}}))},e.prototype.processGroupOpenedEvent=function(t){var e,n=t.columnGroup;if(n){var r=n.getGroupId();e=this.columnController.getOriginalColumnGroup(r)}n&&!e||(this.logger.log("onColumnEvent-> processing "+t+" expanded = "+n.isExpanded()),this.columnController.setColumnGroupOpened(e,n.isExpanded(),"alignedGridChanged"))},e.prototype.processColumnEvent=function(t){var e,n=this,r=t.column;if(r&&(e=this.columnController.getPrimaryColumn(r.getColId())),!r||e){var o=this.getColumnIds(t),i=this.getMasterColumns(t);switch(t.type){case Bt.EVENT_COLUMN_MOVED:var s=t;this.logger.log("onColumnEvent-> processing "+t.type+" toIndex = "+s.toIndex),this.columnController.moveColumns(o,s.toIndex,"alignedGridChanged");break;case Bt.EVENT_COLUMN_VISIBLE:var a=t;this.logger.log("onColumnEvent-> processing "+t.type+" visible = "+a.visible),this.columnController.setColumnsVisible(o,a.visible,"alignedGridChanged");break;case Bt.EVENT_COLUMN_PINNED:var u=t;this.logger.log("onColumnEvent-> processing "+t.type+" pinned = "+u.pinned),this.columnController.setColumnsPinned(o,u.pinned,"alignedGridChanged");break;case Bt.EVENT_COLUMN_RESIZED:var l=t;i.forEach((function(e){n.logger.log("onColumnEvent-> processing "+t.type+" actualWidth = "+e.getActualWidth());var r=[{key:e.getColId(),newWidth:e.getActualWidth()}];n.columnController.setColumnWidths(r,!1,l.finished,"alignedGridChanged")}))}var c=this.gridPanel.isVerticalScrollShowing();this.gridOptionsWrapper.getAlignedGrids().forEach((function(t){t.api.setAlwaysShowVerticalScroll(c)}))}},Fl([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Fl([at("columnController")],e.prototype,"columnController",void 0),Fl([Ml(0,ct("loggerFactory"))],e.prototype,"setBeans",null),Fl([ot],e.prototype,"init",null),e=Fl([st("alignedGridsService")],e)}(jt),Vl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gl=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Wl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vl(e,t),e.prototype.adaptFunction=function(t,e,n,r){if(null==e)return{component:null,componentFromFramework:n,source:r,paramsFromSelector:null};var o=this.componentMetadataProvider.retrieve(t);return o&&o.functionAdapter?{componentFromFramework:n,component:o.functionAdapter(e),source:r,paramsFromSelector:null}:null},e.prototype.adaptCellRendererFunction=function(t){return function(){function e(){}return e.prototype.refresh=function(t){return!1},e.prototype.getGui=function(){var e=t(this.params),n=typeof e;return"string"===n||"number"===n||"boolean"===n?cn("<span>"+e+"</span>"):e},e.prototype.init=function(t){this.params=t},e}()},e.prototype.doesImplementIComponent=function(t){return!!t&&(t.prototype&&"getGui"in t.prototype)},Gl([at("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),e=Gl([st("agComponentUtils")],e)}(jt),Hl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bl=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ul=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hl(e,t),e.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},e.prototype.retrieve=function(t){return this.componentMetaData[t]},Bl([at("agComponentUtils")],e.prototype,"agComponentUtils",void 0),Bl([ot],e.prototype,"postConstruct",null),e=Bl([st("componentMetadataProvider")],e)}(jt),zl=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ql=function(){function t(){}return t.prototype.registerGridComp=function(t){this.gridPanel=t},t.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},zl([at("resizeObserverService")],t.prototype,"resizeObserverService",void 0),zl([at("paginationProxy")],t.prototype,"paginationProxy",void 0),zl([at("context")],t.prototype,"context",void 0),zl([at("columnApi")],t.prototype,"columnApi",void 0),zl([at("gridApi")],t.prototype,"gridApi",void 0),zl([at("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),zl([at("expressionService")],t.prototype,"expressionService",void 0),zl([at("rowRenderer")],t.prototype,"rowRenderer",void 0),zl([at("$compile")],t.prototype,"$compile",void 0),zl([at("templateService")],t.prototype,"templateService",void 0),zl([at("valueService")],t.prototype,"valueService",void 0),zl([at("eventService")],t.prototype,"eventService",void 0),zl([at("columnController")],t.prototype,"columnController",void 0),zl([at("headerNavigationService")],t.prototype,"headerNavigationService",void 0),zl([at("columnAnimationService")],t.prototype,"columnAnimationService",void 0),zl([ut("rangeController")],t.prototype,"rangeController",void 0),zl([at("focusController")],t.prototype,"focusController",void 0),zl([ut("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),zl([at("cellRendererFactory")],t.prototype,"cellRendererFactory",void 0),zl([at("popupService")],t.prototype,"popupService",void 0),zl([at("valueFormatterService")],t.prototype,"valueFormatterService",void 0),zl([at("stylingService")],t.prototype,"stylingService",void 0),zl([at("columnHoverService")],t.prototype,"columnHoverService",void 0),zl([at("userComponentFactory")],t.prototype,"userComponentFactory",void 0),zl([at("animationFrameService")],t.prototype,"taskQueue",void 0),zl([at("dragAndDropService")],t.prototype,"dragAndDropService",void 0),zl([at("sortController")],t.prototype,"sortController",void 0),zl([at("filterManager")],t.prototype,"filterManager",void 0),zl([at("maxDivHeightScaler")],t.prototype,"maxDivHeightScaler",void 0),zl([at("frameworkOverrides")],t.prototype,"frameworkOverrides",void 0),zl([at("detailRowCompCache")],t.prototype,"detailRowCompCache",void 0),zl([at("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),zl([at("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),zl([at("selectionController")],t.prototype,"selectionController",void 0),zl([ut("selectionHandleFactory")],t.prototype,"selectionHandleFactory",void 0),zl([at("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),zl([at("rowModel")],t.prototype,"rowModel",void 0),zl([ot],t.prototype,"postConstruct",null),t=zl([st("beans")],t)}(),Kl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yl=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ql={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},Xl={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},$l={},Jl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kl(e,t),e.prototype.getSassVariable=function(t,e){var n="ag-theme-"+(t.match("material")?"material":t.match("balham")?"balham":t.match("alpine")?"alpine":"custom"),r=Ql[n][e],o=0;if($l[t]||($l[t]={}),$l[t][e])return $l[t][e];if(Xl[e]){var i=Xl[e],s=document.createElement("div");Ue(s,t),s.style.position="absolute";var a=i.reduce((function(t,e){var n=document.createElement("div");return n.style.position="static",Ue(n,e),t.appendChild(n),n}),s);if(document.body){document.body.appendChild(s);var u=-1!==e.toLowerCase().indexOf("height")?"height":"width";o=parseInt(window.getComputedStyle(a)[u],10),document.body.removeChild(s)}}return $l[t][e]=o||r,$l[t][e]},e.prototype.isThemeDark=function(){var t=this.getTheme().theme;return!!t&&t.indexOf("dark")>=0},e.prototype.chartMenuPanelWidth=function(){var t=this.getTheme().themeFamily;return this.getSassVariable(t,"chartMenuPanelWidth")},e.prototype.getTheme=function(){for(var t,e=/\bag-(material|(?:theme-([\w\-]*)))\b/,n=this.eGridDiv;n&&!(t=e.exec(n.className));)n=n.parentElement;if(!t)return{};var r=t[0];if(void 0===t[2]){var o=r.replace("ag-","ag-theme-");K((function(){return console.warn("ag-Grid: As of v19 old theme are no longer provided. Please replace "+r+" with "+o+".")}),"using-old-theme")}return{theme:r,el:n,themeFamily:r.replace(/-dark$/,"")}},Yl([at("eGridDiv")],e.prototype,"eGridDiv",void 0),e=Yl([st("environment")],e)}(jt),Zl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ec=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return Zl(e,t),e.prototype.setScrollTop=function(t){this.scrollGoingDown=t>this.lastScrollTop,this.lastScrollTop=t},e.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},e.prototype.verifyAnimationFrameOn=function(t){!1===this.useAnimationFrame&&console.warn("ag-Grid: AnimationFrameService."+t+" called but animation frames are off")},e.prototype.createTask=function(t,e,n){this.verifyAnimationFrameOn(n);var r={task:t,index:e,createOrder:++this.taskCount};this.addTaskToList(this[n],r),this.schedule()},e.prototype.cancelTask=function(t){this.cancelledTasks.add(t)},e.prototype.addTaskToList=function(t,e){t.list.push(e),t.sorted=!1},e.prototype.sortTaskList=function(t){if(!t.sorted){var e=this.scrollGoingDown?1:-1;t.list.sort((function(t,n){return t.index!==n.index?e*(n.index-t.index):n.createOrder-t.createOrder})),t.sorted=!0}},e.prototype.addDestroyTask=function(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()},e.prototype.executeFrame=function(t){this.verifyAnimationFrameOn("executeFrame");for(var e=this.createTasksP1,n=e.list,r=this.createTasksP2,o=r.list,i=this.destroyTasks,s=(new Date).getTime(),a=(new Date).getTime()-s,u=t<=0;u||a<t;){var l=void 0;if(n.length)this.sortTaskList(e),l=n.pop().task;else if(o.length)this.sortTaskList(r),l=o.pop().task;else{if(!i.length){this.cancelledTasks.clear();break}l=i.pop()}this.cancelledTasks.has(l)||l(),a=(new Date).getTime()-s}n.length||o.length||i.length?this.requestFrame():this.stopTicking()},e.prototype.stopTicking=function(){this.ticking=!1;var t={type:Bt.EVENT_ANIMATION_QUEUE_EMPTY,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(t)},e.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},e.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},e.prototype.requestFrame=function(){var t=this.executeFrame.bind(this,60);window.requestAnimationFrame?window.requestAnimationFrame(t):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(t):window.setTimeout(t,0)},e.prototype.isQueueEmpty=function(){return!this.ticking},tc([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),tc([ot],e.prototype,"init",null),e=tc([st("animationFrameService")],e)}(jt),nc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},oc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeLastPageEventProcessed=0,e}return nc(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.handlePageScrollingKey=function(t){var e=t.which||t.keyCode,n=t.altKey,r=t.ctrlKey,o=this.mouseEventService.getCellPositionForEvent(t);if(!o)return!1;var i=!1;switch(e){case Kr.PAGE_HOME:case Kr.PAGE_END:r||n||(this.onHomeOrEndKey(e),i=!0);break;case Kr.LEFT:case Kr.RIGHT:r&&!n&&(this.onCtrlLeftOrRight(e,o),i=!0);break;case Kr.UP:case Kr.DOWN:r&&!n&&(this.onCtrlUpOrDown(e,o),i=!0);break;case Kr.PAGE_DOWN:r||n||(this.onPageDown(o),i=!0);break;case Kr.PAGE_UP:r||n||(this.onPageUp(o),i=!0)}return i&&t.preventDefault(),i},e.prototype.isTimeSinceLastPageEventToRecent=function(){return(new Date).getTime()-this.timeLastPageEventProcessed<100},e.prototype.setTimeLastPageEventProcessed=function(){this.timeLastPageEventProcessed=(new Date).getTime()},e.prototype.onPageDown=function(t){if(!this.isTimeSinceLastPageEventToRecent()){var e=this.gridPanel.getVScrollPosition(),n=this.gridOptionsWrapper.getScrollbarWidth(),r=e.bottom-e.top;this.gridPanel.isHorizontalScrollShowing()&&(r-=n);var o=this.paginationProxy.getPixelOffset(),i=e.top+r,s=this.paginationProxy.getRowIndexAtPixel(i+o),a=this.paginationProxy.getRow(t.rowIndex).rowTop+r-o,u=this.paginationProxy.getRowIndexAtPixel(a+o),l=this.paginationProxy.getPageLastRow();u>l&&(u=l),s>l&&(s=l),this.navigateTo(s,"top",null,u,t.column),this.setTimeLastPageEventProcessed()}},e.prototype.onPageUp=function(t){if(!this.isTimeSinceLastPageEventToRecent()){var e=this.gridPanel.getVScrollPosition(),n=this.gridOptionsWrapper.getScrollbarWidth(),r=e.bottom-e.top;this.gridPanel.isHorizontalScrollShowing()&&(r-=n);var o=this.paginationProxy.getPixelOffset(),i=e.top,s=this.paginationProxy.getRowIndexAtPixel(i+o),a=this.paginationProxy.getRow(t.rowIndex),u=a.rowTop+a.rowHeight-r-o,l=this.paginationProxy.getRowIndexAtPixel(u+o),c=this.paginationProxy.getPageFirstRow();l<c&&(l=c),s<c&&(s=c),this.navigateTo(s,"bottom",null,l,t.column),this.setTimeLastPageEventProcessed()}},e.prototype.navigateTo=function(t,e,n,o,i){if(r(n)&&this.gridPanel.ensureColumnVisible(n),r(t)&&this.gridPanel.ensureIndexVisible(t,e),this.animationFrameService.flushAllFrames(),this.focusController.setFocusedCell(o,i,null,!0),this.rangeController){var s={rowIndex:o,rowPinned:null,column:i};this.rangeController.setRangeToCell(s)}},e.prototype.onCtrlUpOrDown=function(t,e){var n=t===Kr.UP?0:this.paginationProxy.getPageLastRow();this.navigateTo(n,null,e.column,n,e.column)},e.prototype.onCtrlLeftOrRight=function(t,e){var n=t===Kr.LEFT,r=this.columnController.getAllDisplayedColumns(),o=n?r[0]:g(r);this.navigateTo(e.rowIndex,null,o,e.rowIndex,o)},e.prototype.onHomeOrEndKey=function(t){var e=t===Kr.PAGE_HOME,n=this.columnController.getAllDisplayedColumns(),r=e?n[0]:g(n),o=e?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo(o,null,r,o,r)},rc([at("mouseEventService")],e.prototype,"mouseEventService",void 0),rc([at("paginationProxy")],e.prototype,"paginationProxy",void 0),rc([at("focusController")],e.prototype,"focusController",void 0),rc([at("animationFrameService")],e.prototype,"animationFrameService",void 0),rc([ut("rangeController")],e.prototype,"rangeController",void 0),rc([at("columnController")],e.prototype,"columnController",void 0),rc([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e=rc([st("navigationService")],e)}(jt),ic=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ac=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return ic(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Bt.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=je()},e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.isScaling=function(){return this.scaling},e.prototype.getOffset=function(){return this.offset},e.prototype.updateOffset=function(){if(this.scaling){var t=this.gridPanel.getVScrollPosition().top,e=this.getUiBodyHeight();(t!==this.scrollY||e!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=e,this.calculateOffset())}},e.prototype.calculateOffset=function(){this.uiContainerHeight=this.maxDivHeight,this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var t=this.scrollY/this.maxScrollY;this.setOffset(t*this.pixelsToShave)},e.prototype.clearOffset=function(){this.uiContainerHeight=this.modelHeight,this.pixelsToShave=0,this.setOffset(0)},e.prototype.setOffset=function(t){var e="number"===typeof t?Math.floor(t):null;this.offset!==e&&(this.offset=e,this.eventService.dispatchEvent({type:Bt.EVENT_HEIGHT_SCALE_CHANGED}))},e.prototype.setModelHeight=function(t){this.modelHeight=t,this.scaling=this.maxDivHeight>0&&t>this.maxDivHeight,this.scaling?this.calculateOffset():this.clearOffset()},e.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},e.prototype.getRealPixelPosition=function(t){return t-this.offset},e.prototype.getUiBodyHeight=function(){var t=this.gridPanel.getVScrollPosition();return t.bottom-t.top},e.prototype.getScrollPositionForPixel=function(t){if(this.pixelsToShave<=0)return t;var e=t/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*e},sc([ot],e.prototype,"postConstruct",null),e=sc([st("maxDivHeightScaler")],e)}(jt),uc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},cc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return uc(e,t),e.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},e.prototype.updateSelectableAfterGrouping=function(t){if(this.isRowSelectableFunc){this.recurseDown(t.childrenAfterGroup,(function(t){return t.childrenAfterGroup}))}},e.prototype.updateSelectableAfterFiltering=function(t){if(this.isRowSelectableFunc){this.recurseDown(t.childrenAfterGroup,(function(t){return t.childrenAfterFilter}))}},e.prototype.recurseDown=function(t,e){var n=this;t.forEach((function(t){if(t.group){var o;if(t.hasChildren()&&n.recurseDown(e(t),e),n.groupSelectsChildren)o=r(c(e(t),"selectable",!0));else o=!!n.isRowSelectableFunc&&n.isRowSelectableFunc(t);t.setRowSelectable(o)}}))},lc([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),lc([ot],e.prototype,"init",null),e=lc([st("selectableService")],e)}(jt),pc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},dc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return pc(e,t),e.prototype.registerGridComp=function(t){this.gridPanel=t},e.prototype.getPreferredHeightForRow=function(t){var e=this,n=document.createElement("div");this.addInRowCssClasses(t,n);var r=this.gridPanel.getCenterContainer();r.appendChild(n);var o=Ls.createChildScopeOrNull(t,this.$scope,this.beans.gridOptionsWrapper),i=o?o.scope:void 0,s=o?o.scopeDestroyFunc:void 0,a=[],u=this.columnController.getAllAutoRowHeightCols(),l=this.columnController.getAllDisplayedColumns();u.filter((function(t){return l.indexOf(t)>=0})).forEach((function(r){var o=new xs(i,e.beans,r,t,null,!0,!1);o.setParentRow(n),a.push(o)}));var c=a.map((function(t){return t.getCreateTemplate()})).join(" ");n.innerHTML=c,a.forEach((function(t){return t.afterAttached()})),i&&this.$compile(n)(i);for(var p=0,h=0;h<n.children.length;h++){var d=n.children[h];d.offsetHeight>p&&(p=d.offsetHeight)}return r.removeChild(n),a.forEach((function(t){t.detach(),t.destroy()})),s&&s(),p},e.prototype.addInRowCssClasses=function(t,e){var n=t.rowIndex,r={rowNode:t,rowIsEven:n%2===0,rowLevel:this.rowCssClassCalculator.calculateRowLevel(t),firstRowOnPage:n===this.beans.paginationProxy.getPageFirstRow(),lastRowOnPage:n===this.beans.paginationProxy.getPageLastRow(),printLayout:!1,expandable:t.isExpandable()};Ue(e,this.rowCssClassCalculator.getInitialRowClasses(r).join(" "))},hc([at("beans")],e.prototype,"beans",void 0),hc([at("$scope")],e.prototype,"$scope",void 0),hc([at("columnController")],e.prototype,"columnController",void 0),hc([at("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),hc([at("$compile")],e.prototype,"$compile",void 0),e=hc([st("autoHeightCalculator")],e)}(jt),fc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},vc=function(t){function e(){var e=t.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e}return fc(e,t),e.prototype.postConstruct=function(){var t=this,e=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",vr(e?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",vr(e?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",vr(e?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",vr(e?"first":"last",this.gridOptionsWrapper)),this.rowModel.getType()===vt.ROW_MODEL_TYPE_SERVER_SIDE&&(this.serverSideRowModel=this.rowModel),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,Bt.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((function(e){var n=e.el,r=e.fn;t.addManagedListener(n,"click",r),t.addManagedListener(n,"keydown",(function(t){t.keyCode!==Kr.ENTER&&t.keyCode!==Kr.SPACE||(t.preventDefault(),r())}))})),this.onPaginationChanged()):this.setDisplayed(!1)},e.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},e.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},e.prototype.setCurrentPageLabel=function(){var t=this.paginationProxy.getTotalPages()>0,e=this.paginationProxy.getCurrentPage(),n=t?e+1:0;this.lbCurrent.innerHTML=this.formatNumber(n)},e.prototype.formatNumber=function(t){var e=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();return e?e({value:t}):ue(t)},e.prototype.getTemplate=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),e=t("page","Page"),n=t("to","to"),r=t("of","of"),o=t("firstPage","First Page"),i=t("previousPage","Previous Page"),s=t("nextPage","Next Page"),a=t("lastPage","Last Page"),u=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+u+'" aria-live="polite" aria-describedby="'+("ag-"+u+"-start-page ag-"+u+"-start-page-number ag-"+u+"-of-page ag-"+u+"-of-page-number")+" "+("ag-"+u+"-first-row ag-"+u+"-to ag-"+u+"-last-row ag-"+u+"-of ag-"+u+"-row-count")+'">\n                <span class="ag-paging-row-summary-panel" aria-hidden="true">\n                    <span id="ag-'+u+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+u+'-to">'+n+'</span>\n                    <span id="ag-'+u+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+u+'-of">'+r+'</span>\n                    <span id="ag-'+u+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+o+'" tabindex="0"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+i+'" tabindex="0"></div>\n                    <span class="ag-paging-description" aria-hidden="true">\n                        <span id="ag-'+u+'-start-page">'+e+'</span>\n                        <span id="ag-'+u+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+u+'-of-page">'+r+'</span>\n                        <span id="ag-'+u+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+s+'" tabindex="0"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+a+'" tabindex="0"></div>\n                </span>\n            </div>'},e.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},e.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},e.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},e.prototype.enableOrDisableButtons=function(){var t=this.paginationProxy.getCurrentPage(),e=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===t,qe(this.btFirst,"ag-disabled",this.previousAndFirstButtonsDisabled),Bn(this.btFirst,this.previousAndFirstButtonsDisabled),qe(this.btPrevious,"ag-disabled",this.previousAndFirstButtonsDisabled),Bn(this.btPrevious,this.previousAndFirstButtonsDisabled);var r=this.isZeroPagesToDisplay(),o=e&&t===n-1;this.nextButtonDisabled=o||r,qe(this.btNext,"ag-disabled",this.nextButtonDisabled),Bn(this.btNext,this.nextButtonDisabled),this.lastButtonDisabled=!e||r||t===n-1,qe(this.btLast,"ag-disabled",this.lastButtonDisabled),Bn(this.btLast,this.lastButtonDisabled)},e.prototype.updateRowLabels=function(){var t,e,n=this.paginationProxy.getCurrentPage(),r=this.paginationProxy.getPageSize(),o=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?t=e=0:(e=(t=r*n+1)+r-1,o&&e>i&&(e=i)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(t),this.serverSideRowModel&&this.serverSideRowModel.isLoading()?this.lbLastRowOnPage.innerHTML="?":this.lbLastRowOnPage.innerHTML=this.formatNumber(e)},e.prototype.isZeroPagesToDisplay=function(){var t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages();return t&&0===e},e.prototype.setTotalLabels=function(){var t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages(),n=t?this.paginationProxy.getMasterRowCount():null;if(t)this.lbTotal.innerHTML=this.formatNumber(e),this.lbRecordCount.innerHTML=this.formatNumber(n);else{var r=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=r,this.lbRecordCount.innerHTML=r}},gc([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),gc([at("paginationProxy")],e.prototype,"paginationProxy",void 0),gc([at("rowModel")],e.prototype,"rowModel",void 0),gc([Wr("btFirst")],e.prototype,"btFirst",void 0),gc([Wr("btPrevious")],e.prototype,"btPrevious",void 0),gc([Wr("btNext")],e.prototype,"btNext",void 0),gc([Wr("btLast")],e.prototype,"btLast",void 0),gc([Wr("lbRecordCount")],e.prototype,"lbRecordCount",void 0),gc([Wr("lbFirstRowOnPage")],e.prototype,"lbFirstRowOnPage",void 0),gc([Wr("lbLastRowOnPage")],e.prototype,"lbLastRowOnPage",void 0),gc([Wr("lbCurrent")],e.prototype,"lbCurrent",void 0),gc([Wr("lbTotal")],e.prototype,"lbTotal",void 0),gc([ot],e.prototype,"postConstruct",null),e}(jr),yc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},bc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yc(e,t),e.prototype.observeResize=function(t,e,n){void 0===n&&(n=50);var r=this.getFrameworkOverrides(),o=Z(e,n),i=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return!!window.ResizeObserver&&!i?function(){var e=new window.ResizeObserver(o);return e.observe(t),function(){return e.disconnect()}}():function(){var o=dn(t),i=hn(t),s=!0;return function a(){if(s){var u=dn(t),l=hn(t);(u!==o||l!==i)&&(o=u,i=l,e()),r.setTimeout(a,n)}}(),function(){return s=!1}}()},mc([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e=mc([st("resizeObserverService")],e)}(jt),wc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.Loading=0]="Loading",t[t.NoRows=1]="NoRows"}(Wa||(Wa={}));var Ec=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.inProgress=!1,n.destroyRequested=!1,n}return wc(e,t),e.prototype.postConstruct=function(){this.gridOptionsWrapper.addLayoutElement(this.eOverlayWrapper),this.setDisplayed(!1)},e.prototype.setWrapperTypeClass=function(t){qe(this.eOverlayWrapper,"ag-overlay-loading-wrapper",t===Wa.Loading),qe(this.eOverlayWrapper,"ag-overlay-no-rows-wrapper",t===Wa.NoRows)},e.prototype.showLoadingOverlay=function(){var t=this.userComponentFactory.newLoadingOverlayComponent({api:this.gridOptionsWrapper.getApi()});this.showOverlay(t,Wa.Loading)},e.prototype.showNoRowsOverlay=function(){var t=this.userComponentFactory.newNoRowsOverlayComponent({api:this.gridOptionsWrapper.getApi()});this.showOverlay(t,Wa.NoRows)},e.prototype.showOverlay=function(t,e){var n=this;this.inProgress||(this.setWrapperTypeClass(e),this.destroyActiveOverlay(),this.inProgress=!0,t.then((function(t){n.inProgress=!1,n.eOverlayWrapper.appendChild(t.getGui()),n.activeOverlay=t,n.destroyRequested&&(n.destroyRequested=!1,n.destroyActiveOverlay())})),this.setDisplayed(!0))},e.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),an(this.eOverlayWrapper))},e.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1)},e.prototype.destroy=function(){this.destroyActiveOverlay(),t.prototype.destroy.call(this)},e.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Cc([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Cc([at("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Cc([Wr("eOverlayWrapper")],e.prototype,"eOverlayWrapper",void 0),Cc([ot],e.prototype,"postConstruct",null),e}(jr),_c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Rc=function(t){function e(n){void 0===n&&(n={});var r=t.call(this,e.getTemplate(n))||this;r.suppressEnabledCheckbox=!0,r.suppressOpenCloseIcons=!1;var o=n.title,i=n.enabled,s=n.items,a=n.suppressEnabledCheckbox,u=n.suppressOpenCloseIcons;return r.title=o,r.cssIdentifier=n.cssIdentifier||"default",r.enabled=null==i||i,r.items=s||[],r.alignItems=n.alignItems||"center",null!=a&&(r.suppressEnabledCheckbox=a),null!=u&&(r.suppressOpenCloseIcons=u),r}return _c(e,t),e.getTemplate=function(t){var e=t.cssIdentifier||"default";return'<div class="ag-group ag-'+e+'-group">\n            <div class="ag-group-title-bar ag-'+e+'-group-title-bar ag-unselectable" ref="eTitleBar">\n                <span class="ag-group-title-bar-icon ag-'+e+'-group-title-bar-icon" ref="eGroupOpenedIcon"></span>\n                <span class="ag-group-title-bar-icon ag-'+e+'-group-title-bar-icon" ref="eGroupClosedIcon"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+e+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+e+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(t.direction||"vertical")+" ag-"+e+'-group-container"></div>\n        </div>'},e.prototype.postConstruct=function(){if(this.items.length){var t=this.items;this.items=[],this.addItems(t)}var e=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshChildDisplay()},e.prototype.setupExpandContract=function(){var t=this;this.eGroupClosedIcon.appendChild(gr("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(gr("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",(function(){return t.toggleGroupExpand()})),this.addManagedListener(this.eTitleBar,"keydown",(function(e){switch(e.keyCode){case Kr.ENTER:t.toggleGroupExpand();break;case Kr.RIGHT:t.toggleGroupExpand(!0);break;case Kr.LEFT:t.toggleGroupExpand(!1)}}))},e.prototype.refreshChildDisplay=function(){var t=!this.suppressOpenCloseIcons;Ye(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Ye(this.eGroupOpenedIcon,t&&this.expanded),Ye(this.eGroupClosedIcon,t&&!this.expanded)},e.prototype.isExpanded=function(){return this.expanded},e.prototype.setAlignItems=function(t){var e=this.getGui();return this.alignItems!==t&&ze(e,"ag-group-item-alignment-"+this.alignItems),this.alignItems=t,Ue(e,"ag-group-item-alignment-"+this.alignItems),this},e.prototype.toggleGroupExpand=function(t){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Ye(this.eContainer,!0),this):(t=null!=t?t:!this.expanded,this.expanded===t||(this.expanded=t,this.refreshChildDisplay(),Ye(this.eContainer,t),this.dispatchEvent({type:this.expanded?e.EVENT_EXPANDED:e.EVENT_COLLAPSED})),this)},e.prototype.addItems=function(t){var e=this;t.forEach((function(t){return e.addItem(t)}))},e.prototype.addItem=function(t){var e=this.eContainer,n=t instanceof jr?t.getGui():t;Ue(n,"ag-group-item"),Ue(n,"ag-"+this.cssIdentifier+"-group-item"),e.appendChild(n),this.items.push(n)},e.prototype.hideItem=function(t,e){qe(this.items[e],"ag-hidden",t)},e.prototype.setTitle=function(t){return this.eTitle.innerText=t,this},e.prototype.addCssClassToTitleBar=function(t){Ue(this.eTitleBar,t)},e.prototype.setEnabled=function(t,e){return this.enabled=t,this.refreshDisabledStyles(),this.toggleGroupExpand(t),e||this.cbGroupEnabled.setValue(t),this},e.prototype.isEnabled=function(){return this.enabled},e.prototype.onEnableChange=function(t){var e=this;return this.cbGroupEnabled.onValueChange((function(n){e.setEnabled(n,!0),t(n)})),this},e.prototype.hideEnabledCheckbox=function(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},e.prototype.hideOpenCloseIcons=function(t){return this.suppressOpenCloseIcons=t,t&&this.toggleGroupExpand(!0),this},e.prototype.refreshDisabledStyles=function(){qe(this.getGui(),"ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(Ue(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(ze(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),qe(this.eContainer,"ag-disabled-group-container",!this.enabled)},e.EVENT_EXPANDED="expanded",e.EVENT_COLLAPSED="collapsed",Oc([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Oc([Wr("eTitleBar")],e.prototype,"eTitleBar",void 0),Oc([Wr("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),Oc([Wr("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),Oc([Wr("eToolbar")],e.prototype,"eToolbar",void 0),Oc([Wr("cbGroupEnabled")],e.prototype,"cbGroupEnabled",void 0),Oc([Wr("eTitle")],e.prototype,"eTitle",void 0),Oc([Wr("eContainer")],e.prototype,"eContainer",void 0),Oc([ot],e.prototype,"postConstruct",null),e}(jr),Sc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Pc=function(t){function e(n){var r=t.call(this,e.getTemplate(n))||this;return r.closable=!0,r.positioned=!1,r.dragStartPosition={x:0,y:0},r.position={x:0,y:0},r.size={width:void 0,height:void 0},r.config=n,r}return Sc(e,t),e.getTemplate=function(t){var e=t&&t.cssIdentifier||"default";return'<div class="ag-panel ag-'+e+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+e+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+e+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+e+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+e+'-panel-content-wrapper"></div>\n        </div>'},e.prototype.postConstruct=function(){var t=this,e=this.config,n=e.component,r=e.closable,o=e.hideTitleBar,i=e.title,s=e.minWidth,a=e.width,u=e.minHeight,l=e.height,c=e.centered,p=e.x,h=e.y,d=this.getGui();n&&this.setBodyComponent(n),o?Ue(this.eTitleBar,"ag-hidden"):(i&&this.setTitle(i),this.setClosable(null!=r?r:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",(function(e){if(d.contains(e.relatedTarget)||d.contains(document.activeElement)||t.eTitleBarButtons.contains(e.target))e.preventDefault();else{var n=t.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");n&&n.focus()}})),this.positioned||(this.minHeight=null!=u?u:250,this.minWidth=null!=s?s:250,this.popupParent=this.popupService.getPopupParent(),a&&this.setWidth(a),l&&this.setHeight(l),this.renderComponent&&this.renderComponent(),a&&l||this.refreshSize(),c?this.center():(p||h)&&this.offsetElement(p,h),this.positioned=!0,this.eContentWrapper.style.height="0")},e.prototype.renderComponent=function(){var t=this,e=this.getGui();e.focus(),this.close=function(){e.parentElement.removeChild(e),t.destroy()}},e.prototype.updateDragStartPosition=function(t,e){this.dragStartPosition={x:t,y:e}},e.prototype.calculateMouseMovement=function(t){var e=this.popupParent.getBoundingClientRect(),n=t.e,r=t.isLeft,o=t.isTop,i=t.anywhereWithin,s=t.topBuffer,a=n.clientX-this.dragStartPosition.x,u=n.clientY-this.dragStartPosition.y,l=this.getWidth(),c=this.getHeight(),p=e.left>=n.clientX&&this.position.x<=0||e.right<=n.clientX&&e.right<=this.position.x+e.left+l;return p||(p=r?a<0&&n.clientX>this.position.x+e.left||a>0&&n.clientX<this.position.x+e.left:i?a<0&&n.clientX>this.position.x+e.left+l||a>0&&n.clientX<this.position.x+e.left:a<0&&n.clientX>this.position.x+e.left+l||a>0&&n.clientX<this.position.x+e.left+l),{movementX:a=p?0:a,movementY:u=e.top>=n.clientY&&this.position.y<=0||e.bottom<=n.clientY&&e.bottom<=this.position.y+e.top+c||o&&(u<0&&n.clientY>this.position.y+e.top+(s||0)||u>0&&n.clientY<this.position.y+e.top)||!o&&(u<0&&n.clientY>this.position.y+e.top+c||u>0&&n.clientY<this.position.y+e.top+c)?0:u}},e.prototype.refreshSize=function(){var t=this.size,e=t.width,n=t.height;e||this.setWidth(this.getGui().offsetWidth),n||this.setHeight(this.getGui().offsetHeight)},e.prototype.offsetElement=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getGui();this.popupService.positionPopup({ePopup:n,x:t,y:e,minWidth:this.minWidth,minHeight:this.minHeight,keepWithinBounds:!0}),this.position.x=parseInt(n.style.left,10),this.position.y=parseInt(n.style.top,10)},e.prototype.getHeight=function(){return this.size.height},e.prototype.setHeight=function(t){var e=this.getGui(),n=!1;if("string"===typeof t&&-1!==t.indexOf("%"))En(e,t),t=en(e),n=!0;else{t=Math.max(this.minHeight,t);var r=e.offsetParent;r&&r.clientHeight&&t+this.position.y>r.clientHeight&&(t=r.clientHeight-this.position.y)}this.size.height!==t&&(this.size.height=t,n?(e.style.maxHeight="unset",e.style.minHeight="unset"):En(e,t))},e.prototype.getWidth=function(){return this.size.width},e.prototype.setWidth=function(t){var e=this.getGui(),n=!1;if("string"===typeof t&&-1!==t.indexOf("%"))Cn(e,t),t=nn(e),n=!0;else{t=Math.max(this.minWidth,t);var r=e.offsetParent;r&&r.clientWidth&&t+this.position.x>r.clientWidth&&(t=r.clientWidth-this.position.x)}this.size.width!==t&&(this.size.width=t,n?(e.style.maxWidth="unset",e.style.minWidth="unset"):Cn(e,t))},e.prototype.center=function(){var t=this.getGui(),e=t.offsetParent.clientWidth/2-this.getWidth()/2,n=t.offsetParent.clientHeight/2-this.getHeight()/2;this.offsetElement(e,n)},e.prototype.setClosable=function(t){if(t!==this.closable&&(this.closable=t),t){var n=this.closeButtonComp=new jr(e.CLOSE_BTN_TEMPLATE);this.getContext().createBean(n),(r=n.getGui()).appendChild(Ue(vr("close",this.gridOptionsWrapper),"ag-panel-title-bar-button-icon")),this.addTitleBarButton(n),n.addManagedListener(r,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var r;(r=this.closeButtonComp.getGui()).parentElement.removeChild(r),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},e.prototype.setBodyComponent=function(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())},e.prototype.addTitleBarButton=function(t,e){var n=this.eTitleBarButtons,r=n.children,o=r.length;null==e&&(e=o),e=Math.max(0,Math.min(e,o));var i=t.getGui();Ue(i,"ag-panel-title-bar-button"),0===e?n.insertAdjacentElement("afterbegin",i):e===o?n.insertAdjacentElement("beforeend",i):r[e-1].insertAdjacentElement("afterend",i),t.setParentComponent(this)},e.prototype.getBodyHeight=function(){return Ze(this.eContentWrapper)},e.prototype.getBodyWidth=function(){return tn(this.eContentWrapper)},e.prototype.setTitle=function(t){this.eTitle.innerText=t},e.prototype.onBtClose=function(){this.close()},e.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&e.offsetParent&&this.close(),t.prototype.destroy.call(this)},e.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Tc([at("popupService")],e.prototype,"popupService",void 0),Tc([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Tc([Wr("eContentWrapper")],e.prototype,"eContentWrapper",void 0),Tc([Wr("eTitleBar")],e.prototype,"eTitleBar",void 0),Tc([Wr("eTitleBarButtons")],e.prototype,"eTitleBarButtons",void 0),Tc([Wr("eTitle")],e.prototype,"eTitle",void 0),Tc([ot],e.prototype,"postConstruct",null),e}(jr),Ac=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ic=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Dc=function(t){function e(e){var n=t.call(this,e)||this;return n.RESIZE_TEMPLATE='<div class="ag-resizer-wrapper">\n            <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n            <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n            <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n            <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n            <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n            <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n            <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n            <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n        </div>',n.resizable={},n.movable=!1,n.isMoving=!1,n.isMaximizable=!1,n.isMaximized=!1,n.maximizeListeners=[],n.resizeListenerDestroy=null,n.isResizing=!1,n.lastPosition={x:0,y:0,width:0,height:0},n}return Ac(e,t),e.prototype.postConstruct=function(){var e=this,n=this.getGui(),r=this.config,o=r.movable,i=r.resizable,s=r.maximizable;Ue(n,"ag-dialog"),this.moveElement=this.eTitleBar,t.prototype.postConstruct.call(this),this.addManagedListener(n,"focusin",(function(t){n.contains(t.relatedTarget)||e.popupService.bringPopupToFront(n)})),o&&this.setMovable(o),s&&this.setMaximizable(s),this.addResizers(),i&&this.setResizable(i)},e.prototype.renderComponent=function(){var t=this.getGui(),e=this.config,n=e.alwaysOnTop,r=e.modal;this.close=this.popupService.addPopup({modal:r,eChild:t,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:n})},e.prototype.addResizers=function(){var t=this.getGui();if(t){var e=(new DOMParser).parseFromString(this.RESIZE_TEMPLATE,"text/html").body;t.appendChild(e.firstChild),this.createMap()}},e.prototype.createMap=function(){var t=this.getGui();this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}},e.prototype.getResizerElement=function(t){return this.resizerMap[t].element},e.prototype.onResizeStart=function(t){this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.onResize=function(t,e){if(this.isResizing){var n=!!e.match(/left/i),r=!!e.match(/right/i),o=!!e.match(/top/i),i=!!e.match(/bottom/i),s=n||r,a=o||i,u=this.calculateMouseMovement({e:t,isLeft:n,isTop:o}),l=u.movementX,c=u.movementY,p=0,h=0;if(s&&l){var d=n?-1:1,f=this.getWidth(),g=f+l*d,v=!1;n&&(p=f-g,(this.position.x+p<=0||g<=this.minWidth)&&(v=!0,p=0)),v||this.setWidth(g)}if(a&&c){d=o?-1:1;var y=this.getHeight(),m=y+c*d,b=!1;o&&(h=y-m,(this.position.y+h<=0||m<=this.minHeight)&&(b=!0,h=0)),b||this.setHeight(m)}this.updateDragStartPosition(t.clientX,t.clientY),(p||h)&&this.offsetElement(this.position.x+p,this.position.y+h)}},e.prototype.onResizeEnd=function(){this.isResizing=!1;var t={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.dispatchEvent(t)},e.prototype.onMoveStart=function(t){this.isMoving=!0,this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.onMove=function(t){if(this.isMoving){var e=this.position,n=e.x,r=e.y,o=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:this.getHeight()-this.getBodyHeight()}),i=o.movementX,s=o.movementY;this.offsetElement(n+i,r+s),this.updateDragStartPosition(t.clientX,t.clientY)}},e.prototype.onMoveEnd=function(){this.isMoving=!1},e.prototype.toggleMaximize=function(){if(this.isMaximized){var t=this.lastPosition,e=t.x,n=t.y,r=t.width,o=t.height;this.setWidth(r),this.setHeight(o),this.offsetElement(e,n)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=this.position.x,this.lastPosition.y=this.position.y,this.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},e.prototype.refreshMaximizeIcon=function(){Ye(this.maximizeIcon,!this.isMaximized),Ye(this.minimizeIcon,this.isMaximized)},e.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach((function(t){return t()})),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},e.prototype.destroy=function(){this.setResizable(!1),this.setMovable(!1),this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),t.prototype.destroy.call(this)},e.prototype.setResizable=function(t){var e=this;"boolean"===typeof t&&(t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}),Object.keys(t).forEach((function(n){var r=n,o=!!t[r],i=e.getResizerElement(r),s=e.resizerMap[r].dragSource||{eElement:i,onDragStart:e.onResizeStart.bind(e),onDragging:function(t){return e.onResize(t,r)},onDragStop:e.onResizeEnd.bind(e)};!!e.resizable[r]===o&&(e.isAlive()||o)||(o?(e.dragService.addDragSource(s),i.style.pointerEvents="all"):(e.dragService.removeDragSource(s),i.style.pointerEvents="none"),e.resizerMap[r].dragSource=o?s:void 0)}))},e.prototype.setMovable=function(t){if(t!==this.movable){this.movable=t;var e=this.moveElementDragListener||{eElement:this.moveElement,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(e),this.moveElementDragListener=e):(this.dragService.removeDragSource(e),this.moveElementDragListener=void 0)}},e.prototype.setMaximizable=function(t){var e=this;if(!t)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var n=this.eTitleBar;if(n&&t!==this.isMaximizable){var r=this.maximizeButtonComp=this.createBean(new jr('<div class="ag-dialog-button"></span>')),o=r.getGui();o.appendChild(this.maximizeIcon=vr("maximize",this.gridOptionsWrapper)),Ue(this.maximizeIcon,"ag-panel-title-bar-button-icon"),o.appendChild(this.minimizeIcon=vr("minimize",this.gridOptionsWrapper)),Ue(this.minimizeIcon,"ag-panel-title-bar-button-icon"),Ue(this.minimizeIcon,"ag-hidden"),r.addManagedListener(o,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(r,0),this.maximizeListeners.push(this.addManagedListener(n,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",(function(){e.isMaximized=!1,e.refreshMaximizeIcon()}))}},Ic([at("dragService")],e.prototype,"dragService",void 0),e}(Pc),Nc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xc=function(t){function e(e,n,r){return void 0===n&&(n="ag-text-field"),void 0===r&&(r="text"),t.call(this,e,n,r)||this}return Nc(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},e.prototype.setValue=function(e,n){var o=t.prototype.setValue.call(this,e,n);return this.eInput.value!==e&&(this.eInput.value=r(e)?e:""),o},e.prototype.preventDisallowedCharacters=function(){var t=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",(function(e){e.key&&!t.test(e.key)&&e.preventDefault()})),this.addManagedListener(this.eInput,"paste",(function(e){S(e.clipboardData.getData("text"),(function(e){return!t.test(e)}))&&e.preventDefault()}))},e}(na),kc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lc=function(t){function e(e){return t.call(this,e,"ag-text-area",null,"textarea")||this}return kc(e,t),e.prototype.setValue=function(e,n){var r=t.prototype.setValue.call(this,e,n);return this.eInput.value=e,r},e.prototype.setCols=function(t){return this.eInput.cols=t,this},e.prototype.setRows=function(t){return this.eInput.rows=t,this},e}(na),Fc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},jc=function(t){function e(n){var r=t.call(this,n,e.TEMPLATE)||this;return r.labelAlignment="top",r}return Fc(e,t),e.prototype.init=function(){Ue(this.eSlider.getGui(),"ag-slider-field")},e.prototype.onValueChange=function(t){var e=this,n=Zs.EVENT_CHANGED;return this.addManagedListener(this.eText,n,(function(){var n=parseFloat(e.eText.getValue());e.eSlider.setValue(n.toString(),!0),t(n||0)})),this.addManagedListener(this.eSlider,n,(function(){var n=e.eSlider.getValue();e.eText.setValue(n,!0),t(parseFloat(n))})),this},e.prototype.setSliderWidth=function(t){return this.eSlider.setWidth(t),this},e.prototype.setTextFieldWidth=function(t){return this.eText.setWidth(t),this},e.prototype.setMinValue=function(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this},e.prototype.setMaxValue=function(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this},e.prototype.getValue=function(){return this.eText.getValue()},e.prototype.setValue=function(t){return this.getValue()===t||(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),this.dispatchEvent({type:Zs.EVENT_CHANGED})),this},e.prototype.setStep=function(t){return this.eSlider.setStep(t),this.eText.setStep(t),this},e.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',Mc([Wr("eLabel")],e.prototype,"eLabel",void 0),Mc([Wr("eSlider")],e.prototype,"eSlider",void 0),Mc([Wr("eText")],e.prototype,"eText",void 0),Mc([ot],e.prototype,"init",null),e}($s),Vc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Wc=function(t){function e(n){var r=t.call(this,e.TEMPLATE)||this;return r.H=1,r.S=1,r.B=1,r.A=1,r.isSpectrumDragging=!1,r.isSpectrumHueDragging=!1,r.isSpectrumAlphaDragging=!1,r.colorChanged=!1,r.picker=n.picker,r}return Vc(e,t),e.prototype.postConstruct=function(){var t=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},e.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},e.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},e.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},e.prototype.onSpectrumDraggerDown=function(t){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(t)},e.prototype.onSpectrumDraggerMove=function(t){this.isSpectrumDragging&&this.moveDragger(t)},e.prototype.onSpectrumHueDown=function(t){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(t)},e.prototype.onSpectrumHueMove=function(t){this.isSpectrumHueDragging&&this.moveHueSlider(t)},e.prototype.onSpectrumAlphaDown=function(t){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(t)},e.prototype.onSpectrumAlphaMove=function(t){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(t)},e.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},e.prototype.moveDragger=function(t){var e=this.spectrumValRect;if(e){var n=t.clientX-e.left,r=t.clientY-e.top;n=Math.max(n,0),n=Math.min(n,e.width),r=Math.max(r,0),r=Math.min(r,e.height),this.setSpectrumValue(n/e.width,1-r/e.height)}},e.prototype.moveHueSlider=function(t){var e=this.spectrumHueRect;if(e){var n=this.spectrumHueSlider,r=n.getBoundingClientRect(),o=t.clientX-e.left;o=Math.max(o,0),o=Math.min(o,e.width),this.H=1-o/e.width,n.style.left=o+r.width/2+"px",this.update()}},e.prototype.moveAlphaSlider=function(t){var e=this.spectrumAlphaRect;if(e){var n=this.spectrumAlphaSlider,r=n.getBoundingClientRect(),o=t.clientX-e.left;o=Math.max(o,0),o=Math.min(o,e.width),this.A=o/e.width,n.style.left=o+r.width/2+"px",this.update()}},e.prototype.update=function(){var t=Ee.fromHSB(360*this.H,this.S,this.B,this.A),e=Ee.fromHSB(360*this.H,1,1),n=t.toRgbaString(),r=this.picker;Ee.fromString(r.getValue()).toRgbaString()!==n&&(this.colorChanged=!0),r.setValue(n),this.spectrumColor.style.backgroundColor=e.toRgbaString(),this.spectrumDragger.style.backgroundColor=n},e.prototype.setSpectrumValue=function(t,e){var n=this.spectrumValRect||this.refreshSpectrumRect();if(n){var r=this.spectrumDragger,o=r.getBoundingClientRect();t=Math.max(0,t),t=Math.min(1,t),e=Math.max(0,e),e=Math.min(1,e),this.S=t,this.B=e,r.style.left=t*n.width-o.width/2+"px",r.style.top=(1-e)*n.height-o.height/2+"px",this.update()}},e.prototype.initRecentColors=function(){var t=e.recentColors.map((function(t,e){return'<div class="ag-recent-color" id='+e+' style="background-color: '+t+'; width: 15px; height: 15px;" recent-color="'+t+'"></div>'}));this.recentColors.innerHTML=t.join("")},e.prototype.setValue=function(t){var e=Ee.fromString(t),n=e.toHSB(),r=n[0],o=n[1],i=n[2];this.H=(isNaN(r)?0:r)/360,this.A=e.a;var s=this.spectrumHueRect||this.refreshHueRect(),a=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-s.width+"px",this.spectrumAlphaSlider.style.left=this.A*a.width+"px",this.setSpectrumValue(o,i)},e.prototype.onRecentColorClick=function(t){var n=t.target;if(r(n.id)){var o=parseInt(n.id,10);this.setValue(e.recentColors[o]),this.destroy()}},e.prototype.addRecentColor=function(){var t=Ee.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),n=e.recentColors;this.colorChanged&&n[0]!==t&&(n=n.filter((function(e){return e!=t})),(n=[t].concat(n)).length>e.maxRecentColors&&(n=n.slice(0,e.maxRecentColors)),e.recentColors=n)},e.prototype.destroy=function(){this.addRecentColor(),t.prototype.destroy.call(this)},e.maxRecentColors=8,e.recentColors=[],e.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',Gc([Wr("spectrumColor")],e.prototype,"spectrumColor",void 0),Gc([Wr("spectrumVal")],e.prototype,"spectrumVal",void 0),Gc([Wr("spectrumDragger")],e.prototype,"spectrumDragger",void 0),Gc([Wr("spectrumHue")],e.prototype,"spectrumHue",void 0),Gc([Wr("spectrumHueSlider")],e.prototype,"spectrumHueSlider",void 0),Gc([Wr("spectrumAlpha")],e.prototype,"spectrumAlpha",void 0),Gc([Wr("spectrumAlphaSlider")],e.prototype,"spectrumAlphaSlider",void 0),Gc([Wr("recentColors")],e.prototype,"recentColors",void 0),Gc([ot],e.prototype,"postConstruct",null),e}(jr),Hc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Uc=function(t){function e(e,n,r,o){var i=t.call(this,e,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    '+(o?'aria-haspopup="'+o+'"':"")+'>\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',n)||this;return i.pickerIcon=r,i.isPickerDisplayed=!1,i.isDestroyingPicker=!1,i.skipClick=!1,i}return Hc(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this);var n=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",n),Hn(this.eWrapper,n);var r=function(){e.skipClick?e.skipClick=!1:e.isDisabled()||(e.pickerComponent=e.showPicker())},o=this.getGui();this.addManagedListener(o,"mousedown",(function(t){!e.skipClick&&e.pickerComponent&&e.pickerComponent.isAlive()&&ln(e.pickerComponent.getGui())&&o.contains(t.target)&&(e.skipClick=!0)})),this.addManagedListener(o,"keydown",(function(t){switch(t.keyCode){case Kr.UP:case Kr.DOWN:case Kr.ENTER:case Kr.SPACE:r();case Kr.ESCAPE:e.isPickerDisplayed&&t.preventDefault()}})),this.addManagedListener(this.eWrapper,"click",r),this.addManagedListener(this.eLabel,"click",r),this.pickerIcon&&this.eIcon.appendChild(vr(this.pickerIcon,this.gridOptionsWrapper))},e.prototype.refreshLabel=function(){r(this.getLabel())?Wn(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),t.prototype.refreshLabel.call(this)},e.prototype.setAriaLabel=function(t){return Gn(this.eWrapper,t),this},e.prototype.setInputWidth=function(t){return wn(this.eWrapper,t),this},e.prototype.getFocusableElement=function(){return this.eWrapper},Bc([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Bc([Wr("eLabel")],e.prototype,"eLabel",void 0),Bc([Wr("eWrapper")],e.prototype,"eWrapper",void 0),Bc([Wr("eDisplayField")],e.prototype,"eDisplayField",void 0),Bc([Wr("eIcon")],e.prototype,"eIcon",void 0),e}(Zs),zc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qc=function(t){function e(e){var n=t.call(this,e,"ag-color-picker","colorPicker")||this;return e&&e.color&&(n.value=e.color),n}return zc(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},e.prototype.showPicker=function(){var t=this,e=this.getGui().getBoundingClientRect(),n=this.createBean(new Dc({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:e.right-190,y:e.top-250}));this.isPickerDisplayed=!0,Ue(n.getGui(),"ag-color-dialog");var r=this.createBean(new Wc({picker:this}));return r.addDestroyFunc((function(){n.isAlive()&&t.destroyBean(n)})),n.setParentComponent(this),n.setBodyComponent(r),r.setValue(this.getValue()),n.addDestroyFunc((function(){t.isDestroyingPicker?t.isDestroyingPicker=!1:(t.isDestroyingPicker=!0,r.isAlive()&&t.destroyBean(r)),t.isAlive()&&t.getFocusableElement().focus(),t.isPickerDisplayed=!1})),n},e.prototype.setValue=function(t){return this.value===t||(this.value=t,this.eDisplayField.style.backgroundColor=t,this.dispatchEvent({type:Zs.EVENT_CHANGED})),this},e.prototype.getValue=function(){return this.value},e}(Uc),Kc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yc=function(t){function e(e){return t.call(this,e,"ag-number-field","number")||this}return Kc(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",(function(){var t=parseFloat(e.eInput.value),n=isNaN(t)?"":e.normalizeValue(t.toString());e.value!==n&&e.setValue(n)}))},e.prototype.normalizeValue=function(t){if(""===t)return"";this.precision&&(t=this.adjustPrecision(t));var e=parseFloat(t);return null!=this.min&&e<this.min?t=this.min.toString():null!=this.max&&e>this.max&&(t=this.max.toString()),t},e.prototype.adjustPrecision=function(t){if(this.precision){var e=parseFloat(t).toFixed(this.precision);t=parseFloat(e).toString()}return t},e.prototype.setMin=function(t){return this.min===t||(this.min=t,An(this.eInput,"min",t)),this},e.prototype.setMax=function(t){return this.max===t||(this.max=t,An(this.eInput,"max",t)),this},e.prototype.setPrecision=function(t){return this.precision=t,this},e.prototype.setStep=function(t){return this.step===t||(this.step=t,An(this.eInput,"step",t)),this},e.prototype.setValue=function(e,n){return(e=this.adjustPrecision(e))!=this.normalizeValue(e)?this:t.prototype.setValue.call(this,e,n)},e}(xc),Qc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xc=function(t){function e(e){return t.call(this,e,"ag-range-field","range")||this}return Qc(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this);var e=this.config,n=e.min,r=e.max,o=e.step;null!=n&&this.setMinValue(n),null!=r&&this.setMaxValue(r),this.setStep(o||1)},e.prototype.addInputListeners=function(){var t=this,e=De()?"change":"input";this.addManagedListener(this.eInput,e,(function(e){var n=e.target.value;t.setValue(n)}))},e.prototype.setMinValue=function(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this},e.prototype.setMaxValue=function(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this},e.prototype.setStep=function(t){return this.eInput.setAttribute("step",t.toString()),this},e.prototype.setValue=function(e,n){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());var r=t.prototype.setValue.call(this,e,n);return this.eInput.value=e,r},e}(na),$c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jc=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Zc=function(t){function e(e){void 0===e&&(e="default");var n=t.call(this,'<div class="ag-list ag-'+e+'-list" role="listbox"></div>')||this;return n.cssIdentifier=e,n.options=[],n.itemEls=[],n}return $c(e,t),e.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(t){var e=t.keyCode;switch(e){case Kr.ENTER:if(this.highlightedEl){var n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}else this.setValue(this.getValue());break;case Kr.DOWN:case Kr.UP:var r=e===Kr.DOWN,o=void 0;if(t.preventDefault(),this.highlightedEl){var i=this.itemEls.indexOf(this.highlightedEl)+(r?1:-1);i=Math.min(Math.max(i,0),this.itemEls.length-1),o=this.itemEls[i]}else o=this.itemEls[r?0:this.itemEls.length-1];this.highlightItem(o)}},e.prototype.addOptions=function(t){var e=this;return t.forEach((function(t){return e.addOption(t)})),this},e.prototype.addOption=function(t){var e=t.value,n=Qt(t.text||e);return this.options.push({value:e,text:n}),this.renderOption(e,n),this},e.prototype.renderOption=function(t,e){var n=this,r=document.createElement("div");r.setAttribute("role","option"),Ue(r,"ag-list-item"),Ue(r,"ag-"+this.cssIdentifier+"-list-item"),r.innerHTML=e,r.tabIndex=-1,this.itemEls.push(r),this.addManagedListener(r,"mouseover",(function(){return n.highlightItem(r)})),this.addManagedListener(r,"mouseleave",(function(){return n.clearHighlighted()})),this.addManagedListener(r,"click",(function(){return n.setValue(t)})),this.getGui().appendChild(r)},e.prototype.setValue=function(t,e){if(this.value===t)return this.fireItemSelected(),this;if(null==t)return this.reset(),this;var n=O(this.options,(function(e){return e.value===t}));if(-1!==n){var r=this.options[n];this.value=r.value,this.displayValue=null!=r.text?r.text:r.value,this.highlightItem(this.itemEls[n]),e||this.fireChangeEvent()}return this},e.prototype.setValueByIndex=function(t){return this.setValue(this.options[t].value)},e.prototype.getValue=function(){return this.value},e.prototype.getDisplayValue=function(){return this.displayValue},e.prototype.refreshHighlighted=function(){var t=this;this.clearHighlighted();var e=O(this.options,(function(e){return e.value===t.value}));-1!==e&&this.highlightItem(this.itemEls[e])},e.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},e.prototype.highlightItem=function(t){t.offsetParent&&(this.clearHighlighted(),this.highlightedEl=t,Ue(this.highlightedEl,e.ACTIVE_CLASS),nr(this.highlightedEl,!0),this.highlightedEl.focus())},e.prototype.clearHighlighted=function(){this.highlightedEl&&this.highlightedEl.offsetParent&&(ze(this.highlightedEl,e.ACTIVE_CLASS),nr(this.highlightedEl,!1),this.highlightedEl=null)},e.prototype.fireChangeEvent=function(){this.dispatchEvent({type:Zs.EVENT_CHANGED}),this.fireItemSelected()},e.prototype.fireItemSelected=function(){this.dispatchEvent({type:e.EVENT_ITEM_SELECTED})},e.EVENT_ITEM_SELECTED="selectedItem",e.ACTIVE_CLASS="ag-active-item",Jc([ot],e.prototype,"init",null),e}(jr),tp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ep=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},np=function(t){function e(e){return t.call(this,e,"ag-select","smallDown","listbox")||this}return tp(e,t),e.prototype.init=function(){var t=this;this.listComponent=this.createBean(new Zc("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,Zc.EVENT_ITEM_SELECTED,(function(){t.hideList&&t.hideList()})),this.listComponent.addManagedListener(this.listComponent,Zs.EVENT_CHANGED,(function(){t.setValue(t.listComponent.getValue(),!1,!0),t.hideList&&t.hideList()}))},e.prototype.showPicker=function(){var t=this,e=this.listComponent.getGui(),n=this.addManagedListener(document.body,"wheel",(function(n){!e.contains(n.target)&&t.hideList&&t.hideList()})),r=this.addManagedListener(e,"focusout",(function(n){!e.contains(n.relatedTarget)&&t.hideList&&t.hideList()}));return this.hideList=this.popupService.addPopup({modal:!0,eChild:e,closeOnEsc:!0,closedCallback:function(){t.hideList=null,t.isPickerDisplayed=!1,r(),n(),t.isAlive()&&t.getFocusableElement().focus()}}),this.isPickerDisplayed=!0,wn(e,nn(this.eWrapper)),e.style.maxHeight=Ze(this.popupService.getPopupParent())+"px",e.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:e,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},e.prototype.addOptions=function(t){var e=this;return t.forEach((function(t){return e.addOption(t)})),this},e.prototype.addOption=function(t){return this.listComponent.addOption(t),this},e.prototype.setValue=function(e,n,r){return this.value===e?this:(r||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),t.prototype.setValue.call(this,e,n)))},e.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),t.prototype.destroy.call(this)},ep([at("popupService")],e.prototype,"popupService",void 0),ep([ot],e.prototype,"init",null),e}(Uc),rp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),op=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ip=function(t){function e(n){var r=t.call(this,n,e.TEMPLATE)||this;return r.radius=0,r.offsetX=0,r.offsetY=0,r}return rp(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(t){e.parentCircleRect=e.eParentCircle.getBoundingClientRect()},onDragging:function(t){return e.calculateAngleDrag(t)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange((function(t){null!=t&&""!==t||(t="0"),t=e.eAngleValue.normalizeValue(t);var n=parseFloat(t);n>180&&(n-=360),e.setValue(n)})),this.updateNumberInput(),r(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,Zs.EVENT_CHANGED,(function(){e.eAngleValue.getInputElement().contains(document.activeElement)||e.updateNumberInput()}))},e.prototype.updateNumberInput=function(){var t=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(t.toString())},e.prototype.positionChildCircle=function(t){var e=this.parentCircleRect||{width:24,height:24},n=this.eChildCircle,r=e.width/2,o=e.height/2;n.style.left=r+8*Math.cos(t)+"px",n.style.top=o+8*Math.sin(t)+"px"},e.prototype.calculatePolar=function(){var t=this.offsetX,e=this.offsetY,n=Math.atan2(e,t);this.degrees=this.toDegrees(n),this.radius=Math.sqrt(t*t+e*e),this.positionChildCircle(n)},e.prototype.calculateCartesian=function(){var t=this.toRadians(this.getValue()),e=this.getRadius();this.setOffsetX(Math.cos(t)*e).setOffsetY(Math.sin(t)*e)},e.prototype.setOffsetX=function(t){return this.offsetX!==t&&(this.offsetX=t,this.calculatePolar()),this},e.prototype.setOffsetY=function(t){return this.offsetY!==t&&(this.offsetY=t,this.calculatePolar()),this},e.prototype.calculateAngleDrag=function(t){var e=this.parentCircleRect,n=e.width/2,r=e.height/2,o=t.clientX-e.left-n,i=t.clientY-e.top-r,s=Math.atan2(i,o);this.setValue(s,!0)},e.prototype.toDegrees=function(t){return t/Math.PI*180},e.prototype.toRadians=function(t){return t/180*Math.PI},e.prototype.normalizeNegativeValue=function(t){return t<0?360+t:t},e.prototype.normalizeAngle180=function(t){return(t%=2*Math.PI)<-Math.PI?t+=2*Math.PI:t>=Math.PI&&(t-=2*Math.PI),t},e.prototype.getRadius=function(){return this.radius},e.prototype.setRadius=function(t){return this.radius===t||(this.radius=t,this.calculateCartesian()),this},e.prototype.onValueChange=function(t){var e=this;return this.addManagedListener(this,Zs.EVENT_CHANGED,(function(){t(e.degrees)})),this},e.prototype.getValue=function(t){return t?this.toRadians(this.degrees):this.degrees},e.prototype.setValue=function(t,e){var n;return n=e?t:this.normalizeAngle180(this.toRadians(t)),t=this.toDegrees(n),this.degrees!==t&&(this.degrees=Math.floor(t),this.calculateCartesian(),this.positionChildCircle(n),this.dispatchEvent({type:Zs.EVENT_CHANGED})),this},e.prototype.setWidth=function(t){return Cn(this.getGui(),t),this},e.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',op([Wr("eLabel")],e.prototype,"eLabel",void 0),op([Wr("eParentCircle")],e.prototype,"eParentCircle",void 0),op([Wr("eChildCircle")],e.prototype,"eChildCircle",void 0),op([Wr("eAngleValue")],e.prototype,"eAngleValue",void 0),op([at("dragService")],e.prototype,"dragService",void 0),e}($s),sp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ap=function(t){function e(e){return t.call(this,e,"ag-toggle-button")||this}return sp(e,t),e.prototype.setValue=function(e,n){return t.prototype.setValue.call(this,e,n),qe(this.getGui(),"ag-selected",this.getValue()),this},e}(ia),up=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},cp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cacheItems=[],e}return up(e,t),e.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isKeepDetailRows(),this.maxCacheSize=this.gridOptionsWrapper.getKeepDetailRowsCount()},e.prototype.addOrDestroy=function(t,e,n){if(!this.active||!t.detail)this.destroyFullWidthRow(n);else{var r=this.getCacheItem(t,!0);switch(e){case vt.PINNED_LEFT:this.destroyFullWidthRow(r.left),r.left=n;break;case vt.PINNED_RIGHT:this.destroyFullWidthRow(r.right),r.right=n;break;default:this.destroyFullWidthRow(r.center),r.center=n}this.cacheItems.sort((function(t,e){return e.lastAccessedTime-t.lastAccessedTime})),this.purgeCache(this.maxCacheSize)}},e.prototype.getCacheItem=function(t,e){var n;void 0===e&&(e=!1);for(var r=0;r<this.cacheItems.length;r++){var o=this.cacheItems[r];if(o.rowNode===t){n=o;break}}return!n&&e&&(n={rowNode:t},this.cacheItems.push(n)),n&&this.stampCacheItem(n),n},e.prototype.stampCacheItem=function(t){t.lastAccessedTime=(new Date).getTime()},e.prototype.destroyFullWidthRow=function(t){this.getContext().destroyBean(t)},e.prototype.purgeCache=function(t){for(var e=t;e<this.cacheItems.length;e++){var n=this.cacheItems[e];this.destroyFullWidthRow(n.center),this.destroyFullWidthRow(n.left),this.destroyFullWidthRow(n.right)}this.cacheItems.length>t&&(this.cacheItems.length=t)},e.prototype.get=function(t,e){if(t.detail){var n,r=this.getCacheItem(t);if(r)switch(e){case vt.PINNED_LEFT:r.left&&(n=r.left,r.left=void 0);break;case vt.PINNED_RIGHT:r.right&&(n=r.right,r.right=void 0);break;default:r.center&&(n=r.center,r.center=void 0)}return n}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.purgeCache(0)},lp([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),lp([ot],e.prototype,"postConstruct",null),lp([it],e.prototype,"destroy",null),e=lp([st("detailRowCompCache")],e)}(jt),pp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},dp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return pp(e,t),e.prototype.getFirstRow=function(){var t,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?t=vt.PINNED_TOP:this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t=vt.PINNED_BOTTOM),void 0===t?null:{rowIndex:e,rowPinned:t}},e.prototype.getLastRow=function(){var t,e,n=this.pinnedRowModel.getPinnedBottomRowCount(),r=this.pinnedRowModel.getPinnedTopRowCount();return n?(e=vt.PINNED_BOTTOM,t=n-1):this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageLastRow()):r&&(e=vt.PINNED_TOP,t=r-1),void 0===t?null:{rowIndex:t,rowPinned:e}},e.prototype.getRowNode=function(t){switch(t.rowPinned){case vt.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case vt.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.sameRow=function(t,e){return!t&&!e||!(t&&!e||!t&&e)&&(t.rowIndex===e.rowIndex&&t.rowPinned==e.rowPinned)},e.prototype.before=function(t,e){switch(t.rowPinned){case vt.PINNED_TOP:if(e.rowPinned!==vt.PINNED_TOP)return!0;break;case vt.PINNED_BOTTOM:if(e.rowPinned!==vt.PINNED_BOTTOM)return!1;break;default:if(r(e.rowPinned))return e.rowPinned!==vt.PINNED_TOP}return t.rowIndex<e.rowIndex},hp([at("rowModel")],e.prototype,"rowModel",void 0),hp([at("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),hp([at("paginationProxy")],e.prototype,"paginationProxy",void 0),e=hp([st("rowPositionUtils")],e)}(jt),fp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},vp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fp(e,t),e.prototype.createId=function(t){var e=t.rowIndex,n=t.rowPinned,r=t.column;return this.createIdFromValues(e,r,n)},e.prototype.createIdFromValues=function(t,e,n){return t+"."+(null==n?"null":n)+"."+e.getId()},e.prototype.equals=function(t,e){var n=t.column===e.column,r=t.rowPinned===e.rowPinned,o=t.rowIndex===e.rowIndex;return n&&r&&o},e=gp([st("cellPositionUtils")],e)}(jt),yp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},bp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yp(e,t),e.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},e.prototype.isEmpty=function(t){return i(t===vt.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},e.prototype.isRowsToRender=function(t){return!this.isEmpty(t)},e.prototype.getRowAtPixel=function(t,e){var n=e===vt.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(i(n))return 0;for(var r=0;r<n.length;r++){var o=n[r];if(o.rowTop+o.rowHeight-1>=t)return r}return n.length-1},e.prototype.setPinnedTopRowData=function(t){this.pinnedTopRows=this.createNodesFromData(t,!0);var e={type:Bt.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},e.prototype.setPinnedBottomRowData=function(t){this.pinnedBottomRows=this.createNodesFromData(t,!1);var e={type:Bt.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},e.prototype.createNodesFromData=function(t,e){var n=this,r=[];if(t){var o=0;t.forEach((function(t,i){var s=new Oo;n.context.createBean(s),s.data=t;var a=e?Oo.ID_PREFIX_TOP_PINNED:Oo.ID_PREFIX_BOTTOM_PINNED;s.id=a+i,s.rowPinned=e?vt.PINNED_TOP:vt.PINNED_BOTTOM,s.setRowTop(o),s.setRowHeight(n.gridOptionsWrapper.getRowHeightForNode(s).height),s.setRowIndex(i),o+=s.rowHeight,r.push(s)}))}return r},e.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},e.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},e.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},e.prototype.getPinnedTopRow=function(t){return this.pinnedTopRows[t]},e.prototype.getPinnedBottomRow=function(t){return this.pinnedBottomRows[t]},e.prototype.forEachPinnedTopRow=function(t){i(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)},e.prototype.forEachPinnedBottomRow=function(t){i(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)},e.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},e.prototype.getTotalHeight=function(t){if(!t||0===t.length)return 0;var e=g(t);return e.rowTop+e.rowHeight},mp([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),mp([at("columnApi")],e.prototype,"columnApi",void 0),mp([at("gridApi")],e.prototype,"gridApi",void 0),mp([ot],e.prototype,"init",null),e=mp([st("pinnedRowModel")],e)}(jt),wp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cp=function(t){this.cellValueChanges=t},Ep=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.initialRange=n,o.finalRange=r,o}return wp(e,t),e}(Cp),_p=function(){function t(e){this.actionStack=[],this.maxStackSize=e||t.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return t.prototype.pop=function(){return this.actionStack.pop()},t.prototype.push=function(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},t.prototype.clear=function(){this.actionStack=[]},t.prototype.getCurrentStackSize=function(){return this.actionStack.length},t.DEFAULT_STACK_SIZE=10,t}(),Op=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Sp=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellValueChanges=[],e.isCellEditing=!1,e.isRowEditing=!1,e.isPasting=!1,e.isFilling=!1,e.onCellValueChanged=function(t){if(e.isCellEditing||e.isRowEditing||e.isPasting||e.isFilling){var n=t.rowPinned,r=t.rowIndex,o=t.column,i=t.oldValue,s=t.value,a={rowPinned:n,rowIndex:r,columnId:o.getColId(),oldValue:i,newValue:s};e.cellValueChanges.push(a)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return Op(n,t),n.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var t=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();t<=0||(this.undoStack=new _p(t),this.redoStack=new _p(t),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,Bt.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,Bt.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_EVERYTHING_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,Bt.EVENT_ROW_DRAG_END,this.clearStacks))}},n.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},n.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},n.prototype.undo=function(){if(this.undoStack){var t=this.undoStack.pop();t&&t.cellValueChanges&&(this.processAction(t,(function(t){return t.oldValue})),t instanceof Ep?this.processRangeAndCellFocus(t.cellValueChanges,t.initialRange):this.processRangeAndCellFocus(t.cellValueChanges),this.redoStack.push(t))}},n.prototype.redo=function(){if(this.redoStack){var t=this.redoStack.pop();t&&t.cellValueChanges&&(this.processAction(t,(function(t){return t.newValue})),t instanceof Ep?this.processRangeAndCellFocus(t.cellValueChanges,t.finalRange):this.processRangeAndCellFocus(t.cellValueChanges),this.undoStack.push(t))}},n.prototype.processAction=function(t,e){var n=this;t.cellValueChanges.forEach((function(t){var r=t.rowIndex,o=t.rowPinned,i=t.columnId,s={rowIndex:r,rowPinned:o},a=n.getRowNode(s);null!=a.rowTop&&a.setDataValue(i,e(t))}))},n.prototype.processRangeAndCellFocus=function(t,e){if(e){var n=e.startRow,r=e.endRow,o={rowPinned:n.rowPinned,rowIndex:n.rowIndex,columnId:e.startColumn.getColId()};this.setLastFocusedCell(o);var i={rowStartIndex:n.rowIndex,rowStartPinned:n.rowPinned,rowEndIndex:r.rowIndex,rowEndPinned:r.rowPinned,columnStart:e.startColumn,columns:e.columns};this.gridApi.addCellRange(i)}else{var s=t[0],a={rowIndex:s.rowIndex,rowPinned:s.rowPinned},u=this.getRowNode(a),l={rowPinned:s.rowPinned,rowIndex:u.rowIndex,columnId:s.columnId};this.setLastFocusedCell(l)}},n.prototype.setLastFocusedCell=function(t){var n=t.rowIndex,r=t.columnId,o=t.rowPinned;this.gridApi.ensureIndexVisible(n),this.gridApi.ensureColumnVisible(r),yt.isRegistered(e.ModuleNames.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusController.setFocusedCell(n,r,o,!0)},n.prototype.addRowEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,Bt.EVENT_ROW_EDITING_STARTED,(function(){t.isRowEditing=!0})),this.addManagedListener(this.eventService,Bt.EVENT_ROW_EDITING_STOPPED,(function(){var e=new Cp(t.cellValueChanges);t.pushActionsToUndoStack(e),t.isRowEditing=!1}))},n.prototype.addCellEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,Bt.EVENT_CELL_EDITING_STARTED,(function(){t.isCellEditing=!0})),this.addManagedListener(this.eventService,Bt.EVENT_CELL_EDITING_STOPPED,(function(){if(t.isCellEditing=!1,!t.isRowEditing&&!t.isPasting&&!t.isFilling){var e=new Cp(t.cellValueChanges);t.pushActionsToUndoStack(e)}}))},n.prototype.addPasteListeners=function(){var t=this;this.addManagedListener(this.eventService,Bt.EVENT_PASTE_START,(function(){t.isPasting=!0})),this.addManagedListener(this.eventService,Bt.EVENT_PASTE_END,(function(){var e=new Cp(t.cellValueChanges);t.pushActionsToUndoStack(e),t.isPasting=!1}))},n.prototype.addFillListeners=function(){var t=this;this.addManagedListener(this.eventService,Bt.EVENT_FILL_START,(function(){t.isFilling=!0})),this.addManagedListener(this.eventService,Bt.EVENT_FILL_END,(function(e){var n=new Ep(t.cellValueChanges,e.initialRange,e.finalRange);t.pushActionsToUndoStack(n),t.isFilling=!1}))},n.prototype.pushActionsToUndoStack=function(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()},n.prototype.getRowNode=function(t){switch(t.rowPinned){case vt.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case vt.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},Rp([at("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),Rp([at("focusController")],n.prototype,"focusController",void 0),Rp([at("gridApi")],n.prototype,"gridApi",void 0),Rp([at("rowModel")],n.prototype,"rowModel",void 0),Rp([at("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),Rp([ot],n.prototype,"init",null),n=Rp([st("undoRedoService")],n)}(jt),Tp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ap=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.componentsMappedByName={},e}return Tp(e,t),e.prototype.setupComponents=function(t){var e=this;t&&t.forEach((function(t){return e.addComponent(t)}))},e.prototype.addComponent=function(t){var e=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[e]=t.componentClass},e.prototype.getComponentClass=function(t){return this.componentsMappedByName[t]},e=Pp([st("agStackComponentsRegistry")],e)}(jt),Ip=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Np=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ip(e,t),e.prototype.findHeader=function(t,e){var n,r,o;if(t.column instanceof Ct?(r="getDisplayedGroup"+e,n=this.columnController[r](t.column)):(o="getDisplayedCol"+e,n=this.columnController[o](t.column)),n)return{column:n,headerRowIndex:t.headerRowIndex}},e.prototype.findColAtEdgeForHeaderRow=function(t,e){var n=this.columnController.getAllDisplayedColumns(),r=n["start"===e?0:n.length-1];if(r){var o=this.headerNavigationService.getHeaderContainer(r.getPinned()).getRowComps()[t];return(o&&o.getType())==As.COLUMN_GROUP?{headerRowIndex:t,column:this.columnController.getColumnGroupAtLevel(r,t)}:{headerRowIndex:o?t:-1,column:r}}},Dp([at("columnController")],e.prototype,"columnController",void 0),Dp([at("headerNavigationService")],e.prototype,"headerNavigationService",void 0),e=Dp([st("headerPositionUtils")],e)}(jt),xp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},kp=function(){function t(){}return t.prototype.buildColumnDefs=function(t,e,n){var r=this,o=[],i={};return t.forEach((function(t){for(var s=!0,a=r.createDefFromColumn(t,e,n),u=t;u.getParent();){var l=u.getParent(),c=void 0;if(l.isPadding())u=l;else{var p=i[l.getGroupId()];if(p){p.children.push(a),s=!1;break}(c=r.createDefFromGroup(l)).children=[a],i[c.groupId]=c,a=c,u=l}}s&&o.push(a)})),o},t.prototype.createDefFromGroup=function(t){var e=x(t.getColGroupDef(),["children"]);return e.groupId=t.getGroupId(),e},t.prototype.createDefFromColumn=function(t,e,n){var r=x(t.getColDef());return r.colId=t.getColId(),r.width=t.getActualWidth(),r.rowGroup=t.isRowGroupActive(),r.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,r.pivot=t.isPivotActive(),r.pivotIndex=t.isPivotActive()?n.indexOf(t):null,r.aggFunc=t.isValueActive()?t.getAggFunc():null,r.hide=!t.isVisible()||void 0,r.pinned=t.isPinned()?t.getPinned():null,r.sort=t.getSort()?t.getSort():null,r.sortIndex=null!=t.getSortIndex()?t.getSortIndex():null,r},t=xp([st("columnDefFactory")],t)}(),Lp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Fp=function(){function t(){}return t.prototype.getInitialRowClasses=function(t){var e=[];return r(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),_(e,this.processClassesFromGridOptions(t.rowNode)),_(e,this.preProcessRowClassRules(t.rowNode,t.scope)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),e},t.prototype.processClassesFromGridOptions=function(t){var e=[],n=function(t){"string"===typeof t?e.push(t):Array.isArray(t)&&t.forEach((function(t){return e.push(t)}))},r=this.gridOptionsWrapper.getRowClass();if(r){if("function"===typeof r)return void console.warn("ag-Grid: rowClass should not be a function, please use getRowClass instead");n(r)}var o=this.gridOptionsWrapper.getRowClassFunc();o&&n(o({node:t,data:t.data,rowIndex:t.rowIndex,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()}));return e},t.prototype.preProcessRowClassRules=function(t,e){var n=[];return this.processRowClassRules(t,e,(function(t){n.push(t)}),(function(t){})),n},t.prototype.processRowClassRules=function(t,e,n,r){this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),{value:void 0,colDef:void 0,data:t.data,node:t,rowIndex:t.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:e,context:this.gridOptionsWrapper.getContext()},n,r)},t.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},Lp([at("stylingService")],t.prototype,"stylingService",void 0),Lp([at("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t=Lp([st("rowCssClassCalculator")],t)}(),Mp=function(){function t(t,n,r){if(t)if(n){var o=!!n.debug;this.gridOptions=n;var i=this.getRegisteredModules(r),s=this.createBeansList(i),a=this.createProvidedBeans(t,r);if(s){var u={providedBeanInstances:a,beanClasses:s,debug:o};this.logger=new Su("ag-Grid",(function(){return n.debug}));var l=new Su("Context",(function(){return u.debug}));this.context=new nt(u,l),this.registerModuleUserComponents(i),this.registerStackComponents(i);var c=new(r&&r.rootComponent||Lu);this.context.createBean(c),this.setColumnsAndData(),this.dispatchGridReadyEvent(n);var p=yt.isRegistered(e.ModuleNames.EnterpriseCoreModule);this.logger.log("initialised successfully, enterprise = "+p)}}else console.error("ag-Grid: no gridOptions provided to the grid");else console.error("ag-Grid: no div element provided to the grid")}return t.prototype.registerStackComponents=function(t){var e=this.createAgStackComponentsList(t);this.context.getBean("agStackComponentsRegistry").setupComponents(e)},t.prototype.getRegisteredModules=function(t){var e=t?t.modules:null,n=yt.getRegisteredModules(),r=[],o={};function i(t,e){!function(e){o[e.moduleName]||(o[e.moduleName]=!0,r.push(e),yt.register(e,t))}(e),e.dependantModules&&e.dependantModules.forEach(i.bind(null,t))}return e&&e.forEach(i.bind(null,!0)),n&&n.forEach(i.bind(null,!yt.isPackageBased())),r},t.prototype.registerModuleUserComponents=function(t){var e=this.context.getBean("userComponentRegistry");this.extractModuleEntity(t,(function(t){return t.userComponents?t.userComponents:[]})).forEach((function(t){e.registerDefaultComponent(t.componentName,t.componentClass)}))},t.prototype.createProvidedBeans=function(t,e){var n=e?e.frameworkOverrides:null;o(n)&&(n=new al);var r={gridOptions:this.gridOptions,eGridDiv:t,$scope:e?e.$scope:null,$compile:e?e.$compile:null,quickFilterOnScope:e?e.quickFilterOnScope:null,globalEventListener:e?e.globalEventListener:null,frameworkOverrides:n};return e&&e.providedBeanInstances&&V(r,e.providedBeanInstances),r},t.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:ia},{componentName:"AgRadioButton",componentClass:sl},{componentName:"AgToggleButton",componentClass:ap},{componentName:"AgInputTextField",componentClass:xc},{componentName:"AgInputTextArea",componentClass:Lc},{componentName:"AgInputNumberField",componentClass:Yc},{componentName:"AgInputRange",componentClass:Xc},{componentName:"AgSelect",componentClass:np},{componentName:"AgSlider",componentClass:jc},{componentName:"AgAngleSelect",componentClass:ip},{componentName:"AgColorPicker",componentClass:qc},{componentName:"AgGridComp",componentClass:lu},{componentName:"AgHeaderRoot",componentClass:qa},{componentName:"AgPagination",componentClass:vc},{componentName:"AgOverlayWrapper",componentClass:Ec},{componentName:"AgGroupComponent",componentClass:Rc},{componentName:"AgPanel",componentClass:Pc},{componentName:"AgDialog",componentClass:Dc}],n=this.extractModuleEntity(t,(function(t){return t.agStackComponents?t.agStackComponents:[]}));return e=e.concat(n)},t.prototype.createBeansList=function(t){var e=this.getRowModelClass(t);if(e){var n=[e,ql,dp,vp,Np,Pl,pu,zi,Wl,Ul,bc,zo,ac,dc,el,Nu,bp,Wu,ge,gt,Zi,Cu,os,Xa,ne,Ha,Rl,Ws,gu,Ht,mu,jl,oc,Dl,Za,Ru,he,Au,ju,ds,ss,Ku,Xu,Jl,Zu,ol,dl,cl,Uu,vl,bl,cc,El,kl,ec,cp,Sp,Ap,kp,Fp],r=this.extractModuleEntity(t,(function(t){return t.beans?t.beans:[]}));n.push.apply(n,r);var o=[];return n.forEach((function(t){o.indexOf(t)<0&&o.push(t)})),o}},t.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],t.map(e))},t.prototype.setColumnsAndData=function(){var t=this.context.getBean("gridOptionsWrapper"),e=this.context.getBean("columnController"),n=t.getColumnDefs();e.setColumnDefs(n||[],"gridInitializing"),this.context.getBean("rowModel").start()},t.prototype.dispatchGridReadyEvent=function(t){var e=this.context.getBean("eventService"),n={type:Bt.EVENT_GRID_READY,api:t.api,columnApi:t.columnApi};e.dispatchEvent(n)},t.prototype.getRowModelClass=function(t){var n=this.gridOptions.rowModelType;n||(n=vt.ROW_MODEL_TYPE_CLIENT_SIDE);var o={};t.forEach((function(t){D(t.rowModels,(function(t,e){o[t]=e}))}));var i=o[n];if(r(i))return i;n===vt.ROW_MODEL_TYPE_INFINITE&&console.error('ag-Grid: Row Model "Infinite" not found. Please ensure the '+e.ModuleNames.InfiniteRowModelModule+" is registered.';"),console.error("ag-Grid: could not find matching row model for rowModelType "+n),n===vt.ROW_MODEL_TYPE_VIEWPORT&&console.error('ag-Grid: Row Model "Viewport" not found. Please ensure the ag-Grid Enterprise Module '+e.ModuleNames.ViewportRowModelModule+" is registered.';"),n===vt.ROW_MODEL_TYPE_SERVER_SIDE&&console.error('ag-Grid: Row Model "Server Side" not found. Please ensure the ag-Grid Enterprise Module '+e.ModuleNames.ServerSideRowModelModule+" is registered.';"),n===vt.ROW_MODEL_TYPE_CLIENT_SIDE&&console.error('ag-Grid: Row Model "Client Side" not found. Please ensure the '+e.ModuleNames.ClientSideRowModelModule+" is registered.';")},t.prototype.destroy=function(){this.gridOptions.api.destroy()},t}();function jp(t,e,n,r){var o,i,s=r.agGrid;if(i=s+".quickFilterText",o=e.$eval(s)){var a=t[0],u=new Mp(a,o,{$scope:e,$compile:n,quickFilterOnScope:i});e.$on("$destroy",(function(){u.destroy(),u=null}))}else console.warn("WARNING - grid options for ag-Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope")}var Vp=!1;var Gp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Hp=function(t){function e(n){var r=t.call(this,e.getTemplate(n.cssClass))||this;return r.items=[],r.params=n,n.items&&n.items.forEach((function(t){return r.addItem(t)})),r}return Gp(e,t),e.getTemplate=function(t){return'<div class="ag-tabs '+t+'">\n            <div ref="eHeader" role="menu" class="ag-tabs-header '+(t?t+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(t?t+"-body":"")+'"></div>\n        </div>'},e.prototype.handleKeyDown=function(t){switch(t.keyCode){case Kr.RIGHT:case Kr.LEFT:if(!this.eHeader.contains(document.activeElement))return;var e=this.items.indexOf(this.activeItem),n=t.keyCode===Kr.RIGHT?Math.min(e+1,this.items.length-1):Math.max(e-1,0);if(e===n)return;t.preventDefault();var r=this.items[n];this.showItemWrapper(r),r.eHeaderButton.focus();break;case Kr.UP:case Kr.DOWN:t.stopPropagation()}},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var e=this.focusController,n=this.eHeader,r=this.eBody,o=this.activeItem,i=document.activeElement;if(t.preventDefault(),n.contains(i))e.focusInto(r,t.shiftKey);else if(e.isFocusUnderManagedComponent(r))o.eHeaderButton.focus();else{var s=e.findNextFocusableElement(r,!1,t.shiftKey);s?s.focus():o.eHeaderButton.focus()}}},e.prototype.setAfterAttachedParams=function(t){this.afterAttachedParams=t},e.prototype.getMinDimensions=function(){var t=this.getGui().cloneNode(!0),e=t.querySelector('[ref="eBody"]');t.style.position="fixed",this.getGui().appendChild(t);var n=0,r=0;return this.items.forEach((function(o){an(e);var i=o.tabbedItem.bodyPromise.resolveNow(null,(function(t){return t.cloneNode(!0)}));null!=i&&(e.appendChild(i),n<t.offsetWidth&&(n=t.offsetWidth),r<t.offsetHeight&&(r=t.offsetHeight))})),this.getGui().removeChild(t),{height:r,width:n}},e.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},e.prototype.addItem=function(t){var e=document.createElement("span");e.setAttribute("tabIndex","-1"),e.setAttribute("role","menuitem"),e.appendChild(t.title),Ue(e,"ag-tab"),this.eHeader.appendChild(e),Gn(e,t.titleLabel);var n={tabbedItem:t,eHeaderButton:e};this.items.push(n),e.addEventListener("click",this.showItemWrapper.bind(this,n))},e.prototype.showItem=function(t){var e=c(this.items,(function(e){return e.tabbedItem===t}));e&&this.showItemWrapper(e)},e.prototype.showItemWrapper=function(t){var e=this;this.params.onItemClicked&&this.params.onItemClicked({item:t.tabbedItem}),this.activeItem!==t?(an(this.eBody),t.tabbedItem.bodyPromise.then((function(t){e.eBody.appendChild(t);var n=!e.focusController.isKeyboardFocus();e.focusController.focusInto(e.eBody,!1,n)})),this.activeItem&&ze(this.activeItem.eHeaderButton,"ag-tab-selected"),Ue(t.eHeaderButton,"ag-tab-selected"),this.activeItem=t,t.tabbedItem.afterAttachedCallback&&t.tabbedItem.afterAttachedCallback(this.afterAttachedParams)):tt(this.params.onActiveItemClicked)},Wp([Wr("eHeader")],e.prototype,"eHeader",void 0),Wp([Wr("eBody")],e.prototype,"eBody",void 0),e}(no);var Bp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Up=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},zp=function(t){function e(n,r){var o=t.call(this)||this;return o.version=0,o.state=e.STATE_DIRTY,o.rowNodeCacheParams=r,o.blockNumber=n,o.startRow=n*r.blockSize,o.endRow=o.startRow+r.blockSize,o}return Bp(e,t),e.prototype.isAnyNodeOpen=function(t){var e=!1;return this.forEachNodeCallback((function(t){t.expanded&&(e=!0)}),t),e},e.prototype.forEachNodeCallback=function(t,e){for(var n=this.startRow;n<this.endRow;n++){if(n<e)t(this.getRowUsingLocalIndex(n),n)}},e.prototype.forEachNode=function(t,e,n,r){this.forEachNodeCallback((function(n){t(n,e.next()),r&&n.childrenCache&&n.childrenCache.forEachNodeDeep(t,e)}),n)},e.prototype.forEachNodeDeep=function(t,e,n){this.forEachNode(t,e,n,!0)},e.prototype.forEachNodeShallow=function(t,e,n){this.forEachNode(t,e,n,!1)},e.prototype.getVersion=function(){return this.version},e.prototype.getLastAccessed=function(){return this.lastAccessed},e.prototype.getRowUsingLocalIndex=function(t,e){void 0===e&&(e=!1),e||(this.lastAccessed=this.rowNodeCacheParams.lastAccessedSequence.next());var n=t-this.startRow;return this.rowNodes[n]},e.prototype.init=function(){this.createRowNodes()},e.prototype.getStartRow=function(){return this.startRow},e.prototype.getEndRow=function(){return this.endRow},e.prototype.getBlockNumber=function(){return this.blockNumber},e.prototype.setDirty=function(){this.version++,this.state=e.STATE_DIRTY},e.prototype.setDirtyAndPurge=function(){this.setDirty(),this.rowNodes.forEach((function(t){return t.setData(null)}))},e.prototype.getState=function(){return this.state},e.prototype.setRowNode=function(t,e){var n=t-this.startRow;this.rowNodes[n]=e},e.prototype.setBlankRowNode=function(t){var e=this.createBlankRowNode(t),n=t-this.startRow;return this.rowNodes[n]=e,e},e.prototype.setNewData=function(t,e){var n=this.setBlankRowNode(t);return this.setDataAndId(n,e,this.startRow+t),n},e.prototype.createBlankRowNode=function(t){var e=this.getContext().createBean(new Oo);return e.setRowHeight(this.rowNodeCacheParams.rowHeight),e},e.prototype.createRowNodes=function(){this.rowNodes=[];for(var t=0;t<this.rowNodeCacheParams.blockSize;t++){var e=this.startRow+t,n=this.createBlankRowNode(e);this.rowNodes.push(n)}},e.prototype.load=function(){this.state=e.STATE_LOADING,this.loadFromDatasource()},e.prototype.pageLoadFailed=function(){this.state=e.STATE_FAILED;var t={type:e.EVENT_LOAD_COMPLETE,success:!1,page:this,lastRow:null};this.dispatchEvent(t)},e.prototype.populateWithRowData=function(t){var e=this,n=[];this.rowNodes.forEach((function(r,o){var i=t[o];r.stub&&n.push(r),e.setDataAndId(r,i,e.startRow+o)})),n.length>0&&this.rowRenderer.redrawRows(n)},e.prototype.destroyRowNodes=function(){var t=this;this.rowNodes.forEach((function(e){e.childrenCache&&(t.destroyBean(e.childrenCache),e.childrenCache=null),e.clearRowTop()}))},e.prototype.pageLoaded=function(t,n,r){t===this.version&&(this.state=e.STATE_LOADED,this.populateWithRowData(n)),r=ae(r);var o={type:e.EVENT_LOAD_COMPLETE,success:!0,page:this,lastRow:r};this.dispatchEvent(o)},e.EVENT_LOAD_COMPLETE="loadComplete",e.STATE_DIRTY="dirty",e.STATE_LOADING="loading",e.STATE_LOADED="loaded",e.STATE_FAILED="failed",Up([at("rowRenderer")],e.prototype,"rowRenderer",void 0),Up([ot],e.prototype,"init",null),Up([it],e.prototype,"destroyRowNodes",null),e}(jt),qp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kp=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Yp=function(t,e){return function(n,r){e(n,r,t)}},Qp=function(t){function e(e,n){var r=t.call(this)||this;return r.activeBlockLoadsCount=0,r.blocks=[],r.active=!0,r.maxConcurrentRequests=e,n&&n>0&&(r.checkBlockToLoadDebounce=Z(r.performCheckBlocksToLoad.bind(r),n)),r}return qp(e,t),e.prototype.setBeans=function(t){this.logger=t.create("RowNodeBlockLoader")},e.prototype.addBlock=function(t){this.blocks.push(t)},e.prototype.removeBlock=function(t){m(this.blocks,t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.active=!1},e.prototype.loadComplete=function(){this.activeBlockLoadsCount--},e.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},e.prototype.performCheckBlocksToLoad=function(){if(this.active)if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)this.logger.log("checkBlockToLoad: max loads exceeded");else{var t=null;this.blocks.forEach((function(e){e.getState()===zp.STATE_DIRTY&&(t=e)})),t?(t.load(),this.activeBlockLoadsCount++,this.logger.log("checkBlockToLoad: loading page "+t.getBlockNumber()),this.printCacheStatus()):this.logger.log("checkBlockToLoad: no pages to load")}},e.prototype.getBlockState=function(){var t={};return this.blocks.forEach((function(e){var n=e.getNodeIdPrefix(),o={blockNumber:e.getBlockNumber(),startRow:e.getStartRow(),endRow:e.getEndRow(),pageStatus:e.getState()};r(n)?t[n+e.getBlockNumber()]=o:t[e.getBlockNumber()]=o})),t},e.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},e.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},Kp([Yp(0,ct("loggerFactory"))],e.prototype,"setBeans",null),e}(jt),Xp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$p=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Jp=function(t){function e(e){var n=t.call(this)||this;return n.maxRowFound=!1,n.blocks={},n.blockCount=0,n.virtualRowCount=e.initialRowCount,n.cacheParams=e,n}return Xp(e,t),e.prototype.destroyAllBlocks=function(){var t=this;this.forEachBlockInOrder((function(e){return t.destroyBlock(e)}))},e.prototype.init=function(){var t=this;this.active=!0,this.addDestroyFunc((function(){return t.active=!1}))},e.prototype.isActive=function(){return this.active},e.prototype.getVirtualRowCount=function(){return this.virtualRowCount},e.prototype.hack_setVirtualRowCount=function(t){this.virtualRowCount=t},e.prototype.isMaxRowFound=function(){return this.maxRowFound},e.prototype.onPageLoaded=function(t){this.cacheParams.rowNodeBlockLoader.loadComplete(),this.checkBlockToLoad(),this.isActive()&&(this.logger.log("onPageLoaded: page = "+t.page.getBlockNumber()+", lastRow = "+t.lastRow),t.success&&(this.checkVirtualRowCount(t.page,t.lastRow),this.onCacheUpdated()))},e.prototype.purgeBlocksIfNeeded=function(t){var n=this,r=[];this.forEachBlockInOrder((function(e){e!==t&&r.push(e)})),r.sort((function(t,e){return e.getLastAccessed()-t.getLastAccessed()}));var o=this.cacheParams.maxBlocksInCache>0,i=o?this.cacheParams.maxBlocksInCache-1:null,s=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;r.forEach((function(t,e){if(t.getState()===zp.STATE_DIRTY&&e>=s||!!o&&e>=i){if(t.isAnyNodeOpen(n.virtualRowCount))return;if(n.isBlockCurrentlyDisplayed(t))return;n.removeBlockFromCache(t)}}))},e.prototype.isBlockCurrentlyDisplayed=function(t){var e=this.rowRenderer.getFirstVirtualRenderedRow(),n=this.rowRenderer.getLastVirtualRenderedRow(),r=t.getDisplayIndexStart(),o=t.getDisplayIndexEnd()-1;return null!=r&&null!=o&&(!(r>n)&&!(o<e))},e.prototype.postCreateBlock=function(t){t.addEventListener(zp.EVENT_LOAD_COMPLETE,this.onPageLoaded.bind(this)),this.setBlock(t.getBlockNumber(),t),this.purgeBlocksIfNeeded(t),this.checkBlockToLoad()},e.prototype.removeBlockFromCache=function(t){t&&this.destroyBlock(t)},e.prototype.checkBlockToLoad=function(){this.cacheParams.rowNodeBlockLoader.checkBlockToLoad()},e.prototype.checkVirtualRowCount=function(t,e){if("number"===typeof e&&e>=0)this.virtualRowCount=e,this.maxRowFound=!0;else if(!this.maxRowFound){var n=(t.getBlockNumber()+1)*this.cacheParams.blockSize+this.cacheParams.overflowSize;this.virtualRowCount<n&&(this.virtualRowCount=n)}},e.prototype.setVirtualRowCount=function(t,e){this.virtualRowCount=t,r(e)&&(this.maxRowFound=e),this.maxRowFound||this.virtualRowCount%this.cacheParams.blockSize===0&&this.virtualRowCount++,this.onCacheUpdated()},e.prototype.forEachNodeDeep=function(t,e){var n=this;void 0===e&&(e=new Nr),this.forEachBlockInOrder((function(r){return r.forEachNodeDeep(t,e,n.virtualRowCount)}))},e.prototype.forEachBlockInOrder=function(t){var e=this.getBlockIdsSorted();this.forEachBlockId(e,t)},e.prototype.forEachBlockInReverseOrder=function(t){var e=this.getBlockIdsSorted().reverse();this.forEachBlockId(e,t)},e.prototype.forEachBlockId=function(t,e){var n=this;t.forEach((function(t){var r=n.blocks[t];e(r,t)}))},e.prototype.getBlockIdsSorted=function(){return Object.keys(this.blocks).map((function(t){return parseInt(t,10)})).sort((function(t,e){return t-e}))},e.prototype.getBlock=function(t){return this.blocks[t]},e.prototype.setBlock=function(t,e){this.blocks[t]=e,this.blockCount++,this.cacheParams.rowNodeBlockLoader.addBlock(e)},e.prototype.destroyBlock=function(t){delete this.blocks[t.getBlockNumber()],this.destroyBean(t),this.blockCount--,this.cacheParams.rowNodeBlockLoader.removeBlock(t)},e.prototype.onCacheUpdated=function(){if(this.isActive()){this.destroyAllBlocksPastVirtualRowCount();var t={type:e.EVENT_CACHE_UPDATED};this.dispatchEvent(t)}},e.prototype.destroyAllBlocksPastVirtualRowCount=function(){var t=this,e=[];this.forEachBlockInOrder((function(n,r){r*t.cacheParams.blockSize>=t.virtualRowCount&&e.push(n)})),e.length>0&&e.forEach((function(e){return t.destroyBlock(e)}))},e.prototype.purgeCache=function(){var t=this;this.forEachBlockInOrder((function(e){return t.removeBlockFromCache(e)})),this.maxRowFound=!1,0===this.virtualRowCount&&(this.virtualRowCount=this.cacheParams.initialRowCount),this.onCacheUpdated()},e.prototype.getRowNodesInRange=function(t,e){var n=this,r=[],i=-1,s=!1,a=new Nr;o(t)&&(s=!0);var u=!1;return this.forEachBlockInOrder((function(o,l){u||(s&&i+1!==l?u=!0:(i=l,o.forEachNodeShallow((function(n){var o=n===t||n===e;(s||o)&&r.push(n),o&&(s=!s)}),a,n.virtualRowCount)))})),u||s?[]:r},e.EVENT_CACHE_UPDATED="cacheUpdated",e.MAX_EMPTY_BLOCKS_TO_KEEP=2,$p([at("rowRenderer")],e.prototype,"rowRenderer",void 0),$p([it],e.prototype,"destroyAllBlocks",null),$p([ot],e.prototype,"init",null),e}(jt),Zp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),th=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},eh=function(t){function e(n,r){void 0===n&&(n="default"),void 0===r&&(r="listbox");var o=t.call(this,e.getTemplate(n),!0)||this;return o.cssIdentifier=n,o.ariaRole=r,o.renderedRows=new Map,o.rowHeight=20,o.isDestroyed=!1,o}return Zp(e,t),e.prototype.postConstruct=function(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),t.prototype.postConstruct.call(this)},e.prototype.addResizeObserver=function(){var t=this.drawVirtualRows.bind(this),e=this.resizeObserverService.observeResize(this.getGui(),t);this.addDestroyFunc(e)},e.prototype.focusInnerElement=function(t){this.focusRow(t?this.model.getRowCount()-1:0)},e.prototype.onFocusIn=function(e){t.prototype.onFocusIn.call(this,e);var n=e.target;Ke(n,"ag-virtual-list-item")&&(this.lastFocusedRowIndex=Vn(n)-1)},e.prototype.onFocusOut=function(e){t.prototype.onFocusOut.call(this,e),this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)},e.prototype.handleKeyDown=function(t){switch(t.keyCode){case Kr.UP:case Kr.DOWN:this.navigate(t.keyCode===Kr.UP)&&t.preventDefault()}},e.prototype.onTabKeyDown=function(t){this.navigate(t.shiftKey)?t.preventDefault():this.focusController.focusInto(this.getGui(),!t.shiftKey)},e.prototype.navigate=function(t){if(null==this.lastFocusedRowIndex)return!1;var e=this.lastFocusedRowIndex+(t?-1:1);return!(e<0||e>=this.model.getRowCount())&&(this.focusRow(e),!0)},e.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},e.prototype.focusRow=function(t){var e=this;this.ensureIndexVisible(t),window.setTimeout((function(){var n=e.renderedRows.get(t);n&&n.eDiv.focus()}),10)},e.prototype.getComponentAt=function(t){var e=this.renderedRows.get(t);return e&&e.rowComponent},e.getTemplate=function(t){return'\n            <div class="ag-virtual-list-viewport ag-'+t+'-virtual-list-viewport" role="listbox">\n                <div class="ag-virtual-list-container ag-'+t+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},e.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},e.prototype.ensureIndexVisible=function(t){var e=this.model.getRowCount();if("number"!==typeof t||t<0||t>=e)console.warn("invalid row index for ensureIndexVisible: "+t);else{var n=t*this.rowHeight,r=n+this.rowHeight,o=this.getGui(),i=o.scrollTop,s=o.offsetHeight,a=i+s<r;if(i>n)o.scrollTop=n;else if(a){var u=r-s;o.scrollTop=u}}},e.prototype.setComponentCreator=function(t){this.componentCreator=t},e.prototype.getRowHeight=function(){return this.rowHeight},e.prototype.getScrollTop=function(){return this.getGui().scrollTop},e.prototype.setRowHeight=function(t){this.rowHeight=t,this.refresh()},e.prototype.refresh=function(){var t=this;if(null!=this.model&&!this.isDestroyed){var e=this.model.getRowCount();this.eContainer.style.height=e*this.rowHeight+"px",setTimeout((function(){t.isDestroyed||(t.clearVirtualRows(),t.drawVirtualRows())}),0)}},e.prototype.clearVirtualRows=function(){var t=this;this.renderedRows.forEach((function(e,n){return t.removeRow(n)}))},e.prototype.drawVirtualRows=function(){var t=this.getGui(),e=t.scrollTop,n=e+t.offsetHeight,r=Math.floor(e/this.rowHeight),o=Math.floor(n/this.rowHeight);this.ensureRowsRendered(r,o)},e.prototype.ensureRowsRendered=function(t,e){var n=this;this.renderedRows.forEach((function(r,o){(o<t||o>e)&&o!==n.lastFocusedRowIndex&&n.removeRow(o)}));for(var r=t;r<=e;r++)this.renderedRows.has(r)||r<this.model.getRowCount()&&this.insertRow(r)},e.prototype.insertRow=function(t){var e=this,n=this.model.getRow(t),r=document.createElement("div");if(Ue(r,"ag-virtual-list-item"),Ue(r,"ag-"+this.cssIdentifier+"-virtual-list-item"),r.setAttribute("role","tree"===this.ariaRole?"treeitem":"option"),qn(r,this.model.getRowCount()),Kn(r,t+1),r.setAttribute("tabindex","-1"),"function"===typeof this.model.isRowSelected){var o=this.model.isRowSelected(t);nr(r,!!o),rr(r,o)}r.style.height=this.rowHeight+"px",r.style.top=this.rowHeight*t+"px";var i=this.componentCreator(n,r);i.addGuiEventListener("focusin",(function(){return e.lastFocusedRowIndex=t})),r.appendChild(i.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",r):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",r):this.eContainer.appendChild(r),this.renderedRows.set(t,{rowComponent:i,eDiv:r})},e.prototype.removeRow=function(t){var e=this.renderedRows.get(t);this.eContainer.removeChild(e.eDiv),this.destroyBean(e.rowComponent),this.renderedRows.delete(t)},e.prototype.addScrollListener=function(){var t=this;this.addGuiEventListener("scroll",(function(){return t.drawVirtualRows()}))},e.prototype.setModel=function(t){this.model=t},e.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,t.prototype.destroy.call(this))},th([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),th([at("resizeObserverService")],e.prototype,"resizeObserverService",void 0),th([Wr("eContainer")],e.prototype,"eContainer",void 0),e}(no);var nh,rh,oh=function(){function t(){}return t.prototype.wrap=function(t,e,n,r,o){var i=this;void 0===n&&(n=[]);var s=this.createWrapper(t,r,o);return e.forEach((function(t){i.createMethod(s,t,!0)})),n.forEach((function(t){i.createMethod(s,t,!1)})),s},t.prototype.createMethod=function(t,e,n){t.addMethod(e,this.createMethodProxy(t,e,n))},t.prototype.createMethodProxy=function(t,e,n){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(n&&console.warn("ag-Grid: Framework component is missing the method "+e+"()"),null)}},t}();(nh=e.ChartType||(e.ChartType={})).GroupedColumn="groupedColumn",nh.StackedColumn="stackedColumn",nh.NormalizedColumn="normalizedColumn",nh.GroupedBar="groupedBar",nh.StackedBar="stackedBar",nh.NormalizedBar="normalizedBar",nh.Line="line",nh.Scatter="scatter",nh.Bubble="bubble",nh.Pie="pie",nh.Doughnut="doughnut",nh.Area="area",nh.StackedArea="stackedArea",nh.NormalizedArea="normalizedArea",nh.Histogram="histogram",(rh=e.LegendPosition||(e.LegendPosition={})).Top="top",rh.Right="right",rh.Bottom="bottom",rh.Left="left";var ih="undefined"===typeof t?{}:t;ih.HTMLElement="undefined"===typeof HTMLElement?{}:HTMLElement,ih.HTMLButtonElement="undefined"===typeof HTMLButtonElement?{}:HTMLButtonElement,ih.HTMLSelectElement="undefined"===typeof HTMLSelectElement?{}:HTMLSelectElement,ih.HTMLInputElement="undefined"===typeof HTMLInputElement?{}:HTMLInputElement,ih.Node="undefined"===typeof Node?{}:Node,ih.MouseEvent="undefined"===typeof MouseEvent?{}:MouseEvent;var sh,ah=function(){function t(e,n,r,o,i,s,a,u){this.nextId=0,this.allNodesMap={},this.rootNode=e,this.gridOptionsWrapper=n,this.context=r,this.eventService=o,this.columnController=i,this.gridApi=s,this.columnApi=a,this.selectionController=u,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=t.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return t.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},t.prototype.getCopyOfNodesMap=function(){return Dr.cloneObject(this.allNodesMap)},t.prototype.getRowNode=function(t){return this.allNodesMap[t]},t.prototype.setRowData=function(e){if(this.rootNode.childrenAfterFilter=null,this.rootNode.childrenAfterGroup=null,this.rootNode.childrenAfterSort=null,this.rootNode.childrenMapped=null,this.rootNode.updateHasChildren(),this.nextId=0,this.allNodesMap={},!e)return this.rootNode.allLeafChildren=[],void(this.rootNode.childrenAfterGroup=[]);this.rootNode.allLeafChildren=this.recursiveFunction(e,this.rootNode,t.TOP_LEVEL)},t.prototype.updateRowData=function(t,e){var n={remove:[],update:[],add:[]},r=[];return this.executeAdd(t,n),this.executeRemove(t,n,r),this.executeUpdate(t,n,r),this.updateSelection(r),e&&Dr.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),n},t.prototype.updateSelection=function(t){var e=t.length>0;if(e&&t.forEach((function(t){t.setSelected(!1,!1,!0)})),this.selectionController.updateGroupsFromChildrenSelections(),e){var n={type:Bt.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(n)}},t.prototype.executeAdd=function(t,e){var n=this,r=t.add,o=t.addIndex;Dr.missingOrEmpty(r)||("number"===typeof o&&o>=0?r.reverse().forEach((function(t){var r=n.addRowNode(t,o);e.add.push(r)})):r.forEach((function(t){var r=n.addRowNode(t);e.add.push(r)})))},t.prototype.executeRemove=function(t,e,n){var r=this,o=t.remove;if(!Dr.missingOrEmpty(o)){var i={};o.forEach((function(t){var o=r.lookupRowNode(t);o&&(o.isSelected()&&n.push(o),o.clearRowTop(),i[o.id]=!0,delete r.allNodesMap[o.id],e.remove.push(o))})),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter((function(t){return!i[t.id]}))}},t.prototype.executeUpdate=function(e,n,r){var o=this,i=e.update;Dr.missingOrEmpty(i)||i.forEach((function(e){var i=o.lookupRowNode(e);i&&(i.updateData(e),!i.selectable&&i.isSelected()&&r.push(i),o.setMasterForRow(i,e,t.TOP_LEVEL,!1),n.update.push(i))}))},t.prototype.addRowNode=function(e,n){var r=this.createNode(e,this.rootNode,t.TOP_LEVEL);return Dr.exists(n)?Dr.insertIntoArray(this.rootNode.allLeafChildren,r,n):this.rootNode.allLeafChildren.push(r),r},t.prototype.lookupRowNode=function(t){var e,n=this.gridOptionsWrapper.getRowNodeIdFunc();if(Dr.exists(n)){var r=n(t);if(!(e=this.allNodesMap[r]))return console.error("ag-Grid: could not find row id="+r+", data item was not found for this id"),null}else if(!(e=Dr.find(this.rootNode.allLeafChildren,(function(e){return e.data===t}))))return console.error("ag-Grid: could not find data item as object was not found",t),null;return e},t.prototype.recursiveFunction=function(t,e,n){var r=this;if("string"!==typeof t){var o=[];return t.forEach((function(t){var i=r.createNode(t,e,n);o.push(i)})),o}console.warn("ag-Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},t.prototype.createNode=function(t,e,n){var r=new Oo;return this.context.createBean(r),r.group=!1,this.setMasterForRow(r,t,n,!0),e&&!this.suppressParentsInRowNodes&&(r.parent=e),r.level=n,r.setDataAndId(t,this.nextId.toString()),this.allNodesMap[r.id]&&console.warn("ag-grid: duplicate node id '"+r.id+"' detected from getRowNodeId callback, this could cause issues in your grid."),this.allNodesMap[r.id]=r,this.nextId++,r},t.prototype.setMasterForRow=function(t,e,n,r){if(this.doingTreeData)t.setMaster(!1),r&&(t.expanded=!1);else if(this.doingMasterDetail?this.isRowMasterFunc?t.setMaster(this.isRowMasterFunc(e)):t.setMaster(!0):t.setMaster(!1),r){var o=this.columnController.getRowGroupColumns(),i=n+(o?o.length:0);t.expanded=!!t.master&&this.isExpanded(i)}},t.prototype.isExpanded=function(t){var e=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===e||t<e},t.prototype.setLeafChildren=function(t){t.allLeafChildren=[],t.childrenAfterGroup&&t.childrenAfterGroup.forEach((function(e){e.group?e.allLeafChildren&&e.allLeafChildren.forEach((function(e){return t.allLeafChildren.push(e)})):t.allLeafChildren.push(e)}))},t.TOP_LEVEL=0,t.ROOT_NODE_ID="ROOT_NODE_ID",t}(),uh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.Normal=0]="Normal",t[t.AfterFilter=1]="AfterFilter",t[t.AfterFilterAndSort=2]="AfterFilterAndSort",t[t.PivotNodes=3]="PivotNodes"}(sh||(sh={}));var ch,ph=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return uh(e,t),e.prototype.init=function(){var t=this.refreshModel.bind(this,{step:vt.STEP_EVERYTHING}),e=this.refreshModel.bind(this,{step:vt.STEP_EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_EVERYTHING_CHANGED,e),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:vt.STEP_PIVOT})),this.addManagedListener(this.eventService,Bt.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_PIVOT_MODE_CHANGED,t);var n=this.refreshModel.bind(this,{step:vt.STEP_MAP,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.gridOptionsWrapper,Zi.PROP_GROUP_REMOVE_SINGLE_CHILDREN,n),this.addManagedListener(this.gridOptionsWrapper,Zi.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,n),this.rootNode=new Oo,this.nodeManager=new ah(this.rootNode,this.gridOptionsWrapper,this.getContext(),this.eventService,this.columnController,this.gridApi,this.columnApi,this.selectionController),this.createBean(this.rootNode)},e.prototype.start=function(){var t=this.gridOptionsWrapper.getRowData();t&&this.setRowData(t)},e.prototype.ensureRowHeightsValid=function(t,e,n,r){var o,i=!1;do{o=!1;for(var s=this.getRowIndexAtPixel(t),a=this.getRowIndexAtPixel(e),u=Math.max(s,n),l=Math.min(a,r),c=u;c<=l;c++){var p=this.getRow(c);if(p.rowHeightEstimated){var h=this.gridOptionsWrapper.getRowHeightForNode(p);p.setRowHeight(h.height),o=!0,i=!0}}o&&this.setRowTops()}while(o);return i},e.prototype.setRowTops=function(){for(var t=0,e=0;e<this.rowsToDisplay.length;e++){var n=this.gridOptionsWrapper.getDomLayout()===vt.DOM_LAYOUT_NORMAL,r=this.rowsToDisplay[e];if(Dr.missing(r.rowHeight)){var o=this.gridOptionsWrapper.getRowHeightForNode(r,n);r.setRowHeight(o.height,o.estimated)}r.setRowTop(t),r.setRowIndex(e),t+=r.rowHeight}},e.prototype.resetRowTops=function(t,e){if(t.clearRowTop(),t.hasChildren()){if(t.childrenAfterGroup)if(!(e.isActive()&&!t.expanded))for(var n=0;n<t.childrenAfterGroup.length;n++)this.resetRowTops(t.childrenAfterGroup[n],e);t.sibling&&t.sibling.clearRowTop()}t.detailNode&&t.detailNode.clearRowTop()},e.prototype.ensureRowsAtPixel=function(t,e,n){var r=this;void 0===n&&(n=0);var o=this.getRowIndexAtPixel(e);return this.getRow(o)!==t[0]&&(t.forEach((function(t){Dr.removeFromArray(r.rootNode.allLeafChildren,t)})),t.forEach((function(t,e){Dr.insertIntoArray(r.rootNode.allLeafChildren,t,Math.max(o+n,0)+e)})),this.refreshModel({step:vt.STEP_EVERYTHING,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),!0)},e.prototype.highlightRowAtPixel=function(t,e){var n=null!=e?this.getRowIndexAtPixel(e):null,r=null!=n?this.getRow(n):null;if(r&&t&&r!==t&&null!=e){var o=this.getHighlightPosition(e,r);this.lastHighlightedRow&&this.lastHighlightedRow!==r&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),r.setHighlighted(o),this.lastHighlightedRow=r}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},e.prototype.getHighlightPosition=function(t,e){if(!e){var n=this.getRowIndexAtPixel(t);if(!(e=this.getRow(n||0)))return"below"}return t-e.rowTop<e.rowHeight/2?"above":"below"},e.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},e.prototype.isLastRowFound=function(){return!0},e.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},e.prototype.getTopLevelRowCount=function(){return this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode?1:this.rootNode.childrenAfterFilter?this.rootNode.childrenAfterFilter.length:0},e.prototype.getTopLevelRowDisplayedIndex=function(t){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return t;var e=this.rootNode.childrenAfterSort[t];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;e.expanded&&e.childrenAfterSort&&e.childrenAfterSort.length>0;)e=e.childrenAfterSort[0];return e.rowIndex},e.prototype.getRowBounds=function(t){if(Dr.missing(this.rowsToDisplay))return null;var e=this.rowsToDisplay[t];return e?{rowTop:e.rowTop,rowHeight:e.rowHeight}:null},e.prototype.onRowGroupOpened=function(){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:vt.STEP_MAP,keepRenderedRows:!0,animate:t})},e.prototype.onFilterChanged=function(t){if(!t.afterDataChange){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:vt.STEP_FILTER,keepRenderedRows:!0,animate:e})}},e.prototype.onSortChanged=function(){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:vt.STEP_SORT,keepRenderedRows:!0,animate:t,keepEditingRows:!0})},e.prototype.getType=function(){return vt.ROW_MODEL_TYPE_CLIENT_SIDE},e.prototype.onValueChanged=function(){this.columnController.isPivotActive()?this.refreshModel({step:vt.STEP_PIVOT}):this.refreshModel({step:vt.STEP_AGGREGATE})},e.prototype.createChangePath=function(t){var e=Dr.missingOrEmpty(t),n=new ts(!1,this.rootNode);return(e||this.gridOptionsWrapper.isTreeData())&&n.setInactive(),n},e.prototype.refreshModel=function(t){var e=this,n=this.createChangePath(t.rowNodeTransactions);switch(t.step){case vt.STEP_EVERYTHING:this.doRowGrouping(t.groupState,t.rowNodeTransactions,t.rowNodeOrder,n,t.afterColumnsChanged);case vt.STEP_FILTER:this.doFilter(n);case vt.STEP_PIVOT:this.doPivot(n);case vt.STEP_AGGREGATE:this.doAggregate(n);case vt.STEP_SORT:this.doSort(t.rowNodeTransactions,n);case vt.STEP_MAP:this.doRowsToDisplay()}this.resetRowTops(this.rootNode,n),this.setRowTops();var r={type:Bt.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1};this.eventService.dispatchEvent(r),this.$scope&&window.setTimeout((function(){e.$scope.$apply()}),0)},e.prototype.isEmpty=function(){var t=Dr.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return Dr.missing(this.rootNode)||t||!this.columnController.isReady()},e.prototype.isRowsToRender=function(){return Dr.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},e.prototype.getNodesInRangeForSelection=function(t,e){var n,r=!e,o=!1,i=[],s=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort((function(a){var u=r&&!o;if(r||a!==e&&a!==t||(r=!0),!(a.group&&s)){var l=r&&!o,c=a.isParentOfNode(n);(l||c)&&i.push(a)}u&&(a!==e&&a!==t||(o=!0,n=a===e?e:t))})),i},e.prototype.setDatasource=function(t){console.error("ag-Grid: should never call setDatasource on clientSideRowController")},e.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},e.prototype.getRootNode=function(){return this.rootNode},e.prototype.getRow=function(t){return this.rowsToDisplay[t]},e.prototype.isRowPresent=function(t){return this.rowsToDisplay.indexOf(t)>=0},e.prototype.getRowIndexAtPixel=function(t){if(this.isEmpty())return-1;var e=0,n=this.rowsToDisplay.length-1;if(t<=0)return 0;if(Dr.last(this.rowsToDisplay).rowTop<=t)return this.rowsToDisplay.length-1;for(;;){var r=Math.floor((e+n)/2),o=this.rowsToDisplay[r];if(this.isRowInPixel(o,t))return r;o.rowTop<t?e=r+1:o.rowTop>t&&(n=r-1)}},e.prototype.isRowInPixel=function(t,e){var n=t.rowTop,r=t.rowTop+t.rowHeight;return n<=e&&r>e},e.prototype.getCurrentPageHeight=function(){if(this.rowsToDisplay&&this.rowsToDisplay.length>0){var t=Dr.last(this.rowsToDisplay);return t.rowTop+t.rowHeight}return 0},e.prototype.forEachLeafNode=function(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((function(e,n){return t(e,n)}))},e.prototype.forEachNode=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,t,sh.Normal,0)},e.prototype.forEachNodeAfterFilter=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,t,sh.AfterFilter,0)},e.prototype.forEachNodeAfterFilterAndSort=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,t,sh.AfterFilterAndSort,0)},e.prototype.forEachPivotNode=function(t){this.recursivelyWalkNodesAndCallback([this.rootNode],t,sh.PivotNodes,0)},e.prototype.recursivelyWalkNodesAndCallback=function(t,e,n,r){if(!t)return r;for(var o=0;o<t.length;o++){var i=t[o];if(e(i,r++),i.hasChildren()){var s=null;switch(n){case sh.Normal:s=i.childrenAfterGroup;break;case sh.AfterFilter:s=i.childrenAfterFilter;break;case sh.AfterFilterAndSort:s=i.childrenAfterSort;break;case sh.PivotNodes:s=i.leafGroup?null:i.childrenAfterSort}s&&(r=this.recursivelyWalkNodesAndCallback(s,e,n,r))}}return r},e.prototype.doAggregate=function(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.expandOrCollapseAll=function(t){var e=this.gridOptionsWrapper.isTreeData();this.rootNode&&function n(r){if(!r)return;r.forEach((function(r){(e?Dr.exists(r.childrenAfterGroup):r.group)&&(r.expanded=t,n(r.childrenAfterGroup))}))}(this.rootNode.childrenAfterGroup),this.refreshModel({step:vt.STEP_MAP});var n=t?"expandAll":"collapseAll",r={api:this.gridApi,columnApi:this.columnApi,type:Bt.EVENT_EXPAND_COLLAPSE_ALL,source:n};this.eventService.dispatchEvent(r)},e.prototype.doSort=function(t,e){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:e})},e.prototype.doRowGrouping=function(t,e,n,r,o){this.groupStage?(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:n,changedPath:r}):(this.selectionController.removeGroupsFromSelection(),this.groupStage.execute({rowNode:this.rootNode,changedPath:r,afterColumnsChanged:o}),this.restoreGroupState(t)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionController.updateGroupsFromChildrenSelections(r)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.updateHasChildren())},e.prototype.restoreGroupState=function(t){t&&Dr.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(e,n){"boolean"===typeof t[n]&&(e.expanded=t[n])}))},e.prototype.doFilter=function(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doPivot=function(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var t={};return Dr.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(e,n){return t[n]=e.expanded})),t},e.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},e.prototype.getRowNode=function(t){return this.nodeManager.getRowNode(t)},e.prototype.setRowData=function(t){var e=this.getGroupState();this.nodeManager.setRowData(t);var n={type:Bt.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(n),this.refreshModel({step:vt.STEP_EVERYTHING,groupState:e,newData:!0})},e.prototype.batchUpdateRowData=function(t,e){var n=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var r=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout((function(){n.executeBatchUpdateRowData()}),r)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:e})},e.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},e.prototype.executeBatchUpdateRowData=function(){var t=this;this.valueCache.onDataChanged();var e=[],n=[];this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach((function(r){var o=t.nodeManager.updateRowData(r.rowDataTransaction,null);n.push(o),r.callback&&e.push(r.callback.bind(null,o))})),this.commonUpdateRowData(n),e.length>0&&window.setTimeout((function(){e.forEach((function(t){return t()}))}),0),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},e.prototype.updateRowData=function(t,e){this.valueCache.onDataChanged();var n=this.nodeManager.updateRowData(t,e);return"number"===typeof t.addIndex&&(e=this.createRowNodeOrder()),this.commonUpdateRowData([n],e),n},e.prototype.createRowNodeOrder=function(){var t=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder();if(!t){var e=t?null:{};if(this.rootNode&&this.rootNode.allLeafChildren)for(var n=0;n<this.rootNode.allLeafChildren.length;n++){e[this.rootNode.allLeafChildren[n].id]=n}return e}},e.prototype.commonUpdateRowData=function(t,e){this.refreshModel({step:vt.STEP_EVERYTHING,rowNodeTransactions:t,rowNodeOrder:e,keepRenderedRows:!0,animate:!0,keepEditingRows:!0});var n={type:Bt.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(n)},e.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},e.prototype.onRowHeightChanged=function(){this.refreshModel({step:vt.STEP_MAP,keepRenderedRows:!0,keepEditingRows:!0})},e.prototype.resetRowHeights=function(){var t=!1;this.forEachNode((function(e){e.setRowHeight(e.rowHeight,!0);var n=e.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t=!0})),t&&this.onRowHeightChanged()},lh([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),lh([at("columnController")],e.prototype,"columnController",void 0),lh([at("filterManager")],e.prototype,"filterManager",void 0),lh([at("$scope")],e.prototype,"$scope",void 0),lh([at("selectionController")],e.prototype,"selectionController",void 0),lh([at("valueService")],e.prototype,"valueService",void 0),lh([at("valueCache")],e.prototype,"valueCache",void 0),lh([at("columnApi")],e.prototype,"columnApi",void 0),lh([at("gridApi")],e.prototype,"gridApi",void 0),lh([at("filterStage")],e.prototype,"filterStage",void 0),lh([at("sortStage")],e.prototype,"sortStage",void 0),lh([at("flattenStage")],e.prototype,"flattenStage",void 0),lh([ut("groupStage")],e.prototype,"groupStage",void 0),lh([ut("aggregationStage")],e.prototype,"aggregationStage",void 0),lh([ut("pivotStage")],e.prototype,"pivotStage",void 0),lh([ot],e.prototype,"init",null),e=lh([st("rowModel")],e)}(jt),hh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},fh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hh(e,t),e.prototype.execute=function(t){var e=t.rowNode,n=t.changedPath;this.filterService.filter(n),this.selectableService.updateSelectableAfterFiltering(e)},dh([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),dh([at("selectableService")],e.prototype,"selectableService",void 0),dh([at("filterService")],e.prototype,"filterService",void 0),e=dh([st("filterStage")],e)}(jt),gh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},yh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gh(e,t),e.prototype.execute=function(t){var e=this.sortController.getSortForRowController(),n=Dr.exists(e)&&e.length>0,r=n&&Dr.exists(t.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),o=r?this.calculateDirtyNodes(t.rowNodeTransactions):null,i=this.columnController.getValueColumns(),s=Dr.missingOrEmpty(i);this.sortService.sort(e,n,r,o,t.changedPath,s)},e.prototype.calculateDirtyNodes=function(t){var e={},n=function(t){t&&t.forEach((function(t){return e[t.id]=!0}))};return t.forEach((function(t){n(t.add),n(t.update),n(t.remove)})),e},vh([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),vh([at("sortService")],e.prototype,"sortService",void 0),vh([at("sortController")],e.prototype,"sortController",void 0),vh([at("columnController")],e.prototype,"columnController",void 0),e=vh([st("sortStage")],e)}(jt),mh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},wh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mh(e,t),e.prototype.execute=function(t){var e=t.rowNode,n=[],r={value:0},o=this.columnController.isPivotMode(),i=o&&e.leafGroup,s=i?[e]:e.childrenAfterSort;return this.recursivelyAddToRowsToDisplay(s,n,r,o,0),!i&&n.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(e),this.addRowNodeToRowsToDisplay(e.sibling,n,r,0)),n},e.prototype.recursivelyAddToRowsToDisplay=function(t,e,n,r,o){if(!Dr.missingOrEmpty(t))for(var i=this.gridOptionsWrapper.isGroupHideOpenParents(),s=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),a=!s&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),u=0;u<t.length;u++){var l=t[u],c=l.hasChildren(),p=r&&!c,h=s&&c&&1===l.childrenAfterGroup.length,d=a&&c&&l.leafGroup&&1===l.childrenAfterGroup.length,f=r&&l.leafGroup,g=i&&l.expanded&&!f;if(!p&&!g&&!h&&!d&&this.addRowNodeToRowsToDisplay(l,e,n,o),!r||!l.leafGroup)if(c){var v=h||d;if(l.expanded||v){var y=v?o:o+1;this.recursivelyAddToRowsToDisplay(l.childrenAfterSort,e,n,r,y),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(l),this.addRowNodeToRowsToDisplay(l.sibling,e,n,o))}}else if(l.master&&l.expanded){var m=this.createDetailNode(l);this.addRowNodeToRowsToDisplay(m,e,n,o)}}},e.prototype.addRowNodeToRowsToDisplay=function(t,e,n,r){var o=this.gridOptionsWrapper.isGroupMultiAutoColumn();e.push(t),t.setUiLevel(o?0:r)},e.prototype.ensureFooterNodeExists=function(t){if(!Dr.exists(t.sibling)){var e=new Oo;this.context.createBean(e),Object.keys(t).forEach((function(n){e[n]=t[n]})),e.footer=!0,e.rowTop=null,e.oldRowTop=null,Dr.exists(e.id)&&(e.id="rowGroupFooter_"+e.id),e.sibling=t,t.sibling=e}},e.prototype.createDetailNode=function(t){if(Dr.exists(t.detailNode))return t.detailNode;var e=new Oo;return this.context.createBean(e),e.detail=!0,e.selectable=!1,e.parent=t,Dr.exists(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1,t.detailNode=e,e},bh([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),bh([at("selectionController")],e.prototype,"selectionController",void 0),bh([at("columnController")],e.prototype,"columnController",void 0),e=bh([st("flattenStage")],e)}(jt),Ch=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Eh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},_h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ch(e,t),e.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},e.prototype.sort=function(t,e,n,r,o,i){var s=this;o.forEachChangedNodeDepthFirst((function(a){if(s.pullDownGroupDataForHideOpenParents(a.childrenAfterFilter,!0),e){var u=n?s.doDeltaSort(a,t,r,o,i):s.doFullSort(a,t);a.childrenAfterSort=u.map((function(t){return t.rowNode}))}else a.childrenAfterSort=a.childrenAfterFilter.slice(0);s.updateChildIndexes(a),s.postSortFunc&&s.postSortFunc(a.childrenAfterSort)})),this.updateGroupDataForHiddenOpenParents(o)},e.prototype.doFullSort=function(t,e){var n=t.childrenAfterFilter.map(this.mapNodeToSortedNode.bind(this));return n.sort(this.compareRowNodes.bind(this,e)),n},e.prototype.mapNodeToSortedNode=function(t,e){return{currentPos:e,rowNode:t}},e.prototype.doDeltaSort=function(t,e,n,r,o){var i=t.childrenAfterSort.filter((function(t){var e=!n[t.id],i=o||r.canSkip(t);return e&&i})).map(this.mapNodeToSortedNode.bind(this)),s={};i.forEach((function(t){return s[t.rowNode.id]=t.rowNode}));var a=t.childrenAfterFilter.filter((function(t){return!s[t.id]})).map(this.mapNodeToSortedNode.bind(this));return a.sort(this.compareRowNodes.bind(this,e)),0===a.length?i:0===i.length?a:this.mergeSortedArrays(e,i,a)},e.prototype.mergeSortedArrays=function(t,e,n){for(var r=[],o=0,i=0;o<e.length&&i<n.length;){this.compareRowNodes(t,e[o],n[i])<0?r.push(e[o++]):r.push(n[i++])}for(;o<e.length;)r.push(e[o++]);for(;i<n.length;)r.push(n[i++]);return r},e.prototype.compareRowNodes=function(t,e,n){for(var r=e.rowNode,o=n.rowNode,i=0,s=t.length;i<s;i++){var a=t[i],u=-1===a.inverter,l=this.getValue(r,a.column),c=this.getValue(o,a.column),p=void 0,h=a.column.getColDef().comparator;if(0!==(p=h?h(l,c,r,o,u):Dr.defaultComparator(l,c,this.gridOptionsWrapper.isAccentedSort())))return p*a.inverter}return e.currentPos-n.currentPos},e.prototype.getValue=function(t,e){return this.valueService.getValue(e,t)},e.prototype.updateChildIndexes=function(t){if(!Dr.missing(t.childrenAfterSort))for(var e=t.childrenAfterSort,n=0;n<e.length;n++){var r=e[n],o=0===n,i=n===t.childrenAfterSort.length-1;r.setFirstChild(o),r.setLastChild(i),r.setChildIndex(n)}},e.prototype.updateGroupDataForHiddenOpenParents=function(t){var e=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){t.executeFromRootNode((function(t){return function t(n){e.pullDownGroupDataForHideOpenParents(n.childrenAfterSort,!1),n.childrenAfterSort.forEach((function(e){e.hasChildren()&&t(e)}))}(t)}))}},e.prototype.pullDownGroupDataForHideOpenParents=function(t,e){var n=this;Dr.missing(t)||this.gridOptionsWrapper.isGroupHideOpenParents()&&t.forEach((function(t){n.columnController.getGroupDisplayColumns().forEach((function(r){var o=r.getColDef().showRowGroup;if("string"===typeof o){var i=o,s=n.columnController.getPrimaryColumn(i);if(!(s===t.rowGroupColumn))if(e)t.setGroupValue(r.getId(),null);else{var a=t.getFirstChildOfFirstChild(s);a&&t.setGroupValue(r.getId(),a.key)}}else console.error("ag-Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")}))}))},Eh([at("sortController")],e.prototype,"sortController",void 0),Eh([at("columnController")],e.prototype,"columnController",void 0),Eh([at("valueService")],e.prototype,"valueService",void 0),Eh([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Eh([ot],e.prototype,"init",null),e=Eh([st("sortService")],e)}(jt),Oh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Sh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oh(e,t),e.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},e.prototype.filter=function(t){var e=this.filterManager.isAnyFilterPresent();this.filterNodes(e,t)},e.prototype.filterNodes=function(t,e){var n=this,r=function(e,r){e.hasChildren()?(e.childrenAfterFilter=t&&!r?e.childrenAfterGroup.filter((function(t){var e=t.childrenAfterFilter&&t.childrenAfterFilter.length>0,r=t.data&&n.filterManager.doesRowPassFilter(t);return e||r})):e.childrenAfterGroup,n.setAllChildrenCount(e)):(e.childrenAfterFilter=e.childrenAfterGroup,e.setAllChildrenCount(null))};if(this.doingTreeDataFiltering()){e.executeFromRootNode((function(t){return function t(e,o){if(e.childrenAfterGroup)for(var i=0;i<e.childrenAfterGroup.length;i++){var s=e.childrenAfterGroup[i],a=o||n.filterManager.doesRowPassFilter(s);s.childrenAfterGroup?t(e.childrenAfterGroup[i],a):r(s,a)}r(e,o)}(t,!1)}))}else{e.forEachChangedNodeDepthFirst((function(t){return r(t,!1)}),!0)}},e.prototype.setAllChildrenCountTreeData=function(t){var e=0;t.childrenAfterFilter.forEach((function(t){e++,e+=t.allChildrenCount})),t.setAllChildrenCount(e)},e.prototype.setAllChildrenCountGridGrouping=function(t){var e=0;t.childrenAfterFilter.forEach((function(t){t.group?e+=t.allChildrenCount:e++})),t.setAllChildrenCount(e)},e.prototype.setAllChildrenCount=function(t){this.doingTreeData?this.setAllChildrenCountTreeData(t):this.setAllChildrenCountGridGrouping(t)},e.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},Rh([at("filterManager")],e.prototype,"filterManager",void 0),Rh([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Rh([ot],e.prototype,"postConstruct",null),e=Rh([st("filterService")],e)}(jt),Th=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ph=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ah=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Th(e,t),e.prototype.postConstruct=function(){this.rowModel.getType()===vt.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},e.prototype.createTransactionForRowData=function(t){if(Dr.missing(this.clientSideRowModel))console.error("ag-Grid: ImmutableService only works with ClientSideRowModel");else{var e=this.gridOptionsWrapper.getRowNodeIdFunc();if(e&&!Dr.missing(e)){var n={remove:[],update:[],add:[]},r=this.clientSideRowModel.getCopyOfNodesMap(),o=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?null:{};return Dr.exists(t)&&t.forEach((function(t,i){var s=e(t),a=r[s];(o&&(o[s]=i),a)?(a.data!==t&&n.update.push(t),r[s]=void 0):n.add.push(t)})),Dr.iterateObject(r,(function(t,e){e&&n.remove.push(e.data)})),[n,o]}console.error("ag-Grid: ImmutableService requires getRowNodeId() callback to be implemented, your row data need IDs!")}},Ph([at("rowModel")],e.prototype,"rowModel",void 0),Ph([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ph([ot],e.prototype,"postConstruct",null),e=Ph([st("immutableService")],e)}(jt),Ih={moduleName:e.ModuleNames.ClientSideRowModelModule,beans:[fh,yh,wh,_h,Sh,Ah],rowModels:{clientSide:ph}},Dh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},xh=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.cacheParams=n,r}return Dh(e,t),e.prototype.getDisplayIndexStart=function(){return this.getBlockNumber()*this.cacheParams.blockSize},e.prototype.getDisplayIndexEnd=function(){return this.getDisplayIndexStart()+this.cacheParams.blockSize},e.prototype.createBlankRowNode=function(e){var n=t.prototype.createBlankRowNode.call(this);return n.uiLevel=0,this.setIndexAndTopOnRowNode(n,e),n},e.prototype.setDataAndId=function(t,e,n){Dr.exists(e)?t.setDataAndId(e,n.toString()):t.setDataAndId(void 0,void 0)},e.prototype.setRowNode=function(e,n){t.prototype.setRowNode.call(this,e,n),this.setIndexAndTopOnRowNode(n,e)},e.prototype.init=function(){t.prototype.init.call(this)},e.prototype.getNodeIdPrefix=function(){return null},e.prototype.getRow=function(t){return this.getRowUsingLocalIndex(t)},e.prototype.setIndexAndTopOnRowNode=function(t,e){t.setRowIndex(e),t.rowTop=this.cacheParams.rowHeight*e},e.prototype.loadFromDatasource=function(){var t=this,e={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this),sortModel:this.cacheParams.sortModel,filterModel:this.cacheParams.filterModel,context:this.gridOptionsWrapper.getContext()};Dr.missing(this.cacheParams.datasource.getRows)?console.warn("ag-Grid: datasource is missing getRows method"):window.setTimeout((function(){t.cacheParams.datasource.getRows(e)}),0)},Nh([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(zp),kh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Fh=function(t,e){return function(n,r){e(n,r,t)}},Mh=function(t){function e(e){return t.call(this,e)||this}return kh(e,t),e.prototype.setBeans=function(t){this.logger=t.create("InfiniteCache")},e.prototype.moveItemsDown=function(t,e,n){for(var r=t.getStartRow(),o=e+n,i=t.getEndRow()-1;i>=r;i--)if(!(i<o)){var s=i-n,a=this.getRow(s,!0);a?t.setRowNode(i,a):(t.setBlankRowNode(i),t.setDirty())}},e.prototype.insertItems=function(t,e,n){for(var r=t.getStartRow(),o=t.getEndRow(),i=[],s=0;s<n.length;s++){var a=e+s;if(a>=r&&a<o){var u=n[s],l=t.setNewData(a,u);i.push(l)}}return i},e.prototype.insertItemsAtIndex=function(t,e){var n=this,r=[];this.forEachBlockInReverseOrder((function(o){o.getEndRow()<=t||(n.moveItemsDown(o,t,e.length),n.insertItems(o,t,e).forEach((function(t){return r.push(t)})))})),this.isMaxRowFound()&&this.hack_setVirtualRowCount(this.getVirtualRowCount()+e.length),this.onCacheUpdated();var o={type:Bt.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(o)},e.prototype.getRow=function(t,e){void 0===e&&(e=!1);var n=Math.floor(t/this.cacheParams.blockSize),r=this.getBlock(n);if(!r){if(e)return null;r=this.createBlock(n)}return r.getRow(t)},e.prototype.createBlock=function(t){var e=this.createBean(new xh(t,this.cacheParams));return this.postCreateBlock(e),e},e.prototype.refreshCache=function(){this.forEachBlockInOrder((function(t){return t.setDirty()})),this.checkBlockToLoad()},Lh([at("columnApi")],e.prototype,"columnApi",void 0),Lh([at("gridApi")],e.prototype,"gridApi",void 0),Lh([Fh(0,ct("loggerFactory"))],e.prototype,"setBeans",null),e}(Jp),jh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Gh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return jh(e,t),e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.ensureRowHeightsValid=function(t,e,n,r){return!1},e.prototype.init=function(){var t=this;this.gridOptionsWrapper.isRowModelInfinite()&&(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc((function(){return t.destroyCache()})))},e.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},e.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},e.prototype.isLastRowFound=function(){return null!=this.infiniteCache&&this.infiniteCache.isMaxRowFound()},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Bt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Bt.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnEverything.bind(this))},e.prototype.onFilterChanged=function(){this.reset()},e.prototype.onSortChanged=function(){this.reset()},e.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},e.prototype.isSortModelDifferent=function(){return!Dr.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},e.prototype.getType=function(){return vt.ROW_MODEL_TYPE_INFINITE},e.prototype.setDatasource=function(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()},e.prototype.isEmpty=function(){return!this.infiniteCache},e.prototype.isRowsToRender=function(){return!!this.infiniteCache},e.prototype.getNodesInRangeForSelection=function(t,e){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,e):[]},e.prototype.reset=function(){if(this.datasource){Dr.exists(this.gridOptionsWrapper.getRowNodeIdFunc())||this.selectionController.reset(),this.resetCache();var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}},e.prototype.createModelUpdatedEvent=function(){return{type:Bt.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!1,animate:!1}},e.prototype.resetCache=function(){this.destroyCache();var t=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests(),e=this.gridOptionsWrapper.getBlockLoadDebounceMillis();this.rowNodeBlockLoader=this.createBean(new Qp(t,e)),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,maxConcurrentRequests:this.defaultIfInvalid(t,2),initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new Nr},this.infiniteCache=this.createBean(new Mh(this.cacheParams)),this.infiniteCache.addEventListener(Jp.EVENT_CACHE_UPDATED,this.onCacheUpdated.bind(this))},e.prototype.defaultIfInvalid=function(t,e){return t>0?t:e},e.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache)),this.rowNodeBlockLoader&&(this.rowNodeBlockLoader=this.destroyBean(this.rowNodeBlockLoader))},e.prototype.onCacheUpdated=function(){var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.getRow=function(t){return this.infiniteCache?this.infiniteCache.getRow(t):null},e.prototype.getRowNode=function(t){var e=null;return this.forEachNode((function(n){n.id===t&&(e=n)})),e},e.prototype.forEachNode=function(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t,new Nr)},e.prototype.getCurrentPageHeight=function(){return this.getRowCount()*this.rowHeight},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.getRowIndexAtPixel=function(t){if(0!==this.rowHeight){var e=Math.floor(t/this.rowHeight),n=this.getRowCount()-1;return e>n?n:e}return 0},e.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getVirtualRowCount():0},e.prototype.updateRowData=function(t){Dr.exists(t.remove)||Dr.exists(t.update)?console.warn("ag-Grid: updateRowData for InfiniteRowModel does not support remove or update, only add"):Dr.missing(t.addIndex)?console.warn("ag-Grid: updateRowData for InfiniteRowModel requires add and addIndex to be set"):this.infiniteCache&&this.infiniteCache.insertItemsAtIndex(t.addIndex,t.add)},e.prototype.isRowPresent=function(t){return!1},e.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},e.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},e.prototype.getVirtualRowCount=function(){return this.infiniteCache?this.infiniteCache.getVirtualRowCount():null},e.prototype.isMaxRowFound=function(){if(this.infiniteCache)return this.infiniteCache.isMaxRowFound()},e.prototype.setVirtualRowCount=function(t,e){this.infiniteCache&&this.infiniteCache.setVirtualRowCount(t,e)},e.prototype.getBlockState=function(){return this.rowNodeBlockLoader?this.rowNodeBlockLoader.getBlockState():null},Vh([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Vh([at("filterManager")],e.prototype,"filterManager",void 0),Vh([at("sortController")],e.prototype,"sortController",void 0),Vh([at("selectionController")],e.prototype,"selectionController",void 0),Vh([at("gridApi")],e.prototype,"gridApi",void 0),Vh([at("columnApi")],e.prototype,"columnApi",void 0),Vh([at("rowRenderer")],e.prototype,"rowRenderer",void 0),Vh([ot],e.prototype,"init",null),Vh([it],e.prototype,"destroyDatasource",null),e=Vh([st("rowModel")],e)}(jt),Wh={moduleName:e.ModuleNames.InfiniteRowModelModule,rowModels:{infinite:Gh}},Hh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Uh=function(){function t(t){this.groupColumns=[];var e=t.columnController,n=t.valueService,r=t.gridOptionsWrapper,o=t.processCellCallback,i=t.processHeaderCallback,s=t.processGroupHeaderCallback,a=t.processRowGroupCallback;this.columnController=e,this.valueService=n,this.gridOptionsWrapper=r,this.processCellCallback=o,this.processHeaderCallback=i,this.processGroupHeaderCallback=s,this.processRowGroupCallback=a}return t.prototype.prepare=function(t){this.groupColumns=Dr.filter(t,(function(t){return!!t.getColDef().showRowGroup}))},t.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return null!=e?e:""},t.prototype.extractRowCellValue=function(t,e,n,r){var o,i=this.gridOptionsWrapper.isGroupMultiAutoColumn()?r.rowGroupIndex:0;o=r&&r.group&&(e===i&&-1!==this.groupColumns.indexOf(t)||0===e&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnController.isPivotMode()))?this.createValueForGroupNode(r):this.valueService.getValue(t,r);var s=this.processCell(r,t,o,this.processCellCallback,n);return null!=s?s:""},t.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnController.getDisplayNameForColumn(e,"csv",!0)},t.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var e=[t.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;t.parent;)t=t.parent,e.push(t.key);return e.reverse().join(" -> ")},t.prototype.processCell=function(t,e,n,r,o){return r?r({column:e,node:t,value:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:o}):n},t}(),zh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hh(e,t),e.prototype.serialize=function(t,e){void 0===e&&(e={});var n=e.shouldRowBeSkipped||function(){return!1},r=this.gridOptionsWrapper.getApi(),o=this.gridOptionsWrapper.getColumnApi(),i=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),s=this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),a=this.gridOptionsWrapper.getContext(),u=this.columnController.isPivotMode(),l=this.rowModel.getType()===vt.ROW_MODEL_TYPE_CLIENT_SIDE,c=!l&&e.onlySelected,p=[];if(p=Dr.existsAndNotEmpty(e.columnKeys)?this.columnController.getGridColumns(e.columnKeys):e.allColumns&&!u?(p=this.gridOptionsWrapper.isTreeData()?this.columnController.getGridColumns([vt.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnController.getAllPrimaryColumns()||[]):this.columnController.getAllDisplayedColumns(),e.customHeader&&t.addCustomContent(e.customHeader),t.prepare(p),e.columnGroups){var h=new Ut,d=this.displayedGroupCreator.createDisplayedGroups(p,this.columnController.getGridBalancedTree(),h,null);this.recursivelyAddHeaderGroups(d,t,e.processGroupHeaderCallback)}if(!e.skipHeader){var f=t.onNewHeaderRow();p.forEach((function(t,e){f.onColumn(t,e,void 0)}))}(this.pinnedRowModel.forEachPinnedTopRow(g),u)?this.rowModel.forEachPivotNode?this.rowModel.forEachPivotNode(g):this.rowModel.forEachNode(g):e.onlySelectedAllPages||c?this.selectionController.getSelectedNodes().forEach((function(t){g(t)})):l?this.rowModel.forEachNodeAfterFilterAndSort(g):this.rowModel.forEachNode(g);function g(u){var l=s&&u.leafGroup,c=1===u.allChildrenCount&&(i||l);if((!u.group||!e.skipGroups&&!c)&&((!e.skipFooters||!u.footer)&&(!e.onlySelected||u.isSelected())&&(!e.skipPinnedTop||"top"!==u.rowPinned)&&(!e.skipPinnedBottom||"bottom"!==u.rowPinned)&&(!(-1===u.level)||u.leafGroup)&&!n({node:u,api:r,context:a}))){var h=t.onNewBodyRow();if(p.forEach((function(t,e){h.onColumn(t,e,u)})),e.getCustomContentBelowRow){var d=e.getCustomContentBelowRow({node:u,api:r,columnApi:o,context:a});d&&t.addCustomContent(d)}}}return this.pinnedRowModel.forEachPinnedBottomRow(g),e.customFooter&&t.addCustomContent(e.customFooter),t.parse()},e.prototype.recursivelyAddHeaderGroups=function(t,e,n){var r=[];t.forEach((function(t){var e=t;e.getChildren&&e.getChildren().forEach((function(t){return r.push(t)}))})),t.length>0&&t[0]instanceof Ct&&this.doAddHeaderHeader(e,t,n),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,e,n)},e.prototype.doAddHeaderHeader=function(t,e,n){var r=this,o=t.onNewHeaderGroupingRow(),i=0;e.forEach((function(t){var e,s=t;e=n?n({columnGroup:s,api:r.gridOptionsWrapper.getApi(),columnApi:r.gridOptionsWrapper.getColumnApi(),context:r.gridOptionsWrapper.getContext()}):r.columnController.getDisplayNameForColumnGroup(s,"header"),o.onColumn(e||"",i++,s.getLeafColumns().length-1)}))},Bh([at("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),Bh([at("columnController")],e.prototype,"columnController",void 0),Bh([at("rowModel")],e.prototype,"rowModel",void 0),Bh([at("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Bh([at("selectionController")],e.prototype,"selectionController",void 0),Bh([at("columnFactory")],e.prototype,"columnFactory",void 0),Bh([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e=Bh([st("gridSerializer")],e)}(jt);!function(t){t[t.HEADER_GROUPING=0]="HEADER_GROUPING",t[t.HEADER=1]="HEADER",t[t.BODY=2]="BODY"}(ch||(ch={}));var qh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Yh=function(t){function e(e){var n=t.call(this,e)||this;n.isFirstLine=!0,n.result="";var r=e.suppressQuotes,o=e.columnSeparator;return n.suppressQuotes=r,n.columnSeparator=o,n}return qh(e,t),e.prototype.addCustomContent=function(t){var e=this;t&&("string"===typeof t?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,"\r\n"),this.result+=t):t.forEach((function(t){e.beginNewLine(),t.forEach((function(t,n){0!==n&&(e.result+=e.columnSeparator),e.result+=e.putInQuotes(t.data.value||""),t.mergeAcross&&e.appendEmptyCells(t.mergeAcross)}))})))},e.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},e.prototype.onNewHeaderGroupingRowColumn=function(t,e,n){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)},e.prototype.appendEmptyCells=function(t){for(var e=1;e<=t;e++)this.result+=this.columnSeparator+this.putInQuotes("")},e.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},e.prototype.onNewHeaderRowColumn=function(t,e,n){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))},e.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},e.prototype.onNewBodyRowColumn=function(t,e,n){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(t,e,vt.EXPORT_TYPE_CSV,n))},e.prototype.putInQuotes=function(t){return this.suppressQuotes?t:null===t||void 0===t?'""':("string"===typeof t?e=t:"function"===typeof t.toString?e=t.toString():(console.warn("unknown value type during csv conversion"),e=""),'"'+e.replace(/"/g,'""')+'"');var e},e.prototype.parse=function(){return this.result},e.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},e}(Uh),Qh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qh(e,t),e.prototype.postConstruct=function(){this.setBeans({downloader:this.downloader,gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},e.prototype.exportDataAsCsv=function(t){return this.export(t)},e.prototype.getDataAsCsv=function(t){return this.getData(t)},e.prototype.getMimeType=function(){return"text/csv;charset=utf-8;"},e.prototype.getDefaultFileName=function(){return"export.csv"},e.prototype.getDefaultFileExtension=function(){return"csv"},e.prototype.createSerializingSession=function(t){var e=this.columnController,n=this.valueService,r=this.gridOptionsWrapper,o=t.processCellCallback,i=t.processHeaderCallback,s=t.processGroupHeaderCallback,a=t.processRowGroupCallback,u=t.suppressQuotes,l=t.columnSeparator;return new Yh({columnController:e,valueService:n,gridOptionsWrapper:r,processCellCallback:o||void 0,processHeaderCallback:i||void 0,processGroupHeaderCallback:s||void 0,processRowGroupCallback:a||void 0,suppressQuotes:u||!1,columnSeparator:l||","})},e.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},Kh([at("columnController")],e.prototype,"columnController",void 0),Kh([at("valueService")],e.prototype,"valueService",void 0),Kh([at("downloader")],e.prototype,"downloader",void 0),Kh([at("gridSerializer")],e.prototype,"gridSerializer",void 0),Kh([at("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Kh([ot],e.prototype,"postConstruct",null),e=Kh([st("csvCreator")],e)}(function(){function t(){}return t.prototype.setBeans=function(t){this.beans=t},t.prototype.export=function(t){if(this.isExportSuppressed())return console.warn("ag-grid: Export cancelled. Export is not allowed as per your configuration."),"";var e=this.getMergedParamsAndData(t),n=e.mergedParams,r=e.data,o=n&&n.fileName&&0!==n.fileName.length?n.fileName:this.getDefaultFileName();return-1===o.indexOf(".")&&(o=o+"."+this.getDefaultFileExtension()),this.beans.downloader.download(o,this.packageFile(r)),r},t.prototype.getData=function(t){return this.getMergedParamsAndData(t).data},t.prototype.getMergedParamsAndData=function(t){var e=this.mergeDefaultParams(t);return{mergedParams:e,data:this.beans.gridSerializer.serialize(this.createSerializingSession(e),e)}},t.prototype.mergeDefaultParams=function(t){var e=this.beans.gridOptionsWrapper.getDefaultExportParams(),n={};return Dr.assign(n,e),Dr.assign(n,t),n},t.prototype.packageFile=function(t){return new Blob(["\ufeff",t],{type:window.navigator.msSaveOrOpenBlob?this.getMimeType():"octet/stream"})},t}()),Xh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},$h=function(){function t(){}return t.prototype.download=function(t,e){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(e,t);else{var n=document.createElement("a"),r=window.URL.createObjectURL(e);n.setAttribute("href",r),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:window})),document.body.removeChild(n),window.setTimeout((function(){window.URL.revokeObjectURL(r)}),0)}},t=Xh([st("downloader")],t)}(),Jh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zh=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},td=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jh(e,t),e.prototype.createHeader=function(t){void 0===t&&(t={});var e=["version"];return t.version||(t.version="1.0"),t.encoding&&e.push("encoding"),t.standalone&&e.push("standalone"),"<?xml "+e.map((function(e){return e+'="'+t[e]+'"'})).join(" ")+" ?>"},e.prototype.createXml=function(t,e){var n=this,r="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach((function(t){Object.keys(t.map).forEach((function(o){r+=n.returnAttributeIfPopulated(t.prefix+o,t.map[o],e)}))})),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach((function(o){r+=n.returnAttributeIfPopulated(o,t.properties.rawMap[o],e)})));var o="<"+t.name+r;return t.children||null!=t.textNode?null!=t.textNode?o+">"+t.textNode+"</"+t.name+">\r\n":(o+=">\r\n",t.children&&t.children.forEach((function(t){o+=n.createXml(t,e)})),o+"</"+t.name+">\r\n"):o+"/>\r\n"},e.prototype.returnAttributeIfPopulated=function(t,e,n){if(!e&&""!==e&&0!==e)return"";var r=e;return"boolean"===typeof e&&n&&(r=n(e))," "+t+'="'+r+'"'},e=Zh([st("xmlFactory")],e)}(jt),ed=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nd=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},rd=[0,1996959894,-301047508,-1727442502,124634137,1886057615,-379345611,-1637575261,249268274,2044508324,-522852066,-1747789432,162941995,2125561021,-407360249,-1866523247,498536548,1789927666,-205950648,-2067906082,450548861,1843258603,-187386543,-2083289657,325883990,1684777152,-43845254,-1973040660,335633487,1661365465,-99664541,-1928851979,997073096,1281953886,-715111964,-1570279054,1006888145,1258607687,-770865667,-1526024853,901097722,1119000684,-608450090,-1396901568,853044451,1172266101,-589951537,-1412350631,651767980,1373503546,-925412992,-1076862698,565507253,1454621731,-809855591,-1195530993,671266974,1594198024,-972236366,-1324619484,795835527,1483230225,-1050600021,-1234817731,1994146192,31158534,-1731059524,-271249366,1907459465,112637215,-1614814043,-390540237,2013776290,251722036,-1777751922,-519137256,2137656763,141376813,-1855689577,-429695999,1802195444,476864866,-2056965928,-228458418,1812370925,453092731,-2113342271,-183516073,1706088902,314042704,-1950435094,-54949764,1658658271,366619977,-1932296973,-69972891,1303535960,984961486,-1547960204,-725929758,1256170817,1037604311,-1529756563,-740887301,1131014506,879679996,-1385723834,-631195440,1141124467,855842277,-1442165665,-586318647,1342533948,654459306,-1106571248,-921952122,1466479909,544179635,-1184443383,-832445281,1591671054,702138776,-1328506846,-942167884,1504918807,783551873,-1212326853,-1061524307,-306674912,-1698712650,62317068,1957810842,-355121351,-1647151185,81470997,1943803523,-480048366,-1805370492,225274430,2053790376,-468791541,-1828061283,167816743,2097651377,-267414716,-2029476910,503444072,1762050814,-144550051,-2140837941,426522225,1852507879,-19653770,-1982649376,282753626,1742555852,-105259153,-1900089351,397917763,1622183637,-690576408,-1580100738,953729732,1340076626,-776247311,-1497606297,1068828381,1219638859,-670225446,-1358292148,906185462,1090812512,-547295293,-1469587627,829329135,1181335161,-882789492,-1134132454,628085408,1382605366,-871598187,-1156888829,570562233,1426400815,-977650754,-1296233688,733239954,1555261956,-1026031705,-1244606671,752459403,1541320221,-1687895376,-328994266,1969922972,40735498,-1677130071,-351390145,1913087877,83908371,-1782625662,-491226604,2075208622,213261112,-1831694693,-438977011,2094854071,198958881,-2032938284,-237706686,1759359992,534414190,-2118248755,-155638181,1873836001,414664567,-2012718362,-15766928,1711684554,285281116,-1889165569,-127750551,1634467795,376229701,-1609899400,-686959890,1308918612,956543938,-1486412191,-799009033,1231636301,1047427035,-1362007478,-640263460,1088359270,936918e3,-1447252397,-558129467,1202900863,817233897,-1111625188,-893730166,1404277552,615818150,-1160759803,-841546093,1423857449,601450431,-1285129682,-1000256840,1567103746,711928724,-1274298825,-1022587231,1510334235,755167117],od=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.folders=[],e.files=[],e.addFolder=function(t){e.folders.push({path:t,created:new Date})},e}return ed(e,t),e.prototype.addFolders=function(t){t.forEach(this.addFolder)},e.prototype.addFile=function(t,e){this.files.push({path:t,created:new Date,content:e})},e.prototype.clearStream=function(){this.folders=[],this.files=[]},e.prototype.getContent=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream(),n=this.buildUint8Array(e);return this.clearStream(),new Blob([n],{type:t})},e.prototype.buildFileStream=function(t){void 0===t&&(t="");for(var e=this.folders.concat(this.files),n=e.length,r="",o=0,i=0,s=0,a=e;s<a.length;s++){var u=a[s],l=this.getHeader(u,o),c=l.fileHeader,p=l.folderHeader,h=l.content;o+=c.length+h.length,i+=p.length,t+=c+h,r+=p}return t+r+this.buildFolderEnd(n,i,o)},e.prototype.getHeader=function(t,e){var n=t.content,r=t.path,o=t.created,i=Dr.utf8_encode,s=Dr.decToHex,a=i(r),u=a!==r,l=this.convertTime(o),c=this.convertDate(o),p="";if(u){var h=s(1,1)+s(this.getFromCrc32Table(a),4)+a;p="up"+s(h.length,2)+h}var d="\n\0"+(u?"\0\b":"\0\0")+"\0\0"+s(l,2)+s(c,2)+s(n?this.getFromCrc32Table(n):0,4)+s(n?n.length:0,4)+s(n?n.length:0,4)+s(a.length,2)+s(p.length,2);return{fileHeader:"PK\x03\x04"+d+a+p,folderHeader:"PK\x01\x02\x14\0"+d+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\x10\0\0\0")+s(e,4)+a+p,content:n||""}},e.prototype.buildFolderEnd=function(t,e,n){var r=Dr.decToHex;return"PK\x05\x06\0\0\0\0"+r(t,2)+r(t,2)+r(e,4)+r(n,4)+"\0\0"},e.prototype.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e},e.prototype.getFromCrc32Table=function(t,e){if(void 0===e&&(e=0),!t.length)return 0;e^=-1;for(var n=0,r=0;r<t.length;r++)n=t.charCodeAt(r),e=e>>>8^rd[255&(e^n)];return-1^e},e.prototype.convertTime=function(t){var e=t.getHours();return e<<=6,e|=t.getMinutes(),e<<=5,e|=t.getSeconds()/2},e.prototype.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,e<<=5,e|=t.getDate()},e=nd([st("zipContainer")],e)}(jt),id={moduleName:e.ModuleNames.CsvExportModule,beans:[Qh,$h,td,zh,od]};yt.register(Ih,!1),yt.register(Wh,!1),yt.register(id,!1),e.AgAbstractField=Zs,e.AgAngleSelect=ip,e.AgCheckbox=ia,e.AgColorPicker=qc,e.AgDialog=Dc,e.AgGroupComponent=Rc,e.AgInputNumberField=Yc,e.AgInputRange=Xc,e.AgInputTextArea=Lc,e.AgInputTextField=xc,e.AgPanel=Pc,e.AgRadioButton=sl,e.AgSelect=np,e.AgSlider=jc,e.AgToggleButton=ap,e.AlignedGridsService=jl,e.AnimateShowChangeCellRenderer=$o,e.AnimateSlideCellRenderer=ti,e.AutoWidthCalculator=Au,e.Autowired=at,e.BaseComponentWrapper=oh,e.Bean=st,e.BeanStub=jt,e.BodyDropPivotTarget=Da,e.BodyDropTarget=La,e.CellComp=xs,e.CellNavigationService=Zu,e.CellPositionUtils=vp,e.CellRendererFactory=el,e.ChangedPath=ts,e.CheckboxSelectionComponent=To,e.ColDefUtil=Ce,e.Color=Ee,e.Column=bt,e.ColumnApi=ss,e.ColumnController=ne,e.ColumnFactory=Ht,e.ColumnGroup=Ct,e.ColumnKeyCreator=d,e.ColumnUtils=he,e.Component=jr,e.ComponentUtil=be,e.Constants=vt,e.Context=nt,e.CssClassApplier=Hs,e.DateFilter=go,e.DisplayedGroupCreator=ge,e.DragAndDropService=ds,e.DragService=Wu,e.Environment=Jl,e.EventService=gt,e.Events=Bt,e.ExpressionService=gu,e.FilterManager=Xa,e.FloatingFilterMapper=wa,e.FloatingFilterWrapper=_a,e.FocusController=Ku,e.Grid=Mp,e.GridApi=pu,e.GridCore=Lu,e.GridListener=function(t){return Br.bind(this,t)},e.GridOptionsWrapper=Zi,e.GridPanel=lu,e.GroupCellRenderer=Yo,e.GroupInstanceIdCreator=Ut,e.GuiListener=function(t,e){return Ur.bind(this,t,e)},e.HeaderContainer=ja,e.HeaderNavigationService=Ha,e.HeaderPositionUtils=Np,e.HeaderRootComp=qa,e.HeaderRowComp=Ta,e.HorizontalResizeService=Nu,e.KeyCode=Kr,e.KeyName=Ba,e.LargeTextCellEditor=di,e.Logger=Su,e.LoggerFactory=Ru,e.ManagedFocusComponent=no,e.ModuleRegistry=yt,e.MouseEventService=Xu,e.MoveColumnController=Aa,e.NumberFilter=vi,e.NumberSequence=Nr,e.Optional=ut,e.OriginalColumnGroup=Et,e.PaginationProxy=Rl,e.PinnedRowModel=bp,e.PopupComponent=Gr,e.PopupEditorWrapper=Es,e.PopupSelectCellEditor=ci,e.PopupService=Cu,e.PopupTextCellEditor=ui,e.PostConstruct=ot,e.PreConstruct=rt,e.PreDestroy=it,e.Promise=xr,e.PropertyKeys=ye,e.ProvidedFilter=io,e.Qualifier=ct,e.QuerySelector=function(t){return Hr.bind(this,t)},e.RefSelector=Wr,e.ResizeObserverService=bc,e.RowComp=Ms,e.RowNode=Oo,e.RowNodeBlock=zp,e.RowNodeBlockLoader=Qp,e.RowNodeCache=Jp,e.RowPositionUtils=dp,e.RowRenderer=Ws,e.ScalarFilter=po,e.ScrollVisibleService=cl,e.SelectCellEditor=si,e.SelectableService=cc,e.SelectionController=os,e.SetLeftFeature=Ys,e.SimpleFilter=lo,e.SortController=Uu,e.StandardMenuFactory=ju,e.StylingService=dl,e.TabbedLayout=Hp,e.TemplateService=mu,e.TextCellEditor=Xr,e.TextFilter=Li,e.TextFloatingFilter=Hi,e.Timer=kr,e.TooltipFeature=Is,e.TouchListener=vo,e.UserComponentFactory=zo,e.UserComponentRegistry=zi,e.ValueCache=Dl,e.ValueFormatterService=ol,e.ValueService=Za,e.VanillaFrameworkOverrides=al,e.VirtualList=eh,e._=Dr,e.defaultGroupComparator=function(t,e,n,o,i){void 0===i&&(i=!1),console.warn("ag-Grid: Since ag-grid 11.0.0 defaultGroupComparator is not necessary. You can remove this from your colDef");var s=r(n)&&n.group,a=r(o)&&o.group,u=!s&&!a;return s&&a?l(n.key,o.key,i):u?l(t,e,i):s?1:-1},e.initialiseAgGridWithAngular1=function(t){t.module("agGrid",[]).directive("agGrid",(function(){return{restrict:"A",controller:["$element","$scope","$compile","$attrs",jp],scope:!0}}))},e.initialiseAgGridWithWebComponents=function(){if(console.warn("ag-grid: initialiseAgGridWithWebComponents is deprecated. Please use the ag-grid-webcomponent dependency instead. "),!Vp){Vp=!0,"undefined"!==typeof document&&document.registerElement||console.error("ag-Grid: unable to find document.registerElement() function, unable to initialise ag-Grid as a Web Component");var t=Object.create(HTMLElement.prototype);be.ALL_PROPERTIES.forEach((function(e){Object.defineProperty(t,e,{set:function(t){this.__agGridSetProperty(e,t)},get:function(){return this.__agGridGetProperty(e)},enumerable:!0,configurable:!0})}));var e=t;e.__agGridSetProperty=function(t,e){this.__attributes||(this.__attributes={}),this.__attributes[t]=e;var n={};n[t]={currentValue:e},this.onChange(n)},e.onChange=function(t){this._initialised&&be.processOnChange(t,this._gridOptions,this.api,this.columnApi)},e.__agGridGetProperty=function(t){return this.__attributes||(this.__attributes={}),this.__attributes[t]},e.setGridOptions=function(t){var e=this.globalEventListener.bind(this);this._gridOptions=be.copyAttributesToGridOptions(t,this);var n={globalEventListener:e};this._agGrid=new Mp(this,this._gridOptions,n),this.api=t.api,this.columnApi=t.columnApi,this._initialised=!0},e.createdCallback=function(){for(var t=0;t<this.attributes.length;t++){var e=this.attributes[t];this.setPropertyFromAttribute(e)}},e.setPropertyFromAttribute=function(t){var e,n="string"===typeof(e=t.nodeName)?e.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()})):e,r=t.nodeValue;be.ALL_PROPERTIES.indexOf(n)>=0&&(this[n]=r)},e.attachedCallback=function(t){},e.detachedCallback=function(t){},e.attributeChangedCallback=function(t){var e=this.attributes[t];this.setPropertyFromAttribute(e)},e.globalEventListener=function(t,e){var n=t.toLowerCase(),r=new Event(n);r.agGridDetails=e,this.dispatchEvent(r);var o="on"+n;"function"===typeof this[o]&&this[o](r)},document.registerElement("ag-grid",{prototype:t})}},e.simpleHttpRequest=function(t){return new xr((function(e){var n=new XMLHttpRequest;n.open("GET",t.url),n.send(),n.onreadystatechange=function(){4===n.readyState&&200===n.status&&e(JSON.parse(n.responseText))}}))},e.stringToArray=_e}).call(this,n(34))},function(t,e,n){"use strict";n.r(e),n.d(e,"capitalize",(function(){return r.a})),n.d(e,"createChainedFunction",(function(){return o})),n.d(e,"createSvgIcon",(function(){return i.a})),n.d(e,"debounce",(function(){return s})),n.d(e,"deprecatedPropType",(function(){return a})),n.d(e,"isMuiElement",(function(){return l})),n.d(e,"ownerDocument",(function(){return c})),n.d(e,"ownerWindow",(function(){return p})),n.d(e,"requirePropFactory",(function(){return h})),n.d(e,"setRef",(function(){return d.a})),n.d(e,"unsupportedProp",(function(){return f})),n.d(e,"useControlled",(function(){return g.a})),n.d(e,"useEventCallback",(function(){return y})),n.d(e,"useForkRef",(function(){return m.a})),n.d(e,"unstable_useId",(function(){return b.a})),n.d(e,"useIsFocusVisible",(function(){return w.a}));var r=n(19);function o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){return null==e?t:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t.apply(this,r),e.apply(this,r)}}),(function(){}))}var i=n(55);function s(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var s=this,a=function(){t.apply(s,o)};clearTimeout(e),e=setTimeout(a,n)}return r.clear=function(){clearTimeout(e)},r}function a(t,e){return function(){return null}}var u=n(1);function l(t,e){return u.isValidElement(t)&&-1!==e.indexOf(t.type.muiName)}function c(t){return t&&t.ownerDocument||document}function p(t){return c(t).defaultView||window}function h(t){return function(){return null}}var d=n(31);function f(t,e,n,r,o){return null}var g=n(52),v="undefined"!==typeof window?u.useLayoutEffect:u.useEffect;function y(t){var e=u.useRef(t);return v((function(){e.current=t})),u.useCallback((function(){return e.current.apply(void 0,arguments)}),[])}var m=n(54),b=n(51),w=n(53)},,function(t,e,n){"use strict";var r=/[A-Z]/g,o=/^ms-/,i={};function s(t){return"-"+t.toLowerCase()}e.a=function(t){if(i.hasOwnProperty(t))return i[t];var e=t.replace(r,s);return i[t]=o.test(e)?"-"+e:e}},,function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n};Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),s=n(1),a=n(12),u=n(43),l=function(t){function e(e){var n=t.call(this,e)||this;return n.props=e,n}return r(e,t),e.prototype.render=function(){return null},e.mapChildColumnDefs=function(t){return i.Children.map(t,(function(t){return e.toColDef(t.props)}))},e.toColDef=function(t){var n=t.children,r=o(t,["children"]);return e.hasChildColumns(n)&&(r.children=e.mapChildColumnDefs(n)),r},e.hasChildColumns=function(t){return i.Children.count(t)>0},e}(s.Component);function c(t,e){t.forEach((function(t){l[t]=e}))}e.AgGridColumn=l,c(u.ColDefUtil.BOOLEAN_PROPERTIES,a.bool),c(u.ColDefUtil.STRING_PROPERTIES,a.string),c(u.ColDefUtil.OBJECT_PROPERTIES,a.object),c(u.ColDefUtil.ARRAY_PROPERTIES,a.array),c(u.ColDefUtil.NUMBER_PROPERTIES,a.number),c(u.ColDefUtil.FUNCTION_PROPERTIES,a.func)},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.IdentityCheck="IdentityCheck",t.DeepValueCheck="DeepValueCheck",t.NoCheck="NoCheck"}(r=e.ChangeDetectionStrategyType||(e.ChangeDetectionStrategyType={}));var o=function(){function t(){var t;this.strategyMap=((t={})[r.DeepValueCheck]=new s,t[r.IdentityCheck]=new i((function(t,e){return t===e})),t[r.NoCheck]=new i((function(t,e){return!1})),t)}return t.prototype.getStrategy=function(t){return this.strategyMap[t]},t}();e.ChangeDetectionService=o;var i=function(){function t(t){this.strategy=t}return t.prototype.areEqual=function(t,e){return this.strategy(t,e)},t}(),s=function(){function t(){}return t.prototype.areEqual=function(e,n){return t.areEquivalent(t.copy(e),t.copy(n))},t.unwrapStringOrNumber=function(t){return t instanceof Number||t instanceof String?t.valueOf():t},t.copy=function(t){if(!t)return t;if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(this.copy(t[n]));return e}return"object"!==typeof t?t:[{},t].reduce((function(t,e){return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}),{})},t.isNaN=function(t){return Number.isNaN?Number.isNaN(t):"number"===typeof t&&isNaN(t)},t.areEquivalent=function(e,n){if(e=t.unwrapStringOrNumber(e),n=t.unwrapStringOrNumber(n),e===n)return!0;if(null===e||null===n||typeof e!==typeof n)return!1;if(t.isNaN(e)&&t.isNaN(n))return!0;if(e instanceof Date)return n instanceof Date&&e.valueOf()===n.valueOf();if("function"===typeof e)return e.toString()===n.toString();if("object"!==typeof e||e.$$typeof&&"Symbol(react.element)"===e.$$typeof.toString())return e==n;var r=void 0===e.areEquivPropertyTracking,o=void 0===n.areEquivPropertyTracking;try{var i=void 0;if(r)e.areEquivPropertyTracking=[];else if(e.areEquivPropertyTracking.some((function(t){return t===n})))return!0;if(o)n.areEquivPropertyTracking=[];else if(n.areEquivPropertyTracking.some((function(t){return t===e})))return!0;e.areEquivPropertyTracking.push(n),n.areEquivPropertyTracking.push(e);var s={};for(i in e)"areEquivPropertyTracking"!=i&&(s[i]=null);for(i in n)"areEquivPropertyTracking"!=i&&(s[i]=null);for(i in s)if(!this.areEquivalent(e[i],n[i]))return!1;return!0}finally{r&&delete e.areEquivPropertyTracking,o&&delete n.areEquivPropertyTracking}},t}()},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"===typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,l=[],c=!1,p=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):p=-1,l.length&&d())}function d(){if(!c){var t=a(h);c=!0;for(var e=l.length;e;){for(u=l,l=[];++p<e;)u&&u[p].run();p=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new f(t,e)),1!==l.length||c||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1);function o(t){var e=r.useState(t),n=e[0],o=e[1],i=t||n;return r.useEffect((function(){null==n&&o("mui-".concat(Math.round(1e5*Math.random())))}),[n]),i}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1);function o(t){var e=t.controlled,n=t.default,o=(t.name,t.state,r.useRef(void 0!==e).current),i=r.useState(n),s=i[0],a=i[1];return[o?e:s,r.useCallback((function(t){o||a(t)}),[])]}},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(1),o=n(28),i=!0,s=!1,a=null,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function l(t){t.metaKey||t.altKey||t.ctrlKey||(i=!0)}function c(){i=!1}function p(){"hidden"===this.visibilityState&&s&&(i=!0)}function h(t){var e=t.target;try{return e.matches(":focus-visible")}catch(n){}return i||function(t){var e=t.type,n=t.tagName;return!("INPUT"!==n||!u[e]||t.readOnly)||("TEXTAREA"===n&&!t.readOnly||!!t.isContentEditable)}(e)}function d(){s=!0,window.clearTimeout(a),a=window.setTimeout((function(){s=!1}),100)}function f(){return{isFocusVisible:h,onBlurVisible:d,ref:r.useCallback((function(t){var e,n=o.findDOMNode(t);null!=n&&((e=n.ownerDocument).addEventListener("keydown",l,!0),e.addEventListener("mousedown",c,!0),e.addEventListener("pointerdown",c,!0),e.addEventListener("touchstart",c,!0),e.addEventListener("visibilitychange",p,!0))}),[])}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(1),o=n(31);function i(t,e){return r.useMemo((function(){return null==t&&null==e?null:function(n){Object(o.a)(t,n),Object(o.a)(e,n)}}),[t,e])}},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(3),o=n(1),i=n.n(o),s=n(5),a=(n(12),n(10)),u=n(13),l=n(19),c=o.forwardRef((function(t,e){var n=t.children,i=t.classes,u=t.className,c=t.color,p=void 0===c?"inherit":c,h=t.component,d=void 0===h?"svg":h,f=t.fontSize,g=void 0===f?"default":f,v=t.htmlColor,y=t.titleAccess,m=t.viewBox,b=void 0===m?"0 0 24 24":m,w=Object(s.a)(t,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return o.createElement(d,Object(r.a)({className:Object(a.a)(i.root,u,"inherit"!==p&&i["color".concat(Object(l.a)(p))],"default"!==g&&i["fontSize".concat(Object(l.a)(g))]),focusable:"false",viewBox:b,color:v,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:e},w),n,y?o.createElement("title",null,y):null)}));c.muiName="SvgIcon";var p=Object(u.a)((function(t){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:t.typography.pxToRem(24),transition:t.transitions.create("fill",{duration:t.transitions.duration.shorter})},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorAction:{color:t.palette.action.active},colorError:{color:t.palette.error.main},colorDisabled:{color:t.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:t.typography.pxToRem(20)},fontSizeLarge:{fontSize:t.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(c);function h(t,e){var n=function(e,n){return i.a.createElement(p,Object(r.a)({ref:n},e),t)};return n.muiName=p.muiName,i.a.memo(i.a.forwardRef(n))}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return o}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(25),o=n(26);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n(1)),s=(0,r(n(27)).default)(i.createElement(i.Fragment,null,i.createElement("circle",{cx:"15.5",cy:"9.5",r:"1.5"}),i.createElement("circle",{cx:"8.5",cy:"9.5",r:"1.5"}),i.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5z"})),"SentimentVeryDissatisfied");e.default=s},function(t,e,n){"use strict";var r=n(25),o=n(26);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n(1)),s=(0,r(n(27)).default)(i.createElement(i.Fragment,null,i.createElement("circle",{cx:"15.5",cy:"9.5",r:"1.5"}),i.createElement("circle",{cx:"8.5",cy:"9.5",r:"1.5"}),i.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-3.5c.73 0 1.39.19 1.97.53.12-.14.86-.98 1.01-1.14-.85-.56-1.87-.89-2.98-.89-1.11 0-2.13.33-2.99.88.97 1.09.01.02 1.01 1.14.59-.33 1.25-.52 1.98-.52z"})),"SentimentDissatisfied");e.default=s},function(t,e,n){"use strict";var r=n(25),o=n(26);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n(1)),s=(0,r(n(27)).default)(i.createElement(i.Fragment,null,i.createElement("circle",{cx:"15.5",cy:"9.5",r:"1.5"}),i.createElement("circle",{cx:"8.5",cy:"9.5",r:"1.5"}),i.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-4c-.73 0-1.38-.18-1.96-.52-.12.14-.86.98-1.01 1.15.86.55 1.87.87 2.97.87 1.11 0 2.12-.33 2.98-.88-.97-1.09-.01-.02-1.01-1.15-.59.35-1.24.53-1.97.53z"})),"SentimentSatisfied");e.default=s},function(t,e,n){"use strict";var r=n(25),o=n(26);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n(1)),s=(0,r(n(27)).default)(i.createElement(i.Fragment,null,i.createElement("circle",{cx:"15.5",cy:"9.5",r:"1.5"}),i.createElement("circle",{cx:"8.5",cy:"9.5",r:"1.5"}),i.createElement("path",{d:"M12 16c-1.48 0-2.75-.81-3.45-2H6.88c.8 2.05 2.79 3.5 5.12 3.5s4.32-1.45 5.12-3.5h-1.67c-.69 1.19-1.97 2-3.45 2zm-.01-14C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),"SentimentSatisfiedAltOutlined");e.default=s},function(t,e,n){"use strict";var r=n(25),o=n(26);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n(1)),s=(0,r(n(27)).default)(i.createElement(i.Fragment,null,i.createElement("circle",{cx:"15.5",cy:"9.5",r:"1.5"}),i.createElement("circle",{cx:"8.5",cy:"9.5",r:"1.5"}),i.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm-5-6c.78 2.34 2.72 4 5 4s4.22-1.66 5-4H7z"})),"SentimentVerySatisfied");e.default=s},function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,"a",(function(){return u}));var s=n(16);function a(t,e){return!e||"object"!==i(e)&&"function"!==typeof e?Object(s.a)(t):e}function u(t){return function(){var e,n=r(t);if(o()){var i=r(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return a(this,e)}}},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,"a",(function(){return o}))},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t){for(var e="https://material-ui.com/production-error/?code="+t,n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+t+"; visit "+e+" for the full message."}n.d(e,"a",(function(){return r}))},,,,,,function(t,e,n){"use strict";var r=n(42),o="function"===typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,s=o?Symbol.for("react.portal"):60106,a=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,l=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,p=o?Symbol.for("react.context"):60110,h=o?Symbol.for("react.forward_ref"):60112,d=o?Symbol.for("react.suspense"):60113,f=o?Symbol.for("react.memo"):60115,g=o?Symbol.for("react.lazy"):60116,v="function"===typeof Symbol&&Symbol.iterator;function y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||m}function C(){}function E(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||m}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(y(85));this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},C.prototype=w.prototype;var _=E.prototype=new C;_.constructor=E,r(_,w.prototype),_.isPureReactComponent=!0;var O={current:null},R=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function T(t,e,n){var r,o={},s=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)R.call(e,r)&&!S.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:t,key:s,ref:a,props:o,_owner:O.current}}function P(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var A=/\/+/g,I=[];function D(t,e,n,r){if(I.length){var o=I.pop();return o.result=t,o.keyPrefix=e,o.func=n,o.context=r,o.count=0,o}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function N(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>I.length&&I.push(t)}function x(t,e,n){return null==t?0:function t(e,n,r,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case s:u=!0}}if(u)return r(o,e,""===n?"."+k(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=n+k(a=e[l],l);u+=t(a,c,r,o)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=v&&e[v]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),l=0;!(a=e.next()).done;)u+=t(a=a.value,c=n+k(a,l++),r,o);else if("object"===a)throw r=""+e,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return u}(t,"",e,n)}function k(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function L(t,e){t.func.call(t.context,e,t.count++)}function F(t,e,n){var r=t.result,o=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?M(t,r,n,(function(t){return t})):null!=t&&(P(t)&&(t=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,o+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(A,"$&/")+"/")+n)),r.push(t))}function M(t,e,n,r,o){var i="";null!=n&&(i=(""+n).replace(A,"$&/")+"/"),x(t,F,e=D(e,i,r,o)),N(e)}var j={current:null};function V(){var t=j.current;if(null===t)throw Error(y(321));return t}var G={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:O,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:function(t,e,n){if(null==t)return t;var r=[];return M(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;x(t,L,e=D(null,null,e,n)),N(e)},count:function(t){return x(t,(function(){return null}),null)},toArray:function(t){var e=[];return M(t,e,null,(function(t){return t})),e},only:function(t){if(!P(t))throw Error(y(143));return t}},e.Component=w,e.Fragment=a,e.Profiler=l,e.PureComponent=E,e.StrictMode=u,e.Suspense=d,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(y(267,t));var o=r({},t.props),s=t.key,a=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,u=O.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)R.call(e,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var p=0;p<c;p++)l[p]=arguments[p+2];o.children=l}return{$$typeof:i,type:t.type,key:s,ref:a,props:o,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:p,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},e.createElement=T,e.createFactory=function(t){var e=T.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:h,render:t}},e.isValidElement=P,e.lazy=function(t){return{$$typeof:g,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:f,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return V().useCallback(t,e)},e.useContext=function(t,e){return V().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return V().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return V().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return V().useLayoutEffect(t,e)},e.useMemo=function(t,e){return V().useMemo(t,e)},e.useReducer=function(t,e,n){return V().useReducer(t,e,n)},e.useRef=function(t){return V().useRef(t)},e.useState=function(t){return V().useState(t)},e.version="16.13.1"},function(t,e,n){"use strict";var r=n(1),o=n(42),i=n(110);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));function a(t,e,n,r,o,i,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var u=!1,l=null,c=!1,p=null,h={onError:function(t){u=!0,l=t}};function d(t,e,n,r,o,i,s,c,p){u=!1,l=null,a.apply(h,arguments)}var f=null,g=null,v=null;function y(t,e,n){var r=t.type||"unknown-event";t.currentTarget=v(n),function(t,e,n,r,o,i,a,h,f){if(d.apply(this,arguments),u){if(!u)throw Error(s(198));var g=l;u=!1,l=null,c||(c=!0,p=g)}}(r,e,void 0,t),t.currentTarget=null}var m=null,b={};function w(){if(m)for(var t in b){var e=b[t],n=m.indexOf(t);if(!(-1<n))throw Error(s(96,t));if(!E[n]){if(!e.extractEvents)throw Error(s(97,t));for(var r in E[n]=e,n=e.eventTypes){var o=void 0,i=n[r],a=e,u=r;if(_.hasOwnProperty(u))throw Error(s(99,u));_[u]=i;var l=i.phasedRegistrationNames;if(l){for(o in l)l.hasOwnProperty(o)&&C(l[o],a,u);o=!0}else i.registrationName?(C(i.registrationName,a,u),o=!0):o=!1;if(!o)throw Error(s(98,r,t))}}}}function C(t,e,n){if(O[t])throw Error(s(100,t));O[t]=e,R[t]=e.eventTypes[n].dependencies}var E=[],_={},O={},R={};function S(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!b.hasOwnProperty(e)||b[e]!==r){if(b[e])throw Error(s(102,e));b[e]=r,n=!0}}n&&w()}var T=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),P=null,A=null,I=null;function D(t){if(t=g(t)){if("function"!==typeof P)throw Error(s(280));var e=t.stateNode;e&&(e=f(e),P(t.stateNode,t.type,e))}}function N(t){A?I?I.push(t):I=[t]:A=t}function x(){if(A){var t=A,e=I;if(I=A=null,D(t),e)for(t=0;t<e.length;t++)D(e[t])}}function k(t,e){return t(e)}function L(t,e,n,r,o){return t(e,n,r,o)}function F(){}var M=k,j=!1,V=!1;function G(){null===A&&null===I||(F(),x())}function W(t,e,n){if(V)return t(e,n);V=!0;try{return M(t,e,n)}finally{V=!1,G()}}var H=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,B=Object.prototype.hasOwnProperty,U={},z={};function q(t,e,n,r,o,i){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){K[t]=new q(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];K[e]=new q(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){K[t]=new q(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){K[t]=new q(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){K[t]=new q(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){K[t]=new q(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){K[t]=new q(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){K[t]=new q(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){K[t]=new q(t,5,!1,t.toLowerCase(),null,!1)}));var Y=/[\-:]([a-z])/g;function Q(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(Y,Q);K[e]=new q(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(Y,Q);K[e]=new q(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(Y,Q);K[e]=new q(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){K[t]=new q(t,1,!1,t.toLowerCase(),null,!1)})),K.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){K[t]=new q(t,1,!1,t.toLowerCase(),null,!0)}));var X=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $(t,e,n,r){var o=K.hasOwnProperty(e)?K[e]:null;(null!==o?0===o.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,o,r)&&(n=null),r||null===o?function(t){return!!B.call(z,t)||!B.call(U,t)&&(H.test(t)?z[t]=!0:(U[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=null===n?3!==o.type&&"":n:(e=o.attributeName,r=o.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,tt=Z?Symbol.for("react.element"):60103,et=Z?Symbol.for("react.portal"):60106,nt=Z?Symbol.for("react.fragment"):60107,rt=Z?Symbol.for("react.strict_mode"):60108,ot=Z?Symbol.for("react.profiler"):60114,it=Z?Symbol.for("react.provider"):60109,st=Z?Symbol.for("react.context"):60110,at=Z?Symbol.for("react.concurrent_mode"):60111,ut=Z?Symbol.for("react.forward_ref"):60112,lt=Z?Symbol.for("react.suspense"):60113,ct=Z?Symbol.for("react.suspense_list"):60120,pt=Z?Symbol.for("react.memo"):60115,ht=Z?Symbol.for("react.lazy"):60116,dt=Z?Symbol.for("react.block"):60121,ft="function"===typeof Symbol&&Symbol.iterator;function gt(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=ft&&t[ft]||t["@@iterator"])?t:null}function vt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case nt:return"Fragment";case et:return"Portal";case ot:return"Profiler";case rt:return"StrictMode";case lt:return"Suspense";case ct:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case st:return"Context.Consumer";case it:return"Context.Provider";case ut:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case pt:return vt(t.type);case dt:return vt(t.render);case ht:if(t=1===t._status?t._result:null)return vt(t)}return null}function yt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,o=t._debugSource,i=vt(t.type);n=null,r&&(n=vt(r.type)),r=i,i="",o?i=" (at "+o.fileName.replace(J,"")+":"+o.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}e+=n,t=t.return}while(t);return e}function mt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function bt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function wt(t){t._valueTracker||(t._valueTracker=function(t){var e=bt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(t){r=""+t,i.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Ct(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Et(t,e){var n=e.checked;return o({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function _t(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=mt(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Ot(t,e){null!=(e=e.checked)&&$(t,"checked",e,!1)}function Rt(t,e){Ot(t,e);var n=mt(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?Tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tt(t,e.type,mt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function St(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Tt(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Pt(t,e){return t=o({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function At(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mt(n),e=null,o=0;o<t.length;o++){if(t[o].value===n)return t[o].selected=!0,void(r&&(t[o].defaultSelected=!0));null!==e||t[o].disabled||(e=t[o])}null!==e&&(e.selected=!0)}}function It(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return o({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:mt(n)}}function Nt(t,e){var n=mt(e.value),r=mt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function xt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var kt="http://www.w3.org/1999/xhtml",Lt="http://www.w3.org/2000/svg";function Ft(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Ft(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var jt,Vt=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==Lt||"innerHTML"in t)t.innerHTML=e;else{for((jt=jt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Gt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Wt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ht={animationend:Wt("Animation","AnimationEnd"),animationiteration:Wt("Animation","AnimationIteration"),animationstart:Wt("Animation","AnimationStart"),transitionend:Wt("Transition","TransitionEnd")},Bt={},Ut={};function zt(t){if(Bt[t])return Bt[t];if(!Ht[t])return t;var e,n=Ht[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ut)return Bt[t]=n[e];return t}T&&(Ut=document.createElement("div").style,"AnimationEvent"in window||(delete Ht.animationend.animation,delete Ht.animationiteration.animation,delete Ht.animationstart.animation),"TransitionEvent"in window||delete Ht.transitionend.transition);var qt=zt("animationend"),Kt=zt("animationiteration"),Yt=zt("animationstart"),Qt=zt("transitionend"),Xt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$t=new("function"===typeof WeakMap?WeakMap:Map);function Jt(t){var e=$t.get(t);return void 0===e&&(e=new Map,$t.set(t,e)),e}function Zt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if(Zt(t)!==t)throw Error(s(188))}function ne(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Zt(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return ee(o),t;if(i===r)return ee(o),e;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a){for(u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function re(t,e){if(null==e)throw Error(s(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function oe(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var ie=null;function se(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)y(t,e[r],n[r]);else e&&y(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function ae(t){if(null!==t&&(ie=re(ie,t)),t=ie,ie=null,t){if(oe(t,se),ie)throw Error(s(95));if(c)throw t=p,c=!1,p=null,t}}function ue(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function le(t){if(!T)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var ce=[];function pe(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>ce.length&&ce.push(t)}function he(t,e,n,r){if(ce.length){var o=ce.pop();return o.topLevelType=t,o.eventSystemFlags=r,o.nativeEvent=e,o.targetInst=n,o}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function de(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=Tn(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var o=ue(t.nativeEvent);r=t.topLevelType;var i=t.nativeEvent,s=t.eventSystemFlags;0===n&&(s|=64);for(var a=null,u=0;u<E.length;u++){var l=E[u];l&&(l=l.extractEvents(r,e,i,o,s))&&(a=re(a,l))}ae(a)}}function fe(t,e,n){if(!n.has(t)){switch(t){case"scroll":Ye(e,"scroll",!0);break;case"focus":case"blur":Ye(e,"focus",!0),Ye(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":le(t)&&Ye(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xt.indexOf(t)&&Ke(t,e)}n.set(t,null)}}var ge,ve,ye,me=!1,be=[],we=null,Ce=null,Ee=null,_e=new Map,Oe=new Map,Re=[],Se="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Te="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Pe(t,e,n,r,o){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:o,container:r}}function Ae(t,e){switch(t){case"focus":case"blur":we=null;break;case"dragenter":case"dragleave":Ce=null;break;case"mouseover":case"mouseout":Ee=null;break;case"pointerover":case"pointerout":_e.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oe.delete(e.pointerId)}}function Ie(t,e,n,r,o,i){return null===t||t.nativeEvent!==i?(t=Pe(e,n,r,o,i),null!==e&&(null!==(e=Pn(e))&&ve(e)),t):(t.eventSystemFlags|=r,t)}function De(t){var e=Tn(t.target);if(null!==e){var n=Zt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=te(n)))return t.blockedOn=e,void i.unstable_runWithPriority(t.priority,(function(){ye(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Ne(t){if(null!==t.blockedOn)return!1;var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=Pn(e);return null!==n&&ve(n),t.blockedOn=e,!1}return!0}function xe(t,e,n){Ne(t)&&n.delete(e)}function ke(){for(me=!1;0<be.length;){var t=be[0];if(null!==t.blockedOn){null!==(t=Pn(t.blockedOn))&&ge(t);break}var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:be.shift()}null!==we&&Ne(we)&&(we=null),null!==Ce&&Ne(Ce)&&(Ce=null),null!==Ee&&Ne(Ee)&&(Ee=null),_e.forEach(xe),Oe.forEach(xe)}function Le(t,e){t.blockedOn===e&&(t.blockedOn=null,me||(me=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ke)))}function Fe(t){function e(e){return Le(e,t)}if(0<be.length){Le(be[0],t);for(var n=1;n<be.length;n++){var r=be[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==we&&Le(we,t),null!==Ce&&Le(Ce,t),null!==Ee&&Le(Ee,t),_e.forEach(e),Oe.forEach(e),n=0;n<Re.length;n++)(r=Re[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Re.length&&null===(n=Re[0]).blockedOn;)De(n),null===n.blockedOn&&Re.shift()}var Me={},je=new Map,Ve=new Map,Ge=["abort","abort",qt,"animationEnd",Kt,"animationIteration",Yt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Qt,"transitionEnd","waiting","waiting"];function We(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],o=t[n+1],i="on"+(o[0].toUpperCase()+o.slice(1));i={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[r],eventPriority:e},Ve.set(r,e),je.set(r,i),Me[o]=i}}We("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),We("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),We(Ge,2);for(var He="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Be=0;Be<He.length;Be++)Ve.set(He[Be],0);var Ue=i.unstable_UserBlockingPriority,ze=i.unstable_runWithPriority,qe=!0;function Ke(t,e){Ye(e,t,!1)}function Ye(t,e,n){var r=Ve.get(e);switch(void 0===r?2:r){case 0:r=Qe.bind(null,e,1,t);break;case 1:r=Xe.bind(null,e,1,t);break;default:r=$e.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function Qe(t,e,n,r){j||F();var o=$e,i=j;j=!0;try{L(o,t,e,n,r)}finally{(j=i)||G()}}function Xe(t,e,n,r){ze(Ue,$e.bind(null,t,e,n,r))}function $e(t,e,n,r){if(qe)if(0<be.length&&-1<Se.indexOf(t))t=Pe(null,t,e,n,r),be.push(t);else{var o=Je(t,e,n,r);if(null===o)Ae(t,r);else if(-1<Se.indexOf(t))t=Pe(o,t,e,n,r),be.push(t);else if(!function(t,e,n,r,o){switch(e){case"focus":return we=Ie(we,t,e,n,r,o),!0;case"dragenter":return Ce=Ie(Ce,t,e,n,r,o),!0;case"mouseover":return Ee=Ie(Ee,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return _e.set(i,Ie(_e.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Oe.set(i,Ie(Oe.get(i)||null,t,e,n,r,o)),!0}return!1}(o,t,e,n,r)){Ae(t,r),t=he(t,r,null,e);try{W(de,t)}finally{pe(t)}}}}function Je(t,e,n,r){if(null!==(n=Tn(n=ue(r)))){var o=Zt(n);if(null===o)n=null;else{var i=o.tag;if(13===i){if(null!==(n=te(o)))return n;n=null}else if(3===i){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}t=he(t,r,n,e);try{W(de,t)}finally{pe(t)}return null}var Ze={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function en(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||Ze.hasOwnProperty(t)&&Ze[t]?(""+e).trim():e+"px"}function nn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=en(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}Object.keys(Ze).forEach((function(t){tn.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ze[e]=Ze[t]}))}));var rn=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(t,e){if(e){if(rn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62,""))}}function sn(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var an=kt;function un(t,e){var n=Jt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=R[e];for(var r=0;r<e.length;r++)fe(e[r],t,n)}function ln(){}function cn(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function pn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hn(t,e){var n,r=pn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=pn(r)}}function dn(){for(var t=window,e=cn();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=cn((t=e.contentWindow).document)}return e}function fn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var gn=null,vn=null;function yn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function mn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var bn="function"===typeof setTimeout?setTimeout:void 0,wn="function"===typeof clearTimeout?clearTimeout:void 0;function Cn(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function En(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var _n=Math.random().toString(36).slice(2),On="__reactInternalInstance$"+_n,Rn="__reactEventHandlers$"+_n,Sn="__reactContainere$"+_n;function Tn(t){var e=t[On];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Sn]||n[On]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=En(t);null!==t;){if(n=t[On])return n;t=En(t)}return e}n=(t=n).parentNode}return null}function Pn(t){return!(t=t[On]||t[Sn])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function An(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function In(t){return t[Rn]||null}function Dn(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Nn(t,e){var n=t.stateNode;if(!n)return null;var r=f(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}function xn(t,e,n){(e=Nn(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function kn(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Dn(e);for(e=n.length;0<e--;)xn(n[e],"captured",t);for(e=0;e<n.length;e++)xn(n[e],"bubbled",t)}}function Ln(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Nn(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Fn(t){t&&t.dispatchConfig.registrationName&&Ln(t._targetInst,null,t)}function Mn(t){oe(t,kn)}var jn=null,Vn=null,Gn=null;function Wn(){if(Gn)return Gn;var t,e,n=Vn,r=n.length,o="value"in jn?jn.value:jn.textContent,i=o.length;for(t=0;t<r&&n[t]===o[t];t++);var s=r-t;for(e=1;e<=s&&n[r-e]===o[i-e];e++);return Gn=o.slice(t,1<e?1-e:void 0)}function Hn(){return!0}function Bn(){return!1}function Un(t,e,n,r){for(var o in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(o)&&((e=t[o])?this[o]=e(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Hn:Bn,this.isPropagationStopped=Bn,this}function zn(t,e,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,t,e,n,r),o}return new this(t,e,n,r)}function qn(t){if(!(t instanceof this))throw Error(s(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Kn(t){t.eventPool=[],t.getPooled=zn,t.release=qn}o(Un.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){this.isPersistent=Hn},isPersistent:Bn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Bn,this._dispatchInstances=this._dispatchListeners=null}}),Un.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Un.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var i=new e;return o(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=o({},r.Interface,t),n.extend=r.extend,Kn(n),n},Kn(Un);var Yn=Un.extend({data:null}),Qn=Un.extend({data:null}),Xn=[9,13,27,32],$n=T&&"CompositionEvent"in window,Jn=null;T&&"documentMode"in document&&(Jn=document.documentMode);var Zn=T&&"TextEvent"in window&&!Jn,tr=T&&(!$n||Jn&&8<Jn&&11>=Jn),er=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function or(t,e){switch(t){case"keyup":return-1!==Xn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ir(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var sr=!1;var ar={eventTypes:nr,extractEvents:function(t,e,n,r){var o;if($n)t:{switch(t){case"compositionstart":var i=nr.compositionStart;break t;case"compositionend":i=nr.compositionEnd;break t;case"compositionupdate":i=nr.compositionUpdate;break t}i=void 0}else sr?or(t,n)&&(i=nr.compositionEnd):"keydown"===t&&229===n.keyCode&&(i=nr.compositionStart);return i?(tr&&"ko"!==n.locale&&(sr||i!==nr.compositionStart?i===nr.compositionEnd&&sr&&(o=Wn()):(Vn="value"in(jn=r)?jn.value:jn.textContent,sr=!0)),i=Yn.getPooled(i,e,n,r),o?i.data=o:null!==(o=ir(n))&&(i.data=o),Mn(i),o=i):o=null,(t=Zn?function(t,e){switch(t){case"compositionend":return ir(e);case"keypress":return 32!==e.which?null:(rr=!0,er);case"textInput":return(t=e.data)===er&&rr?null:t;default:return null}}(t,n):function(t,e){if(sr)return"compositionend"===t||!$n&&or(t,e)?(t=Wn(),Gn=Vn=jn=null,sr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tr&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=Qn.getPooled(nr.beforeInput,e,n,r)).data=t,Mn(e)):e=null,null===o?e:null===e?o:[o,e]}},ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!ur[t.type]:"textarea"===e}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function pr(t,e,n){return(t=Un.getPooled(cr.change,t,e,n)).type="change",N(n),Mn(t),t}var hr=null,dr=null;function fr(t){ae(t)}function gr(t){if(Ct(An(t)))return t}function vr(t,e){if("change"===t)return e}var yr=!1;function mr(){hr&&(hr.detachEvent("onpropertychange",br),dr=hr=null)}function br(t){if("value"===t.propertyName&&gr(dr))if(t=pr(dr,t,ue(t)),j)ae(t);else{j=!0;try{k(fr,t)}finally{j=!1,G()}}}function wr(t,e,n){"focus"===t?(mr(),dr=n,(hr=e).attachEvent("onpropertychange",br)):"blur"===t&&mr()}function Cr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return gr(dr)}function Er(t,e){if("click"===t)return gr(e)}function _r(t,e){if("input"===t||"change"===t)return gr(e)}T&&(yr=le("input")&&(!document.documentMode||9<document.documentMode));var Or={eventTypes:cr,_isInputEventSupported:yr,extractEvents:function(t,e,n,r){var o=e?An(e):window,i=o.nodeName&&o.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===o.type)var s=vr;else if(lr(o))if(yr)s=_r;else{s=Cr;var a=wr}else(i=o.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(s=Er);if(s&&(s=s(t,e)))return pr(s,n,r);a&&a(t,o,e),"blur"===t&&(t=o._wrapperState)&&t.controlled&&"number"===o.type&&Tt(o,"number",o.value)}},Rr=Un.extend({view:null,detail:null}),Sr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sr[t])&&!!e[t]}function Pr(){return Tr}var Ar=0,Ir=0,Dr=!1,Nr=!1,xr=Rr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Pr,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Ar;return Ar=t.screenX,Dr?"mousemove"===t.type?t.screenX-e:0:(Dr=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Ir;return Ir=t.screenY,Nr?"mousemove"===t.type?t.screenY-e:0:(Nr=!0,0)}}),kr=xr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Lr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Fr={eventTypes:Lr,extractEvents:function(t,e,n,r,o){var i="mouseover"===t||"pointerover"===t,s="mouseout"===t||"pointerout"===t;if(i&&0===(32&o)&&(n.relatedTarget||n.fromElement)||!s&&!i)return null;(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,s)?(s=e,null!==(e=(e=n.relatedTarget||n.toElement)?Tn(e):null)&&(e!==Zt(e)||5!==e.tag&&6!==e.tag)&&(e=null)):s=null;if(s===e)return null;if("mouseout"===t||"mouseover"===t)var a=xr,u=Lr.mouseLeave,l=Lr.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(a=kr,u=Lr.pointerLeave,l=Lr.pointerEnter,c="pointer");if(t=null==s?i:An(s),i=null==e?i:An(e),(u=a.getPooled(u,s,n,r)).type=c+"leave",u.target=t,u.relatedTarget=i,(n=a.getPooled(l,e,n,r)).type=c+"enter",n.target=i,n.relatedTarget=t,c=e,(r=s)&&c)t:{for(l=c,s=0,t=a=r;t;t=Dn(t))s++;for(t=0,e=l;e;e=Dn(e))t++;for(;0<s-t;)a=Dn(a),s--;for(;0<t-s;)l=Dn(l),t--;for(;s--;){if(a===l||a===l.alternate)break t;a=Dn(a),l=Dn(l)}a=null}else a=null;for(l=a,a=[];r&&r!==l&&(null===(s=r.alternate)||s!==l);)a.push(r),r=Dn(r);for(r=[];c&&c!==l&&(null===(s=c.alternate)||s!==l);)r.push(c),c=Dn(c);for(c=0;c<a.length;c++)Ln(a[c],"bubbled",u);for(c=r.length;0<c--;)Ln(r[c],"captured",n);return 0===(64&o)?[u]:[u,n]}};var Mr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},jr=Object.prototype.hasOwnProperty;function Vr(t,e){if(Mr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!jr.call(e,n[r])||!Mr(t[n[r]],e[n[r]]))return!1;return!0}var Gr=T&&"documentMode"in document&&11>=document.documentMode,Wr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Hr=null,Br=null,Ur=null,zr=!1;function qr(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return zr||null==Hr||Hr!==cn(n)?null:("selectionStart"in(n=Hr)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Ur&&Vr(Ur,n)?null:(Ur=n,(t=Un.getPooled(Wr.select,Br,t,e)).type="select",t.target=Hr,Mn(t),t))}var Kr={eventTypes:Wr,extractEvents:function(t,e,n,r,o,i){if(!(i=!(o=i||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){t:{o=Jt(o),i=R.onSelect;for(var s=0;s<i.length;s++)if(!o.has(i[s])){o=!1;break t}o=!0}i=!o}if(i)return null;switch(o=e?An(e):window,t){case"focus":(lr(o)||"true"===o.contentEditable)&&(Hr=o,Br=e,Ur=null);break;case"blur":Ur=Br=Hr=null;break;case"mousedown":zr=!0;break;case"contextmenu":case"mouseup":case"dragend":return zr=!1,qr(n,r);case"selectionchange":if(Gr)break;case"keydown":case"keyup":return qr(n,r)}return null}},Yr=Un.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Qr=Un.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xr=Rr.extend({relatedTarget:null});function $r(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},to=Rr.extend({key:function(t){if(t.key){var e=Jr[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=$r(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Zr[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Pr,charCode:function(t){return"keypress"===t.type?$r(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?$r(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),eo=xr.extend({dataTransfer:null}),no=Rr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Pr}),ro=Un.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),oo=xr.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),io={eventTypes:Me,extractEvents:function(t,e,n,r){var o=je.get(t);if(!o)return null;switch(t){case"keypress":if(0===$r(n))return null;case"keydown":case"keyup":t=to;break;case"blur":case"focus":t=Xr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=xr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=eo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=no;break;case qt:case Kt:case Yt:t=Yr;break;case Qt:t=ro;break;case"scroll":t=Rr;break;case"wheel":t=oo;break;case"copy":case"cut":case"paste":t=Qr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=kr;break;default:t=Un}return Mn(e=t.getPooled(o,e,n,r)),e}};if(m)throw Error(s(101));m=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),f=In,g=Pn,v=An,S({SimpleEventPlugin:io,EnterLeaveEventPlugin:Fr,ChangeEventPlugin:Or,SelectEventPlugin:Kr,BeforeInputEventPlugin:ar});var so=[],ao=-1;function uo(t){0>ao||(t.current=so[ao],so[ao]=null,ao--)}function lo(t,e){ao++,so[ao]=t.current,t.current=e}var co={},po={current:co},ho={current:!1},fo=co;function go(t,e){var n=t.type.contextTypes;if(!n)return co;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=e[o];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vo(t){return null!==(t=t.childContextTypes)&&void 0!==t}function yo(){uo(ho),uo(po)}function mo(t,e,n){if(po.current!==co)throw Error(s(168));lo(po,e),lo(ho,n)}function bo(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,vt(e)||"Unknown",i));return o({},n,{},r)}function wo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||co,fo=po.current,lo(po,t),lo(ho,ho.current),!0}function Co(t,e,n){var r=t.stateNode;if(!r)throw Error(s(169));n?(t=bo(t,e,fo),r.__reactInternalMemoizedMergedChildContext=t,uo(ho),uo(po),lo(po,t)):uo(ho),lo(ho,n)}var Eo=i.unstable_runWithPriority,_o=i.unstable_scheduleCallback,Oo=i.unstable_cancelCallback,Ro=i.unstable_requestPaint,So=i.unstable_now,To=i.unstable_getCurrentPriorityLevel,Po=i.unstable_ImmediatePriority,Ao=i.unstable_UserBlockingPriority,Io=i.unstable_NormalPriority,Do=i.unstable_LowPriority,No=i.unstable_IdlePriority,xo={},ko=i.unstable_shouldYield,Lo=void 0!==Ro?Ro:function(){},Fo=null,Mo=null,jo=!1,Vo=So(),Go=1e4>Vo?So:function(){return So()-Vo};function Wo(){switch(To()){case Po:return 99;case Ao:return 98;case Io:return 97;case Do:return 96;case No:return 95;default:throw Error(s(332))}}function Ho(t){switch(t){case 99:return Po;case 98:return Ao;case 97:return Io;case 96:return Do;case 95:return No;default:throw Error(s(332))}}function Bo(t,e){return t=Ho(t),Eo(t,e)}function Uo(t,e,n){return t=Ho(t),_o(t,e,n)}function zo(t){return null===Fo?(Fo=[t],Mo=_o(Po,Ko)):Fo.push(t),xo}function qo(){if(null!==Mo){var t=Mo;Mo=null,Oo(t)}Ko()}function Ko(){if(!jo&&null!==Fo){jo=!0;var t=0;try{var e=Fo;Bo(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Fo=null}catch(n){throw null!==Fo&&(Fo=Fo.slice(t+1)),_o(Po,qo),n}finally{jo=!1}}}function Yo(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function Qo(t,e){if(t&&t.defaultProps)for(var n in e=o({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Xo={current:null},$o=null,Jo=null,Zo=null;function ti(){Zo=Jo=$o=null}function ei(t){var e=Xo.current;uo(Xo),t.type._context._currentValue=e}function ni(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function ri(t,e){$o=t,Zo=Jo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Is=!0),t.firstContext=null)}function oi(t,e){if(Zo!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(Zo=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Jo){if(null===$o)throw Error(s(308));Jo=e,$o.dependencies={expirationTime:0,firstContext:e,responders:null}}else Jo=Jo.next=e;return t._currentValue}var ii=!1;function si(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ai(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function ui(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function li(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function ci(t,e){var n=t.alternate;null!==n&&ai(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function pi(t,e,n,r){var i=t.updateQueue;ii=!1;var s=i.baseQueue,a=i.shared.pending;if(null!==a){if(null!==s){var u=s.next;s.next=a.next,a.next=u}s=a,i.shared.pending=null,null!==(u=t.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=a))}if(null!==s){u=s.next;var l=i.baseState,c=0,p=null,h=null,d=null;if(null!==u)for(var f=u;;){if((a=f.expirationTime)<r){var g={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===d?(h=d=g,p=l):d=d.next=g,a>c&&(c=a)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),iu(a,f.suspenseConfig);t:{var v=t,y=f;switch(a=e,g=n,y.tag){case 1:if("function"===typeof(v=y.payload)){l=v.call(g,l,a);break t}l=v;break t;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null===(a="function"===typeof(v=y.payload)?v.call(g,l,a):v)||void 0===a)break t;l=o({},l,a);break t;case 2:ii=!0}}null!==f.callback&&(t.effectTag|=32,null===(a=i.effects)?i.effects=[f]:a.push(f))}if(null===(f=f.next)||f===u){if(null===(a=i.shared.pending))break;f=s.next=a.next,a.next=u,i.baseQueue=s=a,i.shared.pending=null}}null===d?p=l:d.next=h,i.baseState=p,i.baseQueue=d,su(c),t.expirationTime=c,t.memoizedState=l}}function hi(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(null!==o){if(r.callback=null,r=o,o=n,"function"!==typeof r)throw Error(s(191,r));r.call(o)}}}var di=X.ReactCurrentBatchConfig,fi=(new r.Component).refs;function gi(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:o({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var vi={isMounted:function(t){return!!(t=t._reactInternalFiber)&&Zt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=qa(),o=di.suspense;(o=ui(r=Ka(r,t,o),o)).payload=e,void 0!==n&&null!==n&&(o.callback=n),li(t,o),Ya(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=qa(),o=di.suspense;(o=ui(r=Ka(r,t,o),o)).tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),li(t,o),Ya(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=qa(),r=di.suspense;(r=ui(n=Ka(n,t,r),r)).tag=2,void 0!==e&&null!==e&&(r.callback=e),li(t,r),Ya(t,n)}};function yi(t,e,n,r,o,i,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,i,s):!e.prototype||!e.prototype.isPureReactComponent||(!Vr(n,r)||!Vr(o,i))}function mi(t,e,n){var r=!1,o=co,i=e.contextType;return"object"===typeof i&&null!==i?i=oi(i):(o=vo(e)?fo:po.current,i=(r=null!==(r=e.contextTypes)&&void 0!==r)?go(t,o):co),e=new e(n,i),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=vi,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function bi(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vi.enqueueReplaceState(e,e.state,null)}function wi(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=fi,si(t);var i=e.contextType;"object"===typeof i&&null!==i?o.context=oi(i):(i=vo(e)?fo:po.current,o.context=go(t,i)),pi(t,n,o,r),o.state=t.memoizedState,"function"===typeof(i=e.getDerivedStateFromProps)&&(gi(t,e,i,n),o.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(e=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),e!==o.state&&vi.enqueueReplaceState(o,o.state,null),pi(t,n,o,r),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.effectTag|=4)}var Ci=Array.isArray;function Ei(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,t));var o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:((e=function(t){var e=r.refs;e===fi&&(e=r.refs={}),null===t?delete e[o]:e[o]=t})._stringRef=o,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function _i(t,e){if("textarea"!==t.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Oi(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(t,e){return(t=Su(t,e)).index=0,t.sibling=null,t}function i(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Au(n,t.mode,r)).return=t,e):((e=o(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=o(e,n.props)).ref=Ei(t,e,n),r.return=t,r):((r=Tu(n.type,n.key,n.props,null,t.mode,r)).ref=Ei(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Iu(n,t.mode,r)).return=t,e):((e=o(e,n.children||[])).return=t,e)}function p(t,e,n,r,i){return null===e||7!==e.tag?((e=Pu(n,t.mode,r,i)).return=t,e):((e=o(e,n)).return=t,e)}function h(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Au(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case tt:return(n=Tu(e.type,e.key,e.props,null,t.mode,n)).ref=Ei(t,null,e),n.return=t,n;case et:return(e=Iu(e,t.mode,n)).return=t,e}if(Ci(e)||gt(e))return(e=Pu(e,t.mode,n,null)).return=t,e;_i(t,e)}return null}function d(t,e,n,r){var o=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==o?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case tt:return n.key===o?n.type===nt?p(t,e,n.props.children,r,o):l(t,e,n,r):null;case et:return n.key===o?c(t,e,n,r):null}if(Ci(n)||gt(n))return null!==o?null:p(t,e,n,r,null);_i(t,n)}return null}function f(t,e,n,r,o){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case tt:return t=t.get(null===r.key?n:r.key)||null,r.type===nt?p(e,t,r.props.children,o,r.key):l(e,t,r,o);case et:return c(e,t=t.get(null===r.key?n:r.key)||null,r,o)}if(Ci(r)||gt(r))return p(e,t=t.get(n)||null,r,o,null);_i(e,r)}return null}function g(o,s,a,u){for(var l=null,c=null,p=s,g=s=0,v=null;null!==p&&g<a.length;g++){p.index>g?(v=p,p=null):v=p.sibling;var y=d(o,p,a[g],u);if(null===y){null===p&&(p=v);break}t&&p&&null===y.alternate&&e(o,p),s=i(y,s,g),null===c?l=y:c.sibling=y,c=y,p=v}if(g===a.length)return n(o,p),l;if(null===p){for(;g<a.length;g++)null!==(p=h(o,a[g],u))&&(s=i(p,s,g),null===c?l=p:c.sibling=p,c=p);return l}for(p=r(o,p);g<a.length;g++)null!==(v=f(p,o,g,a[g],u))&&(t&&null!==v.alternate&&p.delete(null===v.key?g:v.key),s=i(v,s,g),null===c?l=v:c.sibling=v,c=v);return t&&p.forEach((function(t){return e(o,t)})),l}function v(o,a,u,l){var c=gt(u);if("function"!==typeof c)throw Error(s(150));if(null==(u=c.call(u)))throw Error(s(151));for(var p=c=null,g=a,v=a=0,y=null,m=u.next();null!==g&&!m.done;v++,m=u.next()){g.index>v?(y=g,g=null):y=g.sibling;var b=d(o,g,m.value,l);if(null===b){null===g&&(g=y);break}t&&g&&null===b.alternate&&e(o,g),a=i(b,a,v),null===p?c=b:p.sibling=b,p=b,g=y}if(m.done)return n(o,g),c;if(null===g){for(;!m.done;v++,m=u.next())null!==(m=h(o,m.value,l))&&(a=i(m,a,v),null===p?c=m:p.sibling=m,p=m);return c}for(g=r(o,g);!m.done;v++,m=u.next())null!==(m=f(g,o,v,m.value,l))&&(t&&null!==m.alternate&&g.delete(null===m.key?v:m.key),a=i(m,a,v),null===p?c=m:p.sibling=m,p=m);return t&&g.forEach((function(t){return e(o,t)})),c}return function(t,r,i,u){var l="object"===typeof i&&null!==i&&i.type===nt&&null===i.key;l&&(i=i.props.children);var c="object"===typeof i&&null!==i;if(c)switch(i.$$typeof){case tt:t:{for(c=i.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(i.type===nt){n(t,l.sibling),(r=o(l,i.props.children)).return=t,t=r;break t}break;default:if(l.elementType===i.type){n(t,l.sibling),(r=o(l,i.props)).ref=Ei(t,l,i),r.return=t,t=r;break t}}n(t,l);break}e(t,l),l=l.sibling}i.type===nt?((r=Pu(i.props.children,t.mode,u,i.key)).return=t,t=r):((u=Tu(i.type,i.key,i.props,null,t.mode,u)).ref=Ei(t,r,i),u.return=t,t=u)}return a(t);case et:t:{for(l=i.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(t,r.sibling),(r=o(r,i.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Iu(i,t.mode,u)).return=t,t=r}return a(t)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(t,r.sibling),(r=o(r,i)).return=t,t=r):(n(t,r),(r=Au(i,t.mode,u)).return=t,t=r),a(t);if(Ci(i))return g(t,r,i,u);if(gt(i))return v(t,r,i,u);if(c&&_i(t,i),"undefined"===typeof i&&!l)switch(t.tag){case 1:case 0:throw t=t.type,Error(s(152,t.displayName||t.name||"Component"))}return n(t,r)}}var Ri=Oi(!0),Si=Oi(!1),Ti={},Pi={current:Ti},Ai={current:Ti},Ii={current:Ti};function Di(t){if(t===Ti)throw Error(s(174));return t}function Ni(t,e){switch(lo(Ii,e),lo(Ai,t),lo(Pi,Ti),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mt(null,"");break;default:e=Mt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}uo(Pi),lo(Pi,e)}function xi(){uo(Pi),uo(Ai),uo(Ii)}function ki(t){Di(Ii.current);var e=Di(Pi.current),n=Mt(e,t.type);e!==n&&(lo(Ai,t),lo(Pi,n))}function Li(t){Ai.current===t&&(uo(Pi),uo(Ai))}var Fi={current:0};function Mi(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function ji(t,e){return{responder:t,props:e}}var Vi=X.ReactCurrentDispatcher,Gi=X.ReactCurrentBatchConfig,Wi=0,Hi=null,Bi=null,Ui=null,zi=!1;function qi(){throw Error(s(321))}function Ki(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mr(t[n],e[n]))return!1;return!0}function Yi(t,e,n,r,o,i){if(Wi=i,Hi=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Vi.current=null===t||null===t.memoizedState?ys:ms,t=n(r,o),e.expirationTime===Wi){i=0;do{if(e.expirationTime=0,!(25>i))throw Error(s(301));i+=1,Ui=Bi=null,e.updateQueue=null,Vi.current=bs,t=n(r,o)}while(e.expirationTime===Wi)}if(Vi.current=vs,e=null!==Bi&&null!==Bi.next,Wi=0,Ui=Bi=Hi=null,zi=!1,e)throw Error(s(300));return t}function Qi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ui?Hi.memoizedState=Ui=t:Ui=Ui.next=t,Ui}function Xi(){if(null===Bi){var t=Hi.alternate;t=null!==t?t.memoizedState:null}else t=Bi.next;var e=null===Ui?Hi.memoizedState:Ui.next;if(null!==e)Ui=e,Bi=t;else{if(null===t)throw Error(s(310));t={memoizedState:(Bi=t).memoizedState,baseState:Bi.baseState,baseQueue:Bi.baseQueue,queue:Bi.queue,next:null},null===Ui?Hi.memoizedState=Ui=t:Ui=Ui.next=t}return Ui}function $i(t,e){return"function"===typeof e?e(t):e}function Ji(t){var e=Xi(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=Bi,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var u=a=i=null,l=o;do{var c=l.expirationTime;if(c<Wi){var p={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(a=u=p,i=r):u=u.next=p,c>Hi.expirationTime&&(Hi.expirationTime=c,su(c))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),iu(c,l.suspenseConfig),r=l.eagerReducer===t?l.eagerState:t(r,l.action);l=l.next}while(null!==l&&l!==o);null===u?i=r:u.next=a,Mr(r,e.memoizedState)||(Is=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Zi(t){var e=Xi(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{i=t(i,a.action),a=a.next}while(a!==o);Mr(i,e.memoizedState)||(Is=!0),e.memoizedState=i,null===e.baseQueue&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ts(t){var e=Qi();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t}).dispatch=gs.bind(null,Hi,t),[e.memoizedState,t]}function es(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Hi.updateQueue)?(e={lastEffect:null},Hi.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ns(){return Xi().memoizedState}function rs(t,e,n,r){var o=Qi();Hi.effectTag|=t,o.memoizedState=es(1|e,n,void 0,void 0===r?null:r)}function os(t,e,n,r){var o=Xi();r=void 0===r?null:r;var i=void 0;if(null!==Bi){var s=Bi.memoizedState;if(i=s.destroy,null!==r&&Ki(r,s.deps))return void es(e,n,i,r)}Hi.effectTag|=t,o.memoizedState=es(1|e,n,i,r)}function is(t,e){return rs(516,4,t,e)}function ss(t,e){return os(516,4,t,e)}function as(t,e){return os(4,2,t,e)}function us(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function ls(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,os(4,2,us.bind(null,e,t),n)}function cs(){}function ps(t,e){return Qi().memoizedState=[t,void 0===e?null:e],t}function hs(t,e){var n=Xi();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Ki(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ds(t,e){var n=Xi();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Ki(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fs(t,e,n){var r=Wo();Bo(98>r?98:r,(function(){t(!0)})),Bo(97<r?97:r,(function(){var r=Gi.suspense;Gi.suspense=void 0===e?null:e;try{t(!1),n()}finally{Gi.suspense=r}}))}function gs(t,e,n){var r=qa(),o=di.suspense;o={expirationTime:r=Ka(r,t,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var i=e.pending;if(null===i?o.next=o:(o.next=i.next,i.next=o),e.pending=o,i=t.alternate,t===Hi||null!==i&&i===Hi)zi=!0,o.expirationTime=Wi,Hi.expirationTime=Wi;else{if(0===t.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=e.lastRenderedReducer))try{var s=e.lastRenderedState,a=i(s,n);if(o.eagerReducer=i,o.eagerState=a,Mr(a,s))return}catch(u){}Ya(t,r)}}var vs={readContext:oi,useCallback:qi,useContext:qi,useEffect:qi,useImperativeHandle:qi,useLayoutEffect:qi,useMemo:qi,useReducer:qi,useRef:qi,useState:qi,useDebugValue:qi,useResponder:qi,useDeferredValue:qi,useTransition:qi},ys={readContext:oi,useCallback:ps,useContext:oi,useEffect:is,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,rs(4,2,us.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rs(4,2,t,e)},useMemo:function(t,e){var n=Qi();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qi();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=gs.bind(null,Hi,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Qi().memoizedState=t},useState:ts,useDebugValue:cs,useResponder:ji,useDeferredValue:function(t,e){var n=ts(t),r=n[0],o=n[1];return is((function(){var n=Gi.suspense;Gi.suspense=void 0===e?null:e;try{o(t)}finally{Gi.suspense=n}}),[t,e]),r},useTransition:function(t){var e=ts(!1),n=e[0];return e=e[1],[ps(fs.bind(null,e,t),[e,t]),n]}},ms={readContext:oi,useCallback:hs,useContext:oi,useEffect:ss,useImperativeHandle:ls,useLayoutEffect:as,useMemo:ds,useReducer:Ji,useRef:ns,useState:function(){return Ji($i)},useDebugValue:cs,useResponder:ji,useDeferredValue:function(t,e){var n=Ji($i),r=n[0],o=n[1];return ss((function(){var n=Gi.suspense;Gi.suspense=void 0===e?null:e;try{o(t)}finally{Gi.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Ji($i),n=e[0];return e=e[1],[hs(fs.bind(null,e,t),[e,t]),n]}},bs={readContext:oi,useCallback:hs,useContext:oi,useEffect:ss,useImperativeHandle:ls,useLayoutEffect:as,useMemo:ds,useReducer:Zi,useRef:ns,useState:function(){return Zi($i)},useDebugValue:cs,useResponder:ji,useDeferredValue:function(t,e){var n=Zi($i),r=n[0],o=n[1];return ss((function(){var n=Gi.suspense;Gi.suspense=void 0===e?null:e;try{o(t)}finally{Gi.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Zi($i),n=e[0];return e=e[1],[hs(fs.bind(null,e,t),[e,t]),n]}},ws=null,Cs=null,Es=!1;function _s(t,e){var n=Ou(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Os(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Rs(t){if(Es){var e=Cs;if(e){var n=e;if(!Os(t,e)){if(!(e=Cn(n.nextSibling))||!Os(t,e))return t.effectTag=-1025&t.effectTag|2,Es=!1,void(ws=t);_s(ws,n)}ws=t,Cs=Cn(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Es=!1,ws=t}}function Ss(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ws=t}function Ts(t){if(t!==ws)return!1;if(!Es)return Ss(t),Es=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!mn(e,t.memoizedProps))for(e=Cs;e;)_s(t,e),e=Cn(e.nextSibling);if(Ss(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Cs=Cn(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Cs=null}}else Cs=ws?Cn(t.stateNode.nextSibling):null;return!0}function Ps(){Cs=ws=null,Es=!1}var As=X.ReactCurrentOwner,Is=!1;function Ds(t,e,n,r){e.child=null===t?Si(e,null,n,r):Ri(e,t.child,n,r)}function Ns(t,e,n,r,o){n=n.render;var i=e.ref;return ri(e,o),r=Yi(t,e,n,r,i,o),null===t||Is?(e.effectTag|=1,Ds(t,e,r,o),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=o&&(t.expirationTime=0),Ys(t,e,o))}function xs(t,e,n,r,o,i){if(null===t){var s=n.type;return"function"!==typeof s||Ru(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Tu(n.type,null,r,null,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,ks(t,e,s,r,o,i))}return s=t.child,o<i&&(o=s.memoizedProps,(n=null!==(n=n.compare)?n:Vr)(o,r)&&t.ref===e.ref)?Ys(t,e,i):(e.effectTag|=1,(t=Su(s,r)).ref=e.ref,t.return=e,e.child=t)}function ks(t,e,n,r,o,i){return null!==t&&Vr(t.memoizedProps,r)&&t.ref===e.ref&&(Is=!1,o<i)?(e.expirationTime=t.expirationTime,Ys(t,e,i)):Fs(t,e,n,r,i)}function Ls(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Fs(t,e,n,r,o){var i=vo(n)?fo:po.current;return i=go(e,i),ri(e,o),n=Yi(t,e,n,r,i,o),null===t||Is?(e.effectTag|=1,Ds(t,e,n,o),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=o&&(t.expirationTime=0),Ys(t,e,o))}function Ms(t,e,n,r,o){if(vo(n)){var i=!0;wo(e)}else i=!1;if(ri(e,o),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),mi(e,n,r),wi(e,n,r,o),r=!0;else if(null===t){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=oi(l):l=go(e,l=vo(n)?fo:po.current);var c=n.getDerivedStateFromProps,p="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;p||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||u!==l)&&bi(e,s,r,l),ii=!1;var h=e.memoizedState;s.state=h,pi(e,r,s,o),u=e.memoizedState,a!==r||h!==u||ho.current||ii?("function"===typeof c&&(gi(e,n,c,r),u=e.memoizedState),(a=ii||yi(e,n,a,r,h,u,l))?(p||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.effectTag|=4)):("function"===typeof s.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):("function"===typeof s.componentDidMount&&(e.effectTag|=4),r=!1)}else s=e.stateNode,ai(t,e),a=e.memoizedProps,s.props=e.type===e.elementType?a:Qo(e.type,a),u=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=oi(l):l=go(e,l=vo(n)?fo:po.current),(p="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||u!==l)&&bi(e,s,r,l),ii=!1,u=e.memoizedState,s.state=u,pi(e,r,s,o),h=e.memoizedState,a!==r||u!==h||ho.current||ii?("function"===typeof c&&(gi(e,n,c,r),h=e.memoizedState),(c=ii||yi(e,n,a,r,u,h,l))?(p||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,h,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof s.componentDidUpdate&&(e.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=h),s.props=r,s.state=h,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return js(t,e,n,r,i,o)}function js(t,e,n,r,o,i){Ls(t,e);var s=0!==(64&e.effectTag);if(!r&&!s)return o&&Co(e,n,!1),Ys(t,e,i);r=e.stateNode,As.current=e;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&s?(e.child=Ri(e,t.child,null,i),e.child=Ri(e,null,a,i)):Ds(t,e,a,i),e.memoizedState=r.state,o&&Co(e,n,!0),e.child}function Vs(t){var e=t.stateNode;e.pendingContext?mo(0,e.pendingContext,e.pendingContext!==e.context):e.context&&mo(0,e.context,!1),Ni(t,e.containerInfo)}var Gs,Ws,Hs,Bs={dehydrated:null,retryTime:0};function Us(t,e,n){var r,o=e.mode,i=e.pendingProps,s=Fi.current,a=!1;if((r=0!==(64&e.effectTag))||(r=0!==(2&s)&&(null===t||null!==t.memoizedState)),r?(a=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),lo(Fi,1&s),null===t){if(void 0!==i.fallback&&Rs(e),a){if(a=i.fallback,(i=Pu(null,o,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,i.child=t;null!==t;)t.return=i,t=t.sibling;return(n=Pu(a,o,n,null)).return=e,i.sibling=n,e.memoizedState=Bs,e.child=i,n}return o=i.children,e.memoizedState=null,e.child=Si(e,null,o,n)}if(null!==t.memoizedState){if(o=(t=t.child).sibling,a){if(i=i.fallback,(n=Su(t,t.pendingProps)).return=e,0===(2&e.mode)&&(a=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(o=Su(o,i)).return=e,n.sibling=o,n.childExpirationTime=0,e.memoizedState=Bs,e.child=n,o}return n=Ri(e,t.child,i.children,n),e.memoizedState=null,e.child=n}if(t=t.child,a){if(a=i.fallback,(i=Pu(null,o,0,null)).return=e,i.child=t,null!==t&&(t.return=i),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,i.child=t;null!==t;)t.return=i,t=t.sibling;return(n=Pu(a,o,n,null)).return=e,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,e.memoizedState=Bs,e.child=i,n}return e.memoizedState=null,e.child=Ri(e,t,i.children,n)}function zs(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),ni(t.return,e)}function qs(t,e,n,r,o,i){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:o,lastEffect:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailExpiration=0,s.tailMode=o,s.lastEffect=i)}function Ks(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(Ds(t,e,r.children,n),0!==(2&(r=Fi.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&zs(t,n);else if(19===t.tag)zs(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lo(Fi,r),0===(2&e.mode))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;null!==n;)null!==(t=n.alternate)&&null===Mi(t)&&(o=n),n=n.sibling;null===(n=o)?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),qs(e,!1,o,n,i,e.lastEffect);break;case"backwards":for(n=null,o=e.child,e.child=null;null!==o;){if(null!==(t=o.alternate)&&null===Mi(t)){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}qs(e,!0,n,null,i,e.lastEffect);break;case"together":qs(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Ys(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&su(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Su(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Su(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Qs(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xs(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return vo(e.type)&&yo(),null;case 3:return xi(),uo(ho),uo(po),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Ts(e)||(e.effectTag|=4),null;case 5:Li(e),n=Di(Ii.current);var i=e.type;if(null!==t&&null!=e.stateNode)Ws(t,e,i,r,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(null===e.stateNode)throw Error(s(166));return null}if(t=Di(Pi.current),Ts(e)){r=e.stateNode,i=e.type;var a=e.memoizedProps;switch(r[On]=e,r[Rn]=a,i){case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(t=0;t<Xt.length;t++)Ke(Xt[t],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"form":Ke("reset",r),Ke("submit",r);break;case"details":Ke("toggle",r);break;case"input":_t(r,a),Ke("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ke("invalid",r),un(n,"onChange");break;case"textarea":Dt(r,a),Ke("invalid",r),un(n,"onChange")}for(var u in on(i,a),t=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(t=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(t=["children",""+l]):O.hasOwnProperty(u)&&null!=l&&un(n,u)}switch(i){case"input":wt(r),St(r,a,!0);break;case"textarea":wt(r),xt(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=ln)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,t===an&&(t=Ft(i)),t===an?"script"===i?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=u.createElement(i,{is:r.is}):(t=u.createElement(i),"select"===i&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,i),t[On]=e,t[Rn]=r,Gs(t,e),e.stateNode=t,u=sn(i,r),i){case"iframe":case"object":case"embed":Ke("load",t),l=r;break;case"video":case"audio":for(l=0;l<Xt.length;l++)Ke(Xt[l],t);l=r;break;case"source":Ke("error",t),l=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),l=r;break;case"form":Ke("reset",t),Ke("submit",t),l=r;break;case"details":Ke("toggle",t),l=r;break;case"input":_t(t,r),l=Et(t,r),Ke("invalid",t),un(n,"onChange");break;case"option":l=Pt(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},l=o({},r,{value:void 0}),Ke("invalid",t),un(n,"onChange");break;case"textarea":Dt(t,r),l=It(t,r),Ke("invalid",t),un(n,"onChange");break;default:l=r}on(i,l);var c=l;for(a in c)if(c.hasOwnProperty(a)){var p=c[a];"style"===a?nn(t,p):"dangerouslySetInnerHTML"===a?null!=(p=p?p.__html:void 0)&&Vt(t,p):"children"===a?"string"===typeof p?("textarea"!==i||""!==p)&&Gt(t,p):"number"===typeof p&&Gt(t,""+p):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(O.hasOwnProperty(a)?null!=p&&un(n,a):null!=p&&$(t,a,p,u))}switch(i){case"input":wt(t),St(t,r,!1);break;case"textarea":wt(t),xt(t);break;case"option":null!=r.value&&t.setAttribute("value",""+mt(r.value));break;case"select":t.multiple=!!r.multiple,null!=(n=r.value)?At(t,!!r.multiple,n,!1):null!=r.defaultValue&&At(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof l.onClick&&(t.onclick=ln)}yn(i,r)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Hs(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(s(166));n=Di(Ii.current),Di(Pi.current),Ts(e)?(n=e.stateNode,r=e.memoizedProps,n[On]=e,n.nodeValue!==r&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[On]=e,e.stateNode=n)}return null;case 13:return uo(Fi),r=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==r,r=!1,null===t?void 0!==e.memoizedProps.fallback&&Ts(e):(r=null!==(i=t.memoizedState),n||null===i||null!==(i=t.child.sibling)&&(null!==(a=e.firstEffect)?(e.firstEffect=i,i.nextEffect=a):(e.firstEffect=e.lastEffect=i,i.nextEffect=null),i.effectTag=8)),n&&!r&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Fi.current)?Ta===wa&&(Ta=Ca):(Ta!==wa&&Ta!==Ca||(Ta=Ea),0!==Na&&null!==Oa&&(xu(Oa,Sa),ku(Oa,Na)))),(n||r)&&(e.effectTag|=4),null);case 4:return xi(),null;case 10:return ei(e),null;case 17:return vo(e.type)&&yo(),null;case 19:if(uo(Fi),null===(r=e.memoizedState))return null;if(i=0!==(64&e.effectTag),null===(a=r.rendering)){if(i)Qs(r,!1);else if(Ta!==wa||null!==t&&0!==(64&t.effectTag))for(a=e.child;null!==a;){if(null!==(t=Mi(a))){for(e.effectTag|=64,Qs(r,!1),null!==(i=t.updateQueue)&&(e.updateQueue=i,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=e.child;null!==r;)a=n,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(t=i.alternate)?(i.childExpirationTime=0,i.expirationTime=a,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=t.childExpirationTime,i.expirationTime=t.expirationTime,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,a=t.dependencies,i.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),r=r.sibling;return lo(Fi,1&Fi.current|2),e.child}a=a.sibling}}else{if(!i)if(null!==(t=Mi(a))){if(e.effectTag|=64,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),Qs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Go()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,i=!0,Qs(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(a.sibling=e.child,e.child=a):(null!==(n=r.last)?n.sibling=a:e.child=a,r.last=a)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Go()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Go(),n.sibling=null,e=Fi.current,lo(Fi,i?1&e|2:1&e),n):null}throw Error(s(156,e.tag))}function $s(t){switch(t.tag){case 1:vo(t.type)&&yo();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(xi(),uo(ho),uo(po),0!==(64&(e=t.effectTag)))throw Error(s(285));return t.effectTag=-4097&e|64,t;case 5:return Li(t),null;case 13:return uo(Fi),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return uo(Fi),null;case 4:return xi(),null;case 10:return ei(t),null;default:return null}}function Js(t,e){return{value:t,source:e,stack:yt(e)}}Gs=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ws=function(t,e,n,r,i){var s=t.memoizedProps;if(s!==r){var a,u,l=e.stateNode;switch(Di(Pi.current),t=null,n){case"input":s=Et(l,s),r=Et(l,r),t=[];break;case"option":s=Pt(l,s),r=Pt(l,r),t=[];break;case"select":s=o({},s,{value:void 0}),r=o({},r,{value:void 0}),t=[];break;case"textarea":s=It(l,s),r=It(l,r),t=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(l.onclick=ln)}for(a in on(n,r),n=null,s)if(!r.hasOwnProperty(a)&&s.hasOwnProperty(a)&&null!=s[a])if("style"===a)for(u in l=s[a])l.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(O.hasOwnProperty(a)?t||(t=[]):(t=t||[]).push(a,null));for(a in r){var c=r[a];if(l=null!=s?s[a]:void 0,r.hasOwnProperty(a)&&c!==l&&(null!=c||null!=l))if("style"===a)if(l){for(u in l)!l.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in c)c.hasOwnProperty(u)&&l[u]!==c[u]&&(n||(n={}),n[u]=c[u])}else n||(t||(t=[]),t.push(a,n)),n=c;else"dangerouslySetInnerHTML"===a?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(t=t||[]).push(a,c)):"children"===a?l===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(a,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(O.hasOwnProperty(a)?(null!=c&&un(i,a),t||l===c||(t=[])):(t=t||[]).push(a,c))}n&&(t=t||[]).push("style",n),i=t,(e.updateQueue=i)&&(e.effectTag|=4)}},Hs=function(t,e,n,r){n!==r&&(e.effectTag|=4)};var Zs="function"===typeof WeakSet?WeakSet:Set;function ta(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=yt(n)),null!==n&&vt(n.type),e=e.value,null!==t&&1===t.tag&&vt(t.type);try{console.error(e)}catch(o){setTimeout((function(){throw o}))}}function ea(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){mu(t,n)}else e.current=null}function na(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Qo(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(s(163))}function ra(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function oa(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ia(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void oa(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:Qo(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&hi(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}hi(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&yn(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Fe(n)))));case 19:case 17:case 20:case 21:return}throw Error(s(163))}function sa(t,e,n){switch("function"===typeof Eu&&Eu(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;Bo(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var o=e;try{n()}catch(i){mu(o,i)}}t=t.next}while(t!==r)}))}break;case 1:ea(e),"function"===typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){mu(t,n)}}(e,n);break;case 5:ea(e);break;case 4:ca(t,e,n)}}function aa(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&aa(e)}function ua(t){return 5===t.tag||3===t.tag||4===t.tag}function la(t){t:{for(var e=t.return;null!==e;){if(ua(e)){var n=e;break t}e=e.return}throw Error(s(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.effectTag&&(Gt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ua(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}r?function t(e,n,r){var o=e.tag,i=5===o||6===o;if(i)e=i?e.stateNode:e.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(8===r.nodeType?(n=r.parentNode).insertBefore(e,r):(n=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=ln));else if(4!==o&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e):function t(e,n,r){var o=e.tag,i=5===o||6===o;if(i)e=i?e.stateNode:e.stateNode.instance,n?r.insertBefore(e,n):r.appendChild(e);else if(4!==o&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e)}function ca(t,e,n){for(var r,o,i=e,a=!1;;){if(!a){a=i.return;t:for(;;){if(null===a)throw Error(s(160));switch(r=a.stateNode,a.tag){case 5:o=!1;break t;case 3:case 4:r=r.containerInfo,o=!0;break t}a=a.return}a=!0}if(5===i.tag||6===i.tag){t:for(var u=t,l=i,c=n,p=l;;)if(sa(u,p,c),null!==p.child&&4!==p.tag)p.child.return=p,p=p.child;else{if(p===l)break t;for(;null===p.sibling;){if(null===p.return||p.return===l)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}o?(u=r,l=i.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,o=!0,i.child.return=i,i=i.child;continue}}else if(sa(t,i,n),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function pa(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void ra(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,o=null!==t?t.memoizedProps:r;t=e.type;var i=e.updateQueue;if(e.updateQueue=null,null!==i){for(n[Rn]=r,"input"===t&&"radio"===r.type&&null!=r.name&&Ot(n,r),sn(t,o),e=sn(t,r),o=0;o<i.length;o+=2){var a=i[o],u=i[o+1];"style"===a?nn(n,u):"dangerouslySetInnerHTML"===a?Vt(n,u):"children"===a?Gt(n,u):$(n,a,u,e)}switch(t){case"input":Rt(n,r);break;case"textarea":Nt(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?At(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?At(n,!!r.multiple,r.defaultValue,!0):At(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(s(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Fe(e.containerInfo)));case 12:return;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,ka=Go()),null!==n)t:for(t=n;;){if(5===t.tag)i=t.stateNode,r?"function"===typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none":(i=t.stateNode,o=void 0!==(o=t.memoizedProps.style)&&null!==o&&o.hasOwnProperty("display")?o.display:null,i.style.display=en("display",o));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(i=t.child.sibling).return=t,t=i;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void ha(e);case 19:return void ha(e);case 17:return}throw Error(s(163))}function ha(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Zs),e.forEach((function(e){var r=wu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(t,e,n){(n=ui(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fa||(Fa=!0,Ma=r),ta(t,e)},n}function ga(t,e,n){(n=ui(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var o=e.value;n.payload=function(){return ta(t,e),r(o)}}var i=t.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===ja?ja=new Set([this]):ja.add(this),ta(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var va,ya=Math.ceil,ma=X.ReactCurrentDispatcher,ba=X.ReactCurrentOwner,wa=0,Ca=3,Ea=4,_a=0,Oa=null,Ra=null,Sa=0,Ta=wa,Pa=null,Aa=1073741823,Ia=1073741823,Da=null,Na=0,xa=!1,ka=0,La=null,Fa=!1,Ma=null,ja=null,Va=!1,Ga=null,Wa=90,Ha=null,Ba=0,Ua=null,za=0;function qa(){return 0!==(48&_a)?1073741821-(Go()/10|0):0!==za?za:za=1073741821-(Go()/10|0)}function Ka(t,e,n){if(0===(2&(e=e.mode)))return 1073741823;var r=Wo();if(0===(4&e))return 99===r?1073741823:1073741822;if(0!==(16&_a))return Sa;if(null!==n)t=Yo(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=Yo(t,150,100);break;case 97:case 96:t=Yo(t,5e3,250);break;case 95:t=2;break;default:throw Error(s(326))}return null!==Oa&&t===Sa&&--t,t}function Ya(t,e){if(50<Ba)throw Ba=0,Ua=null,Error(s(185));if(null!==(t=Qa(t,e))){var n=Wo();1073741823===e?0!==(8&_a)&&0===(48&_a)?Za(t):($a(t),0===_a&&qo()):$a(t),0===(4&_a)||98!==n&&99!==n||(null===Ha?Ha=new Map([[t,e]]):(void 0===(n=Ha.get(t))||n>e)&&Ha.set(t,e))}}function Qa(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,o=null;if(null===r&&3===t.tag)o=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){o=r.stateNode;break}r=r.return}return null!==o&&(Oa===o&&(su(e),Ta===Ea&&xu(o,Sa)),ku(o,e)),o}function Xa(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Nu(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function $a(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=zo(Za.bind(null,t));else{var e=Xa(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=qa();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var o=t.callbackPriority;if(t.callbackExpirationTime===e&&o>=r)return;n!==xo&&Oo(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?zo(Za.bind(null,t)):Uo(r,Ja.bind(null,t),{timeout:10*(1073741821-e)-Go()}),t.callbackNode=e}}}function Ja(t,e){if(za=0,e)return Lu(t,e=qa()),$a(t),null;var n=Xa(t);if(0!==n){if(e=t.callbackNode,0!==(48&_a))throw Error(s(327));if(gu(),t===Oa&&n===Sa||nu(t,n),null!==Ra){var r=_a;_a|=16;for(var o=ou();;)try{uu();break}catch(u){ru(t,u)}if(ti(),_a=r,ma.current=o,1===Ta)throw e=Pa,nu(t,n),xu(t,n),$a(t),e;if(null===Ra)switch(o=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=Ta,Oa=null,r){case wa:case 1:throw Error(s(345));case 2:Lu(t,2<n?2:n);break;case Ca:if(xu(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=pu(o)),1073741823===Aa&&10<(o=ka+500-Go())){if(xa){var i=t.lastPingedTime;if(0===i||i>=n){t.lastPingedTime=n,nu(t,n);break}}if(0!==(i=Xa(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=bn(hu.bind(null,t),o);break}hu(t);break;case Ea:if(xu(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=pu(o)),xa&&(0===(o=t.lastPingedTime)||o>=n)){t.lastPingedTime=n,nu(t,n);break}if(0!==(o=Xa(t))&&o!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==Ia?r=10*(1073741821-Ia)-Go():1073741823===Aa?r=0:(r=10*(1073741821-Aa)-5e3,0>(r=(o=Go())-r)&&(r=0),(n=10*(1073741821-n)-o)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ya(r/1960))-r)&&(r=n)),10<r){t.timeoutHandle=bn(hu.bind(null,t),r);break}hu(t);break;case 5:if(1073741823!==Aa&&null!==Da){i=Aa;var a=Da;if(0>=(r=0|a.busyMinDurationMs)?r=0:(o=0|a.busyDelayMs,r=(i=Go()-(10*(1073741821-i)-(0|a.timeoutMs||5e3)))<=o?0:o+r-i),10<r){xu(t,n),t.timeoutHandle=bn(hu.bind(null,t),r);break}}hu(t);break;default:throw Error(s(329))}if($a(t),t.callbackNode===e)return Ja.bind(null,t)}}return null}function Za(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!==(48&_a))throw Error(s(327));if(gu(),t===Oa&&e===Sa||nu(t,e),null!==Ra){var n=_a;_a|=16;for(var r=ou();;)try{au();break}catch(o){ru(t,o)}if(ti(),_a=n,ma.current=r,1===Ta)throw n=Pa,nu(t,e),xu(t,e),$a(t),n;if(null!==Ra)throw Error(s(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Oa=null,hu(t),$a(t)}return null}function tu(t,e){var n=_a;_a|=1;try{return t(e)}finally{0===(_a=n)&&qo()}}function eu(t,e){var n=_a;_a&=-2,_a|=8;try{return t(e)}finally{0===(_a=n)&&qo()}}function nu(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,wn(n)),null!==Ra)for(n=Ra.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yo();break;case 3:xi(),uo(ho),uo(po);break;case 5:Li(r);break;case 4:xi();break;case 13:case 19:uo(Fi);break;case 10:ei(r)}n=n.return}Oa=t,Ra=Su(t.current,null),Sa=e,Ta=wa,Pa=null,Ia=Aa=1073741823,Da=null,Na=0,xa=!1}function ru(t,e){for(;;){try{if(ti(),Vi.current=vs,zi)for(var n=Hi.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Wi=0,Ui=Bi=Hi=null,zi=!1,null===Ra||null===Ra.return)return Ta=1,Pa=e,Ra=null;t:{var o=t,i=Ra.return,s=Ra,a=e;if(e=Sa,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==a&&"object"===typeof a&&"function"===typeof a.then){var u=a;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.expirationTime=l.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var c=0!==(1&Fi.current),p=i;do{var h;if(h=13===p.tag){var d=p.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var f=p.memoizedProps;h=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!c)}}if(h){var g=p.updateQueue;if(null===g){var v=new Set;v.add(u),p.updateQueue=v}else g.add(u);if(0===(2&p.mode)){if(p.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ui(1073741823,null);y.tag=2,li(s,y)}s.expirationTime=1073741823;break t}a=void 0,s=e;var m=o.pingCache;if(null===m?(m=o.pingCache=new da,a=new Set,m.set(u,a)):void 0===(a=m.get(u))&&(a=new Set,m.set(u,a)),!a.has(s)){a.add(s);var b=bu.bind(null,o,u,s);u.then(b,b)}p.effectTag|=4096,p.expirationTime=e;break t}p=p.return}while(null!==p);a=Error((vt(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+yt(s))}5!==Ta&&(Ta=2),a=Js(a,s),p=i;do{switch(p.tag){case 3:u=a,p.effectTag|=4096,p.expirationTime=e,ci(p,fa(p,u,e));break t;case 1:u=a;var w=p.type,C=p.stateNode;if(0===(64&p.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==C&&"function"===typeof C.componentDidCatch&&(null===ja||!ja.has(C)))){p.effectTag|=4096,p.expirationTime=e,ci(p,ga(p,u,e));break t}}p=p.return}while(null!==p)}Ra=cu(Ra)}catch(E){e=E;continue}break}}function ou(){var t=ma.current;return ma.current=vs,null===t?vs:t}function iu(t,e){t<Aa&&2<t&&(Aa=t),null!==e&&t<Ia&&2<t&&(Ia=t,Da=e)}function su(t){t>Na&&(Na=t)}function au(){for(;null!==Ra;)Ra=lu(Ra)}function uu(){for(;null!==Ra&&!ko();)Ra=lu(Ra)}function lu(t){var e=va(t.alternate,t,Sa);return t.memoizedProps=t.pendingProps,null===e&&(e=cu(t)),ba.current=null,e}function cu(t){Ra=t;do{var e=Ra.alternate;if(t=Ra.return,0===(2048&Ra.effectTag)){if(e=Xs(e,Ra,Sa),1===Sa||1!==Ra.childExpirationTime){for(var n=0,r=Ra.child;null!==r;){var o=r.expirationTime,i=r.childExpirationTime;o>n&&(n=o),i>n&&(n=i),r=r.sibling}Ra.childExpirationTime=n}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Ra.firstEffect),null!==Ra.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Ra.firstEffect),t.lastEffect=Ra.lastEffect),1<Ra.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Ra:t.firstEffect=Ra,t.lastEffect=Ra))}else{if(null!==(e=$s(Ra)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Ra.sibling))return e;Ra=t}while(null!==Ra);return Ta===wa&&(Ta=5),null}function pu(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function hu(t){var e=Wo();return Bo(99,du.bind(null,t,e)),null}function du(t,e){do{gu()}while(null!==Ga);if(0!==(48&_a))throw Error(s(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var o=pu(n);if(t.firstPendingTime=o,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Oa&&(Ra=Oa=null,Sa=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){var i=_a;_a|=32,ba.current=null,gn=qe;var a=dn();if(fn(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else t:{var l=(u=(u=a.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{u.nodeType,p.nodeType}catch(S){u=null;break t}var h=0,d=-1,f=-1,g=0,v=0,y=a,m=null;e:for(;;){for(var b;y!==u||0!==c&&3!==y.nodeType||(d=h+c),y!==p||0!==l&&3!==y.nodeType||(f=h+l),3===y.nodeType&&(h+=y.nodeValue.length),null!==(b=y.firstChild);)m=y,y=b;for(;;){if(y===a)break e;if(m===u&&++g===c&&(d=h),m===p&&++v===l&&(f=h),null!==(b=y.nextSibling))break;m=(y=m).parentNode}y=b}u=-1===d||-1===f?null:{start:d,end:f}}else u=null}u=u||{start:0,end:0}}else u=null;vn={activeElementDetached:null,focusedElem:a,selectionRange:u},qe=!1,La=o;do{try{fu()}catch(S){if(null===La)throw Error(s(330));mu(La,S),La=La.nextEffect}}while(null!==La);La=o;do{try{for(a=t,u=e;null!==La;){var w=La.effectTag;if(16&w&&Gt(La.stateNode,""),128&w){var C=La.alternate;if(null!==C){var E=C.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&w){case 2:la(La),La.effectTag&=-3;break;case 6:la(La),La.effectTag&=-3,pa(La.alternate,La);break;case 1024:La.effectTag&=-1025;break;case 1028:La.effectTag&=-1025,pa(La.alternate,La);break;case 4:pa(La.alternate,La);break;case 8:ca(a,c=La,u),aa(c)}La=La.nextEffect}}catch(S){if(null===La)throw Error(s(330));mu(La,S),La=La.nextEffect}}while(null!==La);if(E=vn,C=dn(),w=E.focusedElem,u=E.selectionRange,C!==w&&w&&w.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==u&&fn(w)&&(C=u.start,void 0===(E=u.end)&&(E=C),"selectionStart"in w?(w.selectionStart=C,w.selectionEnd=Math.min(E,w.value.length)):(E=(C=w.ownerDocument||document)&&C.defaultView||window).getSelection&&(E=E.getSelection(),c=w.textContent.length,a=Math.min(u.start,c),u=void 0===u.end?a:Math.min(u.end,c),!E.extend&&a>u&&(c=u,u=a,a=c),c=hn(w,a),p=hn(w,u),c&&p&&(1!==E.rangeCount||E.anchorNode!==c.node||E.anchorOffset!==c.offset||E.focusNode!==p.node||E.focusOffset!==p.offset)&&((C=C.createRange()).setStart(c.node,c.offset),E.removeAllRanges(),a>u?(E.addRange(C),E.extend(p.node,p.offset)):(C.setEnd(p.node,p.offset),E.addRange(C))))),C=[];for(E=w;E=E.parentNode;)1===E.nodeType&&C.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<C.length;w++)(E=C[w]).element.scrollLeft=E.left,E.element.scrollTop=E.top}qe=!!gn,vn=gn=null,t.current=n,La=o;do{try{for(w=t;null!==La;){var _=La.effectTag;if(36&_&&ia(w,La.alternate,La),128&_){C=void 0;var O=La.ref;if(null!==O){var R=La.stateNode;switch(La.tag){case 5:C=R;break;default:C=R}"function"===typeof O?O(C):O.current=C}}La=La.nextEffect}}catch(S){if(null===La)throw Error(s(330));mu(La,S),La=La.nextEffect}}while(null!==La);La=null,Lo(),_a=i}else t.current=n;if(Va)Va=!1,Ga=t,Wa=e;else for(La=o;null!==La;)e=La.nextEffect,La.nextEffect=null,La=e;if(0===(e=t.firstPendingTime)&&(ja=null),1073741823===e?t===Ua?Ba++:(Ba=0,Ua=t):Ba=0,"function"===typeof Cu&&Cu(n.stateNode,r),$a(t),Fa)throw Fa=!1,t=Ma,Ma=null,t;return 0!==(8&_a)||qo(),null}function fu(){for(;null!==La;){var t=La.effectTag;0!==(256&t)&&na(La.alternate,La),0===(512&t)||Va||(Va=!0,Uo(97,(function(){return gu(),null}))),La=La.nextEffect}}function gu(){if(90!==Wa){var t=97<Wa?97:Wa;return Wa=90,Bo(t,vu)}}function vu(){if(null===Ga)return!1;var t=Ga;if(Ga=null,0!==(48&_a))throw Error(s(331));var e=_a;for(_a|=32,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ra(5,n),oa(5,n)}}catch(r){if(null===t)throw Error(s(330));mu(t,r)}n=t.nextEffect,t.nextEffect=null,t=n}return _a=e,qo(),!0}function yu(t,e,n){li(t,e=fa(t,e=Js(n,e),1073741823)),null!==(t=Qa(t,1073741823))&&$a(t)}function mu(t,e){if(3===t.tag)yu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){yu(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ja||!ja.has(r))){li(n,t=ga(n,t=Js(e,t),1073741823)),null!==(n=Qa(n,1073741823))&&$a(n);break}}n=n.return}}function bu(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),Oa===t&&Sa===n?Ta===Ea||Ta===Ca&&1073741823===Aa&&Go()-ka<500?nu(t,Sa):xa=!0:Nu(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,$a(t)))}function wu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=Ka(e=qa(),t,null)),null!==(t=Qa(t,e))&&$a(t)}va=function(t,e,n){var r=e.expirationTime;if(null!==t){var o=e.pendingProps;if(t.memoizedProps!==o||ho.current)Is=!0;else{if(r<n){switch(Is=!1,e.tag){case 3:Vs(e),Ps();break;case 5:if(ki(e),4&e.mode&&1!==n&&o.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:vo(e.type)&&wo(e);break;case 4:Ni(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value,o=e.type._context,lo(Xo,o._currentValue),o._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?Us(t,e,n):(lo(Fi,1&Fi.current),null!==(e=Ys(t,e,n))?e.sibling:null);lo(Fi,1&Fi.current);break;case 19:if(r=e.childExpirationTime>=n,0!==(64&t.effectTag)){if(r)return Ks(t,e,n);e.effectTag|=64}if(null!==(o=e.memoizedState)&&(o.rendering=null,o.tail=null),lo(Fi,Fi.current),!r)return null}return Ys(t,e,n)}Is=!1}}else Is=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,o=go(e,po.current),ri(e,n),o=Yi(null,e,r,t,o,n),e.effectTag|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,vo(r)){var i=!0;wo(e)}else i=!1;e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,si(e);var a=r.getDerivedStateFromProps;"function"===typeof a&&gi(e,r,a,t),o.updater=vi,e.stateNode=o,o._reactInternalFiber=e,wi(e,r,t,n),e=js(null,e,r,!0,i,n)}else e.tag=0,Ds(null,e,o,n),e=e.child;return e;case 16:t:{if(o=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,e.type=o,i=e.tag=function(t){if("function"===typeof t)return Ru(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===ut)return 11;if(t===pt)return 14}return 2}(o),t=Qo(o,t),i){case 0:e=Fs(null,e,o,t,n);break t;case 1:e=Ms(null,e,o,t,n);break t;case 11:e=Ns(null,e,o,t,n);break t;case 14:e=xs(null,e,o,Qo(o.type,t),r,n);break t}throw Error(s(306,o,""))}return e;case 0:return r=e.type,o=e.pendingProps,Fs(t,e,r,o=e.elementType===r?o:Qo(r,o),n);case 1:return r=e.type,o=e.pendingProps,Ms(t,e,r,o=e.elementType===r?o:Qo(r,o),n);case 3:if(Vs(e),r=e.updateQueue,null===t||null===r)throw Error(s(282));if(r=e.pendingProps,o=null!==(o=e.memoizedState)?o.element:null,ai(t,e),pi(e,r,null,n),(r=e.memoizedState.element)===o)Ps(),e=Ys(t,e,n);else{if((o=e.stateNode.hydrate)&&(Cs=Cn(e.stateNode.containerInfo.firstChild),ws=e,o=Es=!0),o)for(n=Si(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ds(t,e,r,n),Ps();e=e.child}return e;case 5:return ki(e),null===t&&Rs(e),r=e.type,o=e.pendingProps,i=null!==t?t.memoizedProps:null,a=o.children,mn(r,o)?a=null:null!==i&&mn(r,i)&&(e.effectTag|=16),Ls(t,e),4&e.mode&&1!==n&&o.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Ds(t,e,a,n),e=e.child),e;case 6:return null===t&&Rs(e),null;case 13:return Us(t,e,n);case 4:return Ni(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Ri(e,null,r,n):Ds(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,Ns(t,e,r,o=e.elementType===r?o:Qo(r,o),n);case 7:return Ds(t,e,e.pendingProps,n),e.child;case 8:case 12:return Ds(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,o=e.pendingProps,a=e.memoizedProps,i=o.value;var u=e.type._context;if(lo(Xo,u._currentValue),u._currentValue=i,null!==a)if(u=a.value,0===(i=Mr(u,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,i):1073741823))){if(a.children===o.children&&!ho.current){e=Ys(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var l=u.dependencies;if(null!==l){a=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&i)){1===u.tag&&((c=ui(n,null)).tag=2,li(u,c)),u.expirationTime<n&&(u.expirationTime=n),null!==(c=u.alternate)&&c.expirationTime<n&&(c.expirationTime=n),ni(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else a=10===u.tag&&u.type===e.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===e){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}Ds(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=(i=e.pendingProps).children,ri(e,n),r=r(o=oi(o,i.unstable_observedBits)),e.effectTag|=1,Ds(t,e,r,n),e.child;case 14:return i=Qo(o=e.type,e.pendingProps),xs(t,e,o,i=Qo(o.type,i),r,n);case 15:return ks(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Qo(r,o),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,vo(r)?(t=!0,wo(e)):t=!1,ri(e,n),mi(e,r,o),wi(e,r,o,n),js(null,e,r,!0,t,n);case 19:return Ks(t,e,n)}throw Error(s(156,e.tag))};var Cu=null,Eu=null;function _u(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ou(t,e,n,r){return new _u(t,e,n,r)}function Ru(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Su(t,e){var n=t.alternate;return null===n?((n=Ou(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tu(t,e,n,r,o,i){var a=2;if(r=t,"function"===typeof t)Ru(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case nt:return Pu(n.children,o,i,e);case at:a=8,o|=7;break;case rt:a=8,o|=1;break;case ot:return(t=Ou(12,n,e,8|o)).elementType=ot,t.type=ot,t.expirationTime=i,t;case lt:return(t=Ou(13,n,e,o)).type=lt,t.elementType=lt,t.expirationTime=i,t;case ct:return(t=Ou(19,n,e,o)).elementType=ct,t.expirationTime=i,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case it:a=10;break t;case st:a=9;break t;case ut:a=11;break t;case pt:a=14;break t;case ht:a=16,r=null;break t;case dt:a=22;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Ou(a,n,e,o)).elementType=t,e.type=r,e.expirationTime=i,e}function Pu(t,e,n,r){return(t=Ou(7,t,r,e)).expirationTime=n,t}function Au(t,e,n){return(t=Ou(6,t,null,e)).expirationTime=n,t}function Iu(t,e,n){return(e=Ou(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Du(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Nu(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function xu(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function ku(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Lu(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Fu(t,e,n,r){var o=e.current,i=qa(),a=di.suspense;i=Ka(i,o,a);t:if(n){e:{if(Zt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(vo(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(s(171))}if(1===n.tag){var l=n.type;if(vo(l)){n=bo(n,l,u);break t}}n=u}else n=co;return null===e.context?e.context=n:e.pendingContext=n,(e=ui(i,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),li(o,e),Ya(o,i),i}function Mu(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function ju(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Vu(t,e){ju(t,e),(t=t.alternate)&&ju(t,e)}function Gu(t,e,n){var r=new Du(t,e,n=null!=n&&!0===n.hydrate),o=Ou(3,null,null,2===e?7:1===e?3:0);r.current=o,o.stateNode=r,si(o),t[Sn]=r.current,n&&0!==e&&function(t,e){var n=Jt(e);Se.forEach((function(t){fe(t,e,n)})),Te.forEach((function(t){fe(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function Wu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Hu(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i._internalRoot;if("function"===typeof o){var a=o;o=function(){var t=Mu(s);a.call(t)}}Fu(e,s,t,o)}else{if(i=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Gu(t,0,e?{hydrate:!0}:void 0)}(n,r),s=i._internalRoot,"function"===typeof o){var u=o;o=function(){var t=Mu(s);u.call(t)}}eu((function(){Fu(e,s,t,o)}))}return Mu(s)}function Bu(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Uu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Wu(e))throw Error(s(200));return Bu(t,e,null,n)}Gu.prototype.render=function(t){Fu(t,this._internalRoot,null,null)},Gu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Fu(null,t,null,(function(){e[Sn]=null}))},ge=function(t){if(13===t.tag){var e=Yo(qa(),150,100);Ya(t,e),Vu(t,e)}},ve=function(t){13===t.tag&&(Ya(t,3),Vu(t,3))},ye=function(t){if(13===t.tag){var e=qa();Ya(t,e=Ka(e,t,null)),Vu(t,e)}},P=function(t,e,n){switch(e){case"input":if(Rt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=In(r);if(!o)throw Error(s(90));Ct(r),Rt(r,o)}}}break;case"textarea":Nt(t,n);break;case"select":null!=(e=n.value)&&At(t,!!n.multiple,e,!1)}},k=tu,L=function(t,e,n,r,o){var i=_a;_a|=4;try{return Bo(98,t.bind(null,e,n,r,o))}finally{0===(_a=i)&&qo()}},F=function(){0===(49&_a)&&(function(){if(null!==Ha){var t=Ha;Ha=null,t.forEach((function(t,e){Lu(e,t),$a(e)})),qo()}}(),gu())},M=function(t,e){var n=_a;_a|=2;try{return t(e)}finally{0===(_a=n)&&qo()}};var zu={Events:[Pn,An,In,S,_,Mn,function(t){oe(t,Fn)},N,x,$e,ae,gu,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Cu=function(t){try{e.onCommitFiberRoot(n,t,void 0,64===(64&t.current.effectTag))}catch(r){}},Eu=function(t){try{e.onCommitFiberUnmount(n,t)}catch(r){}}}catch(r){}})(o({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ne(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Tn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zu,e.createPortal=Uu,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw Error(s(268,Object.keys(t)))}return t=null===(t=ne(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!==(48&_a))throw Error(s(187));var n=_a;_a|=1;try{return Bo(99,t.bind(null,e))}finally{_a=n,qo()}},e.hydrate=function(t,e,n){if(!Wu(e))throw Error(s(200));return Hu(null,t,e,!0,n)},e.render=function(t,e,n){if(!Wu(e))throw Error(s(200));return Hu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Wu(t))throw Error(s(40));return!!t._reactRootContainer&&(eu((function(){Hu(null,null,t,!1,(function(){t._reactRootContainer=null,t[Sn]=null}))})),!0)},e.unstable_batchedUpdates=tu,e.unstable_createPortal=function(t,e){return Uu(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wu(n))throw Error(s(200));if(null==t||void 0===t._reactInternalFiber)throw Error(s(38));return Hu(t,e,n,!1,r)},e.version="16.13.1"},function(t,e,n){"use strict";t.exports=n(111)},function(t,e,n){"use strict";var r,o,i,s,a;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,l=null,c=function t(){if(null!==u)try{var n=e.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(t,0),r}},p=Date.now();e.unstable_now=function(){return Date.now()-p},r=function(t){null!==u?setTimeout(r,0,t):(u=t,setTimeout(c,0))},o=function(t,e){l=setTimeout(t,e)},i=function(){clearTimeout(l)},s=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,f=window.setTimeout,g=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)e.unstable_now=function(){return h.now()};else{var y=d.now();e.unstable_now=function(){return d.now()-y}}var m=!1,b=null,w=-1,C=5,E=0;s=function(){return e.unstable_now()>=E},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):C=0<t?Math.floor(1e3/t):5};var _=new MessageChannel,O=_.port2;_.port1.onmessage=function(){if(null!==b){var t=e.unstable_now();E=t+C;try{b(!0,t)?O.postMessage(null):(m=!1,b=null)}catch(n){throw O.postMessage(null),n}}else m=!1},r=function(t){b=t,m||(m=!0,O.postMessage(null))},o=function(t,n){w=f((function(){t(e.unstable_now())}),n)},i=function(){g(w),w=-1}}function R(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,o=t[r];if(!(void 0!==o&&0<P(o,e)))break t;t[r]=e,t[n]=o,n=r}}function S(t){return void 0===(t=t[0])?null:t}function T(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,o=t.length;r<o;){var i=2*(r+1)-1,s=t[i],a=i+1,u=t[a];if(void 0!==s&&0>P(s,n))void 0!==u&&0>P(u,s)?(t[r]=u,t[a]=n,r=a):(t[r]=s,t[i]=n,r=i);else{if(!(void 0!==u&&0>P(u,n)))break t;t[r]=u,t[a]=n,r=a}}}return e}return null}function P(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var A=[],I=[],D=1,N=null,x=3,k=!1,L=!1,F=!1;function M(t){for(var e=S(I);null!==e;){if(null===e.callback)T(I);else{if(!(e.startTime<=t))break;T(I),e.sortIndex=e.expirationTime,R(A,e)}e=S(I)}}function j(t){if(F=!1,M(t),!L)if(null!==S(A))L=!0,r(V);else{var e=S(I);null!==e&&o(j,e.startTime-t)}}function V(t,n){L=!1,F&&(F=!1,i()),k=!0;var r=x;try{for(M(n),N=S(A);null!==N&&(!(N.expirationTime>n)||t&&!s());){var a=N.callback;if(null!==a){N.callback=null,x=N.priorityLevel;var u=a(N.expirationTime<=n);n=e.unstable_now(),"function"===typeof u?N.callback=u:N===S(A)&&T(A),M(n)}else T(A);N=S(A)}if(null!==N)var l=!0;else{var c=S(I);null!==c&&o(j,c.startTime-n),l=!1}return l}finally{N=null,x=r,k=!1}}function G(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var W=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){L||k||(L=!0,r(V))},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return S(A)},e.unstable_next=function(t){switch(x){case 1:case 2:case 3:var e=3;break;default:e=x}var n=x;x=e;try{return t()}finally{x=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=W,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=x;x=t;try{return e()}finally{x=n}},e.unstable_scheduleCallback=function(t,n,s){var a=e.unstable_now();if("object"===typeof s&&null!==s){var u=s.delay;u="number"===typeof u&&0<u?a+u:a,s="number"===typeof s.timeout?s.timeout:G(t)}else s=G(t),u=a;return t={id:D++,callback:n,priorityLevel:t,startTime:u,expirationTime:s=u+s,sortIndex:-1},u>a?(t.sortIndex=u,R(I,t),null===S(A)&&t===S(I)&&(F?i():F=!0,o(j,u-a))):(t.sortIndex=s,R(A,t),L||k||(L=!0,r(V))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();M(t);var n=S(A);return n!==N&&null!==N&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<N.expirationTime||s()},e.unstable_wrapCallback=function(t){var e=x;return function(){var n=x;x=e;try{return t.apply(this,arguments)}finally{x=n}}}},,,,,,function(t,e,n){e.AgGridReact=n(118).AgGridReact,e.AgGridColumn=n(48).AgGridColumn,e.ChangeDetectionStrategyType=n(49).ChangeDetectionStrategyType},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),a=n(1),u=n(12),l=n(43),c=n(48),p=n(121),h=n(49),d=function(t){function e(e){var n=t.call(this,e)||this;return n.props=e,n.changeDetectionService=new h.ChangeDetectionService,n.api=null,n.portals=[],n.hasPendingPortalUpdate=!1,n.destroyed=!1,n}return r(e,t),e.prototype.render=function(){var t=this;return s.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:function(e){t.eGridDiv=e}},this.portals)},e.prototype.createStyleForDiv=function(){return o({height:"100%"},this.props.containerStyle||{})},e.prototype.componentDidMount=function(){var t=this.props.modules||[],e={providedBeanInstances:{agGridReact:this,frameworkComponentWrapper:new g(this)},modules:t},n=this.props.gridOptions||{},r=this.props.children;c.AgGridColumn.hasChildColumns(r)&&(n.columnDefs=c.AgGridColumn.mapChildColumnDefs(r)),this.gridOptions=l.ComponentUtil.copyAttributesToGridOptions(n,this.props),new l.Grid(this.eGridDiv,this.gridOptions,e),this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi},e.prototype.waitForInstance=function(t,n,r){var o=this;if(void 0===r&&(r=Date.now()),this.destroyed)n(null);else if(t.rendered())n(t);else{if(Date.now()-r>=e.MAX_COMPONENT_CREATION_TIME_IN_MS)return void console.error("ag-Grid: React Component '"+t.getReactComponentName()+"' not created within "+e.MAX_COMPONENT_CREATION_TIME_IN_MS+"ms");window.setTimeout((function(){return o.batchUpdate((function(){return o.waitForInstance(t,n,r)}))}))}},e.prototype.mountReactPortal=function(t,e,n){var r=this;this.portals=i(this.portals,[t]),this.batchUpdate((function(){return r.waitForInstance(e,n)}))},e.prototype.batchUpdate=function(t){var e=this;this.hasPendingPortalUpdate?t&&t():(setTimeout((function(){e.api&&e.forceUpdate((function(){t&&t(),e.hasPendingPortalUpdate=!1}))})),this.hasPendingPortalUpdate=!0)},e.prototype.destroyPortal=function(t){this.portals=this.portals.filter((function(e){return e!==t})),this.batchUpdate()},e.prototype.getStrategyTypeForProp=function(t){if("rowData"===t){if(this.props.rowDataChangeDetectionStrategy)return this.props.rowDataChangeDetectionStrategy;if(this.isImmutableDataActive())return h.ChangeDetectionStrategyType.IdentityCheck}return h.ChangeDetectionStrategyType.DeepValueCheck},e.prototype.isImmutableDataActive=function(){return this.props.deltaRowDataMode||this.props.immutableData||this.props.gridOptions&&(this.props.gridOptions.deltaRowDataMode||this.props.gridOptions.immutableData)},e.prototype.shouldComponentUpdate=function(t){return this.processPropsChanges(this.props,t),!1},e.prototype.componentDidUpdate=function(t){this.processPropsChanges(t,this.props)},e.prototype.processPropsChanges=function(t,e){var n={};this.extractGridPropertyChanges(t,e,n),this.extractDeclarativeColDefChanges(e,n),Object.keys(n).length>0&&l.ComponentUtil.processOnChange(n,this.gridOptions,this.api,this.columnApi)},e.prototype.extractDeclarativeColDefChanges=function(t,e){if(!(this.props.gridOptions&&this.props.gridOptions.columnDefs||this.props.columnDefs)){var n=!!t.debug,r=this.gridOptions.columnDefs;if(c.AgGridColumn.hasChildColumns(t.children)){var o=this.changeDetectionService.getStrategy(this.getStrategyTypeForProp("columnDefs")),i=c.AgGridColumn.mapChildColumnDefs(t.children);o.areEqual(r,i)||(n&&console.log("agGridReact: colDefs definitions changed"),e.columnDefs={previousValue:r,currentValue:i})}else r&&r.length>0&&(e.columnDefs={previousValue:r,currentValue:[]})}},e.prototype.extractGridPropertyChanges=function(t,e,n){var r=this,o=!!e.debug;Object.keys(e).forEach((function(i){l._.includes(l.ComponentUtil.ALL_PROPERTIES,i)&&(r.changeDetectionService.getStrategy(r.getStrategyTypeForProp(i)).areEqual(t[i],e[i])||(o&&console.log("agGridReact: ["+i+"] property changed"),n[i]={previousValue:t[i],currentValue:e[i]}))})),l.ComponentUtil.getEventCallbacks().forEach((function(i){r.props[i]!==e[i]&&(o&&console.log("agGridReact: ["+i+"] event callback changed"),n[i]={previousValue:t[i],currentValue:e[i]})}))},e.prototype.componentWillUnmount=function(){this.api&&(this.api.destroy(),this.api=null),this.destroyed=!0},e.prototype.isDisableStaticMarkup=function(){return!!this.props.disableStaticMarkup},e.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,e}(a.Component);function f(t,e){t.forEach((function(t){d[t]=e}))}e.AgGridReact=d,d.propTypes={gridOptions:u.object},f(l.ComponentUtil.getEventCallbacks(),u.func),f(l.ComponentUtil.BOOLEAN_PROPERTIES,u.bool),f(l.ComponentUtil.STRING_PROPERTIES,u.string),f(l.ComponentUtil.OBJECT_PROPERTIES,u.object),f(l.ComponentUtil.ARRAY_PROPERTIES,u.array),f(l.ComponentUtil.NUMBER_PROPERTIES,u.number),f(l.ComponentUtil.FUNCTION_PROPERTIES,u.func);var g=function(t){function e(e){var n=t.call(this)||this;return n.agGridReact=e,n}return r(e,t),e.prototype.createWrapper=function(t,e){return new p.ReactComponent(t,this.agGridReact,e)},e}(l.BaseComponentWrapper)},function(t,e,n){"use strict";var r=n(120);function o(){}function i(){}i.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=n(28),s=n(43),a=n(122),u=n(123),l=n(124),c=n(125),p=function(t){function e(n,r,o){var i=t.call(this)||this;return i.portal=null,i.statelessDomInsertedListener=null,i.staticMarkup=null,i.staticRenderTime=0,i.reactComponent=n,i.componentType=o,i.parentComponent=r,i.statelessComponent=e.isStateless(i.reactComponent),i.isStatelessComponent()&&(i.statelessDomInsertedListener=function(){i.removeStaticMarkup()}),i}return r(e,t),e.prototype.getFrameworkComponentInstance=function(){return this.componentInstance},e.prototype.isStatelessComponent=function(){return this.statelessComponent},e.prototype.getReactComponentName=function(){return this.reactComponent.name},e.prototype.init=function(t){var e=this;return this.eParentElement=this.createParentElement(t),this.renderStaticMarkup(t),this.isStatelessComponent()&&this.eParentElement.addEventListener("DOMNodeInserted",this.statelessDomInsertedListener,!1),new s.Promise((function(n){return e.createReactComponent(t,n)}))},e.prototype.getGui=function(){return this.eParentElement},e.prototype.destroy=function(){return this.eParentElement.removeEventListener("DOMNodeInserted",this.statelessDomInsertedListener),this.parentComponent.destroyPortal(this.portal)},e.prototype.createReactComponent=function(t,e){var n=this;this.isStatelessComponent()||(t.ref=function(t){n.componentInstance=t,n.addParentContainerStyleAndClasses(),n.removeStaticMarkup()});var r=o.createElement(this.reactComponent,t),s=i.createPortal(r,this.eParentElement,l.default());this.portal=s,this.parentComponent.mountReactPortal(s,this,(function(t){e(t),n.isStatelessComponent()&&setTimeout((function(){return n.removeStaticMarkup()}))}))},e.prototype.addParentContainerStyleAndClasses=function(){var t=this;this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&u.assignProperties(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&this.componentInstance.getReactContainerClasses().forEach((function(e){return s._.addCssClass(t.eParentElement,e)})))},e.prototype.createParentElement=function(t){var e=document.createElement(this.parentComponent.props.componentWrappingElement||"div");return s._.addCssClass(e,"ag-react-container"),t.reactContainer=e,e},e.prototype.statelessComponentRendered=function(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0},e.hasSymbol=function(){return"function"===typeof Symbol&&Symbol.for},e.isStateless=function(t){return"function"===typeof t&&!(t.prototype&&t.prototype.isReactComponent)||"object"===typeof t&&t.$$typeof===e.REACT_MEMO_TYPE},e.prototype.isNullRender=function(){return""===this.staticMarkup},e.prototype.renderStaticMarkup=function(t){if(!(this.parentComponent.isDisableStaticMarkup()||this.componentType.isCellRenderer&&!this.componentType.isCellRenderer())){var e=console.error,n=o.createElement(this.reactComponent,t);try{var r=console.error;console.error=function(){};var i=Date.now(),s=c.renderToStaticMarkup(n);this.staticRenderTime=Date.now()-i,console.error=r,""===s?this.staticMarkup=s:s&&(this.staticMarkup=document.createElement("span"),this.staticMarkup.innerHTML=s,this.eParentElement.appendChild(this.staticMarkup))}catch(a){}finally{console.error=e}}},e.prototype.removeStaticMarkup=function(){!this.parentComponent.isDisableStaticMarkup()&&this.componentType.isCellRenderer()&&this.staticMarkup&&(this.staticMarkup.remove?(this.staticMarkup.remove(),this.staticMarkup=null):this.eParentElement.removeChild&&(this.eParentElement.removeChild(this.staticMarkup),this.staticMarkup=null))},e.prototype.rendered=function(){return this.isNullRender()||!!this.staticMarkup||!(!this.isStatelessComponent()||!this.statelessComponentRendered())||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())},e.REACT_MEMO_TYPE=e.hasSymbol()?Symbol.for("react.memo"):60115,e}(a.BaseReactComponent);e.ReactComponent=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.hasMethod=function(t){var e=this.getFrameworkComponentInstance();return null!=e&&null!=e[t]},t.prototype.callMethod=function(t,e){var n=this,r=this.getFrameworkComponentInstance();if(null!=r){var o=this.getFrameworkComponentInstance()[t];if(null==o)return;return o.apply(r,e)}window.setTimeout((function(){return n.callMethod(t,e)}),100)},t.prototype.addMethod=function(t,e){this[t]=e},t}();e.BaseReactComponent=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assignProperties=function(t,e){Object.keys(e).forEach((function(n){t[n]=e[n]}))},e.assign=function(t,n,r){if("string"===typeof n&&(n=n.split(".")),n.length>1){var o=n.shift();e.assign(t[o]="[object Object]"===Object.prototype.toString.call(t[o])?t[o]:{},n,r)}else t[n[0]]=r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=0;e.default=function(){return"agPortalKey_"+ ++r}},function(t,e,n){"use strict";t.exports=n(126)},function(t,e,n){"use strict";var r=n(42),o=n(1);function i(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s="function"===typeof Symbol&&Symbol.for,a=s?Symbol.for("react.portal"):60106,u=s?Symbol.for("react.fragment"):60107,l=s?Symbol.for("react.strict_mode"):60108,c=s?Symbol.for("react.profiler"):60114,p=s?Symbol.for("react.provider"):60109,h=s?Symbol.for("react.context"):60110,d=s?Symbol.for("react.concurrent_mode"):60111,f=s?Symbol.for("react.forward_ref"):60112,g=s?Symbol.for("react.suspense"):60113,v=s?Symbol.for("react.suspense_list"):60120,y=s?Symbol.for("react.memo"):60115,m=s?Symbol.for("react.lazy"):60116,b=s?Symbol.for("react.block"):60121,w=s?Symbol.for("react.fundamental"):60117,C=s?Symbol.for("react.scope"):60119;function E(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case u:return"Fragment";case a:return"Portal";case c:return"Profiler";case l:return"StrictMode";case g:return"Suspense";case v:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case h:return"Context.Consumer";case p:return"Context.Provider";case f:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case y:return E(t.type);case b:return E(t.render);case m:if(t=1===t._status?t._result:null)return E(t)}return null}var _=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;_.hasOwnProperty("ReactCurrentDispatcher")||(_.ReactCurrentDispatcher={current:null}),_.hasOwnProperty("ReactCurrentBatchConfig")||(_.ReactCurrentBatchConfig={suspense:null});var O={};function R(t,e){for(var n=0|t._threadCount;n<=e;n++)t[n]=t._currentValue2,t._threadCount=n+1}for(var S=new Uint16Array(16),T=0;15>T;T++)S[T]=T+1;S[15]=0;var P=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A=Object.prototype.hasOwnProperty,I={},D={};function N(t){return!!A.call(D,t)||!A.call(I,t)&&(P.test(t)?D[t]=!0:(I[t]=!0,!1))}function x(t,e,n,r,o,i){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){k[t]=new x(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];k[e]=new x(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){k[t]=new x(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){k[t]=new x(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){k[t]=new x(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){k[t]=new x(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){k[t]=new x(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){k[t]=new x(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){k[t]=new x(t,5,!1,t.toLowerCase(),null,!1)}));var L=/[\-:]([a-z])/g;function F(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(L,F);k[e]=new x(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(L,F);k[e]=new x(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(L,F);k[e]=new x(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){k[t]=new x(t,1,!1,t.toLowerCase(),null,!1)})),k.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){k[t]=new x(t,1,!1,t.toLowerCase(),null,!0)}));var M=/["'&<>]/;function j(t){if("boolean"===typeof t||"number"===typeof t)return""+t;t=""+t;var e=M.exec(t);if(e){var n,r="",o=0;for(n=e.index;n<t.length;n++){switch(t.charCodeAt(n)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}o!==n&&(r+=t.substring(o,n)),o=n+1,r+=e}t=o!==n?r+t.substring(o,n):r}return t}function V(t,e){var n,r=k.hasOwnProperty(t)?k[t]:null;return(n="style"!==t)&&(n=null!==r?0===r.type:2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])),n||function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(t,e,r,!1)?"":null!==r?(t=r.attributeName,3===(n=r.type)||4===n&&!0===e?t+'=""':(r.sanitizeURL&&(e=""+e),t+'="'+j(e)+'"')):N(t)?t+'="'+j(e)+'"':""}var G="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},W=null,H=null,B=null,U=!1,z=!1,q=null,K=0;function Y(){if(null===W)throw Error(i(321));return W}function Q(){if(0<K)throw Error(i(312));return{memoizedState:null,queue:null,next:null}}function X(){return null===B?null===H?(U=!1,H=B=Q()):(U=!0,B=H):null===B.next?(U=!1,B=B.next=Q()):(U=!0,B=B.next),B}function $(t,e,n,r){for(;z;)z=!1,K+=1,B=null,n=t(e,r);return H=W=null,K=0,B=q=null,n}function J(t,e){return"function"===typeof e?e(t):e}function Z(t,e,n){if(W=Y(),B=X(),U){var r=B.queue;if(e=r.dispatch,null!==q&&void 0!==(n=q.get(r))){q.delete(r),r=B.memoizedState;do{r=t(r,n.action),n=n.next}while(null!==n);return B.memoizedState=r,[r,e]}return[B.memoizedState,e]}return t=t===J?"function"===typeof e?e():e:void 0!==n?n(e):e,B.memoizedState=t,t=(t=B.queue={last:null,dispatch:null}).dispatch=tt.bind(null,W,t),[B.memoizedState,t]}function tt(t,e,n){if(!(25>K))throw Error(i(301));if(t===W)if(z=!0,t={action:n,next:null},null===q&&(q=new Map),void 0===(n=q.get(e)))q.set(e,t);else{for(e=n;null!==e.next;)e=e.next;e.next=t}}function et(){}var nt=0,rt={readContext:function(t){var e=nt;return R(t,e),t[e]},useContext:function(t){Y();var e=nt;return R(t,e),t[e]},useMemo:function(t,e){if(W=Y(),e=void 0===e?null:e,null!==(B=X())){var n=B.memoizedState;if(null!==n&&null!==e){t:{var r=n[1];if(null===r)r=!1;else{for(var o=0;o<r.length&&o<e.length;o++)if(!G(e[o],r[o])){r=!1;break t}r=!0}}if(r)return n[0]}}return t=t(),B.memoizedState=[t,e],t},useReducer:Z,useRef:function(t){W=Y();var e=(B=X()).memoizedState;return null===e?(t={current:t},B.memoizedState=t):e},useState:function(t){return Z(J,t)},useLayoutEffect:function(){},useCallback:function(t){return t},useImperativeHandle:et,useEffect:et,useDebugValue:et,useResponder:function(t,e){return{props:e,responder:t}},useDeferredValue:function(t){return Y(),t},useTransition:function(){return Y(),[function(t){t()},!1]}},ot="http://www.w3.org/1999/xhtml";function it(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var st={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},at=r({menuitem:!0},st),ut={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lt=["Webkit","ms","Moz","O"];Object.keys(ut).forEach((function(t){lt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ut[e]=ut[t]}))}));var ct=/([A-Z])/g,pt=/^ms-/,ht=o.Children.toArray,dt=_.ReactCurrentDispatcher,ft={listing:!0,pre:!0,textarea:!0},gt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,vt={},yt={};var mt=Object.prototype.hasOwnProperty,bt={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function wt(t,e){if(void 0===t)throw Error(i(152,E(e)||"Component"))}function Ct(t,e,n){function s(o,s){var a=s.prototype&&s.prototype.isReactComponent,u=function(t,e,n,r){if(r&&("object"===typeof(r=t.contextType)&&null!==r))return R(r,n),r[n];if(t=t.contextTypes){for(var o in n={},t)n[o]=e[o];e=n}else e=O;return e}(s,e,n,a),l=[],c=!1,p={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===l)return null},enqueueReplaceState:function(t,e){c=!0,l=[e]},enqueueSetState:function(t,e){if(null===l)return null;l.push(e)}};if(a){if(a=new s(o.props,u,p),"function"===typeof s.getDerivedStateFromProps){var h=s.getDerivedStateFromProps.call(null,o.props,a.state);null!=h&&(a.state=r({},a.state,h))}}else if(W={},a=s(o.props,u,p),null==(a=$(s,o.props,a,u))||null==a.render)return void wt(t=a,s);if(a.props=o.props,a.context=u,a.updater=p,void 0===(p=a.state)&&(a.state=p=null),"function"===typeof a.UNSAFE_componentWillMount||"function"===typeof a.componentWillMount)if("function"===typeof a.componentWillMount&&"function"!==typeof s.getDerivedStateFromProps&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&"function"!==typeof s.getDerivedStateFromProps&&a.UNSAFE_componentWillMount(),l.length){p=l;var d=c;if(l=null,c=!1,d&&1===p.length)a.state=p[0];else{h=d?p[0]:a.state;var f=!0;for(d=d?1:0;d<p.length;d++){var g=p[d];null!=(g="function"===typeof g?g.call(a,h,o.props,u):g)&&(f?(f=!1,h=r({},h,g)):r(h,g))}a.state=h}}else l=null;if(wt(t=a.render(),s),"function"===typeof a.getChildContext&&"object"===typeof(o=s.childContextTypes)){var v=a.getChildContext();for(var y in v)if(!(y in o))throw Error(i(108,E(s)||"Unknown",y))}v&&(e=r({},e,v))}for(;o.isValidElement(t);){var a=t,u=a.type;if("function"!==typeof u)break;s(a,u)}return{child:t,context:e}}var Et=function(){function t(t,e){o.isValidElement(t)?t.type!==u?t=[t]:(t=t.props.children,t=o.isValidElement(t)?[t]:ht(t)):t=ht(t),t={type:null,domNamespace:ot,children:t,childIndex:0,context:O,footer:""};var n=S[0];if(0===n){var r=S,s=2*(n=r.length);if(!(65536>=s))throw Error(i(304));var a=new Uint16Array(s);for(a.set(r),(S=a)[0]=n+1,r=n;r<s-1;r++)S[r]=r+1;S[s-1]=0}else S[0]=S[n];this.threadID=n,this.stack=[t],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=e,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}var e=t.prototype;return e.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var t=this.threadID;S[t]=S[0],S[0]=t}},e.pushProvider=function(t){var e=++this.contextIndex,n=t.type._context,r=this.threadID;R(n,r);var o=n[r];this.contextStack[e]=n,this.contextValueStack[e]=o,n[r]=t.props.value},e.popProvider=function(){var t=this.contextIndex,e=this.contextStack[t],n=this.contextValueStack[t];this.contextStack[t]=null,this.contextValueStack[t]=null,this.contextIndex--,e[this.threadID]=n},e.clearProviders=function(){for(var t=this.contextIndex;0<=t;t--)this.contextStack[t][this.threadID]=this.contextValueStack[t]},e.read=function(t){if(this.exhausted)return null;var e=nt;nt=this.threadID;var n=dt.current;dt.current=rt;try{for(var r=[""],o=!1;r[0].length<t;){if(0===this.stack.length){this.exhausted=!0;var s=this.threadID;S[s]=S[0],S[0]=s;break}var a=this.stack[this.stack.length-1];if(o||a.childIndex>=a.children.length){var u=a.footer;if(""!==u&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===a.type)this.currentSelectValue=null;else if(null!=a.type&&null!=a.type.type&&a.type.type.$$typeof===p)this.popProvider(a.type);else if(a.type===g){this.suspenseDepth--;var l=r.pop();if(o){o=!1;var c=a.fallbackFrame;if(!c)throw Error(i(303));this.stack.push(c),r[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}r[this.suspenseDepth]+=l}r[this.suspenseDepth]+=u}else{var h=a.children[a.childIndex++],d="";try{d+=this.render(h,a.context,a.domNamespace)}catch(f){if(null!=f&&"function"===typeof f.then)throw Error(i(294));throw f}r.length<=this.suspenseDepth&&r.push(""),r[this.suspenseDepth]+=d}}return r[0]}finally{dt.current=n,nt=e}},e.render=function(t,e,n){if("string"===typeof t||"number"===typeof t)return""===(n=""+t)?"":this.makeStaticMarkup?j(n):this.previousWasTextNode?"\x3c!-- --\x3e"+j(n):(this.previousWasTextNode=!0,j(n));if(t=(e=Ct(t,e,this.threadID)).child,e=e.context,null===t||!1===t)return"";if(!o.isValidElement(t)){if(null!=t&&null!=t.$$typeof){if((n=t.$$typeof)===a)throw Error(i(257));throw Error(i(258,n.toString()))}return t=ht(t),this.stack.push({type:null,domNamespace:n,children:t,childIndex:0,context:e,footer:""}),""}var s=t.type;if("string"===typeof s)return this.renderDOM(t,e,n);switch(s){case l:case d:case c:case v:case u:return t=ht(t.props.children),this.stack.push({type:null,domNamespace:n,children:t,childIndex:0,context:e,footer:""}),"";case g:throw Error(i(294))}if("object"===typeof s&&null!==s)switch(s.$$typeof){case f:W={};var b=s.render(t.props,t.ref);return b=$(s.render,t.props,b,t.ref),b=ht(b),this.stack.push({type:null,domNamespace:n,children:b,childIndex:0,context:e,footer:""}),"";case y:return t=[o.createElement(s.type,r({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:n,children:t,childIndex:0,context:e,footer:""}),"";case p:return n={type:t,domNamespace:n,children:s=ht(t.props.children),childIndex:0,context:e,footer:""},this.pushProvider(t),this.stack.push(n),"";case h:s=t.type,b=t.props;var E=this.threadID;return R(s,E),s=ht(b.children(s[E])),this.stack.push({type:t,domNamespace:n,children:s,childIndex:0,context:e,footer:""}),"";case w:throw Error(i(338));case m:switch(function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(s=t.type),s._status){case 1:return t=[o.createElement(s._result,r({ref:t.ref},t.props))],this.stack.push({type:null,domNamespace:n,children:t,childIndex:0,context:e,footer:""}),"";case 2:throw s._result;default:throw Error(i(295))}case C:throw Error(i(343))}throw Error(i(130,null==s?s:typeof s,""))},e.renderDOM=function(t,e,n){var s=t.type.toLowerCase();if(n===ot&&it(s),!vt.hasOwnProperty(s)){if(!gt.test(s))throw Error(i(65,s));vt[s]=!0}var a=t.props;if("input"===s)a=r({type:void 0},a,{defaultChecked:void 0,defaultValue:void 0,value:null!=a.value?a.value:a.defaultValue,checked:null!=a.checked?a.checked:a.defaultChecked});else if("textarea"===s){var u=a.value;if(null==u){u=a.defaultValue;var l=a.children;if(null!=l){if(null!=u)throw Error(i(92));if(Array.isArray(l)){if(!(1>=l.length))throw Error(i(93));l=l[0]}u=""+l}null==u&&(u="")}a=r({},a,{value:void 0,children:""+u})}else if("select"===s)this.currentSelectValue=null!=a.value?a.value:a.defaultValue,a=r({},a,{value:void 0});else if("option"===s){l=this.currentSelectValue;var c=function(t){if(void 0===t||null===t)return t;var e="";return o.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(a.children);if(null!=l){var p=null!=a.value?a.value+"":c;if(u=!1,Array.isArray(l)){for(var h=0;h<l.length;h++)if(""+l[h]===p){u=!0;break}}else u=""+l===p;a=r({selected:void 0,children:void 0},a,{selected:u,children:c})}}if(u=a){if(at[s]&&(null!=u.children||null!=u.dangerouslySetInnerHTML))throw Error(i(137,s,""));if(null!=u.dangerouslySetInnerHTML){if(null!=u.children)throw Error(i(60));if("object"!==typeof u.dangerouslySetInnerHTML||!("__html"in u.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=u.style&&"object"!==typeof u.style)throw Error(i(62,""))}for(w in u=a,l=this.makeStaticMarkup,c=1===this.stack.length,p="<"+t.type,u)if(mt.call(u,w)){var d=u[w];if(null!=d){if("style"===w){h=void 0;var f="",g="";for(h in d)if(d.hasOwnProperty(h)){var v=0===h.indexOf("--"),y=d[h];if(null!=y){if(v)var m=h;else if(m=h,yt.hasOwnProperty(m))m=yt[m];else{var b=m.replace(ct,"-$1").toLowerCase().replace(pt,"-ms-");m=yt[m]=b}f+=g+m+":",g=h,f+=v=null==y||"boolean"===typeof y||""===y?"":v||"number"!==typeof y||0===y||ut.hasOwnProperty(g)&&ut[g]?(""+y).trim():y+"px",g=";"}}d=f||null}h=null;t:if(v=s,y=u,-1===v.indexOf("-"))v="string"===typeof y.is;else switch(v){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":v=!1;break t;default:v=!0}v?bt.hasOwnProperty(w)||(h=N(h=w)&&null!=d?h+'="'+j(d)+'"':""):h=V(w,d),h&&(p+=" "+h)}}l||c&&(p+=' data-reactroot=""');var w=p;u="",st.hasOwnProperty(s)?w+="/>":(w+=">",u="</"+t.type+">");t:{if(null!=(l=a.dangerouslySetInnerHTML)){if(null!=l.__html){l=l.__html;break t}}else if("string"===typeof(l=a.children)||"number"===typeof l){l=j(l);break t}l=null}return null!=l?(a=[],ft.hasOwnProperty(s)&&"\n"===l.charAt(0)&&(w+="\n"),w+=l):a=ht(a.children),t=t.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?it(t):"http://www.w3.org/2000/svg"===n&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:s,children:a,childIndex:0,context:e,footer:u}),this.previousWasTextNode=!1,w},t}(),_t={renderToString:function(t){t=new Et(t,!1);try{return t.read(1/0)}finally{t.destroy()}},renderToStaticMarkup:function(t){t=new Et(t,!0);try{return t.read(1/0)}finally{t.destroy()}},renderToNodeStream:function(){throw Error(i(207))},renderToStaticNodeStream:function(){throw Error(i(208))},version:"16.13.1"};t.exports=_t.default||_t},,function(t,e,n){"use strict";(function(t){var e=n(4);(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var o=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function s(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,e){if(e){var n=o;t=t.split(".");for(var i=0;i<t.length-1;i++){var s=t[i];s in n||(n[s]={}),n=n[s]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var i=o.setTimeout;n.prototype.c=function(t){i(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.s=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{o(t(e))}catch(n){i(n)}}:e}var o,i,s=new e((function(t,e){o=t,i=e}));return this.Pa(r(t,o),r(n,i)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var o=s(t),i=o.next();!i.done;i=o.next())r(i.value).Pa(e,n)}))},e.all=function(t){var n=s(t),o=n.next();return o.done?r([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,r(o.value).Pa(i(s.length-1),e),o=n.next()}while(!o.done)}))},e}));var a=a||{},u=this||self,l=/^[\w+/_-]+[=]{0,2}$/,c=null;function p(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&l.test(t)?t:""}function h(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function g(t){return"function"==d(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function y(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++b)}var m="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function C(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function E(t,e,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:C).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var O=Date.now;function R(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(t){return t}function T(t,e,n){this.code=I+t,this.message=e||D[t]||"",this.a=n||null}function P(t){var e=t&&t.code;return e?new T(e.substring(I.length),t.message,t.serverResponse):null}R(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var A,I="auth/",D={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function x(t){for(var e in N)if(N[e].id===t)return{firebaseEndpoint:(t=N[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function k(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function L(t){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function F(t,e){for(var n="",r=(t=t.split("%s")).length-1,o=0;o<r;o++)n+=t[o]+(o<e.length?e[o]:"%s");L.call(this,n+t[r])}function M(t,e){throw new F("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function j(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function V(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function G(){this.b=this.a=null}A=x("__EID__")?"__EID__":void 0,R(L,Error),L.prototype.name="CustomError",R(F,L),F.prototype.name="AssertionError",j.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var W=new j((function(){return new B}),(function(t){t.reset()}));function H(){var t=we,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function B(){this.next=this.b=this.a=null}G.prototype.add=function(t,e){var n=W.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,o="string"===typeof t?t.split(""):t,i=0;i<r;i++)i in o&&e.call(n,o[i],i,t)};var q=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],o=0,i="string"===typeof t?t.split(""):t,s=0;s<n;s++)if(s in i){var a=i[s];e.call(void 0,a,s,t)&&(r[o++]=a)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),o="string"===typeof t?t.split(""):t,i=0;i<n;i++)i in o&&(r[i]=e.call(void 0,o[i],i,t));return r},Y=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,o=0;o<n;o++)if(o in r&&e.call(void 0,r[o],o,t))return!0;return!1};function Q(t,e){return 0<=U(t,e)}function X(t,e){var n;return(n=0<=(e=U(t,e)))&&Array.prototype.splice.call(t,e,1),n}function $(t,e){!function(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function J(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var tt,et=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},nt=/&/g,rt=/</g,ot=/>/g,it=/"/g,st=/'/g,at=/\x00/g,ut=/[\x00&<>"']/;function lt(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var pt=u.navigator;if(pt){var ht=pt.userAgent;if(ht){tt=ht;break t}}tt=""}function dt(t){return lt(tt,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function gt(t){for(var e in t)return!1;return!0}function vt(t){var e,n={};for(e in t)n[e]=t[e];return n}var yt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(t,e){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])t[n]=r[n];for(var i=0;i<yt.length;i++)n=yt[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var o=r;break t}}catch(s){}o=null}if(o&&"undefined"!=typeof o[e]&&(!t||!(t instanceof o[e])&&(t instanceof o.Location||t instanceof o.Element))){if(v(t))try{var i=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){i="<object could not be stringified>"}else i=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,i)}}function wt(t,e){this.a=t===Ot&&e||"",this.b=_t}function Ct(t){return t instanceof wt&&t.constructor===wt&&t.b===_t?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}wt.prototype.sa=!0,wt.prototype.ra=function(){return this.a},wt.prototype.toString=function(){return"Const{"+this.a+"}"};var Et,_t={},Ot={};function Rt(){if(void 0===Et){var t=null,e=u.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(n){u.console&&u.console.error(n.message)}Et=t}else Et=t}return Et}function St(t,e){this.a=e===Dt?t:""}function Tt(t){return t instanceof St&&t.constructor===St?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function Pt(t,e){var n=Ct(t);if(!It.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Rt();return new St(t=e?e.createScriptURL(t):t,Dt)}(t=n.replace(At,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof wt?Ct(t):encodeURIComponent(String(t))})))}St.prototype.sa=!0,St.prototype.ra=function(){return this.a.toString()},St.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var At=/%{(\w+)}/g,It=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Dt={};function Nt(t,e){this.a=e===Vt?t:""}function xt(t){return t instanceof Nt&&t.constructor===Nt?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Nt.prototype.sa=!0,Nt.prototype.ra=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var kt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Lt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Ft=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){if(t instanceof Nt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Ft.test(t))t=new Nt(t,Vt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Lt);t=e&&kt.test(e[1])?new Nt(t,Vt):null}return t}function jt(t){return t instanceof Nt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Ft.test(t)||(t="about:invalid#zClosurez"),new Nt(t,Vt))}var Vt={},Gt=new Nt("about:invalid#zClosurez",Vt);function Wt(t,e,n){this.a=n===Ht?t:""}Wt.prototype.sa=!0,Wt.prototype.ra=function(){return this.a.toString()},Wt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ht={};function Bt(t,e,n,r){return t=t instanceof Nt?t:jt(t),e=e||u,n=n instanceof wt?Ct(n):n||"",e.open(xt(t),n,r,void 0)}function Ut(t,e){for(var n=t.split("%s"),r="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)r+=n.shift()+o.shift();return r+n.join("%s")}function zt(t){return ut.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(nt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(rt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(ot,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(st,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(at,"&#0;"))),t}function qt(t){return qt[" "](t),t}qt[" "]=h;var Kt,Yt=dt("Opera"),Qt=dt("Trident")||dt("MSIE"),Xt=dt("Edge"),$t=Xt||Qt,Jt=dt("Gecko")&&!(lt(tt.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Zt=lt(tt.toLowerCase(),"webkit")&&!dt("Edge");function te(){var t=u.document;return t?t.documentMode:void 0}t:{var ee="",ne=function(){var t=tt;return Jt?/rv:([^\);]+)(\)|;)/.exec(t):Xt?/Edge\/([\d\.]+)/.exec(t):Qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Zt?/WebKit\/(\S+)/.exec(t):Yt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ne&&(ee=ne?ne[1]:""),Qt){var re=te();if(null!=re&&re>parseFloat(ee)){Kt=String(re);break t}}Kt=ee}var oe,ie={};function se(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=et(String(Kt)).split("."),r=et(String(t)).split("."),o=Math.max(n.length,r.length),i=0;0==e&&i<o;i++){var s=n[i]||"",a=r[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ct(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ct(0==s[2].length,0==a[2].length)||ct(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(u.document&&Qt){var ae=te();oe=ae||(parseInt(Kt,10)||void 0)}else oe=void 0;var ue=oe;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(us){}var le=!Qt||9<=Number(ue);function ce(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function pe(t,e){ft(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:fe.hasOwnProperty(n)?t.setAttribute(fe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var he,de,fe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ge(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var o=2;o<n.length;o++){var i=n[o];if(!f(i)||v(i)&&0<i.nodeType)r(i);else{t:{if(i&&"number"==typeof i.length){if(v(i)){var s="function"==typeof i.item||"string"==typeof i.item;break t}if(g(i)){s="function"==typeof i.item;break t}}s=!1}z(s?Z(i):i,r)}}}function ve(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ye(t){u.setTimeout((function(){throw t}),0)}function me(t,e){de||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);de=function(){t.then(Ce)}}else de=function(){var t=Ce;!g(u.setImmediate)||u.Window&&u.Window.prototype&&!dt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(he||(he=function(){var t=u.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=ve(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=E((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),he(t)):u.setImmediate(t)}}(),be||(de(),be=!0),we.add(t,e)}var be=!1,we=new G;function Ce(){for(var t;t=H();){try{t.a.call(t.b)}catch(e){ye(e)}V(W,t)}be=!1}function Ee(t,e){if(this.a=_e,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Le(n,Oe,t)}),(function(t){if(!(t instanceof He))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Le(n,Re,t)}))}catch(r){Le(this,Re,r)}}var _e=0,Oe=2,Re=3;function Se(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Se.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Te=new j((function(){return new Se}),(function(t){t.reset()}));function Pe(t,e,n){var r=Te.get();return r.g=t,r.b=e,r.f=n,r}function Ae(t){if(t instanceof Ee)return t;var e=new Ee(h);return Le(e,Oe,t),e}function Ie(t){return new Ee((function(e,n){n(t)}))}function De(t,e,n){Fe(t,e,n,null)||me(_(e,t))}function Ne(t){return new Ee((function(e){var n=t.length,r=[];if(n)for(var o=function(t,o,i){n--,r[t]=o?{Ob:!0,value:i}:{Ob:!1,reason:i},0==n&&e(r)},i=0;i<t.length;i++)De(t[i],_(o,i,!0),_(o,i,!1));else e(r)}))}function xe(t,e){t.b||t.a!=Oe&&t.a!=Re||Me(t),t.f?t.f.next=e:t.b=e,t.f=e}function ke(t,e,n,r){var o=Pe(null,null,null);return o.a=new Ee((function(t,i){o.g=e?function(n){try{var o=e.call(r,n);t(o)}catch(s){i(s)}}:t,o.b=n?function(e){try{var o=n.call(r,e);void 0===o&&e instanceof He?i(e):t(o)}catch(s){i(s)}}:i})),o.a.c=t,xe(t,o),o.a}function Le(t,e,n){t.a==_e&&(t===n&&(e=Re,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Fe(n,t.Zc,t.$c,t)||(t.i=n,t.a=e,t.c=null,Me(t),e!=Re||n instanceof He||function(t,e){t.g=!0,me((function(){t.g&&We.call(null,e)}))}(t,n)))}function Fe(t,e,n,r){if(t instanceof Ee)return xe(t,Pe(e||h,n||null,r)),!0;if(k(t))return t.then(e,n,r),!0;if(v(t))try{var o=t.then;if(g(o))return function(t,e,n,r,o){function i(t){s||(s=!0,r.call(o,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(o,t))}),i)}catch(a){i(a)}}(t,o,e,n,r),!0}catch(i){return n.call(r,i),!0}return!1}function Me(t){t.h||(t.h=!0,me(t.fc,t))}function je(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ve(t,e,n,r){if(n==Re&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ge(e,n,r);else try{e.c?e.g.call(e.f):Ge(e,n,r)}catch(o){We.call(null,o)}V(Te,e)}function Ge(t,e,n){e==Oe?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Ee.prototype.then=function(t,e,n){return ke(this,g(t)?t:null,g(e)?e:null,n)},Ee.prototype.$goog_Thenable=!0,(n=Ee.prototype).na=function(t,e){return(t=Pe(t,t,e)).c=!0,xe(this,t),this},n.o=function(t,e){return ke(this,null,t,e)},n.cancel=function(t){if(this.a==_e){var e=new He(t);me((function(){!function t(e,n){if(e.a==_e)if(e.c){var r=e.c;if(r.b){for(var o=0,i=null,s=null,a=r.b;a&&(a.c||(o++,a.a==e&&(i=a),!(i&&1<o)));a=a.next)i||(s=a);i&&(r.a==_e&&1==o?t(r,n):(s?((o=s).next==r.f&&(r.f=o),o.next=o.next.next):je(r),Ve(r,i,Re,n)))}e.c=null}else Le(e,Re,n)}(this,e)}),this)}},n.Zc=function(t){this.a=_e,Le(this,Oe,t)},n.$c=function(t){this.a=_e,Le(this,Re,t)},n.fc=function(){for(var t;t=je(this);)Ve(this,t,this.a,this.i);this.h=!1};var We=ye;function He(t){L.call(this,t)}function Be(){0!=Ue&&(ze[y(this)]=this),this.xa=this.xa,this.oa=this.oa}R(He,L),He.prototype.name="cancel";var Ue=0,ze={};function qe(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=Ue)){var e=y(t);if(0!=Ue&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ze[e]}}Be.prototype.xa=!1,Be.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Ke=Object.freeze||function(t){return t},Ye=!Qt||9<=Number(ue),Qe=Qt&&!se("9"),Xe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",h,e),u.removeEventListener("test",h,e)}catch(n){}return t}();function $e(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Je(t,e){if($e.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{qt(e.nodeName);var o=!0;break t}catch(i){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:Ze[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}$e.prototype.preventDefault=function(){this.defaultPrevented=!0},R(Je,$e);var Ze=Ke({2:"touch",3:"pen",4:"mouse"});Je.prototype.preventDefault=function(){Je.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Qe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Je.prototype.g=function(){return this.a};var tn="closure_listenable_"+(1e6*Math.random()|0),en=0;function nn(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=o,this.key=++en,this.va=this.Oa=!1}function rn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function on(t){this.src=t,this.a={},this.b=0}function sn(t,e){var n=e.type;n in t.a&&X(t.a[n],e)&&(rn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function an(t,e,n,r){for(var o=0;o<t.length;++o){var i=t[o];if(!i.va&&i.listener==e&&i.capture==!!n&&i.Ua==r)return o}return-1}on.prototype.add=function(t,e,n,r,o){var i=t.toString();(t=this.a[i])||(t=this.a[i]=[],this.b++);var s=an(t,e,r,o);return-1<s?(e=t[s],n||(e.Oa=!1)):((e=new nn(e,this.src,i,!!r,o)).Oa=n,t.push(e)),e};var un="closure_lm_"+(1e6*Math.random()|0),ln={};function cn(t,e,n,r,o){if(r&&r.once)hn(t,e,n,r,o);else if(Array.isArray(e))for(var i=0;i<e.length;i++)cn(t,e[i],n,r,o);else n=Cn(n),t&&t[tn]?_n(t,e,n,v(r)?!!r.capture:!!r,o):pn(t,e,n,!1,r,o)}function pn(t,e,n,r,o,i){if(!e)throw Error("Invalid event type");var s=v(o)?!!o.capture:!!o,a=bn(t);if(a||(t[un]=a=new on(t)),!(n=a.add(e,n,r,s,i)).proxy){if(r=function(){var t=mn,e=Ye?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Xe||(o=s),void 0===o&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(gn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function hn(t,e,n,r,o){if(Array.isArray(e))for(var i=0;i<e.length;i++)hn(t,e[i],n,r,o);else n=Cn(n),t&&t[tn]?On(t,e,n,v(r)?!!r.capture:!!r,o):pn(t,e,n,!0,r,o)}function dn(t,e,n,r,o){if(Array.isArray(e))for(var i=0;i<e.length;i++)dn(t,e[i],n,r,o);else r=v(r)?!!r.capture:!!r,n=Cn(n),t&&t[tn]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=an(i=t.a[e],n,r,o))&&(rn(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete t.a[e],t.b--)))):t&&(t=bn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=an(e,n,r,o)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!==typeof t&&t&&!t.va){var e=t.src;if(e&&e[tn])sn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bn(e))?(sn(n,t),0==n.b&&(n.src=null,e[un]=null)):rn(t)}}}function gn(t){return t in ln?ln[t]:ln[t]="on"+t}function vn(t,e,n,r){var o=!0;if((t=bn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var i=e[t];i&&i.capture==n&&!i.va&&(i=yn(i,r),o=o&&!1!==i)}return o}function yn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&fn(t),n.call(r,e)}function mn(t,e){if(t.va)return!0;if(!Ye){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Je(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=e.b;o;o=o.parentNode)r.push(o);for(t=t.type,o=r.length-1;0<=o;o--){e.b=r[o];var i=vn(r[o],t,!0,e);n=n&&i}for(o=0;o<r.length;o++)e.b=r[o],i=vn(r[o],t,!1,e),n=n&&i}return n}return yn(t,new Je(e,this))}function bn(t){return(t=t[un])instanceof on?t:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cn(t){return g(t)?t:(t[wn]||(t[wn]=function(e){return t.handleEvent(e)}),t[wn])}function En(){Be.call(this),this.v=new on(this),this.$b=this,this.fb=null}function _n(t,e,n,r,o){t.v.add(String(e),n,!1,r,o)}function On(t,e,n,r,o){t.v.add(String(e),n,!0,r,o)}function Rn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var o=!0,i=0;i<e.length;++i){var s=e[i];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Ua||s.src;s.Oa&&sn(t.v,s),o=!1!==a.call(u,r)&&o}}return o&&!r.defaultPrevented}function Sn(t,e,n){if(g(t))n&&(t=E(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=E(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Tn(t){var e=null;return new Ee((function(n,r){-1==(e=Sn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw u.clearTimeout(e),t}))}function Pn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"===typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(f(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function In(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof In)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Dn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Nn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var o={};for(n=e=0;e<t.a.length;)Nn(o,r=t.a[e])||(t.a[n++]=r,o[r]=1),e++;t.a.length=n}}function Nn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}R(En,Be),En.prototype[tn]=!0,En.prototype.addEventListener=function(t,e,n,r){cn(this,t,e,n,r)},En.prototype.removeEventListener=function(t,e,n,r){dn(this,t,e,n,r)},En.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"===typeof t)t=new $e(t,n);else if(t instanceof $e)t.target=t.target||n;else{var o=t;mt(t=new $e(r,n),o)}if(o=!0,e)for(var i=e.length-1;0<=i;i--){var s=t.b=e[i];o=Rn(s,r,!0,t)&&o}if(o=Rn(s=t.b=n,r,!0,t)&&o,o=Rn(s,r,!1,t)&&o,e)for(i=0;i<e.length;i++)o=Rn(s=t.b=e[i],r,!1,t)&&o;return o},En.prototype.Da=function(){if(En.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)rn(n[r]);delete e.a[t],e.b--}}this.fb=null},(n=In.prototype).V=function(){Dn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},n.Y=function(){return Dn(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(t,e){return Nn(this.b,t)?this.b[t]:e},n.set=function(t,e){Nn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},n.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var o=n[r],i=this.get(o);t.call(e,i,o,this)}};var xn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function kn(t,e){var n;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,t instanceof kn?(this.i=void 0!==e?e:t.i,Ln(this,t.f),this.l=t.l,this.a=t.a,Fn(this,t.g),this.c=t.c,Mn(this,nr(t.b)),this.h=t.h):t&&(n=String(t).match(xn))?(this.i=!!e,Ln(this,n[1]||"",!0),this.l=Hn(n[2]||""),this.a=Hn(n[3]||"",!0),Fn(this,n[4]),this.c=Hn(n[5]||"",!0),Mn(this,n[6]||"",!0),this.h=Hn(n[7]||"")):(this.i=!!e,this.b=new Xn(null,this.i))}function Ln(t,e,n){t.f=n?Hn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Fn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Mn(t,e,n){e instanceof Xn?(t.b=e,function(t,e){e&&!t.f&&($n(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Zn(this,e),er(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Bn(e,Yn)),t.b=new Xn(e,t.i))}function jn(t,e,n){t.b.set(e,n)}function Vn(t,e){return t.b.get(e)}function Gn(t){return t instanceof kn?new kn(t):new kn(t,void 0)}function Wn(t,e,n,r){var o=new kn(null,void 0);return t&&Ln(o,t),e&&(o.a=e),n&&Fn(o,n),r&&(o.c=r),o}function Hn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Un),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Un(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}kn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Bn(e,zn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Bn(e,zn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Bn(n,"/"==n.charAt(0)?Kn:qn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Bn(n,Qn)),t.join("")},kn.prototype.resolve=function(t){var e=new kn(this),n=!!t.f;n?Ln(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Fn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var o=e.c.lastIndexOf("/");-1!=o&&(r=e.c.substr(0,o+1)+r)}if(".."==(o=r)||"."==o)r="";else if(lt(o,"./")||lt(o,"/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var i=[],s=0;s<o.length;){var a=o[s++];"."==a?r&&s==o.length&&i.push(""):".."==a?((1<i.length||1==i.length&&""!=i[0])&&i.pop(),r&&s==o.length&&i.push("")):(i.push(a),r=!0)}r=i.join("/")}else r=o}return n?e.c=r:n=""!==t.b.toString(),n?Mn(e,nr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var zn=/[#\/\?@]/g,qn=/[#\?:]/g,Kn=/[#\?]/g,Yn=/[#\?@]/g,Qn=/#/g;function Xn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function $n(t){t.a||(t.a=new In,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var i=t[n].substring(0,r);o=t[n].substring(r+1)}else i=t[n];e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Jn(t){var e=An(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new Xn(null,void 0);t=Pn(t);for(var r=0;r<e.length;r++){var o=e[r],i=t[r];Array.isArray(i)?er(n,o,i):n.add(o,i)}return n}function Zn(t,e){$n(t),e=rr(t,e),Nn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Nn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Dn(t)))}function tr(t,e){return $n(t),e=rr(t,e),Nn(t.a.b,e)}function er(t,e,n){Zn(t,e),0<n.length&&(t.c=null,t.a.set(rr(t,e),Z(n)),t.b+=n.length)}function nr(t){var e=new Xn;return e.c=t.c,t.a&&(e.a=new In(t.a),e.b=t.b),e}function rr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function or(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var o=n;n=o.length,r.push("[");for(var i="",s=0;s<n;s++)r.push(i),t(e,o[s],r),i=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(o in r.push("{"),i="",n)Object.prototype.hasOwnProperty.call(n,o)&&("function"!=typeof(s=n[o])&&(r.push(i),ur(o,r),r.push(":"),t(e,s,r),i=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":ur(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new ir,t,e),e.join("")}function ir(){}(n=Xn.prototype).add=function(t,e){$n(this),this.c=null,t=rr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(t,e){$n(this),this.a.forEach((function(n,r){z(n,(function(n){t.call(e,n,r,this)}),this)}),this)},n.Y=function(){$n(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var o=t[r],i=0;i<o.length;i++)n.push(e[r]);return n},n.V=function(t){$n(this);var e=[];if("string"===typeof t)tr(this,t)&&(e=J(e,this.a.get(rr(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=J(e,t[n])}return e},n.set=function(t,e){return $n(this),this.c=null,tr(this,t=rr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},n.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],o=encodeURIComponent(String(r));r=this.V(r);for(var i=0;i<r.length;i++){var s=o;""!==r[i]&&(s+="="+encodeURIComponent(String(r[i]))),t.push(s)}}return this.c=t.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ar=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(t,e){e.push('"',t.replace(ar,(function(t){var e=sr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),sr[t]=e),e})),'"')}function lr(){var t=Pr();return Qt&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function cr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function pr(t,e){e=e||u.window;var n="about:blank";t&&(n=xt(Mt(t)||Gt)),e.location.href=n}function hr(t){return!!((t=(t||Pr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function dr(t){t=t||u.window;try{t.close()}catch(e){}}function fr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var o=(window.screen.availHeight-n)/2,i=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<o?o:0,left:0<i?i:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Pr().toLowerCase(),r&&(e.target=r,lt(n,"crios/")&&(e.target="_blank")),Rr(Pr())==_r&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Nt?n:Mt("undefined"!=typeof n.href?n.href:String(n))||Gt,n=t.target||n.target,o=[],t)switch(s){case"width":case"height":case"top":case"left":o.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:o.push(s+"="+(t[s]?1:0))}var s=o.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(s=ve(document,"A"),"HTMLAnchorElement"),e=e instanceof Nt?e:jt(e),s.href=xt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Bt("",r,n,s),t=xt(e),s&&($t&&lt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+zt(t)+'">',t=new Wt(t=(r=Rt())?r.createHTML(t):t,null,Ht),r=s.document)&&(r.write(function(t){return t instanceof Wt&&t.constructor===Wt?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Bt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function yr(){var t=null;return new Ee((function(e){"complete"==u.document.readyState?e():(t=function(){e()},hn(window,"load",t))})).o((function(e){throw dn(window,"load",t),e}))}function mr(t){return t=t||Pr(),!("file:"!==xr()&&"ionic:"!==xr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function wr(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function Cr(){return e.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.a.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function Er(){var t=Cr();return"ReactNative"===t||"Node"===t}var _r="Firefox",Or="Chrome";function Rr(t){var e=t.toLowerCase();return lt(e,"opera/")||lt(e,"opr/")||lt(e,"opios/")?"Opera":lt(e,"iemobile")?"IEMobile":lt(e,"msie")||lt(e,"trident/")?"IE":lt(e,"edge/")?"Edge":lt(e,"firefox/")?_r:lt(e,"silk/")?"Silk":lt(e,"blackberry")?"Blackberry":lt(e,"webos")?"Webos":!lt(e,"safari/")||lt(e,"chrome/")||lt(e,"crios/")||lt(e,"android")?!lt(e,"chrome/")&&!lt(e,"crios/")||lt(e,"edge/")?lt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Or:"Safari"}var Sr={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Tr(t,e){e=e||[];var n,r=[],o={};for(n in Sr)o[Sr[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof o[e[n]]&&(delete o[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Cr())?r=Rr(o=Pr()):"Worker"===r&&(r=Rr(o=Pr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Pr(){return u.navigator&&u.navigator.userAgent||""}function Ar(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Ir(){try{var t=u.localStorage,e=jr();if(t)return t.setItem(e,"1"),t.removeItem(e),!lr()||!!u.indexedDB}catch(n){return wr()&&!!u.indexedDB}return!1}function Dr(){return(Nr()||"chrome-extension:"===xr()||mr())&&!Er()&&Ir()&&!wr()}function Nr(){return"http:"===xr()||"https:"===xr()}function xr(){return u.location&&u.location.protocol||null}function kr(t){return!hr(t=t||Pr())&&Rr(t)!=_r}function Lr(t){return"undefined"===typeof t?null:or(t)}function Fr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Mr(t){if(null!==t)return JSON.parse(t)}function jr(t){return t||Math.floor(1e9*Math.random()).toString()}function Vr(t){return"Safari"!=Rr(t=t||Pr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Gr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Wr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Pr(),e=Cr(),this.b=hr(t)||"ReactNative"===e}function Hr(){var t=u.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function Br(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Ur(){return!(!Ar("fireauth.oauthhelper",u)&&!Ar("fireauth.iframe",u))}Wr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!==typeof t.onLine||!Nr()&&"chrome-extension:"!==xr()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var zr,qr={};function Kr(t){qr[t]||(qr[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var Yr={};Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:2}),zr=2==Yr.abcd}catch(us){zr=!1}function Qr(t,e,n){zr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Xr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Qr(t,n,e[n])}function $r(t){var e={};return Xr(e,t),e}function Jr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Qr(e,n,Jr(t[n]));return e}function Zr(t){var e=t&&(t[oo]?"phone":null);if(!(e&&t&&t[ro]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",t[ro]),Qr(this,"displayName",t[eo]||null);var n=null;t[no]&&(n=new Date(t[no]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",e)}function to(t){try{var e=new io(t)}catch(n){e=null}return e}Zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var eo="displayName",no="enrolledAt",ro="mfaEnrollmentId",oo="phoneInfo";function io(t){Zr.call(this,t),Qr(this,"phoneNumber",t[oo])}function so(t){var e={},n=t[co],r=t[ho],o=t[fo];if(t=to(t[po]),!o||o!=uo&&o!=lo&&!n||o==lo&&!r||o==ao&&!t)throw Error("Invalid checkActionCode response!");o==lo?(e[vo]=n||null,e[mo]=n||null,e[go]=r):(e[vo]=r||null,e[mo]=r||null,e[go]=n||null),e[yo]=t||null,Qr(this,wo,o),Qr(this,bo,Jr(e))}R(io,Zr),io.prototype.w=function(){var t=io.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ao="REVERT_SECOND_FACTOR_ADDITION",uo="EMAIL_SIGNIN",lo="VERIFY_AND_CHANGE_EMAIL",co="email",po="mfaInfo",ho="newEmail",fo="requestType",go="email",vo="fromEmail",yo="multiFactorInfo",mo="previousEmail",bo="data",wo="operation";function Co(t){var e=Vn(t=Gn(t),Eo)||null,n=Vn(t,_o)||null,r=Vn(t,So)||null;if(r=r&&Po[r]||null,!e||!n||!r)throw new T("argument-error",Eo+", "+_o+"and "+So+" are required in a valid action code URL.");Xr(this,{apiKey:e,operation:r,code:n,continueUrl:Vn(t,Oo)||null,languageCode:Vn(t,Ro)||null,tenantId:Vn(t,To)||null})}var Eo="apiKey",_o="oobCode",Oo="continueUrl",Ro="languageCode",So="mode",To="tenantId",Po={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ao,signIn:uo,verifyAndChangeEmail:lo,verifyEmail:"VERIFY_EMAIL"};function Ao(t){try{return new Co(t)}catch(e){return null}}function Io(t){var e=t[Lo];if("undefined"===typeof e)throw new T("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Do];if(n&&"object"===typeof n){e=n[jo];var r=n[Fo];if(n=n[Mo],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new T("argument-error",Fo+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new T("argument-error",Mo+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new T("argument-error",jo+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new T("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new T("argument-error",Do+" property must be a non null object when specified.");if(this.f=null,(e=t[ko])&&"object"===typeof e){if("string"===typeof(e=e[Vo])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new T("argument-error",Vo+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new T("argument-error",ko+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[xo])&&"boolean"!==typeof e)throw new T("argument-error",xo+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[No])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new T("argument-error",No+" property must be a non empty string when specified.");this.i=t||null}var Do="android",No="dynamicLinkDomain",xo="handleCodeInApp",ko="iOS",Lo="url",Fo="installApp",Mo="minimumVersion",jo="packageName",Vo="bundleId";function Go(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Wo=null;function Ho(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),o=Wo[n];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Wo){Wo={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),o=0;o<r.length;o++){var i=r[o];void 0===Wo[i]&&(Wo[i]=o)}}}();for(var r=0;;){var o=n(-1),i=n(0),s=n(64),a=n(64);if(64===a&&-1===o)break;e(o<<2|i>>4),64!=s&&(e(i<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function Bo(t){var e=zo(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,O(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Uo(t){try{return new Bo(t)}catch(e){return null}}function zo(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Ho(t))}catch(r){}return null}Bo.prototype.S=function(){return this.f},Bo.prototype.i=function(){return this.b},Bo.prototype.toString=function(){return this.g};var qo="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ko=["client_id","response_type","scope","redirect_uri","state"],Yo={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Ko},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Ko},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Ko},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:qo},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Qo(t){for(var e in Yo)if(Yo[e].fa==t)return Yo[e];return null}function Xo(t){var e={};e["facebook.com"]=ei,e["google.com"]=ri,e["github.com"]=ni,e["twitter.com"]=oi;var n=t&&t[Jo];try{if(n)return e[n]?new e[n](t):new ti(t);if("undefined"!==typeof t[$o])return new Zo(t)}catch(r){}return null}var $o="idToken",Jo="providerId";function Zo(t){var e=t[Jo];if(!e&&t[$o]){var n=Uo(t[$o]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Qr(this,"providerId",e),Qr(this,"isNewUser",n)}function ti(t){Zo.call(this,t),Qr(this,"profile",Jr((t=Mr(t.rawUserInfo||"{}"))||{}))}function ei(t){if(ti.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ni(t){if(ti.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function ri(t){if(ti.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function oi(t){if(ti.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",t.screenName||null)}function ii(t){var e=Gn(t),n=Vn(e,"link"),r=Vn(Gn(n),"link");return e=Vn(e,"deep_link_id"),Vn(Gn(e),"link")||e||r||n||t}function si(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ai:ui}R(ti,Zo),R(ei,ti),R(ni,ti),R(ri,ti),R(oi,ti);var ai="enroll",ui="signin";function li(){}function ci(t,e){return t.then((function(t){if(t[Js]){var n=Uo(t[Js]);if(!n||e!=n.h)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==I+"user-not-found"?new T("user-mismatch"):t}))}function pi(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,Qr(this,"providerId",t),Qr(this,"signInMethod",t)}function hi(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function di(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new pi(t.providerId,t.pendingToken)}catch(e){}return null}function fi(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Qr(this,"idToken",e.idToken),e.accessToken&&Qr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Qr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Qr(this,"accessToken",e.oauthToken),Qr(this,"secret",e.oauthTokenSecret)}Qr(this,"providerId",t),Qr(this,"signInMethod",n)}function gi(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Jn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function vi(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new fi(t.providerId,e,t.signInMethod)}catch(n){}}return null}function yi(t,e){this.Pc=e||[],Xr(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(Qo(t)||{}).Ja||null,this.nb=null}function mi(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');yi.call(this,t,[])}function bi(t){yi.call(this,t,Ko),this.a=[]}function wi(){bi.call(this,"facebook.com")}function Ci(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new wi).credential({accessToken:e})}function Ei(){bi.call(this,"github.com")}function _i(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new Ei).credential({accessToken:e})}function Oi(){bi.call(this,"google.com"),this.Ca("profile")}function Ri(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new Oi).credential({idToken:n,accessToken:e})}function Si(){yi.call(this,"twitter.com",qo)}function Ti(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fi("twitter.com",n,"twitter.com")}function Pi(t,e,n){this.a=t,this.f=e,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===Ii.EMAIL_LINK_SIGN_IN_METHOD?Ii.EMAIL_LINK_SIGN_IN_METHOD:Ii.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ai(t){return t&&t.email&&t.password?new Pi(t.email,t.password,t.signInMethod):null}function Ii(){Xr(this,{providerId:"password",isOAuthProvider:!1})}function Di(t,e){if(!(e=Ni(e)))throw new T("argument-error","Invalid email link!");return new Pi(t,e.code,Ii.EMAIL_LINK_SIGN_IN_METHOD)}function Ni(t){return(t=Ao(t=ii(t)))&&t.operation===uo?t:null}function xi(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new T("internal-error");this.a=t,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function ki(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new xi(e)}return null}function Li(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function Fi(t){try{this.a=t||e.a.auth()}catch(n){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xr(this,{providerId:"phone",isOAuthProvider:!1})}function Mi(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new xi({cb:t,bb:e})}function ji(t){if(t.temporaryProof&&t.phoneNumber)return new xi({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,o=t&&t.nonce,i=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Ri(i,n);case"facebook.com":return Ci(n);case"github.com":return _i(n);case"twitter.com":return Ti(n,r);default:return n||r||i||s?s?0==e.indexOf("saml.")?new pi(e,s):new fi(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new bi(e).credential({idToken:i,accessToken:n,rawNonce:o}):null}}catch(a){return null}}function Vi(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Gi(t,e,n,r,o,i,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=i||null,this.h=s||null,this.a=o||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Wi(t){return(t=t||{}).type?new Gi(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&P(t.error),t.postBody,t.tenantId):null}function Hi(){this.b=null,this.a=[]}si.prototype.Ha=function(){return this.a?Ae(this.a):Ae(this.b)},si.prototype.w=function(){return this.type==ai?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},li.prototype.ja=function(){},li.prototype.b=function(){},li.prototype.c=function(){},li.prototype.w=function(){},pi.prototype.ja=function(t){return wa(t,hi(this))},pi.prototype.b=function(t,e){var n=hi(this);return n.idToken=e,Ca(t,n)},pi.prototype.c=function(t,e){return ci(Ea(t,hi(this)),e)},pi.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fi.prototype.ja=function(t){return wa(t,gi(this))},fi.prototype.b=function(t,e){var n=gi(this);return n.idToken=e,Ca(t,n)},fi.prototype.c=function(t,e){return ci(Ea(t,gi(this)),e)},fi.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},yi.prototype.Ka=function(t){return this.Hb=vt(t),this},R(mi,yi),R(bi,yi),bi.prototype.Ca=function(t){return Q(this.a,t)||this.a.push(t),this},bi.prototype.Pb=function(){return Z(this.a)},bi.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new fi(this.providerId,n,this.providerId)},R(wi,bi),Qr(wi,"PROVIDER_ID","facebook.com"),Qr(wi,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),R(Ei,bi),Qr(Ei,"PROVIDER_ID","github.com"),Qr(Ei,"GITHUB_SIGN_IN_METHOD","github.com"),R(Oi,bi),Qr(Oi,"PROVIDER_ID","google.com"),Qr(Oi,"GOOGLE_SIGN_IN_METHOD","google.com"),R(Si,yi),Qr(Si,"PROVIDER_ID","twitter.com"),Qr(Si,"TWITTER_SIGN_IN_METHOD","twitter.com"),Pi.prototype.ja=function(t){return this.signInMethod==Ii.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Ia,{email:this.a,oobCode:this.f}):ru(t,Ja,{email:this.a,password:this.f})},Pi.prototype.b=function(t,e){return this.signInMethod==Ii.EMAIL_LINK_SIGN_IN_METHOD?ru(t,Da,{idToken:e,email:this.a,oobCode:this.f}):ru(t,Ua,{idToken:e,email:this.a,password:this.f})},Pi.prototype.c=function(t,e){return ci(this.ja(t),e)},Pi.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xr(Ii,{PROVIDER_ID:"password"}),Xr(Ii,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xr(Ii,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),xi.prototype.ja=function(t){return t.eb(Li(this))},xi.prototype.b=function(t,e){var n=Li(this);return n.idToken=e,ru(t,tu,n)},xi.prototype.c=function(t,e){var n=Li(this);return n.operation="REAUTH",ci(t=ru(t,eu,n),e)},xi.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Fi.prototype.eb=function(t,e){var n=this.a.a;return Ae(e.verify()).then((function(r){if("string"!==typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var o=v(t)?t.session:null,i=v(t)?t.phoneNumber:t;return(o&&o.type==ai?o.Ha().then((function(t){return function(t,e){return ru(t,qa,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:i,recaptchaToken:r}})})):o&&o.type==ui?o.Ha().then((function(e){return function(t,e){return ru(t,Ka,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return ru(t,Ha,e)}(n,{phoneNumber:i,recaptchaToken:r})).then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Xr(Fi,{PROVIDER_ID:"phone"}),Xr(Fi,{PHONE_SIGN_IN_METHOD:"phone"}),Gi.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Gi.prototype.S=function(){return this.h},Gi.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Bi,Ui=null;function zi(t){var e="unauthorized-domain",n=void 0,r=Gn(t);t=r.a,"chrome-extension"==(r=r.f)?n=Ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function qi(t,e,n){T.call(this,t,n),(t=e||{}).Ib&&Qr(this,"email",t.Ib),t.ea&&Qr(this,"phoneNumber",t.ea),t.credential&&Qr(this,"credential",t.credential),t.Yb&&Qr(this,"tenantId",t.Yb)}function Ki(t){if(t.code){var e=t.code||"";0==e.indexOf(I)&&(e=e.substring(I.length));var n={credential:ji(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new qi(e,n,t.message)}return null}function Yi(){}function Qi(t){return t.c||(t.c=t.b())}function Xi(){}function $i(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(o){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ji(){}function Zi(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.pc,this),this.a.onerror=E(this.Rb,this),this.a.onprogress=E(this.qc,this),this.a.ontimeout=E(this.uc,this)}function ts(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function es(t,e,n){this.reset(t,e,n,void 0,void 0)}R(zi,T),R(qi,T),qi.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&mt(t,e),t},qi.prototype.toJSON=function(){return this.w()},Yi.prototype.c=null,R(Xi,Yi),Xi.prototype.a=function(){var t=$i(this);return t?new ActiveXObject(t):new XMLHttpRequest},Xi.prototype.b=function(){var t={};return $i(this)&&(t[0]=!0,t[1]=!0),t},Bi=new Xi,R(Ji,Yi),Ji.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Zi;throw Error("Unsupported browser")},Ji.prototype.b=function(){return{}},(n=Zi.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},n.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},n.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ts(this,4)},n.Rb=function(){this.status=500,this.response=this.responseText="",ts(this,4)},n.uc=function(){this.Rb()},n.qc=function(){this.status=200,ts(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},es.prototype.a=null;function ns(t){this.f=t,this.b=this.c=this.a=null}function rs(t,e){this.name=t,this.value=e}es.prototype.reset=function(t,e,n,r,o){"number"==typeof o||0,r||O(),delete this.a},rs.prototype.toString=function(){return this.name};var os=new rs("SEVERE",1e3),is=new rs("WARNING",900),ss=new rs("CONFIG",700),as=new rs("FINE",500);ns.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(M("Root logger has no level set."),null)}(this).value)for(g(e)&&(e=e()),t=new es(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var us,ls={},cs=null;function ps(t){var e;if(cs||(cs=new ns(""),ls[""]=cs,cs.c=ss),!(e=ls[t])){e=new ns(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ps(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ls[t]=e}return e}function hs(t,e){t&&t.log(as,e,void 0)}function ds(t){this.f=t}function fs(t){En.call(this),this.u=t,this.h=void 0,this.readyState=gs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ps("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}R(ds,Yi),ds.prototype.a=function(){return new fs(this.f)},ds.prototype.b=(us={},function(){return us}),R(fs,En);var gs=0;function vs(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function ys(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ms(t)}function ms(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function bs(t){En.call(this),this.headers=new In,this.O=t||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.s=null,this.m=ws,this.u=this.R=!1}(n=fs.prototype).open=function(t,e){if(this.readyState!=gs)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ms(this)},n.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.tc.bind(this),this.Ta.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ys(this)),this.readyState=gs},n.tc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ms(this)),this.a&&(this.readyState=3,ms(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,vs(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},n.oc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ys(this):ms(this),3==this.readyState&&vs(this)}},n.sc=function(t){this.a&&(this.response=this.responseText=t,ys(this))},n.rc=function(t){this.a&&(this.response=t,ys(this))},n.Ta=function(t){var e=this.i;e&&e.log(is,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ys(this)},n.setRequestHeader=function(t,e){this.l.append(t,e)},n.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(is,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(is,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),R(bs,En);var ws="";bs.prototype.b=ps("goog.net.XhrIo");var Cs=/^https?$/i,Es=["POST","PUT"];function _s(t,e,n,r,o){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():Bi.a(),t.A=t.O?Qi(t.O):Qi(Bi),t.a.onreadystatechange=E(t.Ub,t);try{hs(t.b,Ns(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(s){return hs(t.b,Ns(t,"Error opening Xhr: "+s.message)),void Rs(t,s)}e=r||"";var i=new In(t.headers);o&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"===typeof t)z(t,e,void 0);else for(var n=An(t),r=Pn(t),o=r.length,i=0;i<o;i++)e.call(void 0,r[i],n&&n[i],t)}(o,(function(t,e){i.set(e,t)})),o=function(t){t:{for(var e=Os,n=t.length,r="string"===typeof t?t.split(""):t,o=0;o<n;o++)if(o in r&&e.call(void 0,r[o],o,t)){e=o;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(i.Y()),r=u.FormData&&e instanceof u.FormData,!Q(Es,n)||o||r||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{As(t),0<t.g&&(t.u=function(t){return Qt&&se(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(t.a),hs(t.b,Ns(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=E(t.Ma,t)):t.s=Sn(t.Ma,t.g,t)),hs(t.b,Ns(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){hs(t.b,Ns(t,"Send error: "+s.message)),Rs(t,s)}}function Os(t){return"content-type"==t.toLowerCase()}function Rs(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ss(t),Ps(t)}function Ss(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ts(t){if(t.c&&"undefined"!=typeof a)if(t.A[1]&&4==Is(t)&&2==Ds(t))hs(t.b,Ns(t,"Local request error detected and ignored"));else if(t.i&&4==Is(t))Sn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==Is(t)){hs(t.b,Ns(t,"Request complete")),t.c=!1;try{var e,n=Ds(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var o;if(o=0===n){var i=String(t.l).match(xn)[1]||null;if(!i&&u.self&&u.self.location){var s=u.self.location.protocol;i=s.substr(0,s.length-1)}o=!Cs.test(i?i.toLowerCase():"")}e=o}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var l=2<Is(t)?t.a.statusText:""}catch(c){hs(t.b,"Can not get status: "+c.message),l=""}t.h=l+" ["+Ds(t)+"]",Ss(t)}}finally{Ps(t)}}}function Ps(t,e){if(t.a){As(t);var n=t.a,r=t.A[0]?h:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(o){(t=t.b)&&t.log(os,"Problem encountered resetting onreadystatechange: "+o.message,void 0)}}}function As(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function Is(t){return t.a?t.a.readyState:0}function Ds(t){try{return 2<Is(t)?t.a.status:-1}catch(e){return-1}}function Ns(t,e){return e+" ["+t.P+" "+t.l+" "+Ds(t)+"]"}function xs(t){var e=Us;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function ks(t,e,n){t.a=!0,t.c=n,t.f=!e,js(t)}function Ls(t){if(t.a){if(!t.m)throw new Vs(t);t.m=!1}}function Fs(t,e,n,r){t.g.push([e,n,r]),t.a&&js(t)}function Ms(t){return Y(t.g,(function(t){return g(t[1])}))}function js(t){if(t.h&&t.a&&Ms(t)){var e=t.h,n=Hs[e];n&&(u.clearTimeout(n.a),delete Hs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var o=t.g.shift(),i=o[0],s=o[1];if(o=o[2],i=t.f?s:i)try{var a=i.call(o||t.s,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(k(e)||"function"===typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(l){e=l,t.f=!0,Ms(t)||(n=!0)}}t.c=e,r&&(a=E(t.v,t,!0),r=E(t.v,t,!1),e instanceof xs?(Fs(e,a,r),e.A=!0):e.then(a,r)),n&&(e=new Ws(e),Hs[e.a]=e,t.h=e.a)}function Vs(){L.call(this)}function Gs(){L.call(this)}function Ws(t){this.a=u.setTimeout(E(this.c,this),0),this.b=t}(n=bs.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",hs(this.b,Ns(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(hs(this.b,Ns(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ps(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ps(this,!0)),bs.$a.Da.call(this)},n.Ub=function(){this.xa||(this.N||this.i||this.f?Ts(this):this.Ic())},n.Ic=function(){Ts(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ws:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(os,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return hs(this.b,"Can not get response: "+e.message),null}},xs.prototype.cancel=function(t){if(this.a)this.c instanceof xs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.m=!0,this.a||(t=new Gs(this),Ls(this),ks(this,!1,t))}},xs.prototype.v=function(t,e){this.i=!1,ks(this,t,e)},xs.prototype.then=function(t,e,n){var r,o,i=new Ee((function(t,e){r=t,o=e}));return Fs(this,r,(function(t){t instanceof Gs?i.cancel():o(t)})),i.then(t,e,n)},xs.prototype.$goog_Thenable=!0,R(Vs,L),Vs.prototype.message="Deferred has already fired",Vs.prototype.name="AlreadyCalledError",R(Gs,L),Gs.prototype.message="Deferred was canceled",Gs.prototype.name="CanceledError",Ws.prototype.c=function(){throw delete Hs[this.a],this.b};var Hs={};function Bs(t){var e={},n=e.document||document,r=Tt(t).toString(),o=ve(document,"SCRIPT"),i={Vb:o,Ma:void 0},s=new xs(i),a=null,l=null!=e.timeout?e.timeout:5e3;return 0<l&&(a=window.setTimeout((function(){zs(o,!0);var t=new Ys(Ks,"Timeout reached for loading script "+r);Ls(s),ks(s,!1,t)}),l),i.Ma=a),o.onload=o.onreadystatechange=function(){o.readyState&&"loaded"!=o.readyState&&"complete"!=o.readyState||(zs(o,e.wd||!1,a),Ls(s),ks(s,!0,null))},o.onerror=function(){zs(o,!0,a);var t=new Ys(qs,"Error while loading script "+r);Ls(s),ks(s,!1,t)},mt(i=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),pe(o,i),function(t,e){bt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=u?e=p(e.document):(null===c&&(c=p(u.document)),e=c),e&&t.setAttribute("nonce",e)}(o,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(o),s}function Us(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&zs(t,!0,this.Ma)}}function zs(t,e,n){null!=n&&u.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var qs=0,Ks=1;function Ys(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),L.call(this,n),this.code=t}function Qs(t){this.f=t}function Xs(t,n,r){if(this.c=t,t=n||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||Zs,this.g=vt(t.secureTokenHeaders||ta),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||ea,this.a=vt(t.firebaseHeaders||na),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==Cr(),!(r=u.XMLHttpRequest||r&&e.a.INTERNAL.node&&e.a.INTERNAL.node.XMLHttpRequest)&&!wr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,wr()?this.f=new ds(self):Er()?this.f=new Qs(r):this.f=new Ji,this.b=null}R(Ys,L),R(Qs,Yi),Qs.prototype.a=function(){return new this.f},Qs.prototype.b=function(){return{}};var $s,Js="idToken",Zs=new Wr(3e4,6e4),ta={"Content-Type":"application/x-www-form-urlencoded"},ea=new Wr(3e4,6e4),na={"Content-Type":"application/json"};function ra(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function oa(t,e){e&&(t.l=ia("https://securetoken.googleapis.com/v1/token",e),t.h=ia("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ia("https://identitytoolkit.googleapis.com/v2/",e))}function ia(t,e){return t=Gn(t),e=Gn(e.url),t.c=t.a+t.c,Ln(t,e.f),t.a=e.a,Fn(t,e.g),t.toString()}function sa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function aa(t,e,n,r,o,i,s){(function(){var t=Pr();return!((t=Rr(t)!=Or?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Qt||!ue||9<ue)})()||wr()?t=E(t.u,t):($s||($s=new Ee((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[la]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Fs(t,null,e,void 0)}(Bs(Pt(ua,{onload:la})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=E(t.s,t)),t(e,n,r,o,i,s)}Xs.prototype.S=function(){return this.b},Xs.prototype.u=function(t,e,n,r,o,i){if(wr()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new bs(this.f);if(i){s.g=Math.max(0,i);var a=setTimeout((function(){s.dispatchEvent("timeout")}),i)}_n(s,"complete",(function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return hs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),On(s,"ready",(function(){a&&clearTimeout(a),qe(this)})),On(s,"timeout",(function(){a&&clearTimeout(a),qe(this),e&&e(null)})),_s(s,t,n,r,o)};var ua=new wt(Ot,"https://apis.google.com/js/client.js?onload=%{onload}"),la="__fcb"+Math.floor(1e6*Math.random()).toString();function ca(t,e,n,r,o,i,s){var a=Gn(e+n);jn(a,"key",t.c),s&&jn(a,"cb",O().toString());var u="GET"==r;if(u)for(var l in o)o.hasOwnProperty(l)&&jn(a,l,o[l]);return new Ee((function(e,n){aa(t,a.toString(),(function(t){t?t.error?n(iu(t,i||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:or(Fr(o)),t.a,t.m.get())}))}function pa(t){if("string"!==typeof(t=t.email)||!vr.test(t))throw new T("invalid-email")}function ha(t){"email"in t&&pa(t)}function da(t){if(!t[Js]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,vt(t));throw new T("internal-error")}}function fa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Xs.prototype.s=function(t,e,n,r,o){var i=this;$s.then((function(){window.gapi.client.setApiKey(i.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:o,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Xs.prototype.yb=function(){return ru(this,za,{})},Xs.prototype.Ab=function(t,e){return ru(this,Ba,{idToken:t,email:e})},Xs.prototype.Bb=function(t,e){return ru(this,Ua,{idToken:t,password:e})};var ga={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function va(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function ya(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ma(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(tr(t=new Xn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ba(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ki(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ki(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ki(t)):t.errorMessage&&(e=ou(t.errorMessage)),e)throw e;da(t)}function wa(t,e){return e.returnIdpCredential=!0,ru(t,Ya,e)}function Ca(t,e){return e.returnIdpCredential=!0,ru(t,Xa,e)}function Ea(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ru(t,Qa,e)}function _a(t){if(!t.oobCode)throw new T("invalid-action-code")}(n=Xs.prototype).Cb=function(t,e){var n={idToken:t},r=[];return ft(ga,(function(t,o){var i=e[o];null===i?r.push(t):o in e&&(n[o]=i)})),r.length&&(n.deleteAttribute=r),ru(this,Ba,n)},n.ub=function(t,e){return mt(t={requestType:"PASSWORD_RESET",email:t},e),ru(this,ja,t)},n.vb=function(t,e){return mt(t={requestType:"EMAIL_SIGNIN",email:t},e),ru(this,La,t)},n.tb=function(t,e){return mt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ru(this,Fa,t)},n.Db=function(t,e,n){return mt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ru(this,Ma,t)},n.eb=function(t){return ru(this,Za,t)},n.mb=function(t,e){return ru(this,Wa,{oobCode:t,newPassword:e})},n.Qa=function(t){return ru(this,Ra,{oobCode:t})},n.ib=function(t){return ru(this,Oa,{oobCode:t})};var Oa={endpoint:"setAccountInfo",B:_a,Z:"email",C:!0},Ra={endpoint:"resetPassword",B:_a,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},C:!0},Sa={endpoint:"signupNewUser",B:function(t){if(pa(t),!t.password)throw new T("weak-password")},F:da,U:!0,C:!0},Ta={endpoint:"createAuthUri",C:!0},Pa={endpoint:"deleteAccount",M:["idToken"]},Aa={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Ia={endpoint:"emailLinkSignin",M:["email","oobCode"],B:pa,F:da,U:!0,C:!0},Da={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:pa,F:da,U:!0},Na={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:va,F:da,C:!0,Na:!0},xa={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:va,F:da,C:!0,Na:!0},ka={endpoint:"getAccountInfo"},La={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");pa(t)},Z:"email",C:!0},Fa={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",C:!0},Ma={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",C:!0},ja={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");pa(t)},Z:"email",C:!0},Va={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Ga={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Wa={endpoint:"resetPassword",B:_a,Z:"email",C:!0},Ha={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Ba={endpoint:"setAccountInfo",M:["idToken"],B:ha,U:!0},Ua={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(ha(t),!t.password)throw new T("weak-password")},F:da,U:!0},za={endpoint:"signupNewUser",F:da,U:!0,C:!0},qa={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},C:!0,Na:!0},Ka={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},C:!0,Na:!0},Ya={endpoint:"verifyAssertion",B:ya,Xa:ma,F:ba,U:!0,C:!0},Qa={endpoint:"verifyAssertion",B:ya,Xa:ma,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw ou(t.errorMessage);da(t)},U:!0,C:!0},Xa={endpoint:"verifyAssertion",B:function(t){if(ya(t),!t.idToken)throw new T("internal-error")},Xa:ma,F:ba,U:!0},$a={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new T("invalid-custom-token")},F:da,U:!0,C:!0},Ja={endpoint:"verifyPassword",B:function(t){if(pa(t),!t.password)throw new T("wrong-password")},F:da,U:!0,C:!0},Za={endpoint:"verifyPhoneNumber",B:fa,F:da,C:!0},tu={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new T("internal-error");fa(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ki(t);da(t)}},eu={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:fa,F:da,C:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[Js]^!!t.refreshToken)throw new T("internal-error")},C:!0,Na:!0};function ru(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.M))return Ie(new T("internal-error"));var r,o=!!e.Na,i=e.Tb||"POST";return Ae(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),ca(t,o?t.i:t.h,e.endpoint,i,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function ou(t){return iu({error:{errors:[{message:t}],code:400,message:t}})}function iu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var o in n=t.error&&t.error.message||"",mt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(o))return new T(r[o],e);return!e&&t&&(e=Lr(t)),new T("internal-error",e)}function su(t){this.b=t,this.a=null,this.qb=function(t){return(cu||(cu=new Ee((function(t,e){function n(){Gr(),Ar("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Gr(),e(Error("Network Error"))},timeout:uu.get()})}if(Ar("gapi.iframes.Iframe"))t();else if(Ar("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Ar("gapi.load")?n():e(Error("Network Error"))},Ae(Bs(r=Pt(au,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw cu=null,t})))).then((function(){return new Ee((function(e,n){Ar("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function o(){clearTimeout(i),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var i=setTimeout((function(){n(Error("Network Error"))}),lu.get());r.ping(o).then(o,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new wt(Ot,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new Wr(3e4,6e4),lu=new Wr(5e3,15e3),cu=null;function pu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Wn((t=Gn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):t=Wn("https",this.l,null,"/__/auth/iframe"),this.a=t,jn(this.a,"apiKey",this.h),jn(this.a,"appName",this.i),this.b=null,this.c=[]}function hu(t,e,n,r,o,i){this.u=t,this.s=e,this.c=n,this.v=r,this.m=i,this.i=this.g=this.l=null,this.a=o,this.h=this.f=null}function du(t){try{return e.a.app(t).auth().Ga()}catch(n){return[]}}function fu(t,e,n,r,o,i){this.s=t,this.g=e,this.b=n,this.f=i,this.c=r||null,this.i=o||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function gu(t){var e=cr();return function(t){return ru(t,Va,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Gn(e),r=n.f;n=n.a;for(var o=0;o<t.length;o++){var i=t[o],s=n,a=r;if(0==i.indexOf("chrome-extension://")?s=Gn(i).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:gr.test(i)?s=s==i:(i=i.split(".").join("\\."),s=new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new zi(cr())}))}function vu(t){return t.v||(t.v=yr().then((function(){if(!t.u){var e=t.c,n=t.i,r=du(t.b),o=new pu(t.s,t.g,t.b,t.f);o.f=e,o.b=n,o.c=Z(r||[]),t.u=o.toString()}t.m=new su(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Wi(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ae(n)}return n.status="ERROR",Ae(n)}))}(t)}))),t.v}function yu(t){return t.l||(t.A=t.c?Tr(t.c,du(t.b)):null,t.l=new Xs(t.g,x(t.i),t.A),t.f&&oa(t.l,t.f)),t.l}function mu(t,e,n,r,o,i,s,a,u,l,c,p){return(t=new hu(t,e,n,r,o,p)).l=i,t.g=s,t.i=a,t.b=vt(u||null),t.f=l,t.xb(c).toString()}function bu(t){if(this.a=t||e.a.INTERNAL.reactNative&&e.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(t){this.b=t,this.a={},this.f=E(this.c,this)}pu.prototype.toString=function(){return this.f?jn(this.a,"v",this.f):Zn(this.a.b,"v"),this.b?jn(this.a,"eid",this.b):Zn(this.a.b,"eid"),this.c.length?jn(this.a,"fw",this.c.join(",")):Zn(this.a.b,"fw"),this.a.toString()},hu.prototype.xb=function(t){return this.h=t,this},hu.prototype.toString=function(){if(this.m){var t=Gn(this.m.url);t=Wn(t.f,t.a,t.g,"/emulator/auth/handler")}else t=Wn("https",this.u,null,"/__/auth/handler");if(jn(t,"apiKey",this.s),jn(t,"appName",this.c),jn(t,"authType",this.v),this.a.isOAuthProvider){var n=this.a;try{var r=e.a.app(this.c).auth().ka()}catch(u){r=null}for(var o in n.nb=r,jn(t,"providerId",this.a.providerId),n=Fr((r=this.a).Hb))n[o]=n[o].toString();o=r.Pc,n=vt(n);for(var i=0;i<o.length;i++){var s=o[i];s in n&&delete n[s]}r.ob&&r.nb&&!n[r.ob]&&(n[r.ob]=r.nb),gt(n)||jn(t,"customParameters",Lr(n))}if("function"===typeof this.a.Pb&&((r=this.a.Pb()).length&&jn(t,"scopes",r.join(","))),this.l?jn(t,"redirectUrl",this.l):Zn(t.b,"redirectUrl"),this.g?jn(t,"eventId",this.g):Zn(t.b,"eventId"),this.i?jn(t,"v",this.i):Zn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Vn(t,a)&&jn(t,a,this.b[a]);return this.h?jn(t,"tid",this.h):Zn(t.b,"tid"),this.f?jn(t,"eid",this.f):Zn(t.b,"eid"),(a=du(this.c)).length&&jn(t,"fw",a.join(",")),t.toString()},(n=fu.prototype).Nb=function(t,e,n){var r=new T("popup-closed-by-user"),o=new T("web-storage-unsupported"),i=this,s=!1;return this.la().then((function(){(function(t){var e={type:"webStorageSupport"};return vu(t).then((function(){return function(t,e){return t.qb.then((function(){return new Ee((function(n){t.a.send(e.type,e,n,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.m,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(i).then((function(n){n||(t&&dr(t),e(o),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new Ee((function(e){return function n(){Tn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return Tn(n).then((function(){e(r)}))}))},n.Wb=function(){var t=Pr();return!kr(t)&&!Vr(t)},n.Sb=function(){return!1},n.Lb=function(t,e,n,r,o,i,s,a){if(!t)return Ie(new T("popup-blocked"));if(s&&!kr())return this.la().o((function(e){dr(t),o(e)})),r(),Ae();this.a||(this.a=gu(yu(this)));var u=this;return this.a.then((function(){var e=u.la().o((function(e){throw dr(t),o(e),e}));return r(),e})).then((function(){(Vi(n),s)||pr(mu(u.s,u.g,u.b,e,n,null,i,u.c,void 0,u.i,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},n.Mb=function(t,e,n,r){this.a||(this.a=gu(yu(this)));var o=this;return this.a.then((function(){Vi(e),pr(mu(o.s,o.g,o.b,t,e,cr(),n,o.c,void 0,o.i,r,o.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(o.a=null),t}))},n.la=function(){var t=this;return vu(this).then((function(){return t.m.qb})).o((function(){throw t.a=null,new T("network-request-failed")}))},n.Zb=function(){return!0},n.Ea=function(t){this.h.push(t)},n.Ra=function(t){$(this.h,(function(e){return e==t}))},(n=bu.prototype).get=function(t){return Ae(this.a.getItem(t)).then((function(t){return t&&Mr(t)}))},n.set=function(t,e){return Ae(this.a.setItem(t,Lr(e)))},n.T=function(t){return Ae(this.a.removeItem(t))},n.ca=function(){},n.ia=function(){};var Cu,Eu=[];function _u(t,e,n){gt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Ou(t){this.a=t}function Ru(t){this.c=t,this.b=!1,this.a=[]}function Su(t,e,n,r){var o,i,s,a,u=n||{},l=null;if(t.b)return Ie(Error("connection_unavailable"));var c=r?800:50,p="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Ee((function(n,r){p?(o=Math.floor(Math.random()*Math.pow(10,20)).toString(),p.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),c),l={messageChannel:p,onMessage:i=function(t){t.data.eventId===o&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(l),p.port1.addEventListener("message",i),t.c.postMessage({eventType:e,eventId:o,data:u},[p.port2])):r(Error("connection_unavailable"))})).then((function(e){return Tu(t,l),e})).o((function(e){throw Tu(t,l),e}))}function Tu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),$(t.a,(function(t){return t==e}))}}function Pu(){if(!Nu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.v=u.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.l=null,this.s=!1,this.h=null;var t=this;wr()&&self?(this.m=function(){var t=wr()?self:null;if(z(Eu,(function(n){n.b==t&&(e=n)})),!e){var e=new wu(t);Eu.push(e)}return e}(),_u(this.m,"keyChanged",(function(e,n){return Mu(t).then((function(e){return 0<e.length&&z(t.a,(function(t){t(e)})),{keyProcessed:Q(e,n.key)}}))})),_u(this.m,"ping",(function(){return Ae(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?Ae().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ae(null)}().then((function(e){(t.h=e)&&(t.g=new Ru(new Ou(e)),Su(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Q(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Au(t){return new Ee((function(e,n){var r=t.v.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Ee((function(e,n){var r=t.v.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Au(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Iu(t){return t.i||(t.i=Au(t)),t.i}function Du(t,e){var n=0;return new Ee((function r(o,i){Iu(t).then(e).then(o).o((function(e){if(!(3<++n))return Iu(t).then((function(e){return e.close(),t.i=void 0,r(o,i)})).o((function(t){i(t)}));i(e)}))}))}function Nu(){try{return!!u.indexedDB}catch(us){return!1}}function xu(t){return t.objectStore("firebaseLocalStorage")}function ku(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Lu(t){return new Ee((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Fu(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Su(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ae()}function Mu(t){return Iu(t).then((function(t){var e=xu(ku(t,!1));return e.getAll?Lu(e.getAll()):new Ee((function(t,n){var r=[],o=e.openCursor();o.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},o.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,o=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?o.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&o.push(r):e[r]!==n[r]&&o.push(r):o.push(r);for(r in n)r in e||o.push(r);return o}(t.c,n),t.c=n}return r}))}function ju(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Vu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ae().then((function(){if(Nu()){var t=jr(),r="__sak"+t;return Cu||(Cu=new Pu),(n=Cu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){z(e.a,(function(e){e(t)}))})),t}))}function Gu(){this.a={},this.type="inMemory"}function Wu(){if(!function(){var t="Node"==Cr();if(!(t=Hu()||t&&e.a.INTERNAL.node&&e.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==Cr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Hu()||e.a.INTERNAL.node.localStorage,this.type="localStorage"}function Hu(){try{var t=u.localStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Bu(){this.type="nullStorage"}function Uu(){if(!function(){var t="Node"==Cr();if(!(t=zu()||t&&e.a.INTERNAL.node&&e.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==Cr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=zu()||e.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function zu(){try{var t=u.sessionStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function qu(){var t={};t.Browser=Qu,t.Node=Xu,t.ReactNative=$u,t.Worker=Ju,this.a=t[Cr()]}wu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var o=[];z(r,(function(e){o.push(Ae().then((function(){return e(t.origin,t.data.data)})))})),Ne(o).then((function(r){var o=[];z(r,(function(t){o.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),z(o,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:o})}))}},Ou.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Ru.prototype.close=function(){for(;0<this.a.length;)Tu(this,this.a[0]);this.b=!0},(n=Pu.prototype).set=function(t,e){var n=this,r=!1;return Du(this,(function(e){return Lu((e=xu(ku(e,!0))).get(t))})).then((function(o){return Du(n,(function(i){if(i=xu(ku(i,!0)),o)return o.value=e,Lu(i.put(o));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Lu(i.add(s))}))})).then((function(){return n.c[t]=e,Fu(n,t)})).na((function(){r&&n.b--}))},n.get=function(t){return Du(this,(function(e){return Lu(xu(ku(e,!1)).get(t))})).then((function(t){return t&&t.value}))},n.T=function(t){var e=this,n=!1;return Du(this,(function(r){return n=!0,e.b++,Lu(xu(ku(r,!0)).delete(t))})).then((function(){return delete e.c[t],Fu(e,t)})).na((function(){n&&e.b--}))},n.ca=function(t){0==this.a.length&&function(t){ju(t),function e(){t.f=setTimeout((function(){t.l=Mu(t).then((function(e){0<e.length&&z(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},n.ia=function(t){$(this.a,(function(e){return e==t})),0==this.a.length&&ju(this)},(n=Vu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},n.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},n.T=function(t){return this.b.then((function(e){return e.T(t)}))},n.ca=function(t){this.a.push(t)},n.ia=function(t){$(this.a,(function(e){return e==t}))},(n=Gu.prototype).get=function(t){return Ae(this.a[t])},n.set=function(t,e){return this.a[t]=e,Ae()},n.T=function(t){return delete this.a[t],Ae()},n.ca=function(){},n.ia=function(){},(n=Wu.prototype).get=function(t){var e=this;return Ae().then((function(){return Mr(e.a.getItem(t))}))},n.set=function(t,e){var n=this;return Ae().then((function(){var r=Lr(e);null===r?n.T(t):n.a.setItem(t,r)}))},n.T=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},n.ca=function(t){u.window&&cn(u.window,"storage",t)},n.ia=function(t){u.window&&dn(u.window,"storage",t)},(n=Bu.prototype).get=function(){return Ae(null)},n.set=function(){return Ae()},n.T=function(){return Ae()},n.ca=function(){},n.ia=function(){},(n=Uu.prototype).get=function(t){var e=this;return Ae().then((function(){return Mr(e.a.getItem(t))}))},n.set=function(t,e){var n=this;return Ae().then((function(){var r=Lr(e);null===r?n.T(t):n.a.setItem(t,r)}))},n.T=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},n.ca=function(){},n.ia=function(){};var Ku,Yu,Qu={D:Wu,ab:Uu},Xu={D:Wu,ab:Uu},$u={D:bu,ab:Bu},Ju={D:Wu,ab:Bu},Zu={qd:"local",NONE:"none",sd:"session"};function tl(){var t=!(Vr(Pr())||!br()),e=kr(),n=Ir();this.v=t,this.h=e,this.l=n,this.a={},Ku||(Ku=new qu),t=Ku;try{this.g=!lr()&&Ur()||!u.indexedDB?new t.a.D:new Vu(wr()?new Gu:new t.a.D)}catch(r){this.g=new Gu,this.h=!0}try{this.i=new t.a.ab}catch(r){this.i=new Gu}this.m=new Gu,this.f=E(this.Xb,this),this.b={}}function el(){return Yu||(Yu=new tl),Yu}function nl(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function rl(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ol(t,e,n){return n=rl(e,n),"local"==e.D&&(t.b[n]=null),nl(t,e.D).T(n)}function il(t){t.c&&(clearInterval(t.c),t.c=null)}function sl(t){this.a=t,this.b=el()}(n=tl.prototype).get=function(t,e){return nl(this,t.D).get(rl(t,e))},n.set=function(t,e,n){var r=rl(t,n),o=this,i=nl(this,t.D);return i.set(r,e).then((function(){return i.get(r)})).then((function(e){"local"==t.D&&(o.b[r]=e)}))},n.addListener=function(t,e,n){t=rl(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),gt(this.a)&&(nl(this,"local").ca(this.f),this.h||(lr()||!Ur())&&u.indexedDB||!this.l||function(t){il(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Je({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},n.removeListener=function(t,e,n){t=rl(t,e),this.a[t]&&($(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),gt(this.a)&&(nl(this,"local").ia(this.f),il(this))},n.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var o=u.localStorage.getItem(n);o!==r&&(this.b[n]=o,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?nl(this,"local").ia(this.f):il(this),this.v)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var i=this;n=function(){"undefined"===typeof t.a.a&&i.b[e]===u.localStorage.getItem(e)||(i.b[e]=u.localStorage.getItem(e),i.lb(e))},Qt&&ue&&10==ue&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else z(t,E(this.lb,this))},n.lb=function(t){this.a[t]&&z(this.a[t],(function(t){t()}))};var al,ul={name:"authEvent",D:"local"};function ll(){this.a=el()}function cl(t,e){this.b=pl,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===al&&(al=u.Int32Array?new Int32Array(ml):ml),this.reset()}R(cl,(function(){this.b=-1}));for(var pl=64,hl=pl-1,dl=[],fl=0;fl<hl;fl++)dl[fl]=0;var gl=J(128,dl);function vl(t){for(var e=t.f,n=t.l,r=0,o=0;o<e.length;)n[r++]=e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3],o=4*r;for(e=16;64>e;e++){o=0|n[e-15],r=0|n[e-2];var i=(0|n[e-16])+((o>>>7|o<<25)^(o>>>18|o<<14)^o>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=i+s|0}r=0|t.a[0],o=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],l=0|t.a[4],c=0|t.a[5],p=0|t.a[6];for(i=0|t.a[7],e=0;64>e;e++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&o^r&a^o&a)|0;s=(i=i+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((s=(s=l&c^~l&p)+(0|al[e])|0)+(0|n[e])|0)|0,i=p,p=c,c=l,l=u+s|0,u=a,a=o,o=r,r=s+h|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+o|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+p|0,t.a[7]=t.a[7]+i|0}function yl(t,e,n){void 0===n&&(n=e.length);var r=0,o=t.c;if("string"===typeof e)for(;r<n;)t.f[o++]=e.charCodeAt(r++),o==t.b&&(vl(t),o=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var i=e[r++];if(!("number"==typeof i&&0<=i&&255>=i&&i==(0|i)))throw Error("message must be a byte array");t.f[o++]=i,o==t.b&&(vl(t),o=0)}}t.c=o,t.g+=n}cl.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var ml=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bl(){cl.call(this,8,wl)}R(bl,cl);var wl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Cl(t,e,n,r,o,i){this.m=t,this.i=e,this.l=n,this.v=r||null,this.u=o||null,this.s=i,this.h=e+":"+n,this.A=new ll,this.g=new sl(this.h),this.f=null,this.b=[],this.a=this.c=null}function El(t){return new T("invalid-cordova-configuration",t)}function _l(t){var e=new bl;yl(e,t),t=[];var n=8*e.g;56>e.c?yl(e,gl,56-e.c):yl(e,gl,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(vl(e),r=n=0;r<e.i;r++)for(var o=24;0<=o;o-=8)t[n++]=e.a[r]>>o&255;return function(t){return K(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Ol(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Rl(t){return t.f||(t.f=t.la().then((function(){return new Ee((function(e){t.Ea((function n(r){return e(r),t.Ra(n),!1})),function(t){function e(e){r=!0,o&&o.cancel(),Sl(t).then((function(r){var o=n;if(r&&e&&e.url){var i=null;-1!=(o=ii(e.url)).indexOf("/__/auth/callback")&&(i=(i="object"===typeof(i=Mr(Vn(i=Gn(o),"firebaseError")||null))?P(i):null)?new Gi(r.c,r.b,null,null,i,null,r.S()):new Gi(r.c,r.b,o,r.f,null,null,r.S())),o=i||n}Ol(t,o)}))}var n=new Gi("unknown",null,null,null,new T("no-auth-event")),r=!1,o=Tn(500).then((function(){return Sl(t).then((function(){r||Ol(t,n)}))})),i=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ar("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"===typeof i)try{i(t)}catch(n){console.error(n)}},Ui||(Ui=new Hi),function(t){var e=Ui;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=Ar("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Sl(t){var e=null;return function(t){return t.b.get(ul,t.a).then((function(t){return Wi(t)}))}(t.g).then((function(n){return e=n,ol((n=t.g).b,ul,n.a)})).then((function(){return e}))}function Tl(t){this.a=t,this.b=el()}(n=Cl.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?yr().then((function(){return new Ee((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ie(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Ar("universalLinks.subscribe",u))throw El("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Ar("BuildInfo.packageName",u))throw El("cordova-plugin-buildinfo is not installed");if("function"!==typeof Ar("cordova.plugins.browsertab.openUrl",u))throw El("cordova-plugin-browsertab is not installed");if("function"!==typeof Ar("cordova.InAppBrowser.open",u))throw El("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},n.Nb=function(t,e){return e(new T("operation-not-supported-in-this-environment")),Ae()},n.Lb=function(){return Ie(new T("operation-not-supported-in-this-environment"))},n.Zb=function(){return!1},n.Wb=function(){return!0},n.Sb=function(){return!0},n.Mb=function(t,e,n,r){if(this.c)return Ie(new T("redirect-operation-pending"));var o=this,i=u.document,s=null,a=null,l=null,c=null;return this.c=Ae().then((function(){return Vi(e),Rl(o)})).then((function(){return function(t,e,n,r,o){var i=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Gi(e,r,null,i,new T("no-auth-event"),null,o),a=Ar("BuildInfo.packageName",u);if("string"!==typeof a)throw new T("invalid-cordova-configuration");var l=Ar("BuildInfo.displayName",u),c={};if(Pr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=a;else{if(!Pr().toLowerCase().match(/android/))return Ie(new T("operation-not-supported-in-this-environment"));c.apn=a}l&&(c.appDisplayName=l),i=_l(i),c.sessionId=i;var p=mu(t.m,t.i,t.l,e,n,null,r,t.v,c,t.u,o,t.s);return t.la().then((function(){var e=t.h;return t.A.a.set(ul,s.w(),e)})).then((function(){var e=Ar("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!==typeof(n=Ar("cordova.plugins.browsertab.openUrl",u)))throw new T("invalid-cordova-configuration");n(p)}else{if("function"!==typeof(n=Ar("cordova.InAppBrowser.open",u)))throw new T("invalid-cordova-configuration");e=Pr(),t.a=n(p,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(o,t,e,n,r)})).then((function(){return new Ee((function(t,e){a=function(){var e=Ar("cordova.plugins.browsertab.close",u);return t(),"function"===typeof e&&e(),o.a&&"function"===typeof o.a.close&&(o.a.close(),o.a=null),!1},o.Ea(a),l=function(){s||(s=Tn(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},c=function(){Hr()&&l()},i.addEventListener("resume",l,!1),Pr().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",c,!1)})).o((function(t){return Sl(o).then((function(){throw t}))}))})).na((function(){l&&i.removeEventListener("resume",l,!1),c&&i.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),a&&o.Ra(a),o.c=null}))},n.Ea=function(t){this.b.push(t),Rl(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Gi("unknown",null,null,null,new T("no-auth-event")),t(e))}))},n.Ra=function(t){$(this.b,(function(e){return e==t}))};var Pl={name:"pendingRedirect",D:"session"};function Al(t){return ol(t.b,Pl,t.a)}function Il(t,e,n,r){this.i={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new zl,this.A=new Xl,this.g=new Tl(Bl(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Dl(this.O,this.m,this.v,A,this.G)}function Dl(t,n,r,o,i){var s=e.a.SDK_VERSION||null;return mr()?new Cl(t,n,r,s,o,i):new fu(t,n,r,s,o,i)}function Nl(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().o((function(n){throw t.a==e&&t.reset(),n}))}function xl(t){t.a.Wb()&&Nl(t).o((function(e){var n=new Gi("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Vl(e)&&t.s(n)})),t.a.Sb()||ql(t.b)}function kl(t,e){Q(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Pl,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Al(t.g).then((function(){Nl(t).o((function(e){var n=new Gi("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Vl(e)&&t.s(n)}))})):xl(t)})).o((function(){xl(t)}))}function Ll(t,e){$(t.h,(function(t){return t==e}))}Il.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Dl(this.O,this.m,this.v,null,this.G),this.i={}},Il.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=O()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=O())),e=!0;break}}return ql(this.b),e};var Fl=new Wr(2e3,1e4),Ml=new Wr(3e4,6e4);function jl(t,e,n,r,o,i,s){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),o,i,s)}function Vl(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Gl(t,e,n,r,o){var i;return function(t){return t.b.set(Pl,"pending",t.a)}(t.g).then((function(){return t.a.Mb(e,n,r,o).o((function(e){if(Vl(e))throw new T("operation-not-supported-in-this-environment");return i=e,Al(t.g).then((function(){throw i}))})).then((function(){return t.a.Zb()?new Ee((function(){})):Al(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Wl(t,e,n,r,o){return t.a.Nb(r,(function(t){e.ma(n,null,t,o)}),Fl.get())}Il.prototype.qa=function(){return this.b.qa()};var Hl={};function Bl(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Ul(t,e,n,r){var o=Bl(e,n,r);return Hl[o]||(Hl[o]=new Il(t,e,n,r)),Hl[o]}function zl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function ql(t){t.g||(t.g=!0,Ql(t,!1,null,null))}function Kl(t){t.g&&!t.i&&Ql(t,!1,null,null)}function Yl(t,e){if(t.b=function(){return Ae(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Ql(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ie(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Yl(t,n):Yl(t,{user:null}),t.f=[],t.c=[]}function Xl(){}function $l(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function Jl(t,e){this.a=e,Qr(this,"verificationId",t)}function Zl(t,e,n,r){return new Fi(t).eb(e,n).then((function(t){return new Jl(t,r)}))}function tc(t){var e=zo(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xr(this,{token:t,expirationTime:Br(1e3*e.exp),authTime:Br(1e3*e.auth_time),issuedAtTime:Br(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function ec(t,e,n){var r=e&&e[rc];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=vt(e),this.g=n,this.c=new si(null,r),this.b=[];var o=this;z(e[nc]||[],(function(t){(t=to(t))&&o.b.push(t)})),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}zl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},zl.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,o=t.a&&"auth/web-storage-unsupported"==t.a.code,i=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!o&&!i),"unknown"!=n||o||i?t.a?(Ql(this,!0,null,t.a),Ae()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,o=e.f,i=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,o,s,i).then((function(e){Ql(t,a,e,null)})).o((function(e){Ql(t,a,null,e)}))}(this,t,e):Ie(new T("invalid-auth-event")):(Ql(this,!1,null,null),Ae())}else Ie(new T("invalid-auth-event"))},zl.prototype.qa=function(){var t=this;return new Ee((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=Tn(Ml.get()).then((function(){t.b||(t.g=!0,Ql(t,!0,null,e))}))}(t))}))},Xl.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),Ae()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.ma(r,t,null,n)})).o((function(t){e.ma(r,null,t,n)}))}(t,e):Ie(new T("invalid-auth-event"))}else Ie(new T("invalid-auth-event"))},Jl.prototype.confirm=function(t){return t=Mi(this.verificationId,t),this.a(t)};var nc="mfaInfo",rc="mfaPendingCredential";function oc(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new ec(t,e,n),Qr(this,"resolver",this.b)}function ic(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new oc(e,t.serverResponse,n,t.message)}catch(r){}return null}function sc(){}function ac(t){Qr(this,"factorId",t.fa),this.a=t}function uc(t){if(ac.call(this,t),this.a.fa!=Fi.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function lc(t,e){for(var n in $e.call(this,t),e)this[n]=e[n]}function cc(t,e){this.a=t,this.b=[],this.c=E(this.xc,this),cn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&z(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ro]=t.uid),t.displayName&&(r[eo]=t.displayName),t.enrollmentTime&&(r[no]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[oo]=t.phoneNumber);try{e=new io(r)}catch(o){}t=e}else t=null;t&&n.push(t)})),pc(this,n)}function pc(t,e){t.b=e,Qr(t,"enrolledFactors",e)}function hc(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function dc(t){this.c=t,this.b=this.a=null}function fc(t){return t.b&&1e3*t.b.c||0}function gc(t,e){var n=e.refreshToken;t.b=Uo(e[Js]||""),t.a=n}function vc(t,e){return function(t,e){return new Ee((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?aa(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(iu(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Jn(e).toString(),t.g,t.v.get()):r(new T("internal-error"))}))}(t.c,e).then((function(e){return t.b=Uo(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function yc(t,e){this.a=t||null,this.b=e||null,Xr(this,{lastSignInTime:Br(e||null),creationTime:Br(t||null)})}function mc(t,e,n,r,o,i){Xr(this,{uid:t,displayName:r||null,photoURL:o||null,email:n||null,phoneNumber:i||null,providerId:e})}function bc(t,n,r){this.G=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var o=e.a.SDK_VERSION?Tr(e.a.SDK_VERSION):null;this.a=new Xs(this.l,x(A),o),t.emulatorConfig&&oa(this.a,t.emulatorConfig),this.b=new dc(this.a),Tc(this,n[Js]),gc(this.b,n),Qr(this,"refreshToken",this.b.a),Ic(this,r||{}),En.call(this),this.P=!1,this.s&&Dr()&&(this.i=Ul(this.s,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new hc((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=fc(t.b)-O()-3e5;return 0<e?e:0}))}(this),this.$=E(this.gb,this);var i=this;this.pa=null,this.Ba=function(t){i.wa(t.h)},this.ba=null,this.za=function(t){oa(i.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){Ec(i,t.f)},this.aa=null,this.N=new cc(this,r),Qr(this,"multiFactor",this.N)}function wc(t,e){t.ba&&dn(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&cn(e,"languageCodeChanged",t.Ba)}function Cc(t,e){t.W&&dn(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&cn(e,"emulatorConfigChanged",t.za)}function Ec(t,n){t.X=n,sa(t.a,e.a.SDK_VERSION?Tr(e.a.SDK_VERSION,t.X):null)}function _c(t,e){t.aa&&dn(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&cn(e,"frameworkChanged",t.Aa)}function Oc(t){try{return e.a.app(t.m).auth()}catch(n){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Rc(t){t.A||t.u.b||(t.u.start(),dn(t,"tokenChanged",t.$),cn(t,"tokenChanged",t.$))}function Sc(t){dn(t,"tokenChanged",t.$),t.u.stop()}function Tc(t,e){t.ya=e,Qr(t,"_lat",e)}function Pc(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ne(e).then((function(){return t}))}function Ac(t){t.i&&!t.P&&(t.P=!0,kl(t.i,t))}function Ic(t,e){Xr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new yc(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Dc(){}function Nc(t){return Ae().then((function(){if(t.A)throw new T("app-deleted")}))}function xc(t){return K(t.providerData,(function(t){return t.providerId}))}function kc(t,e){e&&(Lc(t,e.providerId),t.providerData.push(e))}function Lc(t,e){$(t.providerData,(function(t){return t.providerId==e}))}function Fc(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Qr(t,e,n)}function Mc(t,e){t!=e&&(Xr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Qr(t,"metadata",function(t){return new yc(t.a,t.b)}(e.metadata)):Qr(t,"metadata",new yc),z(e.providerData,(function(e){kc(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Qr(t,"refreshToken",t.b.a),pc(t.N,e.N.b))}function jc(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return ru(t.a,ka,{idToken:e}).then(E(t.Jc,t))}(t,e).then((function(){return n||Fc(t,"isAnonymous",!1),e}))}))}function Vc(t,e){e[Js]&&t.ya!=e[Js]&&(gc(t.b,e),t.dispatchEvent(new lc("tokenChanged")),Tc(t,e[Js]),Fc(t,"refreshToken",t.b.a))}function Gc(t,e){return jc(t).then((function(){if(Q(xc(t),e))return Pc(t).then((function(){throw new T("provider-already-linked")}))}))}function Wc(t,e,n){return $r({user:t,credential:ji(e),additionalUserInfo:e=Xo(e),operationType:n})}function Hc(t,e){return Vc(t,e),t.reload().then((function(){return t}))}function Bc(t,n,r,o,i){if(!Dr())return Ie(new T("operation-not-supported-in-this-environment"));if(t.f&&!i)return Ie(t.f);var s=Qo(r.providerId),a=jr(t.uid+":::"),u=null;(!kr()||br())&&t.s&&r.isOAuthProvider&&(u=mu(t.s,t.l,t.m,n,r,null,a,e.a.SDK_VERSION||null,null,null,t.tenantId));var l=fr(u,s&&s.ua,s&&s.ta);return o=o().then((function(){if(zc(t),!i)return t.I().then((function(){}))})).then((function(){return jl(t.i,l,n,r,a,!!u,t.tenantId)})).then((function(){return new Ee((function(e,r){t.ma(n,null,new T("cancelled-popup-request"),t.h||null),t.g=e,t.O=r,t.h=a,t.c=Wl(t.i,t,n,l,a)}))})).then((function(t){return l&&dr(l),t?$r(t):null})).o((function(t){throw l&&dr(l),t})),qc(t,o,i)}function Uc(t,e,n,r,o){if(!Dr())return Ie(new T("operation-not-supported-in-this-environment"));if(t.f&&!o)return Ie(t.f);var i=null,s=jr(t.uid+":::");return r=r().then((function(){if(zc(t),!o)return t.I().then((function(){}))})).then((function(){return t.ga=s,Pc(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Qc,t.w(),e.a)),e})).then((function(){return Gl(t.i,e,n,s,t.tenantId)})).o((function(e){if(i=e,t.ha)return Xc(t.ha);throw i})).then((function(){if(i)throw i})),qc(t,r,o)}function zc(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function qc(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),Ie(t.f)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new lc("userInvalidated")),t.f=e),e}))}(t,e,n);return t.G.push(r),r.na((function(){X(t.G,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ic(e.w(),Oc(t),E(t.ic,t))),n||e}))}function Kc(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Js]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new bc(e,n,t);return t.providerData&&z(t.providerData,(function(t){t&&kc(r,$r(t))})),t.redirectEventId&&(r.ga=t.redirectEventId),r}function Yc(t){this.a=t,this.b=el()}ec.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=vt(e.f);return delete n[nc],delete n[rc],mt(n,t),e.g(n)}))},R(oc,T),sc.prototype.rb=function(t,e,n){return e.type==ai?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),mt(n,{phoneVerificationInfo:Li(t.a)}),ru(e,Na,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return mt(n={mfaPendingCredential:n},{phoneVerificationInfo:Li(t.a)}),ru(e,xa,n)}))}(this,t,e)},R(ac,sc),R(uc,ac),R(lc,$e),(n=cc.prototype).xc=function(t){pc(this,function(t){var e=[];return z(t.mfaInfo||[],(function(t){(t=to(t))&&e.push(t)})),e}(t.gd))},n.Qb=function(){return this.a.I().then((function(t){return new si(t,null)}))},n.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return Vc(n.a,t),n.a.reload()}))},n.ad=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return ru(r,nu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=q(e.b,(function(t){return t.uid!=n}));return pc(e,r),Vc(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},n.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(t){return t.w()}))}}},hc.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=Tn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=u.document,e=null;return Hr()||!t?Ae():new Ee((function(n){e=function(){Hr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},hc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dc.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:fc(this)}},dc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ie(new T("user-token-expired")):t||!this.b||O()>fc(this)-3e4?this.a?vc(this,{grant_type:"refresh_token",refresh_token:this.a}):Ae(null):Ae({accessToken:this.b.toString(),refreshToken:this.a})},yc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},R(bc,En),bc.prototype.wa=function(t){this.pa=t,ra(this.a,t)},bc.prototype.ka=function(){return this.pa},bc.prototype.Ga=function(){return Z(this.X)},bc.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Qr(bc.prototype,"providerId","firebase"),(n=bc.prototype).reload=function(){var t=this;return qc(this,Nc(this).then((function(){return jc(t).then((function(){return Pc(t)})).then(Dc)})))},n.nc=function(t){return this.I(t).then((function(t){return new tc(t)}))},n.I=function(t){var e=this;return qc(this,Nc(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.ya&&(Tc(e,t.accessToken),e.dispatchEvent(new lc("tokenChanged"))),Fc(e,"refreshToken",t.refreshToken),t.accessToken})))},n.Jc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");Ic(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,(function(t){return new mc(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)kc(this,e[n]);Fc(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new lc("userReloaded",{gd:t}))},n.Kc=function(t){return Kr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},n.sb=function(t){var e=this,n=null;return qc(this,t.c(this.a,this.uid).then((function(t){return Vc(e,t),n=Wc(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},n.Bc=function(t){return Kr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},n.pb=function(t){var e=this,n=null;return qc(this,Gc(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Wc(e,t,"link"),Hc(e,t)})).then((function(){return n})))},n.Cc=function(t,e){var n=this;return qc(this,Gc(this,"phone").then((function(){return Zl(Oc(n),t,e,E(n.pb,n))})))},n.Lc=function(t,e){var n=this;return qc(this,Ae().then((function(){return Zl(Oc(n),t,e,E(n.sb,n))})),!0)},n.Ab=function(t){var e=this;return qc(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return Vc(e,t),e.reload()})))},n.dd=function(t){var e=this;return qc(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Vc(e,t),e.reload()})))},n.Bb=function(t){var e=this;return qc(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Vc(e,t),e.reload()})))},n.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Nc(this);var e=this;return qc(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Vc(e,t),Fc(e,"displayName",t.displayName||null),Fc(e,"photoURL",t.photoUrl||null),z(e.providerData,(function(t){"password"===t.providerId&&(Qr(t,"displayName",e.displayName),Qr(t,"photoURL",e.photoURL))})),Pc(e)})).then(Dc))},n.bd=function(t){var e=this;return qc(this,jc(this).then((function(n){return Q(xc(e),t)?function(t,e,n){return ru(t,Aa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return z(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),z(xc(e),(function(t){n[t]||Lc(e,t)})),n[Fi.PROVIDER_ID]||Qr(e,"phoneNumber",null),Pc(e)})):Pc(e).then((function(){throw new T("no-such-provider")}))})))},n.delete=function(){var t=this;return qc(this,this.I().then((function(e){return ru(t.a,Pa,{idToken:e})})).then((function(){t.dispatchEvent(new lc("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");wc(t,null),Cc(t,null),_c(t,null),t.G=[],t.A=!0,Sc(t),Qr(t,"refreshToken",null),t.i&&Ll(t.i,t)}))},n.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.h||null)==e&&this.g||"reauthViaPopup"==t&&(this.h||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},n.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.h||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},n.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.h||null)?E(this.Jb,this):"reauthViaPopup"==t&&e==(this.h||null)?E(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?E(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?E(this.Kb,this):null},n.Dc=function(t){var e=this;return Bc(this,"linkViaPopup",t,(function(){return Gc(e,t.providerId).then((function(){return Pc(e)}))}),!1)},n.Mc=function(t){return Bc(this,"reauthViaPopup",t,(function(){return Ae()}),!0)},n.Ec=function(t){var e=this;return Uc(this,"linkViaRedirect",t,(function(){return Gc(e,t.providerId)}),!1)},n.Nc=function(t){return Uc(this,"reauthViaRedirect",t,(function(){return Ae()}),!0)},n.Jb=function(t,e,n,r){var o=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return qc(this,this.I().then((function(n){return Ca(o.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return i=Wc(o,t,"link"),Hc(o,t)})).then((function(){return i})))},n.Kb=function(t,e,n,r){var o=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return qc(this,Ae().then((function(){return ci(Ea(o.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),o.uid)})).then((function(t){return i=Wc(o,t,"reauthenticate"),Vc(o,t),o.f=null,o.reload()})).then((function(){return i})),!0)},n.tb=function(t){var e=this,n=null;return qc(this,this.I().then((function(e){return n=e,"undefined"===typeof t||gt(t)?{}:Go(new Io(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},n.Db=function(t,e){var n=this,r=null;return qc(this,this.I().then((function(t){return r=t,"undefined"===typeof e||gt(e)?{}:Go(new Io(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},n.ic=function(t){var e=null,n=this;return qc(this,t=ci(Ae(t),n.uid).then((function(t){return e=Wc(n,t,"reauthenticate"),Vc(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},n.toJSON=function(){return this.w()},n.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&mt(t,this.metadata.w()),z(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),mt(t,this.N.w()),t};var Qc={name:"redirectUser",D:"session"};function Xc(t){return ol(t.b,Qc,t.a)}function $c(t){this.a=t,this.b=el(),this.c=null,this.f=function(t){var e=tp("local"),n=tp("session"),r=tp("none");return function(t,e,n){var r=rl(e,n),o=nl(t,e.D);return t.get(e,n).then((function(i){var s=null;try{s=Mr(u.localStorage.getItem(r))}catch(a){}if(s&&!i)return u.localStorage.removeItem(r),t.set(e,s,n);s&&i&&"localStorage"!=o.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(o){return o?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Zc,t.a).then((function(t){return t?tp(t):e}))}))}))})).then((function(e){return t.c=e,Jc(t,e.D)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(tp("local"),this.a,E(this.g,this))}function Jc(t,e){var n,r=[];for(n in Zu)Zu[n]!==e&&r.push(ol(t.b,tp(Zu[n]),t.a));return r.push(ol(t.b,Zc,t.a)),function(t){return new Ee((function(e,n){var r=t.length,o=[];if(r)for(var i=function(t,n){r--,o[t]=n,0==r&&e(o)},s=function(t){n(t)},a=0;a<t.length;a++)De(t[a],_(i,a),s);else e(o)}))}(r)}$c.prototype.g=function(){var t=this,e=tp("local");op(this,(function(){return Ae().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return Jc(t,"local").then((function(){t.c=e}))}))}))};var Zc={name:"persistence",D:"session"};function tp(t){return{name:"authUser",D:t}}function ep(t,e){return op(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function np(t){return op(t,(function(){return ol(t.b,t.c,t.a)}))}function rp(t,e,n){return op(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Kc(t||{})}))}))}function op(t,e){return t.f=t.f.then(e,e),t.f}function ip(t){if(this.m=!1,Qr(this,"settings",new $l),Qr(this,"app",t),!fp(this).options||!fp(this).options.apiKey)throw new T("invalid-api-key");t=e.a.SDK_VERSION?Tr(e.a.SDK_VERSION):null,this.a=new Xs(fp(this).options&&fp(this).options.apiKey,x(A),t),this.R=[],this.u=[],this.P=[],this.ac=e.a.INTERNAL.createSubscribe(E(this.yc,this)),this.X=void 0,this.bc=e.a.INTERNAL.createSubscribe(E(this.zc,this)),hp(this,null),this.l=new $c(fp(this).options.apiKey+":"+fp(this).name),this.G=new Yc(fp(this).options.apiKey+":"+fp(this).name),this.$=mp(this,function(t){var e=fp(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Qc,t.a).then((function(t){return t&&e&&(t.authDomain=e),Kc(t||{})}))}(t.G,fp(t).options.authDomain).then((function(e){return(t.s=e)&&(e.ha=t.G),Xc(t.G)}));return mp(t,e)}(t).then((function(){return rp(t.l,e,t.f)})).then((function(e){return e?(e.ha=t.G,t.s&&(t.s.ga||null)==(e.ga||null)?e:e.reload().then((function(){return ep(t.l,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:np(t.l)}))):null})).then((function(e){hp(t,e||null)}));return mp(t,n)}(this)),this.i=mp(this,function(t){return t.$.then((function(){return cp(t)})).o((function(){})).then((function(){if(!t.m)return t.pa()})).o((function(){})).then((function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(tp("local"),e.a,t.pa)}}))}(this)),this.ba=!1,this.pa=E(this.Yc,this),this.Ba=E(this.da,this),this.ya=E(this.kc,this),this.za=E(this.vc,this),this.Aa=E(this.wc,this),this.b=null,function(t){var e=fp(t).options.authDomain,n=fp(t).options.apiKey;e&&Dr()&&(t.gb=t.$.then((function(){if(!t.m){if(t.b=Ul(e,n,fp(t).name,t.f),kl(t.b,t),gp(t)&&Ac(gp(t)),t.s){Ac(t.s);var r=t.s;r.wa(t.ka()),wc(r,t),Ec(r=t.s,t.N),_c(r,t),oa((r=t.s).a,t.f),Cc(r,t),t.s=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Fc,this),this.A=0,En.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function sp(t){$e.call(this,"languageCodeChanged"),this.h=t}function ap(t){$e.call(this,"emulatorConfigChanged"),this.c=t}function up(t){$e.call(this,"frameworkChanged"),this.f=t}function lp(t){return t.gb||Ie(new T("auth-domain-config-required"))}function cp(t){if(!Dr())return Ie(new T("operation-not-supported-in-this-environment"));var e=lp(t).then((function(){return t.b.qa()})).then((function(t){return t?$r(t):null}));return mp(t,e)}function pp(t,e){var n={};return n.apiKey=fp(t).options.apiKey,n.authDomain=fp(t).options.authDomain,n.appName=fp(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return function(t,e,n,r){var o=new bc(t,e);return n&&(o.ha=n),r&&Ec(o,r),o.reload().then((function(){return o}))}(n,e,t.G,t.Ga())})).then((function(e){return gp(t)&&e.uid==gp(t).uid?(Mc(gp(t),e),t.da(e)):(hp(t,e),Ac(e),t.da(e))})).then((function(){yp(t)}))}function hp(t,e){gp(t)&&(function(t,e){$(t.R,(function(t){return t==e}))}(gp(t),t.Ba),dn(gp(t),"tokenChanged",t.ya),dn(gp(t),"userDeleted",t.za),dn(gp(t),"userInvalidated",t.Aa),Sc(gp(t))),e&&(e.R.push(t.Ba),cn(e,"tokenChanged",t.ya),cn(e,"userDeleted",t.za),cn(e,"userInvalidated",t.Aa),0<t.A&&Rc(e)),Qr(t,"currentUser",e),e&&(e.wa(t.ka()),wc(e,t),Ec(e,t.N),_c(e,t),oa(e.a,t.f),Cc(e,t))}function dp(t,e){var n=null,r=null;return mp(t,e.then((function(e){return n=ji(e),r=Xo(e),pp(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ic(e.w(),t,E(t.jc,t))),n||e})).then((function(){return $r({user:gp(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function fp(t){return t.app}function gp(t){return t.currentUser}function vp(t){return gp(t)&&gp(t)._lat||null}function yp(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](vp(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](vp(t))}}function mp(t,e){return t.R.push(e),e.na((function(){X(t.R,e)})),e}function bp(){}function wp(){this.a={},this.b=1e12}$c.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Zu)if(Zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(Cr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Nu()&&"none"!==t)throw n;break;default:if(!Ir()&&"none"!==t)throw n}}(t),op(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,Jc(n,t)})).then((function(){if(n.c=tp(t),e)return n.b.set(n.c,e,n.a)})):Ae()}))},R(ip,En),R(sp,$e),R(ap,$e),R(up,$e),(n=ip.prototype).wb=function(t){return mp(this,t=this.l.wb(t))},n.wa=function(t){this.aa===t||this.m||(this.aa=t,ra(this.a,this.aa),this.dispatchEvent(new sp(this.ka())))},n.ka=function(){return this.aa},n.ed=function(){var t=u.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},n.fd=function(t,e){if(!this.f){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");!function(t){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!t&&yr().then((function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)}))}(!!e&&!!e.disableWarnings),this.f={url:t},this.settings.hb=!0,oa(this.a,this.f),this.dispatchEvent(new ap(this.f))}},n.Fc=function(t){this.N.push(t),sa(this.a,e.a.SDK_VERSION?Tr(e.a.SDK_VERSION,this.N):null),this.dispatchEvent(new up(this.N))},n.Ga=function(){return Z(this.N)},n.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},n.S=function(){return this.W},n.toJSON=function(){return{apiKey:fp(this).options.apiKey,authDomain:fp(this).options.authDomain,appName:fp(this).name,currentUser:gp(this)&&gp(this).w()}},n.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==e&&!!this.g;default:return!1}},n.ma=function(t,e,n,r){"signInViaPopup"==t&&this.h==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},n.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.h==e&&this.g?E(this.hc,this):null},n.hc=function(t,e,n,r){var o=this,i={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),o.$.then((function(){return dp(o,wa(o.a,i))}))},n.Wc=function(t){if(!Dr())return Ie(new T("operation-not-supported-in-this-environment"));var n=this,r=Qo(t.providerId),o=jr(),i=null;(!kr()||br())&&fp(this).options.authDomain&&t.isOAuthProvider&&(i=mu(fp(this).options.authDomain,fp(this).options.apiKey,fp(this).name,"signInViaPopup",t,null,o,e.a.SDK_VERSION||null,null,null,this.S(),this.f));var s=fr(i,r&&r.ua,r&&r.ta);return mp(this,r=lp(this).then((function(e){return jl(e,s,"signInViaPopup",t,o,!!i,n.S())})).then((function(){return new Ee((function(t,e){n.ma("signInViaPopup",null,new T("cancelled-popup-request"),n.h),n.g=t,n.O=e,n.h=o,n.c=Wl(n.b,n,"signInViaPopup",s,o)}))})).then((function(t){return s&&dr(s),t?$r(t):null})).o((function(t){throw s&&dr(s),t})))},n.Xc=function(t){if(!Dr())return Ie(new T("operation-not-supported-in-this-environment"));var e=this;return mp(this,lp(this).then((function(){return function(t){return op(t,(function(){return t.b.set(Zc,t.c.D,t.a)}))}(e.l)})).then((function(){return Gl(e.b,"signInViaRedirect",t,void 0,e.S())})))},n.qa=function(){var t=this;return cp(this).then((function(e){return t.b&&Kl(t.b.b),e})).o((function(e){throw t.b&&Kl(t.b.b),e}))},n.cd=function(t){if(!t)return Ie(new T("null-user"));if(this.W!=t.tenantId)return Ie(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=fp(this).options.apiKey,n.authDomain=fp(this).options.authDomain,n.appName=fp(this).name;var r=function(t,e,n,r){var o=t.b,i={};return i[Js]=o.b&&o.b.toString(),i.refreshToken=o.a,e=new bc(e||{apiKey:t.l,authDomain:t.s,appName:t.m},i),n&&(e.ha=n),r&&Ec(e,r),Mc(e,t),e}(t,n,e.G,e.Ga());return mp(this,this.i.then((function(){if(fp(e).options.apiKey!=t.l)return r.reload()})).then((function(){return gp(e)&&t.uid==gp(e).uid?(Mc(gp(e),t),e.da(t)):(hp(e,r),Ac(r),e.da(r))})).then((function(){yp(e)})))},n.zb=function(){var t=this;return mp(this,this.i.then((function(){return t.b&&Kl(t.b.b),gp(t)?(hp(t,null),np(t.l).then((function(){yp(t)}))):Ae()})))},n.Yc=function(){var t=this;return rp(this.l,fp(this).options.authDomain).then((function(e){if(!t.m){var n;if(n=gp(t)&&e){n=gp(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Mc(gp(t),e),gp(t).I();(gp(t)||e)&&(hp(t,e),e&&(Ac(e),e.ha=t.G),t.b&&kl(t.b,t),yp(t))}}))},n.da=function(t){return ep(this.l,t)},n.kc=function(){yp(this),this.da(gp(this))},n.vc=function(){this.zb()},n.wc=function(){this.zb()},n.jc=function(t){var e=this;return this.i.then((function(){return dp(e,Ae(t))}))},n.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(gp(e))}))},n.zc=function(t){var e=this;!function(t,e){t.P.push(e),mp(t,t.i.then((function(){!t.m&&Q(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(vp(t)))})))}(this,(function(){t.next(gp(e))}))},n.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof t?t(gp(r)):"function"===typeof t.next&&t.next(gp(r))})),this.ac(t,e,n)},n.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"===typeof t?t(gp(r)):"function"===typeof t.next&&t.next(gp(r))})),this.bc(t,e,n)},n.mc=function(t){var e=this;return mp(this,this.i.then((function(){return gp(e)?gp(e).I(t).then((function(t){return{accessToken:t}})):null})))},n.Sc=function(t){var e=this;return this.i.then((function(){return dp(e,ru(e.a,$a,{token:t}))})).then((function(t){var n=t.user;return Fc(n,"isAnonymous",!1),e.da(n),t}))},n.Tc=function(t,e){var n=this;return this.i.then((function(){return dp(n,ru(n.a,Ja,{email:t,password:e}))}))},n.dc=function(t,e){var n=this;return this.i.then((function(){return dp(n,ru(n.a,Sa,{email:t,password:e}))}))},n.Za=function(t){var e=this;return this.i.then((function(){return dp(e,t.ja(e.a))}))},n.Rc=function(t){return Kr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},n.yb=function(){var t=this;return this.i.then((function(){var e=gp(t);if(e&&e.isAnonymous){var n=$r({providerId:null,isNewUser:!1});return $r({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return dp(t,t.a.yb()).then((function(e){var n=e.user;return Fc(n,"isAnonymous",!0),t.da(n),e}))}))},n.getUid=function(){return gp(this)&&gp(this).uid||null},n.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&gp(this)&&Rc(gp(this))},n.Oc=function(t){var e=this;z(this.u,(function(n){n==t&&e.A--})),0>this.A&&(this.A=0),0==this.A&&gp(this)&&Sc(gp(this)),this.removeAuthTokenListener(t)},n.addAuthTokenListener=function(t){var e=this;this.u.push(t),mp(this,this.i.then((function(){e.m||Q(e.u,t)&&t(vp(e))})))},n.removeAuthTokenListener=function(t){$(this.u,(function(e){return e==t}))},n.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(tp("local"),t.a,this.pa),this.b&&(Ll(this.b,this),Kl(this.b.b)),Promise.resolve()},n.gc=function(t){return mp(this,function(t,e){return ru(t,Ta,{identifier:e,continueUri:Nr()?cr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},n.Ac=function(t){return!!Ni(t)},n.vb=function(t,e){var n=this;return mp(this,Ae().then((function(){var t=new Io(e);if(!t.c)throw new T("argument-error",xo+" must be true when sending sign in link to email");return Go(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},n.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},n.mb=function(t,e){return mp(this,this.a.mb(t,e).then((function(){})))},n.Qa=function(t){return mp(this,this.a.Qa(t).then((function(t){return new so(t)})))},n.ib=function(t){return mp(this,this.a.ib(t).then((function(){})))},n.ub=function(t,e){var n=this;return mp(this,Ae().then((function(){return"undefined"===typeof e||gt(e)?{}:Go(new Io(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},n.Vc=function(t,e){return mp(this,Zl(this,t,e,E(this.Za,this)))},n.Uc=function(t,e){var n=this;return mp(this,Ae().then((function(){var r=e||cr(),o=Di(t,r);if(!(r=Ni(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new T("tenant-id-mismatch");return n.Za(o)})))},bp.prototype.render=function(){},bp.prototype.reset=function(){},bp.prototype.getResponse=function(){},bp.prototype.execute=function(){};var Cp=null;function Ep(t,e){return(e=_p(e))&&t.a[e]||null}function _p(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function Op(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ce(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function Rp(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Sp(){}function Tp(){}wp.prototype.render=function(t,e){return this.a[this.b.toString()]=new Op(t,e),this.b++},wp.prototype.reset=function(t){var e=Ep(this,t);t=_p(t),e&&t&&(e.delete(),delete this.a[t])},wp.prototype.getResponse=function(t){return(t=Ep(this,t))?t.getResponse():null},wp.prototype.execute=function(t){(t=Ep(this,t))&&t.execute()},Op.prototype.getResponse=function(){return Rp(this),this.b},Op.prototype.execute=function(){Rp(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},Op.prototype.delete=function(){Rp(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Qr(Sp,"FACTOR_ID","phone"),Tp.prototype.g=function(){return Cp||(Cp=new wp),Ae(Cp)},Tp.prototype.c=function(){};var Pp=null;function Ap(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ip=new wt(Ot,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Dp=new Wr(3e4,6e4);Ap.prototype.g=function(t){var e=this;return new Ee((function(n,r){var o=setTimeout((function(){r(new T("network-request-failed"))}),Dp.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var i=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=i(t,n),e.b++,t},clearTimeout(o),n(u.grecaptcha)}else clearTimeout(o),r(new T("internal-error"));delete u[e.a]},Ae(Bs(Pt(Ip,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(o),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(o),n(u.grecaptcha))}))},Ap.prototype.c=function(){this.b--};var Np=null;function xp(t,e,n,r,o,i,s){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,s?(Pp||(Pp=new Tp),s=Pp):(Np||(Np=new Ap),s=Np),this.v=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Fp])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Mp],!u.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ce(e)||!this.i&&ce(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Xs(t,i||null,o||null),this.u=r||function(){return null};var a=this;this.l=[];var l=this.a[kp];this.a[kp]=function(t){if(jp(a,t),"function"===typeof l)l(t);else if("string"===typeof l){var e=Ar(l,u);"function"===typeof e&&e(t)}};var c=this.a[Lp];this.a[Lp]=function(){if(jp(a,null),"function"===typeof c)c();else if("string"===typeof c){var t=Ar(c,u);"function"===typeof t&&t()}}}var kp="callback",Lp="expired-callback",Fp="sitekey",Mp="size";function jp(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Vp(t,e){return t.h.push(e),e.na((function(){X(t.h,e)})),e}function Gp(t){if(t.A)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Wp(t,n,r){var o=!1;try{this.b=r||e.a.app()}catch(a){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");r=this.b.options.apiKey;var i=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{o=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=e.a.SDK_VERSION?Tr(e.a.SDK_VERSION,s):null,xp.call(this,r,t,n,(function(){try{var t=i.b.auth().ka()}catch(e){t=null}return t}),s,x(A),o)}function Hp(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var o=0,i=!1,s=0;s<e.length;s++)if(e[s].optional)i=!0;else{if(i)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");o++}if(i=e.length,n.length<o||i<n.length)r="Expected "+(o==i?1==o?"1 argument":o+" arguments":o+"-"+i+" arguments")+" but got "+n.length+".";else{for(o=0;o<n.length;o++)if(i=e[o].optional&&void 0===n[o],!e[o].K(n[o])&&!i){if(e=e[o],0>o||o>=Bp.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Bp[o],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(n=xp.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Vp(this,Ae().then((function(){if(Nr()&&!wr())return yr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,ru(t.s,Ga,{})})).then((function(e){t.a[Fp]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},n.render=function(){Gp(this);var t=this;return Vp(this,this.Ia().then((function(){if(null===t.c){var e=t.m;if(!t.i){var n=ce(e);e=function(t,e,n){var r=arguments,o=document,i=String(r[0]),s=r[1];if(!le&&s&&(s.name||s.type)){if(i=["<",i],s.name&&i.push(' name="',zt(s.name),'"'),s.type){i.push(' type="',zt(s.type),'"');var a={};mt(a,s),delete a.type,s=a}i.push(">"),i=i.join("")}return i=ve(o,i),s&&("string"===typeof s?i.className=s:Array.isArray(s)?i.className=s.join(" "):pe(i,s)),2<r.length&&ge(o,i,r),i}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},n.verify=function(){Gp(this);var t=this;return Vp(this,this.render().then((function(e){return new Ee((function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push((function e(r){r&&(function(t,e){$(t.l,(function(t){return t==e}))}(t,e),n(r))})),t.i&&t.g.execute(t.c)}}))})))},n.reset=function(){Gp(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){Gp(this),this.A=!0,this.v.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ce(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},R(Wp,xp);var Bp="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Up(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"===typeof t}}}function zp(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"===typeof t}}}function qp(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:v}}function Kp(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"===typeof t}}}function Yp(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Qp(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ja||!n)}}}function Xp(t,e){return v(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Ha}function $p(t){return v(t)&&"string"===typeof t.uid}function Jp(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Zp(t,e){for(var n in e){var r=e[n].name;t[r]=nh(r,t[n],e[n].j)}}function th(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:_((function(t){return this[t]}),n),set:_((function(t,e,n,r){Hp(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function eh(t,e,n,r){t[e]=nh(e,n,r)}function nh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Hp(i,n,t),e.apply(this,t)}if(!n)return e;var o,i=function(t){return(t=t.split("."))[t.length-1]}(t);for(o in e)r[o]=e[o];for(o in e.prototype)r.prototype[o]=e.prototype[o];return r}Zp(ip.prototype,{ib:{name:"applyActionCode",j:[Up("code")]},Qa:{name:"checkActionCode",j:[Up("code")]},mb:{name:"confirmPasswordReset",j:[Up("code"),Up("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Up("email"),Up("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Up("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Up("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Jp(qp(),Kp(),"nextOrObserver"),Kp("opt_error",!0),Kp("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Jp(qp(),Kp(),"nextOrObserver"),Kp("opt_error",!0),Kp("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Up("email"),Jp(qp("opt_actionCodeSettings",!0),Yp(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Up("email"),qp("actionCodeSettings")]},wb:{name:"setPersistence",j:[Up("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Qp()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Qp()]},Sc:{name:"signInWithCustomToken",j:[Up("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Up("email"),Up("password")]},Uc:{name:"signInWithEmailLink",j:[Up("email"),Up("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Up("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[Jp({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof bc)}},Yp(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Up(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Up("url"),qp("options",!0)]},hd:{name:"verifyPasswordResetCode",j:[Up("code")]}}),th(ip.prototype,{lc:{name:"languageCode",jb:Jp(Up(),Yp(),"languageCode")},ti:{name:"tenantId",jb:Jp(Up(),Yp(),"tenantId")}}),ip.Persistence=Zu,ip.Persistence.LOCAL="local",ip.Persistence.SESSION="session",ip.Persistence.NONE="none",Zp(bc.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[zp("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[zp("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Qp()]},pb:{name:"linkWithCredential",j:[Qp()]},Cc:{name:"linkWithPhoneNumber",j:[Up("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Qp()]},sb:{name:"reauthenticateWithCredential",j:[Qp()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Up("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Jp(qp("opt_actionCodeSettings",!0),Yp(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Up(null,!0)]},bd:{name:"unlink",j:[Up("provider")]},Ab:{name:"updateEmail",j:[Up("email")]},Bb:{name:"updatePassword",j:[Up("password")]},dd:{name:"updatePhoneNumber",j:[Qp("phone")]},Cb:{name:"updateProfile",j:[qp("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Up("email"),Jp(qp("opt_actionCodeSettings",!0),Yp(null,!0),"opt_actionCodeSettings",!0)]}}),Zp(wp.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Zp(bp.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Zp(Ee.prototype,{na:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),th($l.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:zp("appVerificationDisabledForTesting")}}),Zp(Jl.prototype,{confirm:{name:"confirm",j:[Up("verificationCode")]}}),eh(li,"fromJSON",(function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[vi,Ai,ki,di],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Jp(Up(),qp(),"json")]),eh(Ii,"credential",(function(t,e){return new Pi(t,e)}),[Up("email"),Up("password")]),Zp(Pi.prototype,{w:{name:"toJSON",j:[Up(null,!0)]}}),Zp(wi.prototype,{Ca:{name:"addScope",j:[Up("scope")]},Ka:{name:"setCustomParameters",j:[qp("customOAuthParameters")]}}),eh(wi,"credential",Ci,[Jp(Up(),qp(),"token")]),eh(Ii,"credentialWithLink",Di,[Up("email"),Up("emailLink")]),Zp(Ei.prototype,{Ca:{name:"addScope",j:[Up("scope")]},Ka:{name:"setCustomParameters",j:[qp("customOAuthParameters")]}}),eh(Ei,"credential",_i,[Jp(Up(),qp(),"token")]),Zp(Oi.prototype,{Ca:{name:"addScope",j:[Up("scope")]},Ka:{name:"setCustomParameters",j:[qp("customOAuthParameters")]}}),eh(Oi,"credential",Ri,[Jp(Up(),Jp(qp(),Yp()),"idToken"),Jp(Up(),Yp(),"accessToken",!0)]),Zp(Si.prototype,{Ka:{name:"setCustomParameters",j:[qp("customOAuthParameters")]}}),eh(Si,"credential",Ti,[Jp(Up(),qp(),"token"),Up("secret",!0)]),Zp(bi.prototype,{Ca:{name:"addScope",j:[Up("scope")]},credential:{name:"credential",j:[Jp(Up(),Jp(qp(),Yp()),"optionsOrIdToken"),Jp(Up(),Yp(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qp("customOAuthParameters")]}}),Zp(fi.prototype,{w:{name:"toJSON",j:[Up(null,!0)]}}),Zp(pi.prototype,{w:{name:"toJSON",j:[Up(null,!0)]}}),eh(Fi,"credential",Mi,[Up("verificationId"),Up("verificationCode")]),Zp(Fi.prototype,{eb:{name:"verifyPhoneNumber",j:[Jp(Up(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Xp(t.session,ai)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?Xp(t.session,ui)&&$p(t.multiFactorHint):t.session&&t.multiFactorUid?Xp(t.session,ui)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]}}),Zp(xi.prototype,{w:{name:"toJSON",j:[Up(null,!0)]}}),Zp(T.prototype,{toJSON:{name:"toJSON",j:[Up(null,!0)]}}),Zp(qi.prototype,{toJSON:{name:"toJSON",j:[Up(null,!0)]}}),Zp(zi.prototype,{toJSON:{name:"toJSON",j:[Up(null,!0)]}}),Zp(oc.prototype,{toJSON:{name:"toJSON",j:[Up(null,!0)]}}),Zp(ec.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),Zp(cc.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Up("displayName",!0)]},ad:{name:"unenroll",j:[Jp({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:$p},Up(),"multiFactorInfoIdentifier")]}}),Zp(Wp.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),eh(Co,"parseLink",Ao,[Up("link")]),eh(Sp,"assertion",(function(t){return new uc(t)}),[Qp("phone")]),function(){if("undefined"===typeof e.a||!e.a.INTERNAL||!e.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:uo,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ao,VERIFY_AND_CHANGE_EMAIL:lo,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ip,AuthCredential:li,Error:T};eh(t,"EmailAuthProvider",Ii,[]),eh(t,"FacebookAuthProvider",wi,[]),eh(t,"GithubAuthProvider",Ei,[]),eh(t,"GoogleAuthProvider",Oi,[]),eh(t,"TwitterAuthProvider",Si,[]),eh(t,"OAuthProvider",bi,[Up("providerId")]),eh(t,"SAMLAuthProvider",mi,[Up("providerId")]),eh(t,"PhoneAuthProvider",Fi,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof ip)}}]),eh(t,"RecaptchaVerifier",Wp,[Jp(Up(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),qp("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof e.a.app.App)}}]),eh(t,"ActionCodeURL",Co,[]),eh(t,"PhoneMultiFactorGenerator",Sp,[]),e.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new ip(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),e.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:E((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:E(t.mc,t),addAuthTokenListener:E(t.cc,t),removeAuthTokenListener:E(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.a.registerVersion("@firebase/auth","0.16.0"),e.a.INTERNAL.extendNamespace({User:bc})}()}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(34))},function(t,e,n){"use strict";(function(t,e){var r=n(4),o=n(0),i=n(2),s=n(6),a=n(8),u=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(i.J)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(i.D)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),l=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(i.k)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),c=function(t){try{if("undefined"!==typeof window&&"undefined"!==typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new u(e)}}catch(n){}return new l},p=c("localStorage"),h=c("sessionStorage"),d=new s.b("@firebase/database"),f=function(){var t=1;return function(){return t++}}(),g=function(t){var e=Object(i.I)(t),n=new i.d;n.update(e);var r=n.digest();return i.h.encodeByteArray(r)},v=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",o=0;o<e.length;o++){var s=e[o];Array.isArray(s)||s&&"object"===typeof s&&"number"===typeof s.length?r+=t.apply(null,s):r+="object"===typeof s?Object(i.J)(s):s,r+=" "}return r},y=null,m=!0,b=function(t,e){Object(i.f)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(d.logLevel=s.a.VERBOSE,y=d.log.bind(d),e&&h.set("logging_enabled",!0)):"function"===typeof t?y=t:(y=null,h.remove("logging_enabled"))},w=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===m&&(m=!1,null===y&&!0===h.get("logging_enabled")&&b(!0)),y){var n=v.apply(null,t);y(n)}},C=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];w.apply(void 0,Object(o.g)([t],e))}},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,Object(o.g)(t));d.error(n)},_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,Object(o.g)(t));throw d.error(n),new Error(n)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+v.apply(void 0,Object(o.g)(t));d.warn(n)},R=function(t){return"number"===typeof t&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},S="[MIN_NAME]",T="[MAX_NAME]",P=function(t,e){if(t===e)return 0;if(t===S||e===T)return-1;if(e===S||t===T)return 1;var n=F(t),r=F(e);return null!==n?null!==r?n-r===0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},A=function(t,e){return t===e?0:t<e?-1:1},I=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(i.J)(e))},D=function t(e){if("object"!==typeof e||null===e)return Object(i.J)(e);var n=[];for(var r in e)n.push(r);n.sort();for(var o="{",s=0;s<n.length;s++)0!==s&&(o+=","),o+=Object(i.J)(n[s]),o+=":",o+=t(e[n[s]]);return o+="}"},N=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],o=0;o<n;o+=e)o+e>n?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r};function x(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var k=function(t){Object(i.f)(!R(t),"Invalid JSON number");var e,n,r,o,s;0===t?(n=0,r=0,e=1/t===-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var u=a.join(""),l="";for(s=0;s<64;s+=8){var c=parseInt(u.substr(s,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()},L=new RegExp("^-?(0*)\\d{1,10}$"),F=function(t){if(L.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},M=function(t){try{t()}catch(e){setTimeout((function(){var t=e.stack||"";throw O("Exception was thrown by user callback.",t),e}),Math.floor(0))}},j=function(t,e){var n=setTimeout(t,e);return"object"===typeof n&&n.unref&&n.unref(),n},V=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var o=e.split("/");for(r=0;r<o.length;r++)o[r].length>0&&n.push(o[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),o=n.getFront();if(null===r)return n;if(r===o)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),o=0;o<n.length&&o<r.length;o++){var i=P(n[o],r[o]);if(0!==i)return i}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),G=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(i.H)(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=Object(i.H)(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=Object(i.H)(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),W=function(){function t(t,e,n,r,o,i,s){void 0===o&&(o=!1),void 0===i&&(i=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=i,this.includeNamespaceInQueryParams=s,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=p.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(Object(i.f)("string"===typeof t,"typeof type must == string"),Object(i.f)("object"===typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return x(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}();var H,B,U=function(t,e){var n=z(t),r=n.namespace;"firebase.com"===n.domain&&_(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||_("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var o="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new W(n.host,n.secure,r,e,o,"",r!==n.subdomain),path:new V(n.pathString)}},z=function(t){var e="",n="",r="",i="",s="",a=!0,u="https",l=443;if("string"===typeof t){var c=t.indexOf("//");c>=0&&(u=t.substring(0,c-1),t=t.substring(c+2));var p=t.indexOf("/");-1===p&&(p=t.length);var h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(p,h)),p<h&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(i){}e+="/"+o}return e}(t.substring(p,h)));var d=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Object(o.i)(t.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(0!==a.length){var u=a.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):O("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,h)));(c=e.indexOf(":"))>=0?(a="https"===u||"wss"===u,l=parseInt(e.substring(c+1),10)):c=e.length;var f=e.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:a,scheme:u,pathString:i,namespace:s}},q=/[\[\].#$\/\u0000-\u001F\u007F]/,K=/[\[\].#$\u0000-\u001F\u007F]/,Y=function(t){return"string"===typeof t&&0!==t.length&&!q.test(t)},Q=function(t){return"string"===typeof t&&0!==t.length&&!K.test(t)},X=function(t){return null===t||"string"===typeof t||"number"===typeof t&&!R(t)||t&&"object"===typeof t&&Object(i.k)(t,".sv")},$=function(t,e,n,r,o){o&&void 0===n||J(Object(i.o)(t,e,o),n,r)},J=function t(e,n,r){var o=r instanceof V?new G(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+o.toErrorString());if("function"===typeof n)throw new Error(e+"contains a function "+o.toErrorString()+" with contents = "+n.toString());if(R(n))throw new Error(e+"contains "+n.toString()+" "+o.toErrorString());if("string"===typeof n&&n.length>10485760/3&&Object(i.H)(n)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+o.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var s=!1,a=!1;if(x(n,(function(n,r){if(".value"===n)s=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!Y(n)))throw new Error(e+" contains an invalid key ("+n+") "+o.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');o.push(n),t(e,r,o),o.pop()})),s&&a)throw new Error(e+' contains ".value" child '+o.toErrorString()+" in addition to actual children.")}},Z=function(t,e,n,r,o){if(!o||void 0!==n){var s=Object(i.o)(t,e,o);if(!n||"object"!==typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];x(n,(function(t,e){var n=new V(t);if(J(s,e,r.child(n)),".priority"===n.getBack()&&!X(e))throw new Error(s+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var o=(r=e[n]).slice(),i=0;i<o.length;i++)if(".priority"===o[i]&&i===o.length-1);else if(!Y(o[i]))throw new Error(t+"contains an invalid key ("+o[i]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(V.comparePaths);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&s.contains(r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(s,a)}},tt=function(t,e,n,r){if(!r||void 0!==n){if(R(n))throw new Error(Object(i.o)(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!X(n))throw new Error(Object(i.o)(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},et=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(i.o)(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},nt=function(t,e,n,r){if((!r||void 0!==n)&&!Y(n))throw new Error(Object(i.o)(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},rt=function(t,e,n,r){if((!r||void 0!==n)&&!Q(n))throw new Error(Object(i.o)(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ot=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),rt(t,e,n,r)},it=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},st=function(t,e,n){var r=n.path.toString();if("string"!==typeof n.repoInfo.host||0===n.repoInfo.host.length||!Y(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Q(t)}(r))throw new Error(Object(i.o)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},at=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(i.o)(t,e,r)+"must be a boolean.")},ut=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){Object(i.K)("OnDisconnect.cancel",0,1,arguments.length),Object(i.L)("OnDisconnect.cancel",1,t,!0);var e=new i.a;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){Object(i.K)("OnDisconnect.remove",0,1,arguments.length),it("OnDisconnect.remove",this.path_),Object(i.L)("OnDisconnect.remove",1,t,!0);var e=new i.a;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){Object(i.K)("OnDisconnect.set",1,2,arguments.length),it("OnDisconnect.set",this.path_),$("OnDisconnect.set",1,t,this.path_,!1),Object(i.L)("OnDisconnect.set",2,e,!0);var n=new i.a;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){Object(i.K)("OnDisconnect.setWithPriority",2,3,arguments.length),it("OnDisconnect.setWithPriority",this.path_),$("OnDisconnect.setWithPriority",1,t,this.path_,!1),tt("OnDisconnect.setWithPriority",2,e,!1),Object(i.L)("OnDisconnect.setWithPriority",3,n,!0);var r=new i.a;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(Object(i.K)("OnDisconnect.update",1,2,arguments.length),it("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,O("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Z("OnDisconnect.update",1,t,this.path_,!1),Object(i.L)("OnDisconnect.update",2,e,!0);var o=new i.a;return this.repo_.onDisconnectUpdate(this.path_,t,o.wrapCallback(e)),o.promise},t}(),lt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(i.K)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),ct=function(){var t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",e=0,n=[];return function(r){var o,s=r===e;e=r;var a=new Array(8);for(o=7;o>=0;o--)a[o]=t.charAt(r%64),r=Math.floor(r/64);Object(i.f)(0===r,"Cannot push at time == 0");var u=a.join("");if(s){for(o=11;o>=0&&63===n[o];o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)u+=t.charAt(n[o]);return Object(i.f)(20===u.length,"nextPushId: Length should be 20."),u}}(),pt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),ht=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new pt(S,t),r=new pt(S,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return pt.MIN},t}(),dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return H},set:function(t){H=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return P(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(i.g)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return pt.MIN},e.prototype.maxPost=function(){return new pt(T,H)},e.prototype.makePost=function(t,e){return Object(i.f)("string"===typeof t,"KeyIndex indexValue must always be a string."),new pt(t,H)},e.prototype.toString=function(){return".key"},e}(ht),ft=new dt;var gt,vt,yt,mt=function(t){return"number"===typeof t?"number:"+k(t):"string:"+t},bt=function(t){if(t.isLeafNode()){var e=t.val();Object(i.f)("string"===typeof e||"number"===typeof e||"object"===typeof e&&Object(i.k)(e,".sv"),"Priority must be a string or number.")}else Object(i.f)(t===B||t.isEmpty(),"priority of unexpected type.");Object(i.f)(t===B||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},wt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(i.f)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),bt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return gt},set:function(t){gt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(i.f)(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+mt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?k(this.value_):this.value_,this.lazyHash_=g(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(i.f)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return Object(i.f)(o>=0,"Unknown leaf type: "+n),Object(i.f)(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var Ct,Et,_t=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),o=n.compareTo(r);return 0===o?P(t.name,e.name):o},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return pt.MIN},e.prototype.maxPost=function(){return new pt(T,new wt("[PRIORITY-POST]",yt))},e.prototype.makePost=function(t,e){var n=vt(t);return new pt(e,new wt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(ht)),Ot=function(){function t(t,e,n,r,o){void 0===o&&(o=null),this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];for(var i=1;!t.isEmpty();)if(t=t,i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse_?t.left:t.right;else{if(0===i){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Rt=function(){function t(e,n,r,o,i){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=o?o:Tt.EMPTY_NODE,this.right=null!=i?i:Tt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,o,i){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=i?i:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,o=n(t,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Tt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Tt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),St=function(){function t(){}return t.prototype.copy=function(t,e,n,r,o){return this},t.prototype.insert=function(t,e,n){return new Rt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Tt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Rt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Rt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Ot(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Ot(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Ot(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Ot(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new St,t}(),Pt=Math.log(2),At=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Pt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),It=function(t,e,n,r){t.sort(e);var o=function(e){for(var r=null,o=null,i=t.length,s=function(e,r){var o=i-e,s=i;i-=e;var u=function e(r,o){var i,s,a=o-r;if(0===a)return null;if(1===a)return i=t[r],s=n?n(i):i,new Rt(s,i.node,Rt.BLACK,null,null);var u=parseInt(a/2,10)+r,l=e(r,u),c=e(u+1,o);return i=t[u],s=n?n(i):i,new Rt(s,i.node,Rt.BLACK,l,c)}(o+1,s),l=t[o],c=n?n(l):l;a(new Rt(c,l.node,r,null,u))},a=function(t){r?(r.left=t,r=t):(o=t,r=t)},u=0;u<e.count;++u){var l=e.nextBitIsOne(),c=Math.pow(2,e.count-(u+1));l?s(c,Rt.BLACK):(s(c,Rt.BLACK),s(c,Rt.RED))}return o}(new At(t.length));return new Tt(r||e,o)},Dt={},Nt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(i.f)(Dt&&_t,"ChildrenNode.ts has not been loaded"),Ct=Ct||new t({".priority":Dt},{".priority":_t})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(i.G)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Tt?e:null},t.prototype.hasIndex=function(t){return Object(i.k)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(i.f)(e!==ft,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,s=[],a=!1,u=n.getIterator(pt.Wrap),l=u.getNext();l;)a=a||e.isDefinedOn(l.node),s.push(l),l=u.getNext();r=a?It(s,e.getCompare()):Dt;var c=e.toString(),p=Object(o.a)({},this.indexSet_);p[c]=e;var h=Object(o.a)({},this.indexes_);return h[c]=r,new t(h,p)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(i.E)(this.indexes_,(function(t,o){var s=Object(i.G)(r.indexSet_,o);if(Object(i.f)(s,"Missing index implementation for "+o),t===Dt){if(s.isDefinedOn(e.node)){for(var a=[],u=n.getIterator(pt.Wrap),l=u.getNext();l;)l.name!==e.name&&a.push(l),l=u.getNext();return a.push(e),It(a,s.getCompare())}return Dt}var c=n.get(e.name),p=t;return c&&(p=p.remove(new pt(e.name,c))),p.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(i.E)(this.indexes_,(function(t){if(t===Dt)return t;var r=n.get(e.name);return r?t.remove(new pt(e.name,r)):t})),this.indexSet_)},t}();function xt(t,e){return P(t.name,e.name)}function kt(t,e){return P(t,e)}var Lt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&bt(this.priorityNode_),this.children_.isEmpty()&&Object(i.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Et||(Et=new t(new Tt(kt),null,Nt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Et},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Et:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(i.f)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new pt(e,n),o=void 0,s=void 0;n.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=o.isEmpty()?Et:this.priorityNode_;return new t(o,a,s)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;Object(i.f)(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,o=0,i=!0;if(this.forEachChild(_t,(function(s,a){n[s]=a.val(e),r++,i&&t.INTEGER_REGEXP_.test(s)?o=Math.max(o,Number(s)):i=!1})),!e&&i&&o<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+mt(this.getPriority().val())+":"),this.forEachChild(_t,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":g(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var o=r.getPredecessorKey(new pt(t,e));return o?o.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new pt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new pt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,pt.Wrap),o=r.peek();null!=o&&e.compare(o,t)<0;)r.getNext(),o=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,pt.Wrap),o=r.peek();null!=o&&e.compare(o,t)>0;)r.getNext(),o=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ft?-1:0},t.prototype.withIndex=function(e){if(e===ft||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===ft||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(_t),r=e.getIterator(_t),o=n.getNext(),i=r.getNext();o&&i;){if(o.name!==i.name||!o.node.equals(i.node))return!1;o=n.getNext(),i=r.getNext()}return null===o&&null===i}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===ft?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Ft=new(function(t){function e(){return t.call(this,new Tt(kt),Lt.EMPTY_NODE,Nt.Default)||this}return Object(o.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Lt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Lt));Object.defineProperties(pt,{MIN:{value:new pt(S,Lt.EMPTY_NODE)},MAX:{value:new pt(T,Ft)}}),dt.__EMPTY_NODE=Lt.EMPTY_NODE,wt.__childrenNodeConstructor=Lt,B=Ft,function(t){yt=t}(Ft);function Mt(t,e){if(void 0===e&&(e=null),null===t)return Lt.EMPTY_NODE;if("object"===typeof t&&".priority"in t&&(e=t[".priority"]),Object(i.f)(null===e||"string"===typeof e||"number"===typeof e||"object"===typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"===typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!==typeof t||".sv"in t)return new wt(t,Mt(e));if(t instanceof Array){var n=Lt.EMPTY_NODE;return x(t,(function(e,r){if(Object(i.k)(t,e)&&"."!==e.substring(0,1)){var o=Mt(r);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(e,o))}})),n.updatePriority(Mt(e))}var r=[],o=!1;if(x(t,(function(t,e){if("."!==t.substring(0,1)){var n=Mt(e);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new pt(t,n)))}})),0===r.length)return Lt.EMPTY_NODE;var s=It(r,xt,(function(t){return t.name}),kt);if(o){var a=It(r,_t.getCompare());return new Lt(s,Mt(e),new Nt({".priority":a},{".priority":_t}))}return new Lt(s,Mt(e),Nt.Default)}!function(t){vt=t}(Mt);var jt,Vt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?P(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return pt.MIN},e.prototype.maxPost=function(){return pt.MAX},e.prototype.makePost=function(t,e){var n=Mt(t);return new pt(e,n)},e.prototype.toString=function(){return".value"},e}(ht)),Gt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(i.f)(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return Object(o.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),o=n.compareTo(r);return 0===o?P(t.name,e.name):o},e.prototype.makePost=function(t,e){var n=Mt(t),r=Lt.EMPTY_NODE.updateChild(this.indexPath_,n);return new pt(e,r)},e.prototype.maxPost=function(){var t=Lt.EMPTY_NODE.updateChild(this.indexPath_,Ft);return new pt(T,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(ht),Wt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return Object(i.K)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Object(i.K)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Object(i.K)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Object(i.K)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Object(i.K)("DataSnapshot.child",0,1,arguments.length),e=String(e),rt("DataSnapshot.child",1,e,!1);var n=new V(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,_t)},t.prototype.hasChild=function(t){Object(i.K)("DataSnapshot.hasChild",1,1,arguments.length),rt("DataSnapshot.hasChild",1,t,!1);var e=new V(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return Object(i.K)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Object(i.K)("DataSnapshot.forEach",1,1,arguments.length),Object(i.L)("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,o){return e(new t(o,n.ref_.child(r),_t))}))},t.prototype.hasChildren=function(){return Object(i.K)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(i.K)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Object(i.K)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Ht=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(i.J)(this.snapshot.exportVal())},t}(),Bt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Ut=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Ht("value",this,new Wt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(i.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Bt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),zt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(i.k)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Bt(this,t,e):null},t.prototype.createEvent=function(t,e){Object(i.f)(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Ht(t.type,this,new Wt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(i.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),o=Object.keys(this.callbacks_),i=r.length;if(i===o.length){if(1===i){var s=r[0],a=o[0];return a===s&&(!e.callbacks_[s]||!this.callbacks_[a]||e.callbacks_[s]===this.callbacks_[a])}return o.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),qt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(i.f)(jt,"Reference.ts has not been loaded"),jt},set:function(t){jt=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===ft){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==S)throw new Error(r);if("string"!==typeof e)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==T)throw new Error(r);if("string"!==typeof n)throw new Error(o)}}else if(t.getIndex()===_t){if(null!=e&&!X(e)||null!=n&&!X(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(i.f)(t.getIndex()instanceof Gt||t.getIndex()===Vt,"unknown index type."),null!=e&&"object"===typeof e||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Object(i.K)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,o){Object(i.K)("Query.on",2,4,arguments.length),et("Query.on",1,e,!1),Object(i.L)("Query.on",2,n,!1);var s=t.getCancelAndContextArgs_("Query.on",r,o);if("value"===e)this.onValueEvent(n,s.cancel,s.context);else{var a={};a[e]=n,this.onChildEvent(a,s.cancel,s.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Ut(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new zt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){Object(i.K)("Query.off",0,3,arguments.length),et("Query.off",1,t,!0),Object(i.L)("Query.off",2,e,!0),Object(i.M)("Query.off",3,n,!0);var r=null,o=null;if("value"===t){var s=e||null;r=new Ut(s,null,n||null)}else t&&(e&&((o={})[t]=e),r=new zt(o,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.get=function(){return this.repo.getValue(this)},t.prototype.once=function(e,n,r,o){var s=this;Object(i.K)("Query.once",1,4,arguments.length),et("Query.once",1,e,!1),Object(i.L)("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,o),u=!0,l=new i.a;l.promise.catch((function(){}));var c=function t(r){u&&(u=!1,s.off(e,t),n&&n.bind(a.context)(r),l.resolve(r))};return this.on(e,c,(function(t){s.off(e,c),a.cancel&&a.cancel.bind(a.context)(t),l.reject(t)})),l.promise},t.prototype.limitToFirst=function(e){if(Object(i.K)("Query.limitToFirst",1,1,arguments.length),"number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Object(i.K)("Query.limitToLast",1,1,arguments.length),"number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Object(i.K)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');rt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new V(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Gt(n),o=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(o),new t(this.repo,this.path,o,!0)},t.prototype.orderByKey=function(){Object(i.K)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(ft);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Object(i.K)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(_t);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Object(i.K)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Vt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),Object(i.K)("Query.startAt",0,2,arguments.length),$("Query.startAt",1,e,this.path,!0),nt("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),Object(i.K)("Query.endAt",0,2,arguments.length),$("Query.endAt",1,e,this.path,!0),nt("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(Object(i.K)("Query.equalTo",1,2,arguments.length),$("Query.equalTo",1,t,this.path,!1),nt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return Object(i.K)("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return Object(i.K)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=D(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(Object(i.K)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,o=this.path.equals(e.path),s=this.queryIdentifier()===e.queryIdentifier();return r&&o&&s},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,Object(i.L)(t,3,r.cancel,!0),r.context=n,Object(i.M)(t,4,r.context,!0);else if(e)if("object"===typeof e&&null!==e)r.context=e;else{if("function"!==typeof e)throw new Error(Object(i.o)(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Kt=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Yt=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),Qt=function(t,e,n){return t&&"object"===typeof t?(Object(i.f)(".sv"in t,"Unexpected leaf node or priority contents"),"string"===typeof t[".sv"]?Xt(t[".sv"],e,n):"object"===typeof t[".sv"]?$t(t[".sv"],e):void Object(i.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Xt=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(i.f)(!1,"Unexpected server value: "+t)}},$t=function(t,e,n){t.hasOwnProperty("increment")||Object(i.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!==typeof r&&Object(i.f)(!1,"Unexpected increment value: "+r);var o=e.node();if(Object(i.f)(null!==o&&"undefined"!==typeof o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;var s=o.getValue();return"number"!==typeof s?r:s+r},Jt=function(t,e,n,r){return te(e,new Yt(n,t),r)},Zt=function(t,e,n){return te(t,new Kt(e),n)};function te(t,e,n){var r,o=t.getPriority().val(),i=Qt(o,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=Qt(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new wt(a,Mt(i)):t}var u=t;return r=u,i!==u.getPriority().val()&&(r=r.updatePriority(new wt(i))),u.forEachChild(_t,(function(t,o){var i=te(o,e.getImmediateChild(t),n);i!==o&&(r=r.updateImmediateChild(t,i))})),r}var ee,ne=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var o=this.children.get(r);e=e.popFront(),o.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(_t,(function(t,e){n.remember(new V(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();if(t=t.popFront(),this.children.has(r))this.children.get(r).forget(t)&&this.children.delete(r);return 0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var o=new V(t.toString()+"/"+n);r.forEachTree(o,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}();!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ee||(ee={}));var re,oe,ie=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,Object(i.f)(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),se=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ee.ACK_USER_WRITE,this.source=ie.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return Object(i.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new V(e));return new t(V.Empty,n,this.revert)}return Object(i.f)(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),ae=function(){function t(t,e){void 0===e&&(re||(re=new Tt(A)),e=re),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return x(e,(function(t,e){n=n.set(new V(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:V.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var o=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=o?{path:new V(n).child(o.path),value:o.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),o=(this.children.get(r)||t.Empty).set(e.popFront(),n),i=this.children.insert(r,o);return new t(this.value,i)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var o=r.remove(e.popFront()),i=void 0;return i=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),null===this.value&&i.isEmpty()?t.Empty:new t(this.value,i)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),o=(this.children.get(r)||t.Empty).setTree(e.popFront(),n),i=void 0;return i=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new t(this.value,i)},t.prototype.fold=function(t){return this.fold_(V.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,o){n[r]=o.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,V.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var o=t.getFront(),i=this.children.get(o);return i?i.findOnPath_(t.popFront(),e.child(o),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,V.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var o=e.getFront(),i=this.children.get(o);return i?i.foreachOnPath_(e.popFront(),n.child(o),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(V.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),ue=function(){function t(t,e){this.source=t,this.path=e,this.type=ee.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,V.Empty):new t(this.source,this.path.popFront())},t}(),le=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ee.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,V.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),ce=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ee.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new V(e));return n.isEmpty()?null:n.value?new le(this.source,V.Empty,n.value):new t(this.source,V.Empty,n)}return Object(i.f)(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),pe=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),he=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new pe(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new pe(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new pe(Lt.EMPTY_NODE,!1,!1),new pe(Lt.EMPTY_NODE,!1,!1)),t}(),de=function(){function t(t,e,n,r,o){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=o}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),fe=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,o,s){Object(i.f)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(de.childRemovedChange(e,a)):Object(i.f)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(de.childAddedChange(e,n)):s.trackChildChange(de.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(_t,(function(t,r){e.hasChild(t)||n.trackChildChange(de.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(_t,(function(e,r){if(t.hasChild(e)){var o=t.getImmediateChild(e);o.equals(r)||n.trackChildChange(de.childChangedChange(e,r,o))}else n.trackChildChange(de.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Lt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ge=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(i.f)(e===de.CHILD_ADDED||e===de.CHILD_CHANGED||e===de.CHILD_REMOVED,"Only child changes supported for tracking"),Object(i.f)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var o=r.type;if(e===de.CHILD_ADDED&&o===de.CHILD_REMOVED)this.changeMap.set(n,de.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===de.CHILD_REMOVED&&o===de.CHILD_ADDED)this.changeMap.delete(n);else if(e===de.CHILD_REMOVED&&o===de.CHILD_CHANGED)this.changeMap.set(n,de.childRemovedChange(n,r.oldSnap));else if(e===de.CHILD_CHANGED&&o===de.CHILD_ADDED)this.changeMap.set(n,de.childAddedChange(n,t.snapshotNode));else{if(e!==de.CHILD_CHANGED||o!==de.CHILD_CHANGED)throw Object(i.g)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,de.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),ve=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),ye=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new pe(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),o=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===o.length?null:o[0]},t}(),me=function(t,e){this.viewCache=t,this.changes=e},be=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){Object(i.f)(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Object(i.f)(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,o){var s,a,u=new ge;if(n.type===ee.OVERWRITE){var l=n;l.source.fromUser?s=this.applyUserOverwrite_(e,l.path,l.snap,r,o,u):(Object(i.f)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.getServerCache().isFiltered()&&!l.path.isEmpty(),s=this.applyServerOverwrite_(e,l.path,l.snap,r,o,a,u))}else if(n.type===ee.MERGE){var c=n;c.source.fromUser?s=this.applyUserMerge_(e,c.path,c.children,r,o,u):(Object(i.f)(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.getServerCache().isFiltered(),s=this.applyServerMerge_(e,c.path,c.children,r,o,a,u))}else if(n.type===ee.ACK_USER_WRITE){var p=n;s=p.revert?this.revertUserWrite_(e,p.path,r,o,u):this.ackUserWrite_(e,p.path,p.affectedTree,r,o,u)}else{if(n.type!==ee.LISTEN_COMPLETE)throw Object(i.g)("Unknown operation type: "+n.type);s=this.listenComplete_(e,n.path,r,u)}var h=u.getChanges();return t.maybeAddValueEvent_(e,s,h),new me(s,h)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var o=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||o&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(de.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,o){var s=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,u=void 0;if(e.isEmpty())if(Object(i.f)(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var l=t.getCompleteServerSnap(),c=l instanceof Lt?l:Lt.EMPTY_NODE,p=n.calcCompleteEventChildren(c);a=this.filter_.updateFullNode(t.getEventCache().getNode(),p,o)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,o)}else{var d=e.getFront();if(".priority"===d){Object(i.f)(1===e.getLength(),"Can't have a priority with additional path components");var f=s.getNode();u=t.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(e,f,u);a=null!=g?this.filter_.updatePriority(f,g):s.getNode()}else{var v=e.popFront(),y=void 0;if(s.isCompleteForChild(d)){u=t.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(e,s.getNode(),u);y=null!=m?s.getNode().getImmediateChild(d).updateChild(v,m):s.getNode().getImmediateChild(d)}else y=n.calcCompleteChild(d,t.getServerCache());a=null!=y?this.filter_.updateChild(s.getNode(),d,y,v,r,o):s.getNode()}}return t.updateEventSnap(a,s.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,o,i,s){var a,u=t.getServerCache(),l=i?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=l.updateFullNode(u.getNode(),n,null);else if(l.filtersNodes()&&!u.isFiltered()){var c=u.getNode().updateChild(e,n);a=l.updateFullNode(u.getNode(),c,null)}else{var p=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var h=e.popFront(),d=u.getNode().getImmediateChild(p).updateChild(h,n);a=".priority"===p?l.updatePriority(u.getNode(),d):l.updateChild(u.getNode(),p,d,h,ve,null)}var f=t.updateServerSnap(a,u.isFullyInitialized()||e.isEmpty(),l.filtersNodes()),g=new ye(r,f,o);return this.generateEventCacheAfterServerEvent_(f,e,r,g,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,o,i){var s,a,u=t.getEventCache(),l=new ye(r,t,o);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,i),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var c=e.getFront();if(".priority"===c)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,u.isFullyInitialized(),u.isFiltered());else{var p=e.popFront(),h=u.getNode().getImmediateChild(c),d=void 0;if(p.isEmpty())d=n;else{var f=l.getCompleteChild(c);d=null!=f?".priority"===p.getBack()&&f.getChild(p.parent()).isEmpty()?f:f.updateChild(p,n):Lt.EMPTY_NODE}if(h.equals(d))s=t;else{var g=this.filter_.updateChild(u.getNode(),c,d,p,l,i);s=t.updateEventSnap(g,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,o,i,s){var a=this,u=e;return r.foreach((function(r,l){var c=n.child(r);t.cacheHasChild_(e,c.getFront())&&(u=a.applyUserOverwrite_(u,c,l,o,i,s))})),r.foreach((function(r,l){var c=n.child(r);t.cacheHasChild_(e,c.getFront())||(u=a.applyUserOverwrite_(u,c,l,o,i,s))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,o,i,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,l=t;u=e.isEmpty()?n:ae.Empty.setTree(e,n);var c=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(c.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),p=a.applyMerge_(u,n);l=a.applyServerOverwrite_(l,new V(e),p,r,o,i,s)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!c.hasChild(e)&&!u){var p=t.getServerCache().getNode().getImmediateChild(e),h=a.applyMerge_(p,n);l=a.applyServerOverwrite_(l,new V(e),h,r,o,i,s)}})),l},t.prototype.ackUserWrite_=function(t,e,n,r,o,i){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,o,s,i);if(e.isEmpty()){var u=ae.Empty;return a.getNode().forEachChild(ft,(function(t,e){u=u.set(new V(t),e)})),this.applyServerMerge_(t,e,u,r,o,s,i)}return t}var l=ae.Empty;return n.foreach((function(t,n){var r=e.child(t);a.isCompleteForPath(r)&&(l=l.set(t,a.getNode().getChild(r)))})),this.applyServerMerge_(t,e,l,r,o,s,i)},t.prototype.listenComplete_=function(t,e,n,r){var o=t.getServerCache(),i=t.updateServerSnap(o.getNode(),o.isFullyInitialized()||e.isEmpty(),o.isFiltered());return this.generateEventCacheAfterServerEvent_(i,e,n,ve,r)},t.prototype.revertUserWrite_=function(t,e,n,r,o){var s;if(null!=n.shadowingWrite(e))return t;var a=new ye(n,t,r),u=t.getEventCache().getNode(),l=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var p=t.getServerCache().getNode();Object(i.f)(p instanceof Lt,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(p)}c=c,l=this.filter_.updateFullNode(u,c,o)}else{var h=e.getFront(),d=n.calcCompleteChild(h,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(h)&&(d=u.getImmediateChild(h)),(l=null!=d?this.filter_.updateChild(u,h,d,e.popFront(),a,o):t.getEventCache().getNode().hasChild(h)?this.filter_.updateChild(u,h,Lt.EMPTY_NODE,e.popFront(),a,o):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(s=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(l=this.filter_.updateFullNode(l,s,o))}return s=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(V.Empty),t.updateEventSnap(l,s,this.filter_.filtersNodes())},t}(),we=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,o=[],i=[];return t.forEach((function(t){t.type===de.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&i.push(de.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(o,de.CHILD_REMOVED,t,n,e),this.generateEventsForType_(o,de.CHILD_ADDED,t,n,e),this.generateEventsForType_(o,de.CHILD_MOVED,i,n,e),this.generateEventsForType_(o,de.CHILD_CHANGED,t,n,e),this.generateEventsForType_(o,de.VALUE,t,n,e),o},t.prototype.generateEventsForType_=function(t,e,n,r,o){var i=this,s=n.filter((function(t){return t.type===e}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(e){var n=i.materializeSingleChange_(e,o);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,i.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw Object(i.g)("Should only compare child_ events.");var n=new pt(t.childName,t.snapshotNode),r=new pt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Ce=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new fe(n.getIndex()),o=n.getNodeFilter();this.processor_=new be(o);var i=e.getServerCache(),s=e.getEventCache(),a=r.updateFullNode(Lt.EMPTY_NODE,i.getNode(),null),u=o.updateFullNode(Lt.EMPTY_NODE,s.getNode(),null),l=new pe(a,i.isFullyInitialized(),r.filtersNodes()),c=new pe(u,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=new he(c,l),this.eventGenerator_=new we(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){Object(i.f)(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){e=e;var o=t.createCancelEvent(e,r);o&&n.push(o)}))}if(t){for(var o=[],s=0;s<this.eventRegistrations_.length;++s){var a=this.eventRegistrations_[s];if(a.matches(t)){if(t.hasAnyCallback()){o=o.concat(this.eventRegistrations_.slice(s+1));break}}else o.push(a)}this.eventRegistrations_=o}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ee.MERGE&&null!==t.source.queryId&&(Object(i.f)(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Object(i.f)(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,o=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(o.viewCache),Object(i.f)(o.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=o.viewCache,this.generateEventsForChanges_(o.changes,o.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];e.getNode().isLeafNode()||e.getNode().forEachChild(_t,(function(t,e){n.push(de.childAddedChange(t,e))}));return e.isFullyInitialized()&&n.push(de.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),Ee=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(i.f)(oe,"Reference.ts has not been loaded"),oe},set:function(t){Object(i.f)(!oe,"__referenceConstructor has already been defined"),oe=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,s,a=t.source.queryId;if(null!==a){var u=this.views.get(a);return Object(i.f)(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(t,e,n)}var l=[];try{for(var c=Object(o.i)(this.views.values()),p=c.next();!p.done;p=c.next()){u=p.value;l=l.concat(u.applyOperation(t,e,n))}}catch(h){r={error:h}}finally{try{p&&!p.done&&(s=c.return)&&s.call(c)}finally{if(r)throw r.error}}return l},t.prototype.addEventRegistration=function(t,e,n,r,o){var i=t.queryIdentifier(),s=this.views.get(i);if(!s){var a=n.calcCompleteEventCache(o?r:null),u=!1;a?u=!0:r instanceof Lt?(a=n.calcCompleteEventChildren(r),u=!1):(a=Lt.EMPTY_NODE,u=!1);var l=new he(new pe(a,u,!1),new pe(r,o,!1));s=new Ce(t,l),this.views.set(i,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,s,a=e.queryIdentifier(),u=[],l=[],c=this.hasCompleteView();if("default"===a)try{for(var p=Object(o.i)(this.views.entries()),h=p.next();!h.done;h=p.next()){var d=Object(o.e)(h.value,2),f=d[0],g=d[1];l=l.concat(g.removeEventRegistration(n,r)),g.isEmpty()&&(this.views.delete(f),g.getQuery().getQueryParams().loadsAllData()||u.push(g.getQuery()))}}catch(v){i={error:v}}finally{try{h&&!h.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}else(g=this.views.get(a))&&(l=l.concat(g.removeEventRegistration(n,r)),g.isEmpty()&&(this.views.delete(a),g.getQuery().getQueryParams().loadsAllData()||u.push(g.getQuery())));return c&&!this.hasCompleteView()&&u.push(new t.__referenceConstructor(e.repo,e.path)),{removed:u,events:l}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=Object(o.i)(this.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;s.getQuery().getQueryParams().loadsAllData()||n.push(s)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=Object(o.i)(this.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r||a.getCompleteServerCache(t)}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=Object(o.i)(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),_e=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new ae(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var o=r.path,i=r.value,s=V.relativePath(o,e);return i=i.updateChild(s,n),new t(this.writeTree_.set(o,i))}var a=new ae(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return x(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,ae.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(V.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(_t,(function(e,n){t.push(new pt(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new pt(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new ae(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var o=null;return n.children.inorderTraversal((function(n,s){".priority"===n?(Object(i.f)(null!==s.value,"Priority writes must always be leaf nodes"),o=s.value):r=t(e.child(n),s,r)})),r.getChild(e).isEmpty()||null===o||(r=r.updateChild(e.child(".priority"),o)),r}(V.Empty,this.writeTree_,t)},t.Empty=new t(new ae(null)),t}();var Oe=function(){function t(){this.visibleWrites_=_e.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Re(t,this)},t.prototype.addOverwrite=function(t,e,n,r){Object(i.f)(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){Object(i.f)(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));Object(i.f)(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var o=r.visible,s=!1,a=this.allWrites_.length-1;o&&a>=0;){var u=this.allWrites_[a];u.visible&&(a>=n&&this.recordContainsPath_(u,r.path)?o=!1:r.path.contains(u.path)&&(s=!0)),a--}if(o){if(s)return this.resetTree_(),!0;r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):x(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}));return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,o){if(r||o){var i=this.visibleWrites_.childCompoundWrite(e);if(!o&&i.isEmpty())return n;if(o||null!=n||i.hasCompleteWrite(V.Empty)){var s=t.layerTree_(this.allWrites_,(function(t){return(t.visible||o)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e);l=n||Lt.EMPTY_NODE;return s.apply(l)}return null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var u=this.visibleWrites_.childCompoundWrite(e);if(u.isEmpty())return n;if(null!=n||u.hasCompleteWrite(V.Empty)){var l=n||Lt.EMPTY_NODE;return u.apply(l)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Lt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(_t,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var o=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(_t,(function(t,e){var r=o.childCompoundWrite(new V(t)).apply(e);n=n.updateImmediateChild(t,r)})),o.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){Object(i.f)(n||r,"Either existingEventSnap or existingServerSnap must exist");var o=t.child(e);if(this.visibleWrites_.hasCompleteWrite(o))return null;var s=this.visibleWrites_.childCompoundWrite(o);return s.isEmpty()?r.getChild(e):s.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),o=this.visibleWrites_.getCompleteNode(r);return null!=o?o:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,o,i){var s,a=this.visibleWrites_.childCompoundWrite(t),u=a.getCompleteNode(V.Empty);if(null!=u)s=u;else{if(null==e)return[];s=a.apply(e)}if((s=s.withIndex(i)).isEmpty()||s.isLeafNode())return[];for(var l=[],c=i.getCompare(),p=o?s.getReverseIteratorFrom(n,i):s.getIteratorFrom(n,i),h=p.getNext();h&&l.length<r;)0!==c(h,n)&&l.push(h),h=p.getNext();return l},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,V.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=_e.Empty,o=0;o<t.length;++o){var s=t[o];if(e(s)){var a=s.path,u=void 0;if(s.snap)n.contains(a)?(u=V.relativePath(n,a),r=r.addWrite(u,s.snap)):a.contains(n)&&(u=V.relativePath(a,n),r=r.addWrite(V.Empty,s.snap.getChild(u)));else{if(!s.children)throw Object(i.g)("WriteRecord should have .snap or .children");if(n.contains(a))u=V.relativePath(n,a),r=r.addWrites(u,s.children);else if(a.contains(n))if((u=V.relativePath(a,n)).isEmpty())r=r.addWrites(V.Empty,s.children);else{var l=Object(i.G)(s.children,u.getFront());if(l){var c=l.getChild(u.popFront());r=r.addWrite(V.Empty,c)}}}}}return r},t}(),Re=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,o){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,o)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Se=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=ae.Empty,this.pendingWriteTree_=new Oe,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new le(ie.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=ae.fromObject(e);return this.applyOperationToSyncPoints_(new ce(ie.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=ae.Empty;return null!=n.snap?r=r.set(V.Empty,!0):x(n.children,(function(t,e){r=r.set(new V(t),e)})),this.applyOperationToSyncPoints_(new se(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new le(ie.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=ae.fromObject(e);return this.applyOperationToSyncPoints_(new ce(ie.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new ue(ie.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var o=this.queryKeyForTag_(r);if(null!=o){var i=t.parseQueryKey_(o),s=i.path,a=i.queryId,u=V.relativePath(s,e),l=new le(ie.forServerTaggedQuery(a),u,n);return this.applyTaggedOperation_(s,l)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var o=this.queryKeyForTag_(r);if(o){var i=t.parseQueryKey_(o),s=i.path,a=i.queryId,u=V.relativePath(s,e),l=ae.fromObject(n),c=new ce(ie.forServerTaggedQuery(a),u,l);return this.applyTaggedOperation_(s,c)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var o=t.parseQueryKey_(r),i=o.path,s=o.queryId,a=V.relativePath(i,e),u=new ue(ie.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(i,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,o=null,s=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=V.relativePath(t,r);o=o||e.getCompleteServerCache(n),s=s||e.hasCompleteView()}));var a,u=this.syncPointTree_.get(r);(u?(s=s||u.hasCompleteView(),o=o||u.getCompleteServerCache(V.Empty)):(u=new Ee,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=o)?a=!0:(a=!1,o=Lt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(V.Empty);n&&(o=o.updateImmediateChild(t,n))})));var l=u.viewExistsForQuery(e);if(!l&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);Object(i.f)(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var p=t.getNextQueryTag_();this.queryToTagMap.set(c,p),this.tagToQueryMap.set(p,c)}var h=this.pendingWriteTree_.childWrites(r),d=u.addEventRegistration(e,n,h,o,a);if(!l&&!s){var f=u.viewForQuery(e);d=d.concat(this.setupListener_(e,f))}return d},t.prototype.removeEventRegistration=function(e,n,r){var o=this,i=e.path,s=this.syncPointTree_.get(i),a=[];if(s&&("default"===e.queryIdentifier()||s.viewExistsForQuery(e))){var u=s.removeEventRegistration(e,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(i));var l=u.removed;a=u.events;var c=-1!==l.findIndex((function(t){return t.getQueryParams().loadsAllData()})),p=this.syncPointTree_.findOnPath(i,(function(t,e){return e.hasCompleteView()}));if(c&&!p){var h=this.syncPointTree_.subtree(i);if(!h.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(h),f=0;f<d.length;++f){var g=d[f],v=g.getQuery(),y=this.createListenerForView_(g);this.listenProvider_.startListening(t.queryForListening_(v),this.tagForQuery_(v),y.hashFn,y.onComplete)}}if(!p&&l.length>0&&!r)if(c){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else l.forEach((function(e){var n=o.queryToTagMap.get(t.makeQueryKey_(e));o.listenProvider_.stopListening(t.queryForListening_(e),n)}));this.removeTags_(l)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=V.relativePath(e,t),o=n.getCompleteServerCache(r);if(o)return o}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),x(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var o=t.makeQueryKey_(r),i=this.queryToTagMap.get(o);this.queryToTagMap.delete(o),this.tagToQueryMap.delete(i)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,o=this.tagForQuery_(e),s=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),o,s.hashFn,s.onComplete),u=this.syncPointTree_.subtree(r);if(o)Object(i.f)(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=u.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),x(n,(function(t,e){r=r.concat(e)})),r})),c=0;c<l.length;++c){var p=l[c];this.listenProvider_.stopListening(t.queryForListening_(p),this.tagForQuery_(p))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Lt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var o=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,o)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return Object(i.f)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new V(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);Object(i.f)(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(V.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var o=e.get(V.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(V.Empty));var i=[],s=t.path.getFront(),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){var l=n?n.getImmediateChild(s):null,c=r.child(s);i=i.concat(this.applyOperationHelper_(a,u,l,c))}return o&&(i=i.concat(o.applyOperation(t,r,n))),i},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var o=this,i=e.get(V.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(V.Empty));var s=[];return e.children.inorderTraversal((function(e,i){var a=n?n.getImmediateChild(e):null,u=r.child(e),l=t.operationForChild(e);l&&(s=s.concat(o.applyOperationDescendantsHelper_(l,i,a,u)))})),i&&(s=s.concat(i.applyOperation(t,r,n))),s},t.nextQueryTag_=1,t}(),Te=function(){function t(){this.rootNode_=Lt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Pe=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(i.k)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(i.m)(this.counters_)},t}(),Ae=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Pe),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Ie=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(o.a)({},t);return this.last_&&x(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),De=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ie(t);var n=1e4+2e4*Math.random();j(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;x(e,(function(e,o){o>0&&Object(i.k)(t.statsToReport_,e)&&(n[e]=o,r=!0)})),r&&this.server_.reportStats(n),j(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ne=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],o=r.getPath();null===e||o.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new xe(o)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),xe=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();y&&w("event: "+e.toString()),M(n)}}},t.prototype.getPath=function(){return this.path_},t}(),ke=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(i.f)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(o.g)(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],o=0;o<r.length;o++)if(r[o].callback===e&&(!n||n===r[o].context))return void r.splice(o,1)},t.prototype.validateEventType_=function(t){Object(i.f)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Le=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Object(o.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(i.f)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(ke),Fe=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(i.x)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(o.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(i.f)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(ke),Me=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var e=function(e){t[e]&&M((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},t}(),je=function(){function t(t,e,n,r,o){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(t),this.stats_=Ae.getCollection(e),this.urlFn=function(t){return e.connectionURL("long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Me(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(Object(i.z)()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Ve((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.e)(t,5),i=r[0],s=r[1],a=r[2];r[3],r[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=s,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.e)(t,2),i=r[0],s=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!Object(i.z)()&&(!!t.forceAllow_||!t.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(i.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(i.i)(e),r=N(n,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(i.z)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(i.J)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Ve=function(){function t(e,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(i.z)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=f(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))s='<script>document.domain="'+document.domain+'";<\/script>';var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){w("frame writing exception"),u.stack&&w(u.stack),w(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||w("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var o=this.pendingSegs.shift();n=n+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(o),r()}))},t.prototype.addTag=function(t,e){var n=this;Object(i.z)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){w("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(o){}}),Math.floor(1))},t}(),Ge="";function We(t){Ge=t}var He=null;"undefined"!==typeof MozWebSocket?He=MozWebSocket:"undefined"!==typeof WebSocket&&(He=WebSocket);var Be=function(){function e(t,n,r,o,i){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=Ae.getCollection(n),this.connURL=e.connectionURL_(n,o,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,e,n){var r={v:"5"};return!Object(i.z)()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},e.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if(Object(i.z)()){var o=this.nodeAdmin?"AdminNode":"Node",s={headers:{"User-Agent":"Firebase/5/"+Ge+"/"+t.platform+"/"+o,"X-Firebase-GMPID":this.applicationId||""}},a=Object({NODE_ENV:"production",PUBLIC_URL:"/Les_miss",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}),u=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;u&&(s.proxy={origin:u}),this.mySock=new He(this.connURL,[],s)}else{s={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new He(this.connURL,[],s)}}catch(c){this.log_("Error instantiating WebSocket.");var l=c.message||c.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&r.log_(e),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==He&&!e.forceDisallow_},e.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(i.D)(e);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(Object(i.f)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(t){this.resetKeepAlive();var e=Object(i.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=N(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),Ue=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[je,Be]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Be&&Be.isAvailable(),s=i&&!Be.previouslyFailed();if(e.webSocketOnly&&(i||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Be];else{var a=this.transports_=[];try{for(var u=Object(o.i)(t.ALL_TRANSPORTS),l=u.next();!l.done;l=u.next()){var c=l.value;c&&c.isAvailable()&&a.push(c)}}catch(p){n={error:p}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),ze=function(){function t(t,e,n,r,o,i,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=o,this.onDisconnect_=i,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new Ue(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=j((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(o)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=I("t",t),n=I("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=I("t",t),n=I("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=I("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?E("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&O("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),j((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):j((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),qe=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Ke=function(t){function e(n,r,o,s,a,u,l){var c=t.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=o,c.onConnectStatus_=s,c.onServerInfoUpdate_=a,c.authTokenProvider_=u,c.authOverride_=l,c.id=e.nextPersistentConnectionId_++,c.log_=C("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=1e3,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!Object(i.z)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),Le.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&Fe.getInstance().on("online",c.onOnline_,c),c}return Object(o.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,o={r:r,a:t,b:e};this.log_(Object(i.J)(o)),Object(i.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this,n=new i.a,r={p:t.path.toString(),q:t.queryObject()},o={action:"g",request:r,onComplete:function(t){var o=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,o,!1,null),n.resolve(o)):n.reject(o)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[s];void 0!==t&&o===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){var o=t.queryIdentifier(),s=t.path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),Object(i.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(i.f)(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,o=r.path.toString(),i=r.queryIdentifier();this.log_("Listen on "+o+" for "+i);var s={p:o};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(o)&&n.listens.get(o).get(i))===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(o,i),t.onComplete&&t.onComplete(u,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"===typeof t&&Object(i.k)(t,"w")){var n=Object(i.G)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',o=e.path.toString();O("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(i.q)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(i.C)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,o=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,o))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Object(i.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var o={p:t};r&&(o.q=n,o.t=r),this.sendRequest("n",o)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var o={p:e,d:n};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,o){var i={p:e,d:n};void 0!==o&&(i.h=o),this.outstandingPuts_.push({action:t,request:i,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),o&&o(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(i.J)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):E("Unrecognized action received from server: "+Object(i.J)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(i.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,a=this,u=this.lastSessionId,l=!1,c=null,p=function(){c?c.close():(l=!0,o())};this.realtime_={close:p,sendRequest:function(t){Object(i.f)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(t){l?w("getToken() completed but was canceled"):(w("getToken() completed. Creating connection."),a.authToken_=t&&t.accessToken,c=new ze(s,a.repoInfo_,a.applicationId_,n,r,o,(function(t){O(t+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")}),u))})).then(null,(function(e){a.log_("Failed to get token: "+e),l||(t.repoInfo_.nodeAdmin&&O(e),p())}))}},e.prototype.interrupt=function(t){w("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){w("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(i.u)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return D(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new V(t).toString();if(this.listens.has(r)){var o=this.listens.get(r);n=o.get(e),o.delete(e),0===o.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){w("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=Object(o.i)(this.listens.values()),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var u=(n=void 0,Object(o.i)(a.values())),l=u.next();!l.done;l=u.next()){var c=l.value;this.sendListen_(c)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var p=0;p<this.outstandingPuts_.length;p++)this.outstandingPuts_[p]&&this.sendPut_(p);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(p=0;p<this.outstandingGets_.length;p++)this.outstandingGets_[p]&&this.sendGet_(p)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(i.z)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+Ge.replace(/\./g,"-")]=1,Object(i.x)()?t["framework.cordova"]=1:Object(i.A)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Fe.getInstance().currentlyOnline();return Object(i.u)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(qe),Ye=function(t){function e(e,n,r){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.log_=C("p:rest:"),o.listens_={},o}return Object(o.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(i.f)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,o){var s=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var u=e.getListenId_(t,r),l={};this.listens_[u]=l;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",c,(function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),Object(i.G)(s.listens_,u)===l)&&o(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=t.getQueryParams().toRestQueryStringParameters(),r=t.path.toString(),o=new i.a;return this.restRequest_(r+".json",n,(function(t,n){var i=n;404===t&&(i=null,t=null),null===t?(e.onDataUpdate_(r,i,!1,null),o.resolve(i)):o.reject(new Error(i))})),o.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(o){var s=o&&o.accessToken;s&&(e.auth=s);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(i.F)(e);r.log_("Sending REST request for "+a);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=Object(i.D)(u.responseText)}catch(e){O("Failed to parse JSON response for "+a+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&O("Got unsuccessful REST response for "+a+" Status: "+u.status),n(u.status);n=null}},u.open("GET",a,!0),u.send()}))},e}(qe),Qe=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ne,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ne,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.start=function(){var t=this;if(this.stats_=Ae.getCollection(this.repoInfo_),this.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Ye(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var e=this.app.options.databaseAuthVariableOverride;if("undefined"!==typeof e&&null!==e){if("object"!==typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(i.J)(e)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}this.persistentConnection_=new Ke(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,e),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),this.statsReporter_=Ae.getOrCreateReporter(this.repoInfo_,(function(){return new De(t.stats_,t.server_)})),this.transactionsInit_(),this.infoData_=new Te,this.infoSyncTree_=new Se({startListening:function(e,n,r,o){var i=[],s=t.infoData_.getNode(e.path);return s.isEmpty()||(i=t.infoSyncTree_.applyServerOverwrite(e.path,s),setTimeout((function(){o("ok")}),0)),i},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Se({startListening:function(e,n,r,o){return t.server_.listen(e,r,n,(function(n,r){var i=o(n,r);t.eventQueue_.raiseEventsForChangedPath(e.path,i)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})},t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new V(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var o=new V(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var s=[];if(r)if(n){var a=Object(i.E)(e,(function(t){return Mt(t)}));s=this.serverSyncTree_.applyTaggedQueryMerge(o,a,r)}else{var u=Mt(e);s=this.serverSyncTree_.applyTaggedQueryOverwrite(o,u,r)}else if(n){var l=Object(i.E)(e,(function(t){return Mt(t)}));s=this.serverSyncTree_.applyServerMerge(o,l)}else{var c=Mt(e);s=this.serverSyncTree_.applyServerOverwrite(o,c)}var p=o;s.length>0&&(p=this.rerunTransactions_(o)),this.eventQueue_.raiseEventsForChangedPath(p,s)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;x(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new V("/.info/"+t),r=Mt(e);this.infoData_.updateSnapshot(n,r);var o=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,o)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.getValue=function(t){var e=this;return this.server_.get(t).then((function(n){var r=Mt(n),o=e.serverSyncTree_.applyServerOverwrite(t.path,r);return e.eventQueue_.raiseEventsAtPath(t.path,o),Promise.resolve(new Wt(r,t.getRef(),t.getQueryParams().getIndex()))}),(function(n){e.log_("get for query "+Object(i.J)(t)+" falling back to cache after error: "+n);var r=e.serverSyncTree_.calcCompleteEventCache(t.path);return r.isEmpty()?Promise.reject(new Error(n)):Promise.resolve(new Wt(r,t.getRef(),t.getQueryParams().getIndex()))}))},t.prototype.setWithPriority=function(t,e,n,r){var o=this;this.log_("set",{path:t.toString(),value:e,priority:n});var i=this.generateServerValues(),s=Mt(e,n),a=this.serverSyncTree_.calcCompleteEventCache(t),u=Zt(s,a,i),l=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(t,u,l,!0);this.eventQueue_.queueEvents(c),this.server_.put(t.toString(),s.val(!0),(function(e,n){var i="ok"===e;i||O("set at "+t+" failed: "+e);var s=o.serverSyncTree_.ackUserWrite(l,!i);o.eventQueue_.raiseEventsForChangedPath(t,s),o.callOnCompleteCallback(r,e,n)}));var p=this.abortTransactions_(t);this.rerunTransactions_(p),this.eventQueue_.raiseEventsForChangedPath(p,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var o=!0,i=this.generateServerValues(),s={};if(x(e,(function(e,n){o=!1,s[e]=Jt(t.child(e),Mt(n),r.serverSyncTree_,i)})),o)w("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,s,a);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,(function(e,o){var i="ok"===e;i||O("update at "+t+" failed: "+e);var s=r.serverSyncTree_.ackUserWrite(a,!i),u=s.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,s),r.callOnCompleteCallback(n,e,o)})),x(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new ne;this.onDisconnect_.forEachTree(V.Empty,(function(r,o){var i=Jt(r,o,t.serverSyncTree_,e);n.remember(r,i)}));var r=[];n.forEachTree(V.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var o=t.abortTransactions_(e);t.rerunTransactions_(o)})),this.onDisconnect_=new ne,this.eventQueue_.raiseEventsForChangedPath(V.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,o){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,o)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,o=Mt(e);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,i){"ok"===e&&r.onDisconnect_.remember(t,o),r.callOnCompleteCallback(n,e,i)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var o=this,i=Mt(e,n);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,n){"ok"===e&&o.onDisconnect_.remember(t,i),o.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(Object(i.u)(e))return w("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(o,i){"ok"===o&&x(e,(function(e,n){var o=Mt(n);r.onDisconnect_.remember(t.child(e),o)})),r.callOnCompleteCallback(n,o,i)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Ie(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);x(e,(function(t,e){for(var r=t,o=t.length;o<n+2;o++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),w.apply(void 0,Object(o.g)([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&M((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),o=r;n&&(o+=": "+n);var i=new Error(o);i.code=r,t(i)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new un(this))},enumerable:!1,configurable:!0}),t}(),Xe=function(){function t(e){this.indexedFilter_=new fe(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,o,i){return this.matches(new pt(e,n))||(n=Lt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,o,i)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Lt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Lt.EMPTY_NODE);var o=this;return e.forEachChild(_t,(function(t,e){o.matches(new pt(t,e))||(r=r.updateImmediateChild(t,Lt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),$e=function(){function t(t){this.rangedFilter_=new Xe(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,o,i){return this.rangedFilter_.matches(new pt(e,n))||(n=Lt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,o,i):this.fullLimitUpdateChild_(t,e,n,o,i)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Lt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Lt.EMPTY_NODE.withIndex(this.index_);var o=void 0;o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var i=0;o.hasNext()&&i<this.limit_;){var s=o.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),i++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Lt.EMPTY_NODE);var a=void 0,u=void 0,l=void 0;o=void 0;if(this.reverse_){o=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();l=function(t,e){return c(e,t)}}else o=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();i=0;for(var p=!1;o.hasNext();){s=o.getNext();!p&&l(a,s)<=0&&(p=!0),p&&i<this.limit_&&l(s,u)<=0?i++:r=r.updateImmediateChild(s.name,Lt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,o){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var u=t;Object(i.f)(u.numChildren()===this.limit_,"");var l=new pt(e,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),p=this.rangedFilter_.matches(l);if(u.hasChild(e)){for(var h=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,c,this.reverse_);null!=d&&(d.name===e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var f=null==d?1:s(d,l);if(p&&!n.isEmpty()&&f>=0)return null!=o&&o.trackChildChange(de.childChangedChange(e,n,h)),u.updateImmediateChild(e,n);null!=o&&o.trackChildChange(de.childRemovedChange(e,h));var g=u.updateImmediateChild(e,Lt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=o&&o.trackChildChange(de.childAddedChange(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}return n.isEmpty()?t:p&&s(c,l)>=0?(null!=o&&(o.trackChildChange(de.childRemovedChange(c.name,c.node)),o.trackChildChange(de.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(c.name,Lt.EMPTY_NODE)):t},t}(),Je=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_t}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return Object(i.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(i.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:S},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(i.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(i.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:T},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(i.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==_t&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===_t},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new fe(this.getIndex()):this.hasLimit()?new $e(this):new Xe(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===_t?e=n.PRIORITY_INDEX:this.index_===Vt?e=n.VALUE_INDEX:this.index_===ft?e=n.KEY_INDEX:(Object(i.f)(this.index_ instanceof Gt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=Object(i.J)(e),this.startSet_&&(r[n.START_AT]=Object(i.J)(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+Object(i.J)(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=Object(i.J)(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+Object(i.J)(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),Ze=function(t){function e(e,n){if(!(e instanceof Qe))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,Je.DEFAULT,!1)||this}return Object(o.c)(e,t),e.prototype.getKey=function(){return Object(i.K)("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return Object(i.K)("Reference.child",1,1,arguments.length),"number"===typeof t?t=String(t):t instanceof V||(null===this.path.getFront()?ot("Reference.child",1,t,!1):rt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){Object(i.K)("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){Object(i.K)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){Object(i.K)("Reference.set",1,2,arguments.length),it("Reference.set",this.path),$("Reference.set",1,t,this.path,!1),Object(i.L)("Reference.set",2,e,!0);var n=new i.a;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(Object(i.K)("Reference.update",1,2,arguments.length),it("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Z("Reference.update",1,t,this.path,!1),Object(i.L)("Reference.update",2,e,!0);var o=new i.a;return this.repo.update(this.path,t,o.wrapCallback(e)),o.promise},e.prototype.setWithPriority=function(t,e,n){if(Object(i.K)("Reference.setWithPriority",2,3,arguments.length),it("Reference.setWithPriority",this.path),$("Reference.setWithPriority",1,t,this.path,!1),tt("Reference.setWithPriority",2,e,!1),Object(i.L)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new i.a;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return Object(i.K)("Reference.remove",0,1,arguments.length),it("Reference.remove",this.path),Object(i.L)("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(Object(i.K)("Reference.transaction",1,3,arguments.length),it("Reference.transaction",this.path),Object(i.L)("Reference.transaction",1,t,!1),Object(i.L)("Reference.transaction",2,e,!0),at("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new i.a;"function"===typeof e&&r.promise.catch((function(){}));var o=function(t,n,o){t?r.reject(t):r.resolve(new lt(n,o)),"function"===typeof e&&e(t,n,o)};return this.repo.startTransaction(this.path,t,o,n),r.promise},e.prototype.setPriority=function(t,e){Object(i.K)("Reference.setPriority",1,2,arguments.length),it("Reference.setPriority",this.path),tt("Reference.setPriority",1,t,!1),Object(i.L)("Reference.setPriority",2,e,!0);var n=new i.a;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){Object(i.K)("Reference.push",0,2,arguments.length),it("Reference.push",this.path),$("Reference.push",1,t,this.path,!0),Object(i.L)("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),o=ct(r),s=this.child(o),a=this.child(o);return n=null!=t?s.set(t,e).then((function(){return a})):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),"function"===typeof e&&n.catch((function(){})),s},e.prototype.onDisconnect=function(){return it("Reference.onDisconnect",this.path),new ut(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(qt);qt.__referenceConstructor=Ze,Ee.__referenceConstructor=Ze;var tn,en=function(){this.children={},this.childCount=0,this.value=null},nn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new en),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof V?e:new V(e),r=this,o=n.getFront();null!==o;){r=new t(o,r,Object(i.G)(r.node_.children,o)||new en),o=(n=n.popFront()).getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){Object(i.f)("undefined"!==typeof t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;x(this.node_.children,(function(r,o){e(new t(r,n,o))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new V(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=Object(i.k)(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(tn||(tn={})),Qe.MAX_TRANSACTION_RETRIES_=25,Qe.prototype.transactionsInit_=function(){this.transactionQueueTree_=new nn},Qe.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var o=function(){},s=new Ze(this,t);s.on("value",o);var a={path:t,update:e,onComplete:n,status:null,order:f(),applyLocally:r,retryCount:0,unwatcher:function(){s.off("value",o)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);a.currentInputSnapshot=u;var l=a.update(u.val());if(void 0===l){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var c=new Wt(a.currentInputSnapshot,new Ze(this,a.path),_t);a.onComplete(null,!1,c)}}else{J("transaction failed: Data returned ",l,a.path),a.status=tn.RUN;var p=this.transactionQueueTree_.subTree(t),h=p.getValue()||[];h.push(a),p.setValue(h);var d=void 0;if("object"===typeof l&&null!==l&&Object(i.k)(l,".priority"))d=Object(i.G)(l,".priority"),Object(i.f)(X(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else d=(this.serverSyncTree_.calcCompleteEventCache(t)||Lt.EMPTY_NODE).getPriority().val();d=d;var g=this.generateServerValues(),v=Mt(l,d),y=Zt(v,u,g);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=y,a.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(t,y,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,m),this.sendReadyTransactions_()}},Qe.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Lt.EMPTY_NODE},Qe.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);Object(i.f)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===tn.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},Qe.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),o=this.getLatestState_(t,r),s=o,a=o.hash(),u=0;u<e.length;u++){var l=e[u];Object(i.f)(l.status===tn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=tn.SENT,l.retryCount++;var c=V.relativePath(t,l.path);s=s.updateChild(c,l.currentOutputSnapshotRaw)}var p=s.val(!0),h=t;this.server_.put(h.toString(),p,(function(r){n.log_("transaction put response",{path:h.toString(),status:r});var o=[];if("ok"===r){for(var i=[],s=0;s<e.length;s++){if(e[s].status=tn.COMPLETED,o=o.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,u=new Ze(n,e[s].path),l=new Wt(a,u,_t);i.push(e[s].onComplete.bind(null,null,!0,l))}e[s].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,o);for(s=0;s<i.length;s++)M(i[s])}else{if("datastale"===r)for(s=0;s<e.length;s++)e[s].status===tn.SENT_NEEDS_ABORT?e[s].status=tn.NEEDS_ABORT:e[s].status=tn.RUN;else{O("transaction at "+h.toString()+" failed: "+r);for(s=0;s<e.length;s++)e[s].status=tn.NEEDS_ABORT,e[s].abortReason=r}n.rerunTransactions_(t)}}),a)},Qe.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},Qe.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,r=[],o=[],s=t.filter((function(t){return t.status===tn.RUN})).map((function(t){return t.currentWriteId})),a=0;a<t.length;a++){var u=t[a],l=V.relativePath(e,u.path),c=!1,p=void 0;if(Object(i.f)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===tn.NEEDS_ABORT)c=!0,p=u.abortReason,o=o.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else if(u.status===tn.RUN)if(u.retryCount>=Qe.MAX_TRANSACTION_RETRIES_)c=!0,p="maxretry",o=o.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else{var h=this.getLatestState_(u.path,s);u.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){J("transaction failed: Data returned ",d,u.path);var f=Mt(d);"object"===typeof d&&null!=d&&Object(i.k)(d,".priority")||(f=f.updatePriority(h.getPriority()));var g=u.currentWriteId,v=this.generateServerValues(),y=Zt(f,h,v);u.currentOutputSnapshotRaw=f,u.currentOutputSnapshotResolved=y,u.currentWriteId=this.getNextWriteId_(),s.splice(s.indexOf(g),1),o=(o=o.concat(this.serverSyncTree_.applyUserOverwrite(u.path,y,u.currentWriteId,u.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(g,!0))}else c=!0,p="nodata",o=o.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,o),o=[],c&&(t[a].status=tn.COMPLETED,n=t[a].unwatcher,setTimeout(n,Math.floor(0)),t[a].onComplete))if("nodata"===p){var m=new Ze(this,t[a].path),b=t[a].currentInputSnapshot,w=new Wt(b,m,_t);r.push(t[a].onComplete.bind(null,null,!1,w))}else r.push(t[a].onComplete.bind(null,new Error(p),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(a=0;a<r.length;a++)M(r[a]);this.sendReadyTransactions_()}},Qe.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},Qe.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},Qe.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var o=0;o<r.length;o++)e.push(r[o]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},Qe.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,o=0;o<n.length;o++)n[o].status!==tn.COMPLETED&&(n[r]=n[o],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},Qe.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},Qe.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],o=-1,s=0;s<e.length;s++)if(e[s].status===tn.SENT_NEEDS_ABORT);else if(e[s].status===tn.SENT)Object(i.f)(o===s-1,"All SENT items should be at beginning of queue."),o=s,e[s].status=tn.SENT_NEEDS_ABORT,e[s].abortReason="set";else if(Object(i.f)(e[s].status===tn.RUN,"Unexpected transaction status in abort"),e[s].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[s].currentWriteId,!0)),e[s].onComplete){n.push(e[s].onComplete.bind(null,new Error("set"),!1,null))}-1===o?t.setValue(null):e.length=o+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(s=0;s<n.length;s++)M(n[s])}};var rn,on=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(w("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',O(t)},t}(),sn=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),an=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return rn||(rn=new e),rn},e.prototype.interrupt=function(){var t,e,n,r;try{for(var i=Object(o.i)(Object.keys(this.repos_)),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var u=(n=void 0,Object(o.i)(Object.keys(this.repos_[a]))),l=u.next();!l.done;l=u.next()){var c=l.value;this.repos_[a][c].interrupt()}}catch(p){n={error:p}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},e.prototype.resume=function(){var t,e,n,r;try{for(var i=Object(o.i)(Object.keys(this.repos_)),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var u=(n=void 0,Object(o.i)(Object.keys(this.repos_[a]))),l=u.next();!l.done;l=u.next()){var c=l.value;this.repos_[a][c].resume()}}catch(p){n={error:p}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},e.prototype.applyEmulatorSettings=function(t,e,n){t.repoInfo_=new W(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new sn)},e.prototype.databaseFromApp=function(e,n,r,o){var i=r||e.options.databaseURL;void 0===i&&(e.options.projectId||_("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),w("Using default host for project ",e.options.projectId),i=e.options.projectId+"-default-rtdb.firebaseio.com");var s,a=U(i,o),u=a.repoInfo,l=void 0;"undefined"!==typeof t&&(l=Object({NODE_ENV:"production",PUBLIC_URL:"/Les_miss",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).FIREBASE_DATABASE_EMULATOR_HOST),l?(s=!0,i="http://"+l+"?ns="+u.namespace,u=(a=U(i,o)).repoInfo):s=!a.repoInfo.secure;var c=o&&s?new sn:new on(e,n);return st("Invalid Firebase Database URL",1,a),a.path.isEmpty()||_("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(u,e,c).database},e.prototype.deleteRepo=function(t){var e=Object(i.G)(this.repos_,t.app.name);e&&Object(i.G)(e,t.key)===t||_("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.key]},e.prototype.createRepo=function(t,e,n){var r=Object(i.G)(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var o=Object(i.G)(r,t.toURLString());return o&&_("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Qe(t,this.useRestClient_,e,n),r[t.toURLString()]=o,o},e.prototype.forceRestClient=function(t){this.useRestClient_=t},e}(),un=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(o.b)(e,void 0,void 0,(function(){return Object(o.d)(this,(function(t){return this.checkDeleted_("delete"),an.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},t instanceof Qe||_("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new Ze(this.repo_,V.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?_("Cannot call useEmulator() after instance has already been initialized."):an.getInstance().applyEmulatorSettings(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_("ref"),Object(i.K)("database.ref",0,1,arguments.length),t instanceof Ze?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),Object(i.K)(e,1,1,arguments.length);var n=U(t,this.repo_.repoInfo_.nodeAdmin);st(e,1,n);var r=n.repoInfo;return r.isCustomHost()||r.host===this.repo_.repoInfo_.host||_(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&_("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){Object(i.K)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){Object(i.K)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}();var ln=Object.freeze({__proto__:null,forceLongPolling:function(){Be.forceDisallow(),je.forceAllow()},forceWebSockets:function(){je.forceDisallow()},isWebSocketsAvailable:function(){return Be.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,o=t.customAuthImpl,i=t.namespace,s=t.nodeAdmin,u=void 0!==s&&s;We(r);var l=new a.c("auth-internal",new a.b("database-standalone"));return l.setComponent(new a.a("auth-internal",(function(){return o}),"PRIVATE")),{instance:an.getInstance().databaseFromApp(e,l,n,u),namespace:i}}}),cn=Ke;Ke.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Ke.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var pn=ze,hn=W,dn=Object.freeze({__proto__:null,DataConnection:cn,RealTimeConnection:pn,hijackHash:function(t){var e=Ke.prototype.put;return Ke.prototype.put=function(n,r,o,i){void 0!==i&&(i=t()),e.call(this,n,r,o,i)},function(){Ke.prototype.put=e}},ConnectionTarget:hn,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){an.getInstance().forceRestClient(t)}}),fn=un.ServerValue;!function(t){We(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new a.a("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return an.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:Ze,Query:qt,Database:un,DataSnapshot:Wt,enableLogging:b,INTERNAL:ln,ServerValue:fn,TEST_ACCESS:dn}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.8.1"),Object(i.z)()&&(e.exports=n)}(r.a)}).call(this,n(50),n(130)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";t.exports=n(132)},function(t,e,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,C=r?Symbol.for("react.scope"):60119;function E(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case o:switch(t=t.type){case p:case h:case s:case u:case a:case f:return t;default:switch(t=t&&t.$$typeof){case c:case d:case y:case v:case l:return t;default:return e}}case i:return e}}}function _(t){return E(t)===h}e.AsyncMode=p,e.ConcurrentMode=h,e.ContextConsumer=c,e.ContextProvider=l,e.Element=o,e.ForwardRef=d,e.Fragment=s,e.Lazy=y,e.Memo=v,e.Portal=i,e.Profiler=u,e.StrictMode=a,e.Suspense=f,e.isAsyncMode=function(t){return _(t)||E(t)===p},e.isConcurrentMode=_,e.isContextConsumer=function(t){return E(t)===c},e.isContextProvider=function(t){return E(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===o},e.isForwardRef=function(t){return E(t)===d},e.isFragment=function(t){return E(t)===s},e.isLazy=function(t){return E(t)===y},e.isMemo=function(t){return E(t)===v},e.isPortal=function(t){return E(t)===i},e.isProfiler=function(t){return E(t)===u},e.isStrictMode=function(t){return E(t)===a},e.isSuspense=function(t){return E(t)===f},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===s||t===h||t===u||t===a||t===f||t===g||"object"===typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===v||t.$$typeof===l||t.$$typeof===c||t.$$typeof===d||t.$$typeof===b||t.$$typeof===w||t.$$typeof===C||t.$$typeof===m)},e.typeOf=E},function(t,e){function n(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}((function(t){return r.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91}));e.default=o},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(3),o=n(30);function i(t){return t&&"object"===Object(o.a)(t)&&t.constructor===Object}function s(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=n.clone?Object(r.a)({},t):t;return i(t)&&i(e)&&Object.keys(e).forEach((function(r){"__proto__"!==r&&(i(e[r])&&r in t?o[r]=s(t[r],e[r],n):o[r]=e[r])})),o}},function(t,e,n){"use strict";n.d(e,"a",(function(){return Is}));var r=n(5),o=n(3),i=n(1),s=n.n(i),a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u="object"===("undefined"===typeof window?"undefined":a(window))&&"object"===("undefined"===typeof document?"undefined":a(document))&&9===document.nodeType;function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function p(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var h=n(14),d=n(17),f={}.constructor;function g(t){if(null==t||"object"!==typeof t)return t;if(Array.isArray(t))return t.map(g);if(t.constructor!==f)return t;var e={};for(var n in t)e[n]=g(t[n]);return e}function v(t,e,n){void 0===t&&(t="unnamed");var r=n.jss,o=g(e),i=r.plugins.onCreateRule(t,o,n);return i||(t[0],null)}var y=function(t,e){for(var n="",r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=e),n+=t[r];return n},m=function(t,e){if(void 0===e&&(e=!1),!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=", "),n+=y(t[r]," ");else n=y(t,", ");return e||"!important"!==t[t.length-1]||(n+=" !important"),n};function b(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function w(t,e,n){void 0===n&&(n={});var r="";if(!e)return r;var o=n.indent,i=void 0===o?0:o,s=e.fallbacks;if(t&&i++,s)if(Array.isArray(s))for(var a=0;a<s.length;a++){var u=s[a];for(var l in u){var c=u[l];null!=c&&(r&&(r+="\n"),r+=""+b(l+": "+m(c)+";",i))}}else for(var p in s){var h=s[p];null!=h&&(r&&(r+="\n"),r+=""+b(p+": "+m(h)+";",i))}for(var d in e){var f=e[d];null!=f&&"fallbacks"!==d&&(r&&(r+="\n"),r+=""+b(d+": "+m(f)+";",i))}return(r||n.allowEmpty)&&t?(r&&(r="\n"+r+"\n"),b(t+" {"+r,--i)+b("}",i)):r}var C=/([[\].#*$><+~=|^:(),"'`\s])/g,E="undefined"!==typeof CSS&&CSS.escape,_=function(t){return E?E(t):t.replace(C,"\\$1")},O=function(){function t(t,e,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,o=n.Renderer;this.key=t,this.options=n,this.style=e,r?this.renderer=r.renderer:o&&(this.renderer=new o)}return t.prototype.prop=function(t,e,n){if(void 0===e)return this.style[t];var r=!!n&&n.force;if(!r&&this.style[t]===e)return this;var o=e;n&&!1===n.process||(o=this.options.jss.plugins.onChangeValue(e,t,this));var i=null==o||!1===o,s=t in this.style;if(i&&!s&&!r)return this;var a=i&&s;if(a?delete this.style[t]:this.style[t]=o,this.renderable&&this.renderer)return a?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,o),this;var u=this.options.sheet;return u&&u.attached,this},t}(),R=function(t){function e(e,n,r){var o;(o=t.call(this,e,n,r)||this).selectorText=void 0,o.id=void 0,o.renderable=void 0;var i=r.selector,s=r.scoped,a=r.sheet,u=r.generateId;return i?o.selectorText=i:!1!==s&&(o.id=u(Object(h.a)(Object(h.a)(o)),a),o.selectorText="."+_(o.id)),o}p(e,t);var n=e.prototype;return n.applyTo=function(t){var e=this.renderer;if(e){var n=this.toJSON();for(var r in n)e.setProperty(t,r,n[r])}return this},n.toJSON=function(){var t={};for(var e in this.style){var n=this.style[e];"object"!==typeof n?t[e]=n:Array.isArray(n)&&(t[e]=m(n))}return t},n.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(o.a)({},t,{allowEmpty:!0}):t;return w(this.selectorText,this.style,n)},c(e,[{key:"selector",set:function(t){if(t!==this.selectorText){this.selectorText=t;var e=this.renderer,n=this.renderable;if(n&&e)e.setSelector(n,t)||e.replaceRule(n,this)}},get:function(){return this.selectorText}}]),e}(O),S={onCreateRule:function(t,e,n){return"@"===t[0]||n.parent&&"keyframes"===n.parent.type?null:new R(t,e,n)}},T={indent:1,children:!0},P=/@([\w-]+)/,A=function(){function t(t,e,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t;var r=t.match(P);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new J(Object(o.a)({},n,{parent:this})),e)this.rules.add(i,e[i]);this.rules.process()}var e=t.prototype;return e.getRule=function(t){return this.rules.get(t)},e.indexOf=function(t){return this.rules.indexOf(t)},e.addRule=function(t,e,n){var r=this.rules.add(t,e,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},e.toString=function(t){if(void 0===t&&(t=T),null==t.indent&&(t.indent=T.indent),null==t.children&&(t.children=T.children),!1===t.children)return this.query+" {}";var e=this.rules.toString(t);return e?this.query+" {\n"+e+"\n}":""},t}(),I=/@media|@supports\s+/,D={onCreateRule:function(t,e,n){return I.test(t)?new A(t,e,n):null}},N={indent:1,children:!0},x=/@keyframes\s+([\w-]+)/,k=function(){function t(t,e,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var r=t.match(x);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,s=n.sheet,a=n.generateId;for(var u in this.id=!1===i?this.name:_(a(this,s)),this.rules=new J(Object(o.a)({},n,{parent:this})),e)this.rules.add(u,e[u],Object(o.a)({},n,{parent:this}));this.rules.process()}return t.prototype.toString=function(t){if(void 0===t&&(t=N),null==t.indent&&(t.indent=N.indent),null==t.children&&(t.children=N.children),!1===t.children)return this.at+" "+this.id+" {}";var e=this.rules.toString(t);return e&&(e="\n"+e+"\n"),this.at+" "+this.id+" {"+e+"}"},t}(),L=/@keyframes\s+/,F=/\$([\w-]+)/g,M=function(t,e){return"string"===typeof t?t.replace(F,(function(t,n){return n in e?e[n]:t})):t},j=function(t,e,n){var r=t[e],o=M(r,n);o!==r&&(t[e]=o)},V={onCreateRule:function(t,e,n){return"string"===typeof t&&L.test(t)?new k(t,e,n):null},onProcessStyle:function(t,e,n){return"style"===e.type&&n?("animation-name"in t&&j(t,"animation-name",n.keyframes),"animation"in t&&j(t,"animation",n.keyframes),t):t},onChangeValue:function(t,e,n){var r=n.options.sheet;if(!r)return t;switch(e){case"animation":case"animation-name":return M(t,r.keyframes);default:return t}}},G=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).renderable=void 0,e}return p(e,t),e.prototype.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(o.a)({},t,{allowEmpty:!0}):t;return w(this.key,this.style,n)},e}(O),W={onCreateRule:function(t,e,n){return n.parent&&"keyframes"===n.parent.type?new G(t,e,n):null}},H=function(){function t(t,e,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.style)){for(var e="",n=0;n<this.style.length;n++)e+=w(this.at,this.style[n]),this.style[n+1]&&(e+="\n");return e}return w(this.at,this.style,t)},t}(),B=/@font-face/,U={onCreateRule:function(t,e,n){return B.test(t)?new H(t,e,n):null}},z=function(){function t(t,e,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){return w(this.key,this.style,t)},t}(),q={onCreateRule:function(t,e,n){return"@viewport"===t||"@-ms-viewport"===t?new z(t,e,n):null}},K=function(){function t(t,e,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.value=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.value)){for(var e="",n=0;n<this.value.length;n++)e+=this.key+" "+this.value[n]+";",this.value[n+1]&&(e+="\n");return e}return this.key+" "+this.value+";"},t}(),Y={"@charset":!0,"@import":!0,"@namespace":!0},Q=[S,D,V,W,U,q,{onCreateRule:function(t,e,n){return t in Y?new K(t,e,n):null}}],X={process:!0},$={force:!0,process:!0},J=function(){function t(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var e=t.prototype;return e.add=function(t,e,n){var r=this.options,i=r.parent,s=r.sheet,a=r.jss,u=r.Renderer,l=r.generateId,c=r.scoped,p=Object(o.a)({classes:this.classes,parent:i,sheet:s,jss:a,Renderer:u,generateId:l,scoped:c,name:t,keyframes:this.keyframes,selector:void 0},n),h=t;t in this.raw&&(h=t+"-d"+this.counter++),this.raw[h]=e,h in this.classes&&(p.selector="."+_(this.classes[h]));var d=v(h,e,p);if(!d)return null;this.register(d);var f=void 0===p.index?this.index.length:p.index;return this.index.splice(f,0,d),d},e.get=function(t){return this.map[t]},e.remove=function(t){this.unregister(t),delete this.raw[t.key],this.index.splice(this.index.indexOf(t),1)},e.indexOf=function(t){return this.index.indexOf(t)},e.process=function(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)},e.register=function(t){this.map[t.key]=t,t instanceof R?(this.map[t.selector]=t,t.id&&(this.classes[t.key]=t.id)):t instanceof k&&this.keyframes&&(this.keyframes[t.name]=t.id)},e.unregister=function(t){delete this.map[t.key],t instanceof R?(delete this.map[t.selector],delete this.classes[t.key]):t instanceof k&&delete this.keyframes[t.name]},e.update=function(){var t,e,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],t=null),t)this.updateOne(this.map[t],e,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],e,n)},e.updateOne=function(e,n,r){void 0===r&&(r=X);var o=this.options,i=o.jss.plugins,s=o.sheet;if(e.rules instanceof t)e.rules.update(n,r);else{var a=e,u=a.style;if(i.onUpdate(n,e,s,r),r.process&&u&&u!==a.style){for(var l in i.onProcessStyle(a.style,a,s),a.style){var c=a.style[l];c!==u[l]&&a.prop(l,c,$)}for(var p in u){var h=a.style[p],d=u[p];null==h&&h!==d&&a.prop(p,null,$)}}}},e.toString=function(t){for(var e="",n=this.options.sheet,r=!!n&&n.options.link,o=0;o<this.index.length;o++){var i=this.index[o].toString(t);(i||r)&&(e&&(e+="\n"),e+=i)}return e},t}(),Z=function(){function t(t,e){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(o.a)({},e,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),e.Renderer&&(this.renderer=new e.Renderer(this)),this.rules=new J(this.options),t)this.rules.add(n,t[n]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(t,e,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var o=this.rules.add(t,e,n);return o?(this.options.jss.plugins.onProcessRule(o),this.attached?this.deployed?(r?r.push(o):(this.insertRule(o),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),o):o:(this.deployed=!1,o)):null},e.insertRule=function(t){this.renderer&&this.renderer.insertRule(t)},e.addRules=function(t,e){var n=[];for(var r in t){var o=this.addRule(r,t[r],e);o&&n.push(o)}return n},e.getRule=function(t){return this.rules.get(t)},e.deleteRule=function(t){var e="object"===typeof t?t:this.rules.get(t);return!(!e||this.attached&&!e.renderable)&&(this.rules.remove(e),!(this.attached&&e.renderable&&this.renderer)||this.renderer.deleteRule(e.renderable))},e.indexOf=function(t){return this.rules.indexOf(t)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var t;return(t=this.rules).update.apply(t,arguments),this},e.updateOne=function(t,e,n){return this.rules.updateOne(t,e,n),this},e.toString=function(t){return this.rules.toString(t)},t}(),tt=function(){function t(){this.plugins={internal:[],external:[]},this.registry=void 0}var e=t.prototype;return e.onCreateRule=function(t,e,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var o=this.registry.onCreateRule[r](t,e,n);if(o)return o}return null},e.onProcessRule=function(t){if(!t.isProcessed){for(var e=t.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](t,e);t.style&&this.onProcessStyle(t.style,t,e),t.isProcessed=!0}},e.onProcessStyle=function(t,e,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)e.style=this.registry.onProcessStyle[r](e.style,e,n)},e.onProcessSheet=function(t){for(var e=0;e<this.registry.onProcessSheet.length;e++)this.registry.onProcessSheet[e](t)},e.onUpdate=function(t,e,n,r){for(var o=0;o<this.registry.onUpdate.length;o++)this.registry.onUpdate[o](t,e,n,r)},e.onChangeValue=function(t,e,n){for(var r=t,o=0;o<this.registry.onChangeValue.length;o++)r=this.registry.onChangeValue[o](r,e,n);return r},e.use=function(t,e){void 0===e&&(e={queue:"external"});var n=this.plugins[e.queue];-1===n.indexOf(t)&&(n.push(t),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(t,e){for(var n in e)n in t&&t[n].push(e[n]);return t}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),et=new(function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(t){var e=this.registry,n=t.options.index;if(-1===e.indexOf(t))if(0===e.length||n>=this.index)e.push(t);else for(var r=0;r<e.length;r++)if(e[r].options.index>n)return void e.splice(r,0,t)},e.reset=function(){this.registry=[]},e.remove=function(t){var e=this.registry.indexOf(t);this.registry.splice(e,1)},e.toString=function(t){for(var e=void 0===t?{}:t,n=e.attached,r=Object(d.a)(e,["attached"]),o="",i=0;i<this.registry.length;i++){var s=this.registry[i];null!=n&&s.attached!==n||(o&&(o+="\n"),o+=s.toString(r))}return o},c(t,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),t}()),nt="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),rt="2f1acc6c3a606b082e5eef5e54414ffb";null==nt[rt]&&(nt[rt]=0);var ot=nt[rt]++,it=function(t){void 0===t&&(t={});var e=0;return function(n,r){e+=1;var o="",i="";return r&&(r.options.classNamePrefix&&(i=r.options.classNamePrefix),null!=r.options.jss.id&&(o=String(r.options.jss.id))),t.minify?""+(i||"c")+ot+o+e:i+n.key+"-"+ot+(o?"-"+o:"")+"-"+e}},st=function(t){var e;return function(){return e||(e=t()),e}},at=function(t,e){try{return t.attributeStyleMap?t.attributeStyleMap.get(e):t.style.getPropertyValue(e)}catch(n){return""}},ut=function(t,e,n){try{var r=n;if(Array.isArray(n)&&(r=m(n,!0),"!important"===n[n.length-1]))return t.style.setProperty(e,r,"important"),!0;t.attributeStyleMap?t.attributeStyleMap.set(e,r):t.style.setProperty(e,r)}catch(o){return!1}return!0},lt=function(t,e){try{t.attributeStyleMap?t.attributeStyleMap.delete(e):t.style.removeProperty(e)}catch(n){}},ct=function(t,e){return t.selectorText=e,t.selectorText===e},pt=st((function(){return document.querySelector("head")}));function ht(t){var e=et.registry;if(e.length>0){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&"string"===typeof r){var o=function(t){for(var e=pt(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===t)return r}return null}(r);if(o)return{parent:o.parentNode,node:o.nextSibling}}return!1}var dt=st((function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null})),ft=function(t,e,n){try{if("insertRule"in t)t.insertRule(e,n);else if("appendRule"in t){t.appendRule(e)}}catch(r){return!1}return t.cssRules[n]},gt=function(t,e){var n=t.cssRules.length;return void 0===e||e>n?n:e},vt=function(){function t(t){this.getPropertyValue=at,this.setProperty=ut,this.removeProperty=lt,this.setSelector=ct,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],t&&et.add(t),this.sheet=t;var e=this.sheet?this.sheet.options:{},n=e.media,r=e.meta,o=e.element;this.element=o||function(){var t=document.createElement("style");return t.textContent="\n",t}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var i=dt();i&&this.element.setAttribute("nonce",i)}var e=t.prototype;return e.attach=function(){if(!this.element.parentNode&&this.sheet){!function(t,e){var n=e.insertionPoint,r=ht(e);if(!1!==r&&r.parent)r.parent.insertBefore(t,r.node);else if(n&&"number"===typeof n.nodeType){var o=n,i=o.parentNode;i&&i.insertBefore(t,o.nextSibling)}else pt().appendChild(t)}(this.element,this.sheet.options);var t=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&t&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var t=this.element.parentNode;t&&t.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},e.deploy=function(){var t=this.sheet;t&&(t.options.link?this.insertRules(t.rules):this.element.textContent="\n"+t.toString()+"\n")},e.insertRules=function(t,e){for(var n=0;n<t.index.length;n++)this.insertRule(t.index[n],n,e)},e.insertRule=function(t,e,n){if(void 0===n&&(n=this.element.sheet),t.rules){var r=t,o=n;if("conditional"===t.type||"keyframes"===t.type){var i=gt(n,e);if(!1===(o=ft(n,r.toString({children:!1}),i)))return!1;this.refCssRule(t,i,o)}return this.insertRules(r.rules,o),o}var s=t.toString();if(!s)return!1;var a=gt(n,e),u=ft(n,s,a);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(t,a,u),u)},e.refCssRule=function(t,e,n){t.renderable=n,t.options.parent instanceof Z&&(this.cssRules[e]=n)},e.deleteRule=function(t){var e=this.element.sheet,n=this.indexOf(t);return-1!==n&&(e.deleteRule(n),this.cssRules.splice(n,1),!0)},e.indexOf=function(t){return this.cssRules.indexOf(t)},e.replaceRule=function(t,e){var n=this.indexOf(t);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(e,n))},e.getRules=function(){return this.element.sheet.cssRules},t}(),yt=0,mt=function(){function t(t){this.id=yt++,this.version="10.5.0",this.plugins=new tt,this.options={id:{minify:!1},createGenerateId:it,Renderer:u?vt:null,plugins:[]},this.generateId=it({minify:!1});for(var e=0;e<Q.length;e++)this.plugins.use(Q[e],{queue:"internal"});this.setup(t)}var e=t.prototype;return e.setup=function(t){return void 0===t&&(t={}),t.createGenerateId&&(this.options.createGenerateId=t.createGenerateId),t.id&&(this.options.id=Object(o.a)({},this.options.id,t.id)),(t.createGenerateId||t.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=t.insertionPoint&&(this.options.insertionPoint=t.insertionPoint),"Renderer"in t&&(this.options.Renderer=t.Renderer),t.plugins&&this.use.apply(this,t.plugins),this},e.createStyleSheet=function(t,e){void 0===e&&(e={});var n=e.index;"number"!==typeof n&&(n=0===et.index?0:et.index+1);var r=new Z(t,Object(o.a)({},e,{jss:this,generateId:e.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},e.removeStyleSheet=function(t){return t.detach(),et.remove(t),this},e.createRule=function(t,e,n){if(void 0===e&&(e={}),void 0===n&&(n={}),"object"===typeof t)return this.createRule(void 0,t,e);var r=Object(o.a)({},n,{name:t,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=v(t,e,r);return i&&this.plugins.onProcessRule(i),i},e.use=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach((function(e){t.plugins.use(e)})),this},t}();"object"===typeof CSS&&null!=CSS&&CSS;var bt=function(t){return new mt(t)};bt();function wt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.baseClasses,n=t.newClasses;t.Component;if(!n)return e;var r=Object(o.a)({},e);return Object.keys(n).forEach((function(t){n[t]&&(r[t]="".concat(e[t]," ").concat(n[t]))})),r}var Ct={set:function(t,e,n,r){var o=t.get(e);o||(o=new Map,t.set(e,o)),o.set(n,r)},get:function(t,e,n){var r=t.get(e);return r?r.get(n):void 0},delete:function(t,e,n){t.get(e).delete(n)}},Et=n(168),_t=(n(12),"function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__"),Ot=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Rt={}.constructor;function St(t){if(null==t||"object"!==typeof t)return t;if(Array.isArray(t))return t.map(St);if(t.constructor!==Rt)return t;var e={};for(var n in t)e[n]=St(t[n]);return e}function Tt(t,e,n){void 0===t&&(t="unnamed");var r=n.jss,o=St(e),i=r.plugins.onCreateRule(t,o,n);return i||(t[0],null)}var Pt=function(t,e){for(var n="",r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=e),n+=t[r];return n},At=function(t,e){if(void 0===e&&(e=!1),!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=", "),n+=Pt(t[r]," ");else n=Pt(t,", ");return e||"!important"!==t[t.length-1]||(n+=" !important"),n};function It(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function Dt(t,e,n){void 0===n&&(n={});var r="";if(!e)return r;var o=n.indent,i=void 0===o?0:o,s=e.fallbacks;if(t&&i++,s)if(Array.isArray(s))for(var a=0;a<s.length;a++){var u=s[a];for(var l in u){var c=u[l];null!=c&&(r&&(r+="\n"),r+=""+It(l+": "+At(c)+";",i))}}else for(var p in s){var h=s[p];null!=h&&(r&&(r+="\n"),r+=""+It(p+": "+At(h)+";",i))}for(var d in e){var f=e[d];null!=f&&"fallbacks"!==d&&(r&&(r+="\n"),r+=""+It(d+": "+At(f)+";",i))}return(r||n.allowEmpty)&&t?(r&&(r="\n"+r+"\n"),It(t+" {"+r,--i)+It("}",i)):r}var Nt=/([[\].#*$><+~=|^:(),"'`\s])/g,xt="undefined"!==typeof CSS&&CSS.escape,kt=function(t){return xt?xt(t):t.replace(Nt,"\\$1")},Lt=function(){function t(t,e,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,o=n.Renderer;this.key=t,this.options=n,this.style=e,r?this.renderer=r.renderer:o&&(this.renderer=new o)}return t.prototype.prop=function(t,e,n){if(void 0===e)return this.style[t];var r=!!n&&n.force;if(!r&&this.style[t]===e)return this;var o=e;n&&!1===n.process||(o=this.options.jss.plugins.onChangeValue(e,t,this));var i=null==o||!1===o,s=t in this.style;if(i&&!s&&!r)return this;var a=i&&s;if(a?delete this.style[t]:this.style[t]=o,this.renderable&&this.renderer)return a?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,o),this;var u=this.options.sheet;return u&&u.attached,this},t}(),Ft=function(t){function e(e,n,r){var o;(o=t.call(this,e,n,r)||this).selectorText=void 0,o.id=void 0,o.renderable=void 0;var i=r.selector,s=r.scoped,a=r.sheet,u=r.generateId;return i?o.selectorText=i:!1!==s&&(o.id=u(Object(h.a)(Object(h.a)(o)),a),o.selectorText="."+kt(o.id)),o}p(e,t);var n=e.prototype;return n.applyTo=function(t){var e=this.renderer;if(e){var n=this.toJSON();for(var r in n)e.setProperty(t,r,n[r])}return this},n.toJSON=function(){var t={};for(var e in this.style){var n=this.style[e];"object"!==typeof n?t[e]=n:Array.isArray(n)&&(t[e]=At(n))}return t},n.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(o.a)({},t,{allowEmpty:!0}):t;return Dt(this.selectorText,this.style,n)},c(e,[{key:"selector",set:function(t){if(t!==this.selectorText){this.selectorText=t;var e=this.renderer,n=this.renderable;if(n&&e)e.setSelector(n,t)||e.replaceRule(n,this)}},get:function(){return this.selectorText}}]),e}(Lt),Mt={onCreateRule:function(t,e,n){return"@"===t[0]||n.parent&&"keyframes"===n.parent.type?null:new Ft(t,e,n)}},jt={indent:1,children:!0},Vt=/@([\w-]+)/,Gt=function(){function t(t,e,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t;var r=t.match(Vt);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new le(Object(o.a)({},n,{parent:this})),e)this.rules.add(i,e[i]);this.rules.process()}var e=t.prototype;return e.getRule=function(t){return this.rules.get(t)},e.indexOf=function(t){return this.rules.indexOf(t)},e.addRule=function(t,e,n){var r=this.rules.add(t,e,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},e.toString=function(t){if(void 0===t&&(t=jt),null==t.indent&&(t.indent=jt.indent),null==t.children&&(t.children=jt.children),!1===t.children)return this.query+" {}";var e=this.rules.toString(t);return e?this.query+" {\n"+e+"\n}":""},t}(),Wt=/@media|@supports\s+/,Ht={onCreateRule:function(t,e,n){return Wt.test(t)?new Gt(t,e,n):null}},Bt={indent:1,children:!0},Ut=/@keyframes\s+([\w-]+)/,zt=function(){function t(t,e,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var r=t.match(Ut);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,s=n.sheet,a=n.generateId;for(var u in this.id=!1===i?this.name:kt(a(this,s)),this.rules=new le(Object(o.a)({},n,{parent:this})),e)this.rules.add(u,e[u],Object(o.a)({},n,{parent:this}));this.rules.process()}return t.prototype.toString=function(t){if(void 0===t&&(t=Bt),null==t.indent&&(t.indent=Bt.indent),null==t.children&&(t.children=Bt.children),!1===t.children)return this.at+" "+this.id+" {}";var e=this.rules.toString(t);return e&&(e="\n"+e+"\n"),this.at+" "+this.id+" {"+e+"}"},t}(),qt=/@keyframes\s+/,Kt=/\$([\w-]+)/g,Yt=function(t,e){return"string"===typeof t?t.replace(Kt,(function(t,n){return n in e?e[n]:t})):t},Qt=function(t,e,n){var r=t[e],o=Yt(r,n);o!==r&&(t[e]=o)},Xt={onCreateRule:function(t,e,n){return"string"===typeof t&&qt.test(t)?new zt(t,e,n):null},onProcessStyle:function(t,e,n){return"style"===e.type&&n?("animation-name"in t&&Qt(t,"animation-name",n.keyframes),"animation"in t&&Qt(t,"animation",n.keyframes),t):t},onChangeValue:function(t,e,n){var r=n.options.sheet;if(!r)return t;switch(e){case"animation":case"animation-name":return Yt(t,r.keyframes);default:return t}}},$t=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).renderable=void 0,e}return p(e,t),e.prototype.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(o.a)({},t,{allowEmpty:!0}):t;return Dt(this.key,this.style,n)},e}(Lt),Jt={onCreateRule:function(t,e,n){return n.parent&&"keyframes"===n.parent.type?new $t(t,e,n):null}},Zt=function(){function t(t,e,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.style)){for(var e="",n=0;n<this.style.length;n++)e+=Dt(this.at,this.style[n]),this.style[n+1]&&(e+="\n");return e}return Dt(this.at,this.style,t)},t}(),te=/@font-face/,ee={onCreateRule:function(t,e,n){return te.test(t)?new Zt(t,e,n):null}},ne=function(){function t(t,e,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){return Dt(this.key,this.style,t)},t}(),re={onCreateRule:function(t,e,n){return"@viewport"===t||"@-ms-viewport"===t?new ne(t,e,n):null}},oe=function(){function t(t,e,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.value=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.value)){for(var e="",n=0;n<this.value.length;n++)e+=this.key+" "+this.value[n]+";",this.value[n+1]&&(e+="\n");return e}return this.key+" "+this.value+";"},t}(),ie={"@charset":!0,"@import":!0,"@namespace":!0},se=[Mt,Ht,Xt,Jt,ee,re,{onCreateRule:function(t,e,n){return t in ie?new oe(t,e,n):null}}],ae={process:!0},ue={force:!0,process:!0},le=function(){function t(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var e=t.prototype;return e.add=function(t,e,n){var r=this.options,i=r.parent,s=r.sheet,a=r.jss,u=r.Renderer,l=r.generateId,c=r.scoped,p=Object(o.a)({classes:this.classes,parent:i,sheet:s,jss:a,Renderer:u,generateId:l,scoped:c,name:t,keyframes:this.keyframes,selector:void 0},n),h=t;t in this.raw&&(h=t+"-d"+this.counter++),this.raw[h]=e,h in this.classes&&(p.selector="."+kt(this.classes[h]));var d=Tt(h,e,p);if(!d)return null;this.register(d);var f=void 0===p.index?this.index.length:p.index;return this.index.splice(f,0,d),d},e.get=function(t){return this.map[t]},e.remove=function(t){this.unregister(t),delete this.raw[t.key],this.index.splice(this.index.indexOf(t),1)},e.indexOf=function(t){return this.index.indexOf(t)},e.process=function(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)},e.register=function(t){this.map[t.key]=t,t instanceof Ft?(this.map[t.selector]=t,t.id&&(this.classes[t.key]=t.id)):t instanceof zt&&this.keyframes&&(this.keyframes[t.name]=t.id)},e.unregister=function(t){delete this.map[t.key],t instanceof Ft?(delete this.map[t.selector],delete this.classes[t.key]):t instanceof zt&&delete this.keyframes[t.name]},e.update=function(){var t,e,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],t=null),t)this.updateOne(this.map[t],e,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],e,n)},e.updateOne=function(e,n,r){void 0===r&&(r=ae);var o=this.options,i=o.jss.plugins,s=o.sheet;if(e.rules instanceof t)e.rules.update(n,r);else{var a=e,u=a.style;if(i.onUpdate(n,e,s,r),r.process&&u&&u!==a.style){for(var l in i.onProcessStyle(a.style,a,s),a.style){var c=a.style[l];c!==u[l]&&a.prop(l,c,ue)}for(var p in u){var h=a.style[p],d=u[p];null==h&&h!==d&&a.prop(p,null,ue)}}}},e.toString=function(t){for(var e="",n=this.options.sheet,r=!!n&&n.options.link,o=0;o<this.index.length;o++){var i=this.index[o].toString(t);(i||r)&&(e&&(e+="\n"),e+=i)}return e},t}(),ce=function(){function t(t,e){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(o.a)({},e,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),e.Renderer&&(this.renderer=new e.Renderer(this)),this.rules=new le(this.options),t)this.rules.add(n,t[n]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(t,e,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var o=this.rules.add(t,e,n);return o?(this.options.jss.plugins.onProcessRule(o),this.attached?this.deployed?(r?r.push(o):(this.insertRule(o),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),o):o:(this.deployed=!1,o)):null},e.insertRule=function(t){this.renderer&&this.renderer.insertRule(t)},e.addRules=function(t,e){var n=[];for(var r in t){var o=this.addRule(r,t[r],e);o&&n.push(o)}return n},e.getRule=function(t){return this.rules.get(t)},e.deleteRule=function(t){var e="object"===typeof t?t:this.rules.get(t);return!(!e||this.attached&&!e.renderable)&&(this.rules.remove(e),!(this.attached&&e.renderable&&this.renderer)||this.renderer.deleteRule(e.renderable))},e.indexOf=function(t){return this.rules.indexOf(t)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var t;return(t=this.rules).update.apply(t,arguments),this},e.updateOne=function(t,e,n){return this.rules.updateOne(t,e,n),this},e.toString=function(t){return this.rules.toString(t)},t}(),pe=function(){function t(){this.plugins={internal:[],external:[]},this.registry=void 0}var e=t.prototype;return e.onCreateRule=function(t,e,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var o=this.registry.onCreateRule[r](t,e,n);if(o)return o}return null},e.onProcessRule=function(t){if(!t.isProcessed){for(var e=t.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](t,e);t.style&&this.onProcessStyle(t.style,t,e),t.isProcessed=!0}},e.onProcessStyle=function(t,e,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)e.style=this.registry.onProcessStyle[r](e.style,e,n)},e.onProcessSheet=function(t){for(var e=0;e<this.registry.onProcessSheet.length;e++)this.registry.onProcessSheet[e](t)},e.onUpdate=function(t,e,n,r){for(var o=0;o<this.registry.onUpdate.length;o++)this.registry.onUpdate[o](t,e,n,r)},e.onChangeValue=function(t,e,n){for(var r=t,o=0;o<this.registry.onChangeValue.length;o++)r=this.registry.onChangeValue[o](r,e,n);return r},e.use=function(t,e){void 0===e&&(e={queue:"external"});var n=this.plugins[e.queue];-1===n.indexOf(t)&&(n.push(t),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(t,e){for(var n in e)n in t&&t[n].push(e[n]);return t}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),he=new(function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(t){var e=this.registry,n=t.options.index;if(-1===e.indexOf(t))if(0===e.length||n>=this.index)e.push(t);else for(var r=0;r<e.length;r++)if(e[r].options.index>n)return void e.splice(r,0,t)},e.reset=function(){this.registry=[]},e.remove=function(t){var e=this.registry.indexOf(t);this.registry.splice(e,1)},e.toString=function(t){for(var e=void 0===t?{}:t,n=e.attached,r=Object(d.a)(e,["attached"]),o="",i=0;i<this.registry.length;i++){var s=this.registry[i];null!=n&&s.attached!==n||(o&&(o+="\n"),o+=s.toString(r))}return o},c(t,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),t}()),de="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),fe="2f1acc6c3a606b082e5eef5e54414ffb";null==de[fe]&&(de[fe]=0);var ge=de[fe]++,ve=function(t){void 0===t&&(t={});var e=0;return function(n,r){e+=1;var o="",i="";return r&&(r.options.classNamePrefix&&(i=r.options.classNamePrefix),null!=r.options.jss.id&&(o=String(r.options.jss.id))),t.minify?""+(i||"c")+ge+o+e:i+n.key+"-"+ge+(o?"-"+o:"")+"-"+e}},ye=function(t){var e;return function(){return e||(e=t()),e}},me=function(t,e){try{return t.attributeStyleMap?t.attributeStyleMap.get(e):t.style.getPropertyValue(e)}catch(n){return""}},be=function(t,e,n){try{var r=n;if(Array.isArray(n)&&(r=At(n,!0),"!important"===n[n.length-1]))return t.style.setProperty(e,r,"important"),!0;t.attributeStyleMap?t.attributeStyleMap.set(e,r):t.style.setProperty(e,r)}catch(o){return!1}return!0},we=function(t,e){try{t.attributeStyleMap?t.attributeStyleMap.delete(e):t.style.removeProperty(e)}catch(n){}},Ce=function(t,e){return t.selectorText=e,t.selectorText===e},Ee=ye((function(){return document.querySelector("head")}));function _e(t){var e=he.registry;if(e.length>0){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&"string"===typeof r){var o=function(t){for(var e=Ee(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===t)return r}return null}(r);if(o)return{parent:o.parentNode,node:o.nextSibling}}return!1}var Oe=ye((function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null})),Re=function(t,e,n){try{if("insertRule"in t)t.insertRule(e,n);else if("appendRule"in t){t.appendRule(e)}}catch(r){return!1}return t.cssRules[n]},Se=function(t,e){var n=t.cssRules.length;return void 0===e||e>n?n:e},Te=function(){function t(t){this.getPropertyValue=me,this.setProperty=be,this.removeProperty=we,this.setSelector=Ce,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],t&&he.add(t),this.sheet=t;var e=this.sheet?this.sheet.options:{},n=e.media,r=e.meta,o=e.element;this.element=o||function(){var t=document.createElement("style");return t.textContent="\n",t}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var i=Oe();i&&this.element.setAttribute("nonce",i)}var e=t.prototype;return e.attach=function(){if(!this.element.parentNode&&this.sheet){!function(t,e){var n=e.insertionPoint,r=_e(e);if(!1!==r&&r.parent)r.parent.insertBefore(t,r.node);else if(n&&"number"===typeof n.nodeType){var o=n,i=o.parentNode;i&&i.insertBefore(t,o.nextSibling)}else Ee().appendChild(t)}(this.element,this.sheet.options);var t=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&t&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var t=this.element.parentNode;t&&t.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},e.deploy=function(){var t=this.sheet;t&&(t.options.link?this.insertRules(t.rules):this.element.textContent="\n"+t.toString()+"\n")},e.insertRules=function(t,e){for(var n=0;n<t.index.length;n++)this.insertRule(t.index[n],n,e)},e.insertRule=function(t,e,n){if(void 0===n&&(n=this.element.sheet),t.rules){var r=t,o=n;if("conditional"===t.type||"keyframes"===t.type){var i=Se(n,e);if(!1===(o=Re(n,r.toString({children:!1}),i)))return!1;this.refCssRule(t,i,o)}return this.insertRules(r.rules,o),o}var s=t.toString();if(!s)return!1;var a=Se(n,e),u=Re(n,s,a);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(t,a,u),u)},e.refCssRule=function(t,e,n){t.renderable=n,t.options.parent instanceof ce&&(this.cssRules[e]=n)},e.deleteRule=function(t){var e=this.element.sheet,n=this.indexOf(t);return-1!==n&&(e.deleteRule(n),this.cssRules.splice(n,1),!0)},e.indexOf=function(t){return this.cssRules.indexOf(t)},e.replaceRule=function(t,e){var n=this.indexOf(t);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(e,n))},e.getRules=function(){return this.element.sheet.cssRules},t}(),Pe=0,Ae=function(){function t(t){this.id=Pe++,this.version="10.5.0",this.plugins=new pe,this.options={id:{minify:!1},createGenerateId:ve,Renderer:u?Te:null,plugins:[]},this.generateId=ve({minify:!1});for(var e=0;e<se.length;e++)this.plugins.use(se[e],{queue:"internal"});this.setup(t)}var e=t.prototype;return e.setup=function(t){return void 0===t&&(t={}),t.createGenerateId&&(this.options.createGenerateId=t.createGenerateId),t.id&&(this.options.id=Object(o.a)({},this.options.id,t.id)),(t.createGenerateId||t.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=t.insertionPoint&&(this.options.insertionPoint=t.insertionPoint),"Renderer"in t&&(this.options.Renderer=t.Renderer),t.plugins&&this.use.apply(this,t.plugins),this},e.createStyleSheet=function(t,e){void 0===e&&(e={});var n=e.index;"number"!==typeof n&&(n=0===he.index?0:he.index+1);var r=new ce(t,Object(o.a)({},e,{jss:this,generateId:e.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},e.removeStyleSheet=function(t){return t.detach(),he.remove(t),this},e.createRule=function(t,e,n){if(void 0===e&&(e={}),void 0===n&&(n={}),"object"===typeof t)return this.createRule(void 0,t,e);var r=Object(o.a)({},n,{name:t,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=Tt(t,e,r);return i&&this.plugins.onProcessRule(i),i},e.use=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach((function(e){t.plugins.use(e)})),this},t}();"object"===typeof CSS&&null!=CSS&&CSS,new Ae(Ie);var Ie,De=Date.now(),Ne="fnValues"+De,xe="fnStyle"+ ++De,ke=function(){return{onCreateRule:function(t,e,n){if("function"!==typeof e)return null;var r=Tt(t,{},n);return r[xe]=e,r},onProcessStyle:function(t,e){if(Ne in e||xe in e)return t;var n={};for(var r in t){var o=t[r];"function"===typeof o&&(delete t[r],n[r]=o)}return e[Ne]=n,t},onUpdate:function(t,e,n,r){var o=e,i=o[xe];i&&(o.style=i(t)||{});var s=o[Ne];if(s)for(var a in s)o.prop(a,s[a](t),r)}}},Le={}.constructor;function Fe(t){if(null==t||"object"!==typeof t)return t;if(Array.isArray(t))return t.map(Fe);if(t.constructor!==Le)return t;var e={};for(var n in t)e[n]=Fe(t[n]);return e}function Me(t,e,n){void 0===t&&(t="unnamed");var r=n.jss,o=Fe(e),i=r.plugins.onCreateRule(t,o,n);return i||(t[0],null)}var je=function(t,e){for(var n="",r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=e),n+=t[r];return n},Ve=function(t,e){if(void 0===e&&(e=!1),!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=", "),n+=je(t[r]," ");else n=je(t,", ");return e||"!important"!==t[t.length-1]||(n+=" !important"),n};function Ge(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function We(t,e,n){void 0===n&&(n={});var r="";if(!e)return r;var o=n.indent,i=void 0===o?0:o,s=e.fallbacks;if(t&&i++,s)if(Array.isArray(s))for(var a=0;a<s.length;a++){var u=s[a];for(var l in u){var c=u[l];null!=c&&(r&&(r+="\n"),r+=""+Ge(l+": "+Ve(c)+";",i))}}else for(var p in s){var h=s[p];null!=h&&(r&&(r+="\n"),r+=""+Ge(p+": "+Ve(h)+";",i))}for(var d in e){var f=e[d];null!=f&&"fallbacks"!==d&&(r&&(r+="\n"),r+=""+Ge(d+": "+Ve(f)+";",i))}return(r||n.allowEmpty)&&t?(r&&(r="\n"+r+"\n"),Ge(t+" {"+r,--i)+Ge("}",i)):r}var He=/([[\].#*$><+~=|^:(),"'`\s])/g,Be="undefined"!==typeof CSS&&CSS.escape,Ue=function(t){return Be?Be(t):t.replace(He,"\\$1")},ze=function(){function t(t,e,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,o=n.Renderer;this.key=t,this.options=n,this.style=e,r?this.renderer=r.renderer:o&&(this.renderer=new o)}return t.prototype.prop=function(t,e,n){if(void 0===e)return this.style[t];var r=!!n&&n.force;if(!r&&this.style[t]===e)return this;var o=e;n&&!1===n.process||(o=this.options.jss.plugins.onChangeValue(e,t,this));var i=null==o||!1===o,s=t in this.style;if(i&&!s&&!r)return this;var a=i&&s;if(a?delete this.style[t]:this.style[t]=o,this.renderable&&this.renderer)return a?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,o),this;var u=this.options.sheet;return u&&u.attached,this},t}(),qe=function(t){function e(e,n,r){var o;(o=t.call(this,e,n,r)||this).selectorText=void 0,o.id=void 0,o.renderable=void 0;var i=r.selector,s=r.scoped,a=r.sheet,u=r.generateId;return i?o.selectorText=i:!1!==s&&(o.id=u(Object(h.a)(Object(h.a)(o)),a),o.selectorText="."+Ue(o.id)),o}p(e,t);var n=e.prototype;return n.applyTo=function(t){var e=this.renderer;if(e){var n=this.toJSON();for(var r in n)e.setProperty(t,r,n[r])}return this},n.toJSON=function(){var t={};for(var e in this.style){var n=this.style[e];"object"!==typeof n?t[e]=n:Array.isArray(n)&&(t[e]=Ve(n))}return t},n.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(o.a)({},t,{allowEmpty:!0}):t;return We(this.selectorText,this.style,n)},c(e,[{key:"selector",set:function(t){if(t!==this.selectorText){this.selectorText=t;var e=this.renderer,n=this.renderable;if(n&&e)e.setSelector(n,t)||e.replaceRule(n,this)}},get:function(){return this.selectorText}}]),e}(ze),Ke={onCreateRule:function(t,e,n){return"@"===t[0]||n.parent&&"keyframes"===n.parent.type?null:new qe(t,e,n)}},Ye={indent:1,children:!0},Qe=/@([\w-]+)/,Xe=function(){function t(t,e,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t;var r=t.match(Qe);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new wn(Object(o.a)({},n,{parent:this})),e)this.rules.add(i,e[i]);this.rules.process()}var e=t.prototype;return e.getRule=function(t){return this.rules.get(t)},e.indexOf=function(t){return this.rules.indexOf(t)},e.addRule=function(t,e,n){var r=this.rules.add(t,e,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},e.toString=function(t){if(void 0===t&&(t=Ye),null==t.indent&&(t.indent=Ye.indent),null==t.children&&(t.children=Ye.children),!1===t.children)return this.query+" {}";var e=this.rules.toString(t);return e?this.query+" {\n"+e+"\n}":""},t}(),$e=/@media|@supports\s+/,Je={onCreateRule:function(t,e,n){return $e.test(t)?new Xe(t,e,n):null}},Ze={indent:1,children:!0},tn=/@keyframes\s+([\w-]+)/,en=function(){function t(t,e,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var r=t.match(tn);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,s=n.sheet,a=n.generateId;for(var u in this.id=!1===i?this.name:Ue(a(this,s)),this.rules=new wn(Object(o.a)({},n,{parent:this})),e)this.rules.add(u,e[u],Object(o.a)({},n,{parent:this}));this.rules.process()}return t.prototype.toString=function(t){if(void 0===t&&(t=Ze),null==t.indent&&(t.indent=Ze.indent),null==t.children&&(t.children=Ze.children),!1===t.children)return this.at+" "+this.id+" {}";var e=this.rules.toString(t);return e&&(e="\n"+e+"\n"),this.at+" "+this.id+" {"+e+"}"},t}(),nn=/@keyframes\s+/,rn=/\$([\w-]+)/g,on=function(t,e){return"string"===typeof t?t.replace(rn,(function(t,n){return n in e?e[n]:t})):t},sn=function(t,e,n){var r=t[e],o=on(r,n);o!==r&&(t[e]=o)},an={onCreateRule:function(t,e,n){return"string"===typeof t&&nn.test(t)?new en(t,e,n):null},onProcessStyle:function(t,e,n){return"style"===e.type&&n?("animation-name"in t&&sn(t,"animation-name",n.keyframes),"animation"in t&&sn(t,"animation",n.keyframes),t):t},onChangeValue:function(t,e,n){var r=n.options.sheet;if(!r)return t;switch(e){case"animation":case"animation-name":return on(t,r.keyframes);default:return t}}},un=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).renderable=void 0,e}return p(e,t),e.prototype.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(o.a)({},t,{allowEmpty:!0}):t;return We(this.key,this.style,n)},e}(ze),ln={onCreateRule:function(t,e,n){return n.parent&&"keyframes"===n.parent.type?new un(t,e,n):null}},cn=function(){function t(t,e,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.style)){for(var e="",n=0;n<this.style.length;n++)e+=We(this.at,this.style[n]),this.style[n+1]&&(e+="\n");return e}return We(this.at,this.style,t)},t}(),pn=/@font-face/,hn={onCreateRule:function(t,e,n){return pn.test(t)?new cn(t,e,n):null}},dn=function(){function t(t,e,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){return We(this.key,this.style,t)},t}(),fn={onCreateRule:function(t,e,n){return"@viewport"===t||"@-ms-viewport"===t?new dn(t,e,n):null}},gn=function(){function t(t,e,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.value=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.value)){for(var e="",n=0;n<this.value.length;n++)e+=this.key+" "+this.value[n]+";",this.value[n+1]&&(e+="\n");return e}return this.key+" "+this.value+";"},t}(),vn={"@charset":!0,"@import":!0,"@namespace":!0},yn=[Ke,Je,an,ln,hn,fn,{onCreateRule:function(t,e,n){return t in vn?new gn(t,e,n):null}}],mn={process:!0},bn={force:!0,process:!0},wn=function(){function t(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var e=t.prototype;return e.add=function(t,e,n){var r=this.options,i=r.parent,s=r.sheet,a=r.jss,u=r.Renderer,l=r.generateId,c=r.scoped,p=Object(o.a)({classes:this.classes,parent:i,sheet:s,jss:a,Renderer:u,generateId:l,scoped:c,name:t,keyframes:this.keyframes,selector:void 0},n),h=t;t in this.raw&&(h=t+"-d"+this.counter++),this.raw[h]=e,h in this.classes&&(p.selector="."+Ue(this.classes[h]));var d=Me(h,e,p);if(!d)return null;this.register(d);var f=void 0===p.index?this.index.length:p.index;return this.index.splice(f,0,d),d},e.get=function(t){return this.map[t]},e.remove=function(t){this.unregister(t),delete this.raw[t.key],this.index.splice(this.index.indexOf(t),1)},e.indexOf=function(t){return this.index.indexOf(t)},e.process=function(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)},e.register=function(t){this.map[t.key]=t,t instanceof qe?(this.map[t.selector]=t,t.id&&(this.classes[t.key]=t.id)):t instanceof en&&this.keyframes&&(this.keyframes[t.name]=t.id)},e.unregister=function(t){delete this.map[t.key],t instanceof qe?(delete this.map[t.selector],delete this.classes[t.key]):t instanceof en&&delete this.keyframes[t.name]},e.update=function(){var t,e,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],t=null),t)this.updateOne(this.map[t],e,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],e,n)},e.updateOne=function(e,n,r){void 0===r&&(r=mn);var o=this.options,i=o.jss.plugins,s=o.sheet;if(e.rules instanceof t)e.rules.update(n,r);else{var a=e,u=a.style;if(i.onUpdate(n,e,s,r),r.process&&u&&u!==a.style){for(var l in i.onProcessStyle(a.style,a,s),a.style){var c=a.style[l];c!==u[l]&&a.prop(l,c,bn)}for(var p in u){var h=a.style[p],d=u[p];null==h&&h!==d&&a.prop(p,null,bn)}}}},e.toString=function(t){for(var e="",n=this.options.sheet,r=!!n&&n.options.link,o=0;o<this.index.length;o++){var i=this.index[o].toString(t);(i||r)&&(e&&(e+="\n"),e+=i)}return e},t}(),Cn=function(){function t(t,e){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(o.a)({},e,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),e.Renderer&&(this.renderer=new e.Renderer(this)),this.rules=new wn(this.options),t)this.rules.add(n,t[n]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(t,e,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var o=this.rules.add(t,e,n);return o?(this.options.jss.plugins.onProcessRule(o),this.attached?this.deployed?(r?r.push(o):(this.insertRule(o),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),o):o:(this.deployed=!1,o)):null},e.insertRule=function(t){this.renderer&&this.renderer.insertRule(t)},e.addRules=function(t,e){var n=[];for(var r in t){var o=this.addRule(r,t[r],e);o&&n.push(o)}return n},e.getRule=function(t){return this.rules.get(t)},e.deleteRule=function(t){var e="object"===typeof t?t:this.rules.get(t);return!(!e||this.attached&&!e.renderable)&&(this.rules.remove(e),!(this.attached&&e.renderable&&this.renderer)||this.renderer.deleteRule(e.renderable))},e.indexOf=function(t){return this.rules.indexOf(t)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var t;return(t=this.rules).update.apply(t,arguments),this},e.updateOne=function(t,e,n){return this.rules.updateOne(t,e,n),this},e.toString=function(t){return this.rules.toString(t)},t}(),En=function(){function t(){this.plugins={internal:[],external:[]},this.registry=void 0}var e=t.prototype;return e.onCreateRule=function(t,e,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var o=this.registry.onCreateRule[r](t,e,n);if(o)return o}return null},e.onProcessRule=function(t){if(!t.isProcessed){for(var e=t.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](t,e);t.style&&this.onProcessStyle(t.style,t,e),t.isProcessed=!0}},e.onProcessStyle=function(t,e,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)e.style=this.registry.onProcessStyle[r](e.style,e,n)},e.onProcessSheet=function(t){for(var e=0;e<this.registry.onProcessSheet.length;e++)this.registry.onProcessSheet[e](t)},e.onUpdate=function(t,e,n,r){for(var o=0;o<this.registry.onUpdate.length;o++)this.registry.onUpdate[o](t,e,n,r)},e.onChangeValue=function(t,e,n){for(var r=t,o=0;o<this.registry.onChangeValue.length;o++)r=this.registry.onChangeValue[o](r,e,n);return r},e.use=function(t,e){void 0===e&&(e={queue:"external"});var n=this.plugins[e.queue];-1===n.indexOf(t)&&(n.push(t),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(t,e){for(var n in e)n in t&&t[n].push(e[n]);return t}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),_n=new(function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(t){var e=this.registry,n=t.options.index;if(-1===e.indexOf(t))if(0===e.length||n>=this.index)e.push(t);else for(var r=0;r<e.length;r++)if(e[r].options.index>n)return void e.splice(r,0,t)},e.reset=function(){this.registry=[]},e.remove=function(t){var e=this.registry.indexOf(t);this.registry.splice(e,1)},e.toString=function(t){for(var e=void 0===t?{}:t,n=e.attached,r=Object(d.a)(e,["attached"]),o="",i=0;i<this.registry.length;i++){var s=this.registry[i];null!=n&&s.attached!==n||(o&&(o+="\n"),o+=s.toString(r))}return o},c(t,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),t}()),On="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),Rn="2f1acc6c3a606b082e5eef5e54414ffb";null==On[Rn]&&(On[Rn]=0);var Sn=On[Rn]++,Tn=function(t){void 0===t&&(t={});var e=0;return function(n,r){e+=1;var o="",i="";return r&&(r.options.classNamePrefix&&(i=r.options.classNamePrefix),null!=r.options.jss.id&&(o=String(r.options.jss.id))),t.minify?""+(i||"c")+Sn+o+e:i+n.key+"-"+Sn+(o?"-"+o:"")+"-"+e}},Pn=function(t){var e;return function(){return e||(e=t()),e}},An=function(t,e){try{return t.attributeStyleMap?t.attributeStyleMap.get(e):t.style.getPropertyValue(e)}catch(n){return""}},In=function(t,e,n){try{var r=n;if(Array.isArray(n)&&(r=Ve(n,!0),"!important"===n[n.length-1]))return t.style.setProperty(e,r,"important"),!0;t.attributeStyleMap?t.attributeStyleMap.set(e,r):t.style.setProperty(e,r)}catch(o){return!1}return!0},Dn=function(t,e){try{t.attributeStyleMap?t.attributeStyleMap.delete(e):t.style.removeProperty(e)}catch(n){}},Nn=function(t,e){return t.selectorText=e,t.selectorText===e},xn=Pn((function(){return document.querySelector("head")}));function kn(t){var e=_n.registry;if(e.length>0){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&"string"===typeof r){var o=function(t){for(var e=xn(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===t)return r}return null}(r);if(o)return{parent:o.parentNode,node:o.nextSibling}}return!1}var Ln=Pn((function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null})),Fn=function(t,e,n){try{if("insertRule"in t)t.insertRule(e,n);else if("appendRule"in t){t.appendRule(e)}}catch(r){return!1}return t.cssRules[n]},Mn=function(t,e){var n=t.cssRules.length;return void 0===e||e>n?n:e},jn=function(){function t(t){this.getPropertyValue=An,this.setProperty=In,this.removeProperty=Dn,this.setSelector=Nn,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],t&&_n.add(t),this.sheet=t;var e=this.sheet?this.sheet.options:{},n=e.media,r=e.meta,o=e.element;this.element=o||function(){var t=document.createElement("style");return t.textContent="\n",t}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var i=Ln();i&&this.element.setAttribute("nonce",i)}var e=t.prototype;return e.attach=function(){if(!this.element.parentNode&&this.sheet){!function(t,e){var n=e.insertionPoint,r=kn(e);if(!1!==r&&r.parent)r.parent.insertBefore(t,r.node);else if(n&&"number"===typeof n.nodeType){var o=n,i=o.parentNode;i&&i.insertBefore(t,o.nextSibling)}else xn().appendChild(t)}(this.element,this.sheet.options);var t=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&t&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var t=this.element.parentNode;t&&t.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},e.deploy=function(){var t=this.sheet;t&&(t.options.link?this.insertRules(t.rules):this.element.textContent="\n"+t.toString()+"\n")},e.insertRules=function(t,e){for(var n=0;n<t.index.length;n++)this.insertRule(t.index[n],n,e)},e.insertRule=function(t,e,n){if(void 0===n&&(n=this.element.sheet),t.rules){var r=t,o=n;if("conditional"===t.type||"keyframes"===t.type){var i=Mn(n,e);if(!1===(o=Fn(n,r.toString({children:!1}),i)))return!1;this.refCssRule(t,i,o)}return this.insertRules(r.rules,o),o}var s=t.toString();if(!s)return!1;var a=Mn(n,e),u=Fn(n,s,a);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(t,a,u),u)},e.refCssRule=function(t,e,n){t.renderable=n,t.options.parent instanceof Cn&&(this.cssRules[e]=n)},e.deleteRule=function(t){var e=this.element.sheet,n=this.indexOf(t);return-1!==n&&(e.deleteRule(n),this.cssRules.splice(n,1),!0)},e.indexOf=function(t){return this.cssRules.indexOf(t)},e.replaceRule=function(t,e){var n=this.indexOf(t);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(e,n))},e.getRules=function(){return this.element.sheet.cssRules},t}(),Vn=0,Gn=function(){function t(t){this.id=Vn++,this.version="10.5.0",this.plugins=new En,this.options={id:{minify:!1},createGenerateId:Tn,Renderer:u?jn:null,plugins:[]},this.generateId=Tn({minify:!1});for(var e=0;e<yn.length;e++)this.plugins.use(yn[e],{queue:"internal"});this.setup(t)}var e=t.prototype;return e.setup=function(t){return void 0===t&&(t={}),t.createGenerateId&&(this.options.createGenerateId=t.createGenerateId),t.id&&(this.options.id=Object(o.a)({},this.options.id,t.id)),(t.createGenerateId||t.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=t.insertionPoint&&(this.options.insertionPoint=t.insertionPoint),"Renderer"in t&&(this.options.Renderer=t.Renderer),t.plugins&&this.use.apply(this,t.plugins),this},e.createStyleSheet=function(t,e){void 0===e&&(e={});var n=e.index;"number"!==typeof n&&(n=0===_n.index?0:_n.index+1);var r=new Cn(t,Object(o.a)({},e,{jss:this,generateId:e.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},e.removeStyleSheet=function(t){return t.detach(),_n.remove(t),this},e.createRule=function(t,e,n){if(void 0===e&&(e={}),void 0===n&&(n={}),"object"===typeof t)return this.createRule(void 0,t,e);var r=Object(o.a)({},n,{name:t,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=Me(t,e,r);return i&&this.plugins.onProcessRule(i),i},e.use=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach((function(e){t.plugins.use(e)})),this},t}();"object"===typeof CSS&&null!=CSS&&CSS,function(t){new Gn(t)}();var Wn="@global",Hn=function(){function t(t,e,n){for(var r in this.type="global",this.at=Wn,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=t,this.options=n,this.rules=new wn(Object(o.a)({},n,{parent:this})),e)this.rules.add(r,e[r]);this.rules.process()}var e=t.prototype;return e.getRule=function(t){return this.rules.get(t)},e.addRule=function(t,e,n){var r=this.rules.add(t,e,n);return r&&this.options.jss.plugins.onProcessRule(r),r},e.indexOf=function(t){return this.rules.indexOf(t)},e.toString=function(){return this.rules.toString()},t}(),Bn=function(){function t(t,e,n){this.type="global",this.at=Wn,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=t,this.options=n;var r=t.substr("@global ".length);this.rule=n.jss.createRule(r,e,Object(o.a)({},n,{parent:this}))}return t.prototype.toString=function(t){return this.rule?this.rule.toString(t):""},t}(),Un=/\s*,\s*/g;function zn(t,e){for(var n=t.split(Un),r="",o=0;o<n.length;o++)r+=e+" "+n[o].trim(),n[o+1]&&(r+=", ");return r}var qn=function(){return{onCreateRule:function(t,e,n){if(!t)return null;if(t===Wn)return new Hn(t,e,n);if("@"===t[0]&&"@global "===t.substr(0,"@global ".length))return new Bn(t,e,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=t),null},onProcessRule:function(t,e){"style"===t.type&&e&&(function(t,e){var n=t.options,r=t.style,i=r?r[Wn]:null;if(i){for(var s in i)e.addRule(s,i[s],Object(o.a)({},n,{selector:zn(s,t.selector)}));delete r[Wn]}}(t,e),function(t,e){var n=t.options,r=t.style;for(var i in r)if("@"===i[0]&&i.substr(0,Wn.length)===Wn){var s=zn(i.substr(Wn.length),t.selector);e.addRule(s,r[i],Object(o.a)({},n,{selector:s})),delete r[i]}}(t,e))}}},Kn=/\s*,\s*/g,Yn=/&/g,Qn=/\$([\w-]+)/g;var Xn=function(){function t(t,e){return function(n,r){var o=t.getRule(r)||e&&e.getRule(r);return o?(o=o).selector:r}}function e(t,e){for(var n=e.split(Kn),r=t.split(Kn),o="",i=0;i<n.length;i++)for(var s=n[i],a=0;a<r.length;a++){var u=r[a];o&&(o+=", "),o+=-1!==u.indexOf("&")?u.replace(Yn,s):s+" "+u}return o}function n(t,e,n){if(n)return Object(o.a)({},n,{index:n.index+1});var r=t.options.nestingLevel;r=void 0===r?1:r+1;var i=Object(o.a)({},t.options,{nestingLevel:r,index:e.indexOf(t)+1});return delete i.name,i}return{onProcessStyle:function(r,i,s){if("style"!==i.type)return r;var a,u,l=i,c=l.options.parent;for(var p in r){var h=-1!==p.indexOf("&"),d="@"===p[0];if(h||d){if(a=n(l,c,a),h){var f=e(p,l.selector);u||(u=t(c,s)),f=f.replace(Qn,u),c.addRule(f,r[p],Object(o.a)({},a,{selector:f}))}else d&&c.addRule(p,{},a).addRule(l.key,r[p],{selector:l.selector});delete r[p]}}return r}}},$n=n(46);function Jn(t){var e={};for(var n in t){e[0===n.indexOf("--")?n:Object($n.a)(n)]=t[n]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(Jn):e.fallbacks=Jn(t.fallbacks)),e}var Zn=function(){return{onProcessStyle:function(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++)t[e]=Jn(t[e]);return t}return Jn(t)},onChangeValue:function(t,e,n){if(0===e.indexOf("--"))return t;var r=Object($n.a)(e);return e===r?t:(n.prop(r,t),null)}}},tr={}.constructor;function er(t){if(null==t||"object"!==typeof t)return t;if(Array.isArray(t))return t.map(er);if(t.constructor!==tr)return t;var e={};for(var n in t)e[n]=er(t[n]);return e}function nr(t,e,n){void 0===t&&(t="unnamed");var r=n.jss,o=er(e),i=r.plugins.onCreateRule(t,o,n);return i||(t[0],null)}var rr=function(t,e){for(var n="",r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=e),n+=t[r];return n},or=function(t,e){if(void 0===e&&(e=!1),!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=", "),n+=rr(t[r]," ");else n=rr(t,", ");return e||"!important"!==t[t.length-1]||(n+=" !important"),n};function ir(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function sr(t,e,n){void 0===n&&(n={});var r="";if(!e)return r;var o=n.indent,i=void 0===o?0:o,s=e.fallbacks;if(t&&i++,s)if(Array.isArray(s))for(var a=0;a<s.length;a++){var u=s[a];for(var l in u){var c=u[l];null!=c&&(r&&(r+="\n"),r+=""+ir(l+": "+or(c)+";",i))}}else for(var p in s){var h=s[p];null!=h&&(r&&(r+="\n"),r+=""+ir(p+": "+or(h)+";",i))}for(var d in e){var f=e[d];null!=f&&"fallbacks"!==d&&(r&&(r+="\n"),r+=""+ir(d+": "+or(f)+";",i))}return(r||n.allowEmpty)&&t?(r&&(r="\n"+r+"\n"),ir(t+" {"+r,--i)+ir("}",i)):r}var ar=/([[\].#*$><+~=|^:(),"'`\s])/g,ur="undefined"!==typeof CSS&&CSS.escape,lr=function(t){return ur?ur(t):t.replace(ar,"\\$1")},cr=function(){function t(t,e,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,o=n.Renderer;this.key=t,this.options=n,this.style=e,r?this.renderer=r.renderer:o&&(this.renderer=new o)}return t.prototype.prop=function(t,e,n){if(void 0===e)return this.style[t];var r=!!n&&n.force;if(!r&&this.style[t]===e)return this;var o=e;n&&!1===n.process||(o=this.options.jss.plugins.onChangeValue(e,t,this));var i=null==o||!1===o,s=t in this.style;if(i&&!s&&!r)return this;var a=i&&s;if(a?delete this.style[t]:this.style[t]=o,this.renderable&&this.renderer)return a?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,o),this;var u=this.options.sheet;return u&&u.attached,this},t}(),pr=function(t){function e(e,n,r){var o;(o=t.call(this,e,n,r)||this).selectorText=void 0,o.id=void 0,o.renderable=void 0;var i=r.selector,s=r.scoped,a=r.sheet,u=r.generateId;return i?o.selectorText=i:!1!==s&&(o.id=u(Object(h.a)(Object(h.a)(o)),a),o.selectorText="."+lr(o.id)),o}p(e,t);var n=e.prototype;return n.applyTo=function(t){var e=this.renderer;if(e){var n=this.toJSON();for(var r in n)e.setProperty(t,r,n[r])}return this},n.toJSON=function(){var t={};for(var e in this.style){var n=this.style[e];"object"!==typeof n?t[e]=n:Array.isArray(n)&&(t[e]=or(n))}return t},n.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(o.a)({},t,{allowEmpty:!0}):t;return sr(this.selectorText,this.style,n)},c(e,[{key:"selector",set:function(t){if(t!==this.selectorText){this.selectorText=t;var e=this.renderer,n=this.renderable;if(n&&e)e.setSelector(n,t)||e.replaceRule(n,this)}},get:function(){return this.selectorText}}]),e}(cr),hr={onCreateRule:function(t,e,n){return"@"===t[0]||n.parent&&"keyframes"===n.parent.type?null:new pr(t,e,n)}},dr={indent:1,children:!0},fr=/@([\w-]+)/,gr=function(){function t(t,e,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t;var r=t.match(fr);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new jr(Object(o.a)({},n,{parent:this})),e)this.rules.add(i,e[i]);this.rules.process()}var e=t.prototype;return e.getRule=function(t){return this.rules.get(t)},e.indexOf=function(t){return this.rules.indexOf(t)},e.addRule=function(t,e,n){var r=this.rules.add(t,e,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},e.toString=function(t){if(void 0===t&&(t=dr),null==t.indent&&(t.indent=dr.indent),null==t.children&&(t.children=dr.children),!1===t.children)return this.query+" {}";var e=this.rules.toString(t);return e?this.query+" {\n"+e+"\n}":""},t}(),vr=/@media|@supports\s+/,yr={onCreateRule:function(t,e,n){return vr.test(t)?new gr(t,e,n):null}},mr={indent:1,children:!0},br=/@keyframes\s+([\w-]+)/,wr=function(){function t(t,e,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var r=t.match(br);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,s=n.sheet,a=n.generateId;for(var u in this.id=!1===i?this.name:lr(a(this,s)),this.rules=new jr(Object(o.a)({},n,{parent:this})),e)this.rules.add(u,e[u],Object(o.a)({},n,{parent:this}));this.rules.process()}return t.prototype.toString=function(t){if(void 0===t&&(t=mr),null==t.indent&&(t.indent=mr.indent),null==t.children&&(t.children=mr.children),!1===t.children)return this.at+" "+this.id+" {}";var e=this.rules.toString(t);return e&&(e="\n"+e+"\n"),this.at+" "+this.id+" {"+e+"}"},t}(),Cr=/@keyframes\s+/,Er=/\$([\w-]+)/g,_r=function(t,e){return"string"===typeof t?t.replace(Er,(function(t,n){return n in e?e[n]:t})):t},Or=function(t,e,n){var r=t[e],o=_r(r,n);o!==r&&(t[e]=o)},Rr={onCreateRule:function(t,e,n){return"string"===typeof t&&Cr.test(t)?new wr(t,e,n):null},onProcessStyle:function(t,e,n){return"style"===e.type&&n?("animation-name"in t&&Or(t,"animation-name",n.keyframes),"animation"in t&&Or(t,"animation",n.keyframes),t):t},onChangeValue:function(t,e,n){var r=n.options.sheet;if(!r)return t;switch(e){case"animation":case"animation-name":return _r(t,r.keyframes);default:return t}}},Sr=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).renderable=void 0,e}return p(e,t),e.prototype.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(o.a)({},t,{allowEmpty:!0}):t;return sr(this.key,this.style,n)},e}(cr),Tr={onCreateRule:function(t,e,n){return n.parent&&"keyframes"===n.parent.type?new Sr(t,e,n):null}},Pr=function(){function t(t,e,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.style)){for(var e="",n=0;n<this.style.length;n++)e+=sr(this.at,this.style[n]),this.style[n+1]&&(e+="\n");return e}return sr(this.at,this.style,t)},t}(),Ar=/@font-face/,Ir={onCreateRule:function(t,e,n){return Ar.test(t)?new Pr(t,e,n):null}},Dr=function(){function t(t,e,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){return sr(this.key,this.style,t)},t}(),Nr={onCreateRule:function(t,e,n){return"@viewport"===t||"@-ms-viewport"===t?new Dr(t,e,n):null}},xr=function(){function t(t,e,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.value=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.value)){for(var e="",n=0;n<this.value.length;n++)e+=this.key+" "+this.value[n]+";",this.value[n+1]&&(e+="\n");return e}return this.key+" "+this.value+";"},t}(),kr={"@charset":!0,"@import":!0,"@namespace":!0},Lr=[hr,yr,Rr,Tr,Ir,Nr,{onCreateRule:function(t,e,n){return t in kr?new xr(t,e,n):null}}],Fr={process:!0},Mr={force:!0,process:!0},jr=function(){function t(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var e=t.prototype;return e.add=function(t,e,n){var r=this.options,i=r.parent,s=r.sheet,a=r.jss,u=r.Renderer,l=r.generateId,c=r.scoped,p=Object(o.a)({classes:this.classes,parent:i,sheet:s,jss:a,Renderer:u,generateId:l,scoped:c,name:t,keyframes:this.keyframes,selector:void 0},n),h=t;t in this.raw&&(h=t+"-d"+this.counter++),this.raw[h]=e,h in this.classes&&(p.selector="."+lr(this.classes[h]));var d=nr(h,e,p);if(!d)return null;this.register(d);var f=void 0===p.index?this.index.length:p.index;return this.index.splice(f,0,d),d},e.get=function(t){return this.map[t]},e.remove=function(t){this.unregister(t),delete this.raw[t.key],this.index.splice(this.index.indexOf(t),1)},e.indexOf=function(t){return this.index.indexOf(t)},e.process=function(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)},e.register=function(t){this.map[t.key]=t,t instanceof pr?(this.map[t.selector]=t,t.id&&(this.classes[t.key]=t.id)):t instanceof wr&&this.keyframes&&(this.keyframes[t.name]=t.id)},e.unregister=function(t){delete this.map[t.key],t instanceof pr?(delete this.map[t.selector],delete this.classes[t.key]):t instanceof wr&&delete this.keyframes[t.name]},e.update=function(){var t,e,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],t=null),t)this.updateOne(this.map[t],e,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],e,n)},e.updateOne=function(e,n,r){void 0===r&&(r=Fr);var o=this.options,i=o.jss.plugins,s=o.sheet;if(e.rules instanceof t)e.rules.update(n,r);else{var a=e,u=a.style;if(i.onUpdate(n,e,s,r),r.process&&u&&u!==a.style){for(var l in i.onProcessStyle(a.style,a,s),a.style){var c=a.style[l];c!==u[l]&&a.prop(l,c,Mr)}for(var p in u){var h=a.style[p],d=u[p];null==h&&h!==d&&a.prop(p,null,Mr)}}}},e.toString=function(t){for(var e="",n=this.options.sheet,r=!!n&&n.options.link,o=0;o<this.index.length;o++){var i=this.index[o].toString(t);(i||r)&&(e&&(e+="\n"),e+=i)}return e},t}(),Vr=function(){function t(t,e){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(o.a)({},e,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),e.Renderer&&(this.renderer=new e.Renderer(this)),this.rules=new jr(this.options),t)this.rules.add(n,t[n]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(t,e,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var o=this.rules.add(t,e,n);return o?(this.options.jss.plugins.onProcessRule(o),this.attached?this.deployed?(r?r.push(o):(this.insertRule(o),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),o):o:(this.deployed=!1,o)):null},e.insertRule=function(t){this.renderer&&this.renderer.insertRule(t)},e.addRules=function(t,e){var n=[];for(var r in t){var o=this.addRule(r,t[r],e);o&&n.push(o)}return n},e.getRule=function(t){return this.rules.get(t)},e.deleteRule=function(t){var e="object"===typeof t?t:this.rules.get(t);return!(!e||this.attached&&!e.renderable)&&(this.rules.remove(e),!(this.attached&&e.renderable&&this.renderer)||this.renderer.deleteRule(e.renderable))},e.indexOf=function(t){return this.rules.indexOf(t)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var t;return(t=this.rules).update.apply(t,arguments),this},e.updateOne=function(t,e,n){return this.rules.updateOne(t,e,n),this},e.toString=function(t){return this.rules.toString(t)},t}(),Gr=function(){function t(){this.plugins={internal:[],external:[]},this.registry=void 0}var e=t.prototype;return e.onCreateRule=function(t,e,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var o=this.registry.onCreateRule[r](t,e,n);if(o)return o}return null},e.onProcessRule=function(t){if(!t.isProcessed){for(var e=t.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](t,e);t.style&&this.onProcessStyle(t.style,t,e),t.isProcessed=!0}},e.onProcessStyle=function(t,e,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)e.style=this.registry.onProcessStyle[r](e.style,e,n)},e.onProcessSheet=function(t){for(var e=0;e<this.registry.onProcessSheet.length;e++)this.registry.onProcessSheet[e](t)},e.onUpdate=function(t,e,n,r){for(var o=0;o<this.registry.onUpdate.length;o++)this.registry.onUpdate[o](t,e,n,r)},e.onChangeValue=function(t,e,n){for(var r=t,o=0;o<this.registry.onChangeValue.length;o++)r=this.registry.onChangeValue[o](r,e,n);return r},e.use=function(t,e){void 0===e&&(e={queue:"external"});var n=this.plugins[e.queue];-1===n.indexOf(t)&&(n.push(t),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(t,e){for(var n in e)n in t&&t[n].push(e[n]);return t}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),Wr=new(function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(t){var e=this.registry,n=t.options.index;if(-1===e.indexOf(t))if(0===e.length||n>=this.index)e.push(t);else for(var r=0;r<e.length;r++)if(e[r].options.index>n)return void e.splice(r,0,t)},e.reset=function(){this.registry=[]},e.remove=function(t){var e=this.registry.indexOf(t);this.registry.splice(e,1)},e.toString=function(t){for(var e=void 0===t?{}:t,n=e.attached,r=Object(d.a)(e,["attached"]),o="",i=0;i<this.registry.length;i++){var s=this.registry[i];null!=n&&s.attached!==n||(o&&(o+="\n"),o+=s.toString(r))}return o},c(t,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),t}()),Hr="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();null==Hr["2f1acc6c3a606b082e5eef5e54414ffb"]&&(Hr["2f1acc6c3a606b082e5eef5e54414ffb"]=0);var Br=Hr["2f1acc6c3a606b082e5eef5e54414ffb"]++,Ur=function(t){void 0===t&&(t={});var e=0;return function(n,r){e+=1;var o="",i="";return r&&(r.options.classNamePrefix&&(i=r.options.classNamePrefix),null!=r.options.jss.id&&(o=String(r.options.jss.id))),t.minify?""+(i||"c")+Br+o+e:i+n.key+"-"+Br+(o?"-"+o:"")+"-"+e}},zr=function(t){var e;return function(){return e||(e=t()),e}},qr=function(t,e){try{return t.attributeStyleMap?t.attributeStyleMap.get(e):t.style.getPropertyValue(e)}catch(n){return""}},Kr=function(t,e,n){try{var r=n;if(Array.isArray(n)&&(r=or(n,!0),"!important"===n[n.length-1]))return t.style.setProperty(e,r,"important"),!0;t.attributeStyleMap?t.attributeStyleMap.set(e,r):t.style.setProperty(e,r)}catch(o){return!1}return!0},Yr=function(t,e){try{t.attributeStyleMap?t.attributeStyleMap.delete(e):t.style.removeProperty(e)}catch(n){}},Qr=function(t,e){return t.selectorText=e,t.selectorText===e},Xr=zr((function(){return document.querySelector("head")}));function $r(t){var e=Wr.registry;if(e.length>0){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&"string"===typeof r){var o=function(t){for(var e=Xr(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===t)return r}return null}(r);if(o)return{parent:o.parentNode,node:o.nextSibling}}return!1}var Jr=zr((function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null})),Zr=function(t,e,n){try{if("insertRule"in t)t.insertRule(e,n);else if("appendRule"in t){t.appendRule(e)}}catch(r){return!1}return t.cssRules[n]},to=function(t,e){var n=t.cssRules.length;return void 0===e||e>n?n:e},eo=function(){function t(t){this.getPropertyValue=qr,this.setProperty=Kr,this.removeProperty=Yr,this.setSelector=Qr,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],t&&Wr.add(t),this.sheet=t;var e=this.sheet?this.sheet.options:{},n=e.media,r=e.meta,o=e.element;this.element=o||function(){var t=document.createElement("style");return t.textContent="\n",t}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var i=Jr();i&&this.element.setAttribute("nonce",i)}var e=t.prototype;return e.attach=function(){if(!this.element.parentNode&&this.sheet){!function(t,e){var n=e.insertionPoint,r=$r(e);if(!1!==r&&r.parent)r.parent.insertBefore(t,r.node);else if(n&&"number"===typeof n.nodeType){var o=n,i=o.parentNode;i&&i.insertBefore(t,o.nextSibling)}else Xr().appendChild(t)}(this.element,this.sheet.options);var t=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&t&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var t=this.element.parentNode;t&&t.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},e.deploy=function(){var t=this.sheet;t&&(t.options.link?this.insertRules(t.rules):this.element.textContent="\n"+t.toString()+"\n")},e.insertRules=function(t,e){for(var n=0;n<t.index.length;n++)this.insertRule(t.index[n],n,e)},e.insertRule=function(t,e,n){if(void 0===n&&(n=this.element.sheet),t.rules){var r=t,o=n;if("conditional"===t.type||"keyframes"===t.type){var i=to(n,e);if(!1===(o=Zr(n,r.toString({children:!1}),i)))return!1;this.refCssRule(t,i,o)}return this.insertRules(r.rules,o),o}var s=t.toString();if(!s)return!1;var a=to(n,e),u=Zr(n,s,a);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(t,a,u),u)},e.refCssRule=function(t,e,n){t.renderable=n,t.options.parent instanceof Vr&&(this.cssRules[e]=n)},e.deleteRule=function(t){var e=this.element.sheet,n=this.indexOf(t);return-1!==n&&(e.deleteRule(n),this.cssRules.splice(n,1),!0)},e.indexOf=function(t){return this.cssRules.indexOf(t)},e.replaceRule=function(t,e){var n=this.indexOf(t);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(e,n))},e.getRules=function(){return this.element.sheet.cssRules},t}(),no=0,ro=function(){function t(t){this.id=no++,this.version="10.5.0",this.plugins=new Gr,this.options={id:{minify:!1},createGenerateId:Ur,Renderer:u?eo:null,plugins:[]},this.generateId=Ur({minify:!1});for(var e=0;e<Lr.length;e++)this.plugins.use(Lr[e],{queue:"internal"});this.setup(t)}var e=t.prototype;return e.setup=function(t){return void 0===t&&(t={}),t.createGenerateId&&(this.options.createGenerateId=t.createGenerateId),t.id&&(this.options.id=Object(o.a)({},this.options.id,t.id)),(t.createGenerateId||t.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=t.insertionPoint&&(this.options.insertionPoint=t.insertionPoint),"Renderer"in t&&(this.options.Renderer=t.Renderer),t.plugins&&this.use.apply(this,t.plugins),this},e.createStyleSheet=function(t,e){void 0===e&&(e={});var n=e.index;"number"!==typeof n&&(n=0===Wr.index?0:Wr.index+1);var r=new Vr(t,Object(o.a)({},e,{jss:this,generateId:e.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},e.removeStyleSheet=function(t){return t.detach(),Wr.remove(t),this},e.createRule=function(t,e,n){if(void 0===e&&(e={}),void 0===n&&(n={}),"object"===typeof t)return this.createRule(void 0,t,e);var r=Object(o.a)({},n,{name:t,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=nr(t,e,r);return i&&this.plugins.onProcessRule(i),i},e.use=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach((function(e){t.plugins.use(e)})),this},t}();var oo="object"===typeof CSS&&null!=CSS&&"number"in CSS,io=(function(t){new ro(t)}(),oo&&CSS?CSS.px:"px"),so=oo&&CSS?CSS.ms:"ms",ao=oo&&CSS?CSS.percent:"%";function uo(t){var e=/(-[a-z])/g,n=function(t){return t[1].toUpperCase()},r={};for(var o in t)r[o]=t[o],r[o.replace(e,n)]=t[o];return r}var lo=uo({"animation-delay":so,"animation-duration":so,"background-position":io,"background-position-x":io,"background-position-y":io,"background-size":io,border:io,"border-bottom":io,"border-bottom-left-radius":io,"border-bottom-right-radius":io,"border-bottom-width":io,"border-left":io,"border-left-width":io,"border-radius":io,"border-right":io,"border-right-width":io,"border-top":io,"border-top-left-radius":io,"border-top-right-radius":io,"border-top-width":io,"border-width":io,"border-block":io,"border-block-end":io,"border-block-end-width":io,"border-block-start":io,"border-block-start-width":io,"border-block-width":io,"border-inline":io,"border-inline-end":io,"border-inline-end-width":io,"border-inline-start":io,"border-inline-start-width":io,"border-inline-width":io,"border-start-start-radius":io,"border-start-end-radius":io,"border-end-start-radius":io,"border-end-end-radius":io,margin:io,"margin-bottom":io,"margin-left":io,"margin-right":io,"margin-top":io,"margin-block":io,"margin-block-end":io,"margin-block-start":io,"margin-inline":io,"margin-inline-end":io,"margin-inline-start":io,padding:io,"padding-bottom":io,"padding-left":io,"padding-right":io,"padding-top":io,"padding-block":io,"padding-block-end":io,"padding-block-start":io,"padding-inline":io,"padding-inline-end":io,"padding-inline-start":io,"mask-position-x":io,"mask-position-y":io,"mask-size":io,height:io,width:io,"min-height":io,"max-height":io,"min-width":io,"max-width":io,bottom:io,left:io,top:io,right:io,inset:io,"inset-block":io,"inset-block-end":io,"inset-block-start":io,"inset-inline":io,"inset-inline-end":io,"inset-inline-start":io,"box-shadow":io,"text-shadow":io,"column-gap":io,"column-rule":io,"column-rule-width":io,"column-width":io,"font-size":io,"font-size-delta":io,"letter-spacing":io,"text-indent":io,"text-stroke":io,"text-stroke-width":io,"word-spacing":io,motion:io,"motion-offset":io,outline:io,"outline-offset":io,"outline-width":io,perspective:io,"perspective-origin-x":ao,"perspective-origin-y":ao,"transform-origin":ao,"transform-origin-x":ao,"transform-origin-y":ao,"transform-origin-z":ao,"transition-delay":so,"transition-duration":so,"vertical-align":io,"flex-basis":io,"shape-margin":io,size:io,gap:io,grid:io,"grid-gap":io,"grid-row-gap":io,"grid-column-gap":io,"grid-template-rows":io,"grid-template-columns":io,"grid-auto-rows":io,"grid-auto-columns":io,"box-shadow-x":io,"box-shadow-y":io,"box-shadow-blur":io,"box-shadow-spread":io,"font-line-height":io,"text-shadow-x":io,"text-shadow-y":io,"text-shadow-blur":io});function co(t,e,n){if(null==e)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=co(t,e[r],n);else if("object"===typeof e)if("fallbacks"===t)for(var o in e)e[o]=co(o,e[o],n);else for(var i in e)e[i]=co(t+"-"+i,e[i],n);else if("number"===typeof e){var s=n[t]||lo[t];return!s||0===e&&s===io?e.toString():"function"===typeof s?s(e).toString():""+e+s}return e}var po=function(t){void 0===t&&(t={});var e=uo(t);return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r in t)t[r]=co(r,t[r],e);return t},onChangeValue:function(t,n){return co(n,t,e)}}},ho=n(29),fo="",go="",vo="",yo="",mo=u&&"ontouchstart"in document.documentElement;if(u){var bo={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},wo=document.createElement("p").style;for(var Co in bo)if(Co+"Transform"in wo){fo=Co,go=bo[Co];break}"Webkit"===fo&&"msHyphens"in wo&&(fo="ms",go=bo.ms,yo="edge"),"Webkit"===fo&&"-apple-trailing-word"in wo&&(vo="apple")}var Eo=fo,_o=go,Oo=vo,Ro=yo,So=mo;var To={noPrefill:["appearance"],supportedProperty:function(t){return"appearance"===t&&("ms"===Eo?"-webkit-"+t:_o+t)}},Po={noPrefill:["color-adjust"],supportedProperty:function(t){return"color-adjust"===t&&("Webkit"===Eo?_o+"print-"+t:t)}},Ao=/[-\s]+(.)?/g;function Io(t,e){return e?e.toUpperCase():""}function Do(t){return t.replace(Ao,Io)}function No(t){return Do("-"+t)}var xo,ko={noPrefill:["mask"],supportedProperty:function(t,e){if(!/^mask/.test(t))return!1;if("Webkit"===Eo){if(Do("mask-image")in e)return t;if(Eo+No("mask-image")in e)return _o+t}return t}},Lo={noPrefill:["text-orientation"],supportedProperty:function(t){return"text-orientation"===t&&("apple"!==Oo||So?t:_o+t)}},Fo={noPrefill:["transform"],supportedProperty:function(t,e,n){return"transform"===t&&(n.transform?t:_o+t)}},Mo={noPrefill:["transition"],supportedProperty:function(t,e,n){return"transition"===t&&(n.transition?t:_o+t)}},jo={noPrefill:["writing-mode"],supportedProperty:function(t){return"writing-mode"===t&&("Webkit"===Eo||"ms"===Eo&&"edge"!==Ro?_o+t:t)}},Vo={noPrefill:["user-select"],supportedProperty:function(t){return"user-select"===t&&("Moz"===Eo||"ms"===Eo||"apple"===Oo?_o+t:t)}},Go={supportedProperty:function(t,e){return!!/^break-/.test(t)&&("Webkit"===Eo?"WebkitColumn"+No(t)in e&&_o+"column-"+t:"Moz"===Eo&&("page"+No(t)in e&&"page-"+t))}},Wo={supportedProperty:function(t,e){if(!/^(border|margin|padding)-inline/.test(t))return!1;if("Moz"===Eo)return t;var n=t.replace("-inline","");return Eo+No(n)in e&&_o+n}},Ho={supportedProperty:function(t,e){return Do(t)in e&&t}},Bo={supportedProperty:function(t,e){var n=No(t);return"-"===t[0]||"-"===t[0]&&"-"===t[1]?t:Eo+n in e?_o+t:"Webkit"!==Eo&&"Webkit"+n in e&&"-webkit-"+t}},Uo={supportedProperty:function(t){return"scroll-snap"===t.substring(0,11)&&("ms"===Eo?""+_o+t:t)}},zo={supportedProperty:function(t){return"overscroll-behavior"===t&&("ms"===Eo?_o+"scroll-chaining":t)}},qo={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Ko={supportedProperty:function(t,e){var n=qo[t];return!!n&&(Eo+No(n)in e&&_o+n)}},Yo={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Qo=Object.keys(Yo),Xo=function(t){return _o+t},$o=[To,Po,ko,Lo,Fo,Mo,jo,Vo,Go,Wo,Ho,Bo,Uo,zo,Ko,{supportedProperty:function(t,e,n){var r=n.multiple;if(Qo.indexOf(t)>-1){var o=Yo[t];if(!Array.isArray(o))return Eo+No(o)in e&&_o+o;if(!r)return!1;for(var i=0;i<o.length;i++)if(!(Eo+No(o[0])in e))return!1;return o.map(Xo)}return!1}}],Jo=$o.filter((function(t){return t.supportedProperty})).map((function(t){return t.supportedProperty})),Zo=$o.filter((function(t){return t.noPrefill})).reduce((function(t,e){return t.push.apply(t,Object(ho.a)(e.noPrefill)),t}),[]),ti={};if(u){xo=document.createElement("p");var ei=window.getComputedStyle(document.documentElement,"");for(var ni in ei)isNaN(ni)||(ti[ei[ni]]=ei[ni]);Zo.forEach((function(t){return delete ti[t]}))}function ri(t,e){if(void 0===e&&(e={}),!xo)return t;if(null!=ti[t])return ti[t];"transition"!==t&&"transform"!==t||(e[t]=t in xo.style);for(var n=0;n<Jo.length&&(ti[t]=Jo[n](t,xo.style,e),!ti[t]);n++);try{xo.style[t]=""}catch(r){return!1}return ti[t]}var oi,ii={},si={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},ai=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function ui(t,e,n){if("var"===e)return"var";if("all"===e)return"all";if("all"===n)return", all";var r=e?ri(e):", "+ri(n);return r||(e||n)}function li(t,e){var n=e;if(!oi||"content"===t)return e;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=t+n;if(null!=ii[r])return ii[r];try{oi.style[t]=n}catch(o){return ii[r]=!1,!1}if(si[t])n=n.replace(ai,ui);else if(""===oi.style[t]&&("-ms-flex"===(n=_o+n)&&(oi.style[t]="-ms-flexbox"),oi.style[t]=n,""===oi.style[t]))return ii[r]=!1,!1;return oi.style[t]="",ii[r]=n,ii[r]}u&&(oi=document.createElement("p"));var ci={}.constructor;function pi(t){if(null==t||"object"!==typeof t)return t;if(Array.isArray(t))return t.map(pi);if(t.constructor!==ci)return t;var e={};for(var n in t)e[n]=pi(t[n]);return e}function hi(t,e,n){void 0===t&&(t="unnamed");var r=n.jss,o=pi(e),i=r.plugins.onCreateRule(t,o,n);return i||(t[0],null)}var di=function(t,e){for(var n="",r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=e),n+=t[r];return n},fi=function(t,e){if(void 0===e&&(e=!1),!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var r=0;r<t.length&&"!important"!==t[r];r++)n&&(n+=", "),n+=di(t[r]," ");else n=di(t,", ");return e||"!important"!==t[t.length-1]||(n+=" !important"),n};function gi(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function vi(t,e,n){void 0===n&&(n={});var r="";if(!e)return r;var o=n.indent,i=void 0===o?0:o,s=e.fallbacks;if(t&&i++,s)if(Array.isArray(s))for(var a=0;a<s.length;a++){var u=s[a];for(var l in u){var c=u[l];null!=c&&(r&&(r+="\n"),r+=""+gi(l+": "+fi(c)+";",i))}}else for(var p in s){var h=s[p];null!=h&&(r&&(r+="\n"),r+=""+gi(p+": "+fi(h)+";",i))}for(var d in e){var f=e[d];null!=f&&"fallbacks"!==d&&(r&&(r+="\n"),r+=""+gi(d+": "+fi(f)+";",i))}return(r||n.allowEmpty)&&t?(r&&(r="\n"+r+"\n"),gi(t+" {"+r,--i)+gi("}",i)):r}var yi=/([[\].#*$><+~=|^:(),"'`\s])/g,mi="undefined"!==typeof CSS&&CSS.escape,bi=function(t){return mi?mi(t):t.replace(yi,"\\$1")},wi=function(){function t(t,e,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,o=n.Renderer;this.key=t,this.options=n,this.style=e,r?this.renderer=r.renderer:o&&(this.renderer=new o)}return t.prototype.prop=function(t,e,n){if(void 0===e)return this.style[t];var r=!!n&&n.force;if(!r&&this.style[t]===e)return this;var o=e;n&&!1===n.process||(o=this.options.jss.plugins.onChangeValue(e,t,this));var i=null==o||!1===o,s=t in this.style;if(i&&!s&&!r)return this;var a=i&&s;if(a?delete this.style[t]:this.style[t]=o,this.renderable&&this.renderer)return a?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,o),this;var u=this.options.sheet;return u&&u.attached,this},t}(),Ci=function(t){function e(e,n,r){var o;(o=t.call(this,e,n,r)||this).selectorText=void 0,o.id=void 0,o.renderable=void 0;var i=r.selector,s=r.scoped,a=r.sheet,u=r.generateId;return i?o.selectorText=i:!1!==s&&(o.id=u(Object(h.a)(Object(h.a)(o)),a),o.selectorText="."+bi(o.id)),o}p(e,t);var n=e.prototype;return n.applyTo=function(t){var e=this.renderer;if(e){var n=this.toJSON();for(var r in n)e.setProperty(t,r,n[r])}return this},n.toJSON=function(){var t={};for(var e in this.style){var n=this.style[e];"object"!==typeof n?t[e]=n:Array.isArray(n)&&(t[e]=fi(n))}return t},n.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(o.a)({},t,{allowEmpty:!0}):t;return vi(this.selectorText,this.style,n)},c(e,[{key:"selector",set:function(t){if(t!==this.selectorText){this.selectorText=t;var e=this.renderer,n=this.renderable;if(n&&e)e.setSelector(n,t)||e.replaceRule(n,this)}},get:function(){return this.selectorText}}]),e}(wi),Ei={onCreateRule:function(t,e,n){return"@"===t[0]||n.parent&&"keyframes"===n.parent.type?null:new Ci(t,e,n)}},_i={indent:1,children:!0},Oi=/@([\w-]+)/,Ri=function(){function t(t,e,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t;var r=t.match(Oi);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new Yi(Object(o.a)({},n,{parent:this})),e)this.rules.add(i,e[i]);this.rules.process()}var e=t.prototype;return e.getRule=function(t){return this.rules.get(t)},e.indexOf=function(t){return this.rules.indexOf(t)},e.addRule=function(t,e,n){var r=this.rules.add(t,e,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},e.toString=function(t){if(void 0===t&&(t=_i),null==t.indent&&(t.indent=_i.indent),null==t.children&&(t.children=_i.children),!1===t.children)return this.query+" {}";var e=this.rules.toString(t);return e?this.query+" {\n"+e+"\n}":""},t}(),Si=/@media|@supports\s+/,Ti={onCreateRule:function(t,e,n){return Si.test(t)?new Ri(t,e,n):null}},Pi={indent:1,children:!0},Ai=/@keyframes\s+([\w-]+)/,Ii=function(){function t(t,e,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var r=t.match(Ai);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,s=n.sheet,a=n.generateId;for(var u in this.id=!1===i?this.name:bi(a(this,s)),this.rules=new Yi(Object(o.a)({},n,{parent:this})),e)this.rules.add(u,e[u],Object(o.a)({},n,{parent:this}));this.rules.process()}return t.prototype.toString=function(t){if(void 0===t&&(t=Pi),null==t.indent&&(t.indent=Pi.indent),null==t.children&&(t.children=Pi.children),!1===t.children)return this.at+" "+this.id+" {}";var e=this.rules.toString(t);return e&&(e="\n"+e+"\n"),this.at+" "+this.id+" {"+e+"}"},t}(),Di=/@keyframes\s+/,Ni=/\$([\w-]+)/g,xi=function(t,e){return"string"===typeof t?t.replace(Ni,(function(t,n){return n in e?e[n]:t})):t},ki=function(t,e,n){var r=t[e],o=xi(r,n);o!==r&&(t[e]=o)},Li={onCreateRule:function(t,e,n){return"string"===typeof t&&Di.test(t)?new Ii(t,e,n):null},onProcessStyle:function(t,e,n){return"style"===e.type&&n?("animation-name"in t&&ki(t,"animation-name",n.keyframes),"animation"in t&&ki(t,"animation",n.keyframes),t):t},onChangeValue:function(t,e,n){var r=n.options.sheet;if(!r)return t;switch(e){case"animation":case"animation-name":return xi(t,r.keyframes);default:return t}}},Fi=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).renderable=void 0,e}return p(e,t),e.prototype.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?Object(o.a)({},t,{allowEmpty:!0}):t;return vi(this.key,this.style,n)},e}(wi),Mi={onCreateRule:function(t,e,n){return n.parent&&"keyframes"===n.parent.type?new Fi(t,e,n):null}},ji=function(){function t(t,e,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.style)){for(var e="",n=0;n<this.style.length;n++)e+=vi(this.at,this.style[n]),this.style[n+1]&&(e+="\n");return e}return vi(this.at,this.style,t)},t}(),Vi=/@font-face/,Gi={onCreateRule:function(t,e,n){return Vi.test(t)?new ji(t,e,n):null}},Wi=function(){function t(t,e,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){return vi(this.key,this.style,t)},t}(),Hi={onCreateRule:function(t,e,n){return"@viewport"===t||"@-ms-viewport"===t?new Wi(t,e,n):null}},Bi=function(){function t(t,e,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.value=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.value)){for(var e="",n=0;n<this.value.length;n++)e+=this.key+" "+this.value[n]+";",this.value[n+1]&&(e+="\n");return e}return this.key+" "+this.value+";"},t}(),Ui={"@charset":!0,"@import":!0,"@namespace":!0},zi=[Ei,Ti,Li,Mi,Gi,Hi,{onCreateRule:function(t,e,n){return t in Ui?new Bi(t,e,n):null}}],qi={process:!0},Ki={force:!0,process:!0},Yi=function(){function t(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var e=t.prototype;return e.add=function(t,e,n){var r=this.options,i=r.parent,s=r.sheet,a=r.jss,u=r.Renderer,l=r.generateId,c=r.scoped,p=Object(o.a)({classes:this.classes,parent:i,sheet:s,jss:a,Renderer:u,generateId:l,scoped:c,name:t,keyframes:this.keyframes,selector:void 0},n),h=t;t in this.raw&&(h=t+"-d"+this.counter++),this.raw[h]=e,h in this.classes&&(p.selector="."+bi(this.classes[h]));var d=hi(h,e,p);if(!d)return null;this.register(d);var f=void 0===p.index?this.index.length:p.index;return this.index.splice(f,0,d),d},e.get=function(t){return this.map[t]},e.remove=function(t){this.unregister(t),delete this.raw[t.key],this.index.splice(this.index.indexOf(t),1)},e.indexOf=function(t){return this.index.indexOf(t)},e.process=function(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)},e.register=function(t){this.map[t.key]=t,t instanceof Ci?(this.map[t.selector]=t,t.id&&(this.classes[t.key]=t.id)):t instanceof Ii&&this.keyframes&&(this.keyframes[t.name]=t.id)},e.unregister=function(t){delete this.map[t.key],t instanceof Ci?(delete this.map[t.selector],delete this.classes[t.key]):t instanceof Ii&&delete this.keyframes[t.name]},e.update=function(){var t,e,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],t=null),t)this.updateOne(this.map[t],e,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],e,n)},e.updateOne=function(e,n,r){void 0===r&&(r=qi);var o=this.options,i=o.jss.plugins,s=o.sheet;if(e.rules instanceof t)e.rules.update(n,r);else{var a=e,u=a.style;if(i.onUpdate(n,e,s,r),r.process&&u&&u!==a.style){for(var l in i.onProcessStyle(a.style,a,s),a.style){var c=a.style[l];c!==u[l]&&a.prop(l,c,Ki)}for(var p in u){var h=a.style[p],d=u[p];null==h&&h!==d&&a.prop(p,null,Ki)}}}},e.toString=function(t){for(var e="",n=this.options.sheet,r=!!n&&n.options.link,o=0;o<this.index.length;o++){var i=this.index[o].toString(t);(i||r)&&(e&&(e+="\n"),e+=i)}return e},t}(),Qi=function(){function t(t,e){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(o.a)({},e,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),e.Renderer&&(this.renderer=new e.Renderer(this)),this.rules=new Yi(this.options),t)this.rules.add(n,t[n]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(t,e,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var o=this.rules.add(t,e,n);return o?(this.options.jss.plugins.onProcessRule(o),this.attached?this.deployed?(r?r.push(o):(this.insertRule(o),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),o):o:(this.deployed=!1,o)):null},e.insertRule=function(t){this.renderer&&this.renderer.insertRule(t)},e.addRules=function(t,e){var n=[];for(var r in t){var o=this.addRule(r,t[r],e);o&&n.push(o)}return n},e.getRule=function(t){return this.rules.get(t)},e.deleteRule=function(t){var e="object"===typeof t?t:this.rules.get(t);return!(!e||this.attached&&!e.renderable)&&(this.rules.remove(e),!(this.attached&&e.renderable&&this.renderer)||this.renderer.deleteRule(e.renderable))},e.indexOf=function(t){return this.rules.indexOf(t)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var t;return(t=this.rules).update.apply(t,arguments),this},e.updateOne=function(t,e,n){return this.rules.updateOne(t,e,n),this},e.toString=function(t){return this.rules.toString(t)},t}(),Xi=function(){function t(){this.plugins={internal:[],external:[]},this.registry=void 0}var e=t.prototype;return e.onCreateRule=function(t,e,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var o=this.registry.onCreateRule[r](t,e,n);if(o)return o}return null},e.onProcessRule=function(t){if(!t.isProcessed){for(var e=t.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](t,e);t.style&&this.onProcessStyle(t.style,t,e),t.isProcessed=!0}},e.onProcessStyle=function(t,e,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)e.style=this.registry.onProcessStyle[r](e.style,e,n)},e.onProcessSheet=function(t){for(var e=0;e<this.registry.onProcessSheet.length;e++)this.registry.onProcessSheet[e](t)},e.onUpdate=function(t,e,n,r){for(var o=0;o<this.registry.onUpdate.length;o++)this.registry.onUpdate[o](t,e,n,r)},e.onChangeValue=function(t,e,n){for(var r=t,o=0;o<this.registry.onChangeValue.length;o++)r=this.registry.onChangeValue[o](r,e,n);return r},e.use=function(t,e){void 0===e&&(e={queue:"external"});var n=this.plugins[e.queue];-1===n.indexOf(t)&&(n.push(t),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(t,e){for(var n in e)n in t&&t[n].push(e[n]);return t}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),$i=new(function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(t){var e=this.registry,n=t.options.index;if(-1===e.indexOf(t))if(0===e.length||n>=this.index)e.push(t);else for(var r=0;r<e.length;r++)if(e[r].options.index>n)return void e.splice(r,0,t)},e.reset=function(){this.registry=[]},e.remove=function(t){var e=this.registry.indexOf(t);this.registry.splice(e,1)},e.toString=function(t){for(var e=void 0===t?{}:t,n=e.attached,r=Object(d.a)(e,["attached"]),o="",i=0;i<this.registry.length;i++){var s=this.registry[i];null!=n&&s.attached!==n||(o&&(o+="\n"),o+=s.toString(r))}return o},c(t,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),t}()),Ji="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();null==Ji["2f1acc6c3a606b082e5eef5e54414ffb"]&&(Ji["2f1acc6c3a606b082e5eef5e54414ffb"]=0);var Zi=Ji["2f1acc6c3a606b082e5eef5e54414ffb"]++,ts=function(t){void 0===t&&(t={});var e=0;return function(n,r){e+=1;var o="",i="";return r&&(r.options.classNamePrefix&&(i=r.options.classNamePrefix),null!=r.options.jss.id&&(o=String(r.options.jss.id))),t.minify?""+(i||"c")+Zi+o+e:i+n.key+"-"+Zi+(o?"-"+o:"")+"-"+e}},es=function(t){var e;return function(){return e||(e=t()),e}},ns=function(t,e){try{return t.attributeStyleMap?t.attributeStyleMap.get(e):t.style.getPropertyValue(e)}catch(n){return""}},rs=function(t,e,n){try{var r=n;if(Array.isArray(n)&&(r=fi(n,!0),"!important"===n[n.length-1]))return t.style.setProperty(e,r,"important"),!0;t.attributeStyleMap?t.attributeStyleMap.set(e,r):t.style.setProperty(e,r)}catch(o){return!1}return!0},os=function(t,e){try{t.attributeStyleMap?t.attributeStyleMap.delete(e):t.style.removeProperty(e)}catch(n){}},is=function(t,e){return t.selectorText=e,t.selectorText===e},ss=es((function(){return document.querySelector("head")}));function as(t){var e=$i.registry;if(e.length>0){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}(e,t))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&"string"===typeof r){var o=function(t){for(var e=ss(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===t)return r}return null}(r);if(o)return{parent:o.parentNode,node:o.nextSibling}}return!1}var us=es((function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null})),ls=function(t,e,n){try{if("insertRule"in t)t.insertRule(e,n);else if("appendRule"in t){t.appendRule(e)}}catch(r){return!1}return t.cssRules[n]},cs=function(t,e){var n=t.cssRules.length;return void 0===e||e>n?n:e},ps=function(){function t(t){this.getPropertyValue=ns,this.setProperty=rs,this.removeProperty=os,this.setSelector=is,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],t&&$i.add(t),this.sheet=t;var e=this.sheet?this.sheet.options:{},n=e.media,r=e.meta,o=e.element;this.element=o||function(){var t=document.createElement("style");return t.textContent="\n",t}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var i=us();i&&this.element.setAttribute("nonce",i)}var e=t.prototype;return e.attach=function(){if(!this.element.parentNode&&this.sheet){!function(t,e){var n=e.insertionPoint,r=as(e);if(!1!==r&&r.parent)r.parent.insertBefore(t,r.node);else if(n&&"number"===typeof n.nodeType){var o=n,i=o.parentNode;i&&i.insertBefore(t,o.nextSibling)}else ss().appendChild(t)}(this.element,this.sheet.options);var t=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&t&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var t=this.element.parentNode;t&&t.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},e.deploy=function(){var t=this.sheet;t&&(t.options.link?this.insertRules(t.rules):this.element.textContent="\n"+t.toString()+"\n")},e.insertRules=function(t,e){for(var n=0;n<t.index.length;n++)this.insertRule(t.index[n],n,e)},e.insertRule=function(t,e,n){if(void 0===n&&(n=this.element.sheet),t.rules){var r=t,o=n;if("conditional"===t.type||"keyframes"===t.type){var i=cs(n,e);if(!1===(o=ls(n,r.toString({children:!1}),i)))return!1;this.refCssRule(t,i,o)}return this.insertRules(r.rules,o),o}var s=t.toString();if(!s)return!1;var a=cs(n,e),u=ls(n,s,a);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(t,a,u),u)},e.refCssRule=function(t,e,n){t.renderable=n,t.options.parent instanceof Qi&&(this.cssRules[e]=n)},e.deleteRule=function(t){var e=this.element.sheet,n=this.indexOf(t);return-1!==n&&(e.deleteRule(n),this.cssRules.splice(n,1),!0)},e.indexOf=function(t){return this.cssRules.indexOf(t)},e.replaceRule=function(t,e){var n=this.indexOf(t);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(e,n))},e.getRules=function(){return this.element.sheet.cssRules},t}(),hs=0,ds=function(){function t(t){this.id=hs++,this.version="10.5.0",this.plugins=new Xi,this.options={id:{minify:!1},createGenerateId:ts,Renderer:u?ps:null,plugins:[]},this.generateId=ts({minify:!1});for(var e=0;e<zi.length;e++)this.plugins.use(zi[e],{queue:"internal"});this.setup(t)}var e=t.prototype;return e.setup=function(t){return void 0===t&&(t={}),t.createGenerateId&&(this.options.createGenerateId=t.createGenerateId),t.id&&(this.options.id=Object(o.a)({},this.options.id,t.id)),(t.createGenerateId||t.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=t.insertionPoint&&(this.options.insertionPoint=t.insertionPoint),"Renderer"in t&&(this.options.Renderer=t.Renderer),t.plugins&&this.use.apply(this,t.plugins),this},e.createStyleSheet=function(t,e){void 0===e&&(e={});var n=e.index;"number"!==typeof n&&(n=0===$i.index?0:$i.index+1);var r=new Qi(t,Object(o.a)({},e,{jss:this,generateId:e.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},e.removeStyleSheet=function(t){return t.detach(),$i.remove(t),this},e.createRule=function(t,e,n){if(void 0===e&&(e={}),void 0===n&&(n={}),"object"===typeof t)return this.createRule(void 0,t,e);var r=Object(o.a)({},n,{name:t,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=hi(t,e,r);return i&&this.plugins.onProcessRule(i),i},e.use=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach((function(e){t.plugins.use(e)})),this},t}();"object"===typeof CSS&&null!=CSS&&CSS,function(t){new ds(t)}();var fs=function(){function t(e){for(var n in e){var r=e[n];if("fallbacks"===n&&Array.isArray(r))e[n]=r.map(t);else{var o=!1,i=ri(n);i&&i!==n&&(o=!0);var s=!1,a=li(i,fi(r));a&&a!==r&&(s=!0),(o||s)&&(o&&delete e[n],e[i||n]=a||r)}}return e}return{onProcessRule:function(t){if("keyframes"===t.type){var e=t;e.at="-"===(n=e.at)[1]||"ms"===Eo?n:"@"+_o+"keyframes"+n.substr(10)}var n},onProcessStyle:function(e,n){return"style"!==n.type?e:t(e)},onChangeValue:function(t,e){return li(e,fi(t))||t}}};var gs=function(){var t=function(t,e){return t.length===e.length?t>e?1:-1:t.length-e.length};return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r={},o=Object.keys(e).sort(t),i=0;i<o.length;i++)r[o[i]]=e[o[i]];return r}}};function vs(){return{plugins:[ke(),qn(),Xn(),Zn(),po(),"undefined"===typeof window?null:fs(),gs()]}}var ys=bt(vs()),ms={disableGeneration:!1,generateClassName:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.disableGlobal,n=void 0!==e&&e,r=t.productionPrefix,o=void 0===r?"jss":r,i=t.seed,s=void 0===i?"":i,a=""===s?"":"".concat(s,"-"),u=0,l=function(){return u+=1};return function(t,e){var r=e.options.name;if(r&&0===r.indexOf("Mui")&&!e.options.link&&!n){if(-1!==Ot.indexOf(t.key))return"Mui-".concat(t.key);var i="".concat(a).concat(r,"-").concat(t.key);return e.options.theme[_t]&&""===s?"".concat(i,"-").concat(l()):i}return"".concat(a).concat(o).concat(l())}}(),jss:ys,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},bs=s.a.createContext(ms);var ws=-1e9;function Cs(){return ws+=1}n(30);var Es=n(137);function _s(t){var e="function"===typeof t;return{create:function(n,r){var i;try{i=e?t(n):t}catch(u){throw u}if(!r||!n.overrides||!n.overrides[r])return i;var s=n.overrides[r],a=Object(o.a)({},i);return Object.keys(s).forEach((function(t){a[t]=Object(Es.a)(a[t],s[t])})),a},options:{}}}var Os={};function Rs(t,e,n){var r=t.state;if(t.stylesOptions.disableGeneration)return e||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var o=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,o=!0),e!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=e,o=!0),o&&(r.cacheClasses.value=wt({baseClasses:r.cacheClasses.lastJSS,newClasses:e,Component:n})),r.cacheClasses.value}function Ss(t,e){var n=t.state,r=t.theme,i=t.stylesOptions,s=t.stylesCreator,a=t.name;if(!i.disableGeneration){var u=Ct.get(i.sheetsManager,s,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},Ct.set(i.sheetsManager,s,r,u));var l=Object(o.a)({},s.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});l.generateId=l.serverGenerateClassName||l.generateClassName;var c=i.sheetsRegistry;if(0===u.refs){var p;i.sheetsCache&&(p=Ct.get(i.sheetsCache,s,r));var h=s.create(r,a);p||((p=i.jss.createStyleSheet(h,Object(o.a)({link:!1},l))).attach(),i.sheetsCache&&Ct.set(i.sheetsCache,s,r,p)),c&&c.add(p),u.staticSheet=p,u.dynamicStyles=function t(e){var n=null;for(var r in e){var o=e[r],i=typeof o;if("function"===i)n||(n={}),n[r]=o;else if("object"===i&&null!==o&&!Array.isArray(o)){var s=t(o);s&&(n||(n={}),n[r]=s)}}return n}(h)}if(u.dynamicStyles){var d=i.jss.createStyleSheet(u.dynamicStyles,Object(o.a)({link:!0},l));d.update(e),d.attach(),n.dynamicSheet=d,n.classes=wt({baseClasses:u.staticSheet.classes,newClasses:d.classes}),c&&c.add(d)}else n.classes=u.staticSheet.classes;u.refs+=1}}function Ts(t,e){var n=t.state;n.dynamicSheet&&n.dynamicSheet.update(e)}function Ps(t){var e=t.state,n=t.theme,r=t.stylesOptions,o=t.stylesCreator;if(!r.disableGeneration){var i=Ct.get(r.sheetsManager,o,n);i.refs-=1;var s=r.sheetsRegistry;0===i.refs&&(Ct.delete(r.sheetsManager,o,n),r.jss.removeStyleSheet(i.staticSheet),s&&s.remove(i.staticSheet)),e.dynamicSheet&&(r.jss.removeStyleSheet(e.dynamicSheet),s&&s.remove(e.dynamicSheet))}}function As(t,e){var n,r=s.a.useRef([]),o=s.a.useMemo((function(){return{}}),e);r.current!==o&&(r.current=o,n=t()),s.a.useEffect((function(){return function(){n&&n()}}),[o])}function Is(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.name,i=e.classNamePrefix,a=e.Component,u=e.defaultTheme,l=void 0===u?Os:u,c=Object(r.a)(e,["name","classNamePrefix","Component","defaultTheme"]),p=_s(t),h=n||i||"makeStyles";p.options={index:Cs(),name:n,meta:h,classNamePrefix:h};var d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(Et.a)()||l,r=Object(o.a)({},s.a.useContext(bs),c),i=s.a.useRef(),u=s.a.useRef();As((function(){var o={name:n,state:{},stylesCreator:p,stylesOptions:r,theme:e};return Ss(o,t),u.current=!1,i.current=o,function(){Ps(o)}}),[e,p]),s.a.useEffect((function(){u.current&&Ts(i.current,t),u.current=!0}));var h=Rs(i.current,t.classes,a);return h};return d}},,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(3),o=n(138),i=n(22);e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o.a)(t,Object(r.a)({defaultTheme:i.a},e))}},function(t,e,n){"use strict";var r=n(3),o=n(5),i=n(1),s=(n(12),n(10)),a=n(13),u=i.forwardRef((function(t,e){var n=t.classes,a=t.className,u=t.component,l=void 0===u?"div":u,c=Object(o.a)(t,["classes","className","component"]);return i.createElement(l,Object(r.a)({ref:e,className:Object(s.a)(n.root,a)},c))}));e.a=Object(a.a)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(u)},function(t,e,n){"use strict";var r=n(5),o=n(3),i=n(1),s=(n(12),n(10)),a=n(13),u=i.forwardRef((function(t,e){var n=t.classes,a=t.className,u=t.component,l=void 0===u?"div":u,c=t.square,p=void 0!==c&&c,h=t.elevation,d=void 0===h?1:h,f=t.variant,g=void 0===f?"elevation":f,v=Object(r.a)(t,["classes","className","component","square","elevation","variant"]);return i.createElement(l,Object(o.a)({className:Object(s.a)(n.root,a,"outlined"===g?n.outlined:n["elevation".concat(d)],!p&&n.rounded),ref:e},v))}));e.a=Object(a.a)((function(t){var e={};return t.shadows.forEach((function(t,n){e["elevation".concat(n)]={boxShadow:t}})),Object(o.a)({root:{backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},rounded:{borderRadius:t.shape.borderRadius},outlined:{border:"1px solid ".concat(t.palette.divider)}},e)}),{name:"MuiPaper"})(u)},function(t,e,n){"use strict";var r=n(5),o=n(3),i=n(1),s=(n(12),n(10)),a=n(13),u=n(38),l=i.forwardRef((function(t,e){var n=t.classes,a=t.className,l=t.component,c=void 0===l?"table":l,p=t.padding,h=void 0===p?"default":p,d=t.size,f=void 0===d?"medium":d,g=t.stickyHeader,v=void 0!==g&&g,y=Object(r.a)(t,["classes","className","component","padding","size","stickyHeader"]),m=i.useMemo((function(){return{padding:h,size:f,stickyHeader:v}}),[h,f,v]);return i.createElement(u.a.Provider,{value:m},i.createElement(c,Object(o.a)({role:"table"===c?null:"table",ref:e,className:Object(s.a)(n.root,a,v&&n.stickyHeader)},y)))}));e.a=Object(a.a)((function(t){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Object(o.a)({},t.typography.body2,{padding:t.spacing(2),color:t.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(l)},function(t,e,n){"use strict";var r=n(3),o=n(5),i=n(1),s=(n(12),n(10)),a=n(13),u=n(21),l={variant:"head"},c=i.forwardRef((function(t,e){var n=t.classes,a=t.className,c=t.component,p=void 0===c?"thead":c,h=Object(o.a)(t,["classes","className","component"]);return i.createElement(u.a.Provider,{value:l},i.createElement(p,Object(r.a)({className:Object(s.a)(n.root,a),ref:e,role:"thead"===p?null:"rowgroup"},h)))}));e.a=Object(a.a)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(c)},function(t,e,n){"use strict";var r=n(3),o=n(5),i=n(1),s=(n(12),n(10)),a=n(13),u=n(21),l=n(18),c=i.forwardRef((function(t,e){var n=t.classes,a=t.className,l=t.component,c=void 0===l?"tr":l,p=t.hover,h=void 0!==p&&p,d=t.selected,f=void 0!==d&&d,g=Object(o.a)(t,["classes","className","component","hover","selected"]),v=i.useContext(u.a);return i.createElement(c,Object(r.a)({ref:e,className:Object(s.a)(n.root,a,v&&{head:n.head,footer:n.footer}[v.variant],h&&n.hover,f&&n.selected),role:"tr"===c?null:"row"},g))}));e.a=Object(a.a)((function(t){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:t.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:Object(l.b)(t.palette.secondary.main,t.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(c)},function(t,e,n){"use strict";var r=n(5),o=n(3),i=n(1),s=(n(12),n(10)),a=n(13),u=n(19),l=n(18),c=n(38),p=n(21),h=i.forwardRef((function(t,e){var n,a,l=t.align,h=void 0===l?"inherit":l,d=t.classes,f=t.className,g=t.component,v=t.padding,y=t.scope,m=t.size,b=t.sortDirection,w=t.variant,C=Object(r.a)(t,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),E=i.useContext(c.a),_=i.useContext(p.a),O=_&&"head"===_.variant;g?(a=g,n=O?"columnheader":"cell"):a=O?"th":"td";var R=y;!R&&O&&(R="col");var S=v||(E&&E.padding?E.padding:"default"),T=m||(E&&E.size?E.size:"medium"),P=w||_&&_.variant,A=null;return b&&(A="asc"===b?"ascending":"descending"),i.createElement(a,Object(o.a)({ref:e,className:Object(s.a)(d.root,d[P],f,"inherit"!==h&&d["align".concat(Object(u.a)(h))],"default"!==S&&d["padding".concat(Object(u.a)(S))],"medium"!==T&&d["size".concat(Object(u.a)(T))],"head"===P&&E&&E.stickyHeader&&d.stickyHeader),"aria-sort":A,role:n,scope:R},C))}));e.a=Object(a.a)((function(t){return{root:Object(o.a)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===t.palette.type?Object(l.d)(Object(l.b)(t.palette.divider,1),.88):Object(l.a)(Object(l.b)(t.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:t.palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},body:{color:t.palette.text.primary},footer:{color:t.palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:t.palette.background.default}}}),{name:"MuiTableCell"})(h)},function(t,e,n){"use strict";var r=n(3),o=n(5),i=n(1),s=(n(12),n(10)),a=n(13),u=n(21),l={variant:"body"},c=i.forwardRef((function(t,e){var n=t.classes,a=t.className,c=t.component,p=void 0===c?"tbody":c,h=Object(o.a)(t,["classes","className","component"]);return i.createElement(u.a.Provider,{value:l},i.createElement(p,Object(r.a)({className:Object(s.a)(n.root,a),ref:e,role:"tbody"===p?null:"rowgroup"},h)))}));e.a=Object(a.a)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(c)},function(t,e,n){"use strict";var r=n(29),o=n(3),i=(n(12),n(20));var s=function(t){var e=function(e){var n=t(e);return e.css?Object(o.a)({},Object(i.a)(n,t(Object(o.a)({theme:e.theme},e.css))),function(t,e){var n={};return Object.keys(t).forEach((function(r){-1===e.indexOf(r)&&(n[r]=t[r])})),n}(e.css,[t.filterProps])):n};return e.propTypes={},e.filterProps=["css"].concat(Object(r.a)(t.filterProps)),e};var a=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=function(t){return e.reduce((function(e,n){var r=n(t);return r?Object(i.a)(e,r):e}),{})};return r.propTypes={},r.filterProps=e.reduce((function(t,e){return t.concat(e.filterProps)}),[]),r},u=n(24),l=n(36);function c(t,e){return e&&"string"===typeof e?e.split(".").reduce((function(t,e){return t&&t[e]?t[e]:null}),t):null}var p=function(t){var e=t.prop,n=t.cssProperty,r=void 0===n?t.prop:n,o=t.themeKey,i=t.transform,s=function(t){if(null==t[e])return null;var n=t[e],s=c(t.theme,o)||{};return Object(l.a)(t,n,(function(t){var e;return"function"===typeof s?e=s(t):Array.isArray(s)?e=s[t]||t:(e=c(s,t)||t,i&&(e=i(e))),!1===r?e:Object(u.a)({},r,e)}))};return s.propTypes={},s.filterProps=[e],s};function h(t){return"number"!==typeof t?t:"".concat(t,"px solid")}var d=a(p({prop:"border",themeKey:"borders",transform:h}),p({prop:"borderTop",themeKey:"borders",transform:h}),p({prop:"borderRight",themeKey:"borders",transform:h}),p({prop:"borderBottom",themeKey:"borders",transform:h}),p({prop:"borderLeft",themeKey:"borders",transform:h}),p({prop:"borderColor",themeKey:"palette"}),p({prop:"borderRadius",themeKey:"shape"})),f=a(p({prop:"displayPrint",cssProperty:!1,transform:function(t){return{"@media print":{display:t}}}}),p({prop:"display"}),p({prop:"overflow"}),p({prop:"textOverflow"}),p({prop:"visibility"}),p({prop:"whiteSpace"})),g=a(p({prop:"flexBasis"}),p({prop:"flexDirection"}),p({prop:"flexWrap"}),p({prop:"justifyContent"}),p({prop:"alignItems"}),p({prop:"alignContent"}),p({prop:"order"}),p({prop:"flex"}),p({prop:"flexGrow"}),p({prop:"flexShrink"}),p({prop:"alignSelf"}),p({prop:"justifyItems"}),p({prop:"justifySelf"})),v=a(p({prop:"gridGap"}),p({prop:"gridColumnGap"}),p({prop:"gridRowGap"}),p({prop:"gridColumn"}),p({prop:"gridRow"}),p({prop:"gridAutoFlow"}),p({prop:"gridAutoColumns"}),p({prop:"gridAutoRows"}),p({prop:"gridTemplateColumns"}),p({prop:"gridTemplateRows"}),p({prop:"gridTemplateAreas"}),p({prop:"gridArea"})),y=a(p({prop:"position"}),p({prop:"zIndex",themeKey:"zIndex"}),p({prop:"top"}),p({prop:"right"}),p({prop:"bottom"}),p({prop:"left"})),m=a(p({prop:"color",themeKey:"palette"}),p({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),b=p({prop:"boxShadow",themeKey:"shadows"});function w(t){return t<=1?"".concat(100*t,"%"):t}var C=p({prop:"width",transform:w}),E=p({prop:"maxWidth",transform:w}),_=p({prop:"minWidth",transform:w}),O=p({prop:"height",transform:w}),R=p({prop:"maxHeight",transform:w}),S=p({prop:"minHeight",transform:w}),T=(p({prop:"size",cssProperty:"width",transform:w}),p({prop:"size",cssProperty:"height",transform:w}),a(C,E,_,O,R,S,p({prop:"boxSizing"}))),P=n(169),A=a(p({prop:"fontFamily",themeKey:"typography"}),p({prop:"fontSize",themeKey:"typography"}),p({prop:"fontStyle",themeKey:"typography"}),p({prop:"fontWeight",themeKey:"typography"}),p({prop:"letterSpacing"}),p({prop:"lineHeight"}),p({prop:"textAlign"})),I=n(5),D=n(1),N=n.n(D),x=n(10),k=n(37),L=n.n(k),F=n(138);function M(t,e){var n={};return Object.keys(t).forEach((function(r){-1===e.indexOf(r)&&(n[r]=t[r])})),n}var j=n(22),V=function(t){var e=function(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,i=Object(I.a)(n,["name"]);var s,a=r,u="function"===typeof e?function(t){return{root:function(n){return e(Object(o.a)({theme:t},n))}}}:{root:e},l=Object(F.a)(u,Object(o.a)({Component:t,name:r||t.displayName,classNamePrefix:a},i));e.filterProps&&(s=e.filterProps,delete e.filterProps),e.propTypes&&(e.propTypes,delete e.propTypes);var c=N.a.forwardRef((function(e,n){var r=e.children,i=e.className,a=e.clone,u=e.component,c=Object(I.a)(e,["children","className","clone","component"]),p=l(e),h=Object(x.a)(p.root,i),d=c;if(s&&(d=M(d,s)),a)return N.a.cloneElement(r,Object(o.a)({className:Object(x.a)(r.props.className,h)},d));if("function"===typeof r)return r(Object(o.a)({className:h},d));var f=u||t;return N.a.createElement(f,Object(o.a)({ref:n,className:h},d),r)}));return L()(c,t),c}}(t);return function(t,n){return e(t,Object(o.a)({defaultTheme:j.a},n))}},G=s(a(d,f,g,v,y,m,b,T,P.b,A)),W=V("div")(G,{name:"MuiBox"});e.a=W},function(t,e,n){"use strict";var r=n(3),o=n(39),i=n(5),s=n(1),a=(n(12),n(10)),u=n(168),l=n(22);var c=n(13),p=n(51),h=n(52),d=n(53),f=n(54),g=n(19),v=n(55),y=Object(v.a)(s.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");function m(t,e){if(null==t)return t;var n=Math.round(t/e)*e;return Number(n.toFixed(function(t){var e=t.toString().split(".")[1];return e?e.length:0}(e)))}function b(t){t.value;var e=Object(i.a)(t,["value"]);return s.createElement("span",e)}var w=s.createElement(y,{fontSize:"inherit"});function C(t){return"".concat(t," Star").concat(1!==t?"s":"")}var E=s.forwardRef((function(t,e){var n=t.classes,c=t.className,v=t.defaultValue,y=void 0===v?null:v,E=t.disabled,_=void 0!==E&&E,O=t.emptyIcon,R=t.emptyLabelText,S=void 0===R?"Empty":R,T=t.getLabelText,P=void 0===T?C:T,A=t.icon,I=void 0===A?w:A,D=t.IconContainerComponent,N=void 0===D?b:D,x=t.max,k=void 0===x?5:x,L=t.name,F=t.onChange,M=t.onChangeActive,j=t.onMouseLeave,V=t.onMouseMove,G=t.precision,W=void 0===G?1:G,H=t.readOnly,B=void 0!==H&&H,U=t.size,z=void 0===U?"medium":U,q=t.value,K=Object(i.a)(t,["classes","className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"]),Y=Object(p.a)(L),Q=Object(h.a)({controlled:q,default:y,name:"Rating"}),X=Object(o.a)(Q,2),$=X[0],J=X[1],Z=m($,W),tt=Object(u.a)()||l.a,et=s.useState({hover:-1,focus:-1}),nt=et[0],rt=nt.hover,ot=nt.focus,it=et[1],st=Z;-1!==rt&&(st=rt),-1!==ot&&(st=ot);var at=Object(d.a)(),ut=at.isFocusVisible,lt=at.onBlurVisible,ct=at.ref,pt=s.useState(!1),ht=pt[0],dt=pt[1],ft=s.useRef(),gt=Object(f.a)(ct,ft),vt=Object(f.a)(gt,e),yt=function(t){var e=parseFloat(t.target.value);J(e),F&&F(t,e)},mt=function(t){0===t.clientX&&0===t.clientY||(it({hover:-1,focus:-1}),J(null),F&&parseFloat(t.target.value)===Z&&F(t,null))},bt=function(t){ut(t)&&dt(!0);var e=parseFloat(t.target.value);it((function(t){return{hover:t.hover,focus:e}})),M&&ot!==e&&M(t,e)},wt=function(t){if(-1===rt){!1!==ht&&(dt(!1),lt());it((function(t){return{hover:t.hover,focus:-1}})),M&&-1!==ot&&M(t,-1)}},Ct=function(t,e){var o="".concat(Y,"-").concat(String(t.value).replace(".","-")),i=s.createElement(N,{value:t.value,className:Object(a.a)(n.icon,t.filled?n.iconFilled:n.iconEmpty,t.hover&&n.iconHover,t.focus&&n.iconFocus,t.active&&n.iconActive)},O&&!t.filled?O:I);return B?s.createElement("span",Object(r.a)({key:t.value},e),i):s.createElement(s.Fragment,{key:t.value},s.createElement("label",Object(r.a)({className:n.label,htmlFor:o},e),i,s.createElement("span",{className:n.visuallyhidden},P(t.value))),s.createElement("input",{onFocus:bt,onBlur:wt,onChange:yt,onClick:mt,disabled:_,value:t.value,id:o,type:"radio",name:Y,checked:t.checked,className:n.visuallyhidden}))};return s.createElement("span",Object(r.a)({ref:vt,onMouseMove:function(t){V&&V(t);var e,n=ft.current,r=n.getBoundingClientRect(),o=r.right,i=r.left,s=n.firstChild.getBoundingClientRect().width;e="rtl"===tt.direction?(o-t.clientX)/(s*k):(t.clientX-i)/(s*k);var a=m(k*e+W/2,W);a=function(t,e,n){return t<e?e:t>n?n:t}(a,W,k),it((function(t){return t.hover===a&&t.focus===a?t:{hover:a,focus:a}})),dt(!1),M&&rt!==a&&M(t,a)},onMouseLeave:function(t){j&&j(t);it({hover:-1,focus:-1}),M&&-1!==rt&&M(t,-1)},className:Object(a.a)(n.root,c,"medium"!==z&&n["size".concat(Object(g.a)(z))],_&&n.disabled,ht&&n.focusVisible,B&&n.readOnly),role:B?"img":null,"aria-label":B?P(st):null},K),Array.from(new Array(k)).map((function(t,e){var r=e+1;if(W<1){var o=Array.from(new Array(1/W));return s.createElement("span",{key:r,className:Object(a.a)(n.decimal,r===Math.ceil(st)&&(-1!==rt||-1!==ot)&&n.iconActive)},o.map((function(t,e){var n=m(r-1+(e+1)*W,W);return Ct({value:n,filled:n<=st,hover:n<=rt,focus:n<=ot,checked:n===Z},{style:o.length-1===e?{}:{width:n===st?"".concat((e+1)*W*100,"%"):"0%",overflow:"hidden",zIndex:1,position:"absolute"}})})))}return Ct({value:r,active:r===st&&(-1!==rt||-1!==ot),filled:r<=st,hover:r<=rt,focus:r<=ot,checked:r===Z})})),!B&&!_&&null==Z&&s.createElement(s.Fragment,null,s.createElement("input",{value:"",id:"".concat(Y,"-empty"),type:"radio",name:Y,defaultChecked:!0,className:n.visuallyhidden}),s.createElement("label",{className:n.pristine,htmlFor:"".concat(Y,"-empty")},s.createElement("span",{className:n.visuallyhidden},S))))}));e.a=Object(c.a)((function(t){return{root:{display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#ffb400",cursor:"pointer",textAlign:"left",WebkitTapHighlightColor:"transparent","&$disabled":{opacity:.5,pointerEvents:"none"},"&$focusVisible $iconActive":{outline:"1px solid #999"}},sizeSmall:{fontSize:t.typography.pxToRem(18)},sizeLarge:{fontSize:t.typography.pxToRem(30)},readOnly:{pointerEvents:"none"},disabled:{},focusVisible:{},visuallyhidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,color:"#000",overflow:"hidden",padding:0,position:"absolute",top:20,width:1},pristine:{"input:focus + &":{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}},label:{cursor:"inherit"},icon:{display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none"},iconEmpty:{color:t.palette.action.disabled},iconFilled:{},iconHover:{},iconFocus:{},iconActive:{transform:"scale(1.2)"},decimal:{position:"relative"}}}),{name:"MuiRating"})(E)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(1),o=n.n(r);var i=o.a.createContext(null);function s(){return o.a.useContext(i)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(39),o=n(36),i=n(20);var s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}((function(t){if(t.length>2){if(!u[t])return[t];t=u[t]}var e=t.split(""),n=Object(r.a)(e,2),o=n[0],i=n[1],l=s[o],c=a[i]||"";return Array.isArray(c)?c.map((function(t){return l+t})):[l+c]})),c=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function p(t){var e=t.spacing||8;return"number"===typeof e?function(t){return e*t}:Array.isArray(e)?function(t){return e[t]}:"function"===typeof e?e:function(){}}function h(t,e){return function(n){return t.reduce((function(t,r){return t[r]=function(t,e){if("string"===typeof e)return e;var n=t(Math.abs(e));return e>=0?n:"number"===typeof n?-n:"-".concat(n)}(e,n),t}),{})}}function d(t){var e=p(t.theme);return Object.keys(t).map((function(n){if(-1===c.indexOf(n))return null;var r=h(l(n),e),i=t[n];return Object(o.a)(t,i,r)})).reduce(i.a,{})}d.propTypes={},d.filterProps=c;e.b=d}]]);
//# sourceMappingURL=2.d938ddac.chunk.js.map